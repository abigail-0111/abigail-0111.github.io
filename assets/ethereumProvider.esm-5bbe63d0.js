import{$ as ic,a0 as Qs,a1 as Ze,a2 as ac,a3 as ef,a4 as oc,a5 as sc,a6 as fc,a7 as ln,a8 as je,a9 as Kt,aa as cc,ab as uc,ac as dc,ad as Er,ae as tf,af as lc,ag as hn,V as ga,ah as sn,ai as fn,aj as wr,ak as hc,al as ya,am as xc,an as pa,ao as bc,ap as gc,aq as Pt,ar as xn,as as Bo,at as Ut,au as ti,av as ve,aw as Qt,ax as ri,ay as yc,az as pc,aA as mc,aB as vc,aC as kt,aD as rf,M as nf,a as Ye,C as cn,_ as un,d as Re,J as af,Q as of,q as Oo,j as vr,z as Ec,aE as er,aF as wc,aG as Ar,R as sf,aH as ni,T as Nt,g as ff,N as Kn,U as _c}from"./home-b655007c.js";import{c as Nn,b as cf,d as Ge}from"./index-4113eb0c.js";import{c as ma,B as Wn}from"./_commonjs-dynamic-modules-3e13792f.js";import{e as Ir,a as Vt}from"./index-414b9010.js";import{i as Sc}from"./inherits_browser-2c87d58f.js";let Co=class Pr{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.bytes=e}static zero(){return new Pr(ic(20))}static fromString(e){if(!Qs(e))throw new Error("Invalid address");return new Pr(Ze(e))}static fromPublicKey(e){if(!(e instanceof Uint8Array))throw new Error("Public key should be Uint8Array");const r=ac(e);return new Pr(r)}static fromPrivateKey(e){if(!(e instanceof Uint8Array))throw new Error("Private key should be Uint8Array");const r=ef(e);return new Pr(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Pr(oc(e.bytes,sc(r)))}static generate2(e,r,n){if(!(r instanceof Uint8Array))throw new Error("Expected salt to be a Uint8Array");if(!(n instanceof Uint8Array))throw new Error("Expected initCode to be a Uint8Array");return new Pr(fc(e.bytes,r,n))}equals(e){return ln(this.bytes,e.bytes)}isZero(){return this.equals(Pr.zero())}isPrecompileOrSystemAddress(){const e=je(this.bytes),r=BigInt(0),n=BigInt("0xffff");return e>=r&&e<=n}toString(){return Kt(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}};const Ac=cc(uc);function wn(){throw Error("kzg library not loaded")}let Ja={loadTrustedSetup:wn,blobToKzgCommitment:wn,computeBlobKzgProof:wn,verifyKzgProof:wn,verifyBlobKzgProofBatch:wn};const Pc=32,Xa=4096,Dn=32*Xa,Tc=2,Dc=Dn*Tc-1,Ic=Pc*Xa;function Bc(t,e){const r=new Uint8Array(e*Dn).fill(0);return r.set(t),r[t.byteLength]=128,r}function Oc(t){const e=new Uint8Array(Ic);for(let r=0;r<Xa;r++){const n=new Uint8Array(32);n.set(t.subarray(r*31,(r+1)*31),0),e.set(n,r*32)}return e}const Cc=t=>{const e=dc(t),r=e.byteLength;if(r===0)throw Error("invalid blob data");if(r>Dc)throw Error("blob data is too large");const n=Math.ceil(r/Dn),i=Bc(e,n),a=[];for(let o=0;o<n;o++){const s=i.subarray(o*Dn,(o+1)*Dn),c=Oc(s);a.push(c)}return a},Fc=t=>{const e=[];for(const r of t)e.push(Ja.blobToKzgCommitment(r));return e},Nc=(t,e)=>t.map((n,i)=>Ja.computeBlobKzgProof(n,e[i])),uf=(t,e)=>{const r=new Uint8Array(32);return r.set([e],0),r.set(Ac(t).subarray(1),1),r},Mc=t=>{const e=[];for(const r of t)e.push(uf(r,1));return e},Lc=async(t,e)=>{const r=JSON.stringify({method:e.method,params:e.params,jsonrpc:"2.0",id:1});return(await(await fetch(t,{headers:{"content-type":"application/json"},method:"POST",body:r})).json()).result},Rc=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t._getConnection!==void 0)return t._getConnection().url;throw new Error("Must provide valid provider URL or Web3Provider")};var Qa={},ii={},Ce={},df={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(s,c){var l=s>>>16&65535,h=s&65535,g=c>>>16&65535,y=c&65535;return h*y+(l*y+h*g<<16>>>0)|0}t.mul=Math.imul||e;function r(s,c){return s+c|0}t.add=r;function n(s,c){return s-c|0}t.sub=n;function i(s,c){return s<<c|s>>>32-c}t.rotl=i;function a(s,c){return s<<32-c|s>>>c}t.rotr=a;function o(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(s){return t.isInteger(s)&&s>=-t.MAX_SAFE_INTEGER&&s<=t.MAX_SAFE_INTEGER}})(df);Object.defineProperty(Ce,"__esModule",{value:!0});var lf=df;function Uc(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ce.readInt16BE=Uc;function kc(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ce.readUint16BE=kc;function jc(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ce.readInt16LE=jc;function Hc(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ce.readUint16LE=Hc;function hf(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ce.writeUint16BE=hf;Ce.writeInt16BE=hf;function xf(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ce.writeUint16LE=xf;Ce.writeInt16LE=xf;function va(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ce.readInt32BE=va;function Ea(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ce.readUint32BE=Ea;function wa(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ce.readInt32LE=wa;function _a(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ce.readUint32LE=_a;function Zn(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ce.writeUint32BE=Zn;Ce.writeInt32BE=Zn;function Yn(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ce.writeUint32LE=Yn;Ce.writeInt32LE=Yn;function $c(t,e){e===void 0&&(e=0);var r=va(t,e),n=va(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ce.readInt64BE=$c;function zc(t,e){e===void 0&&(e=0);var r=Ea(t,e),n=Ea(t,e+4);return r*4294967296+n}Ce.readUint64BE=zc;function Gc(t,e){e===void 0&&(e=0);var r=wa(t,e),n=wa(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ce.readInt64LE=Gc;function Vc(t,e){e===void 0&&(e=0);var r=_a(t,e),n=_a(t,e+4);return n*4294967296+r}Ce.readUint64LE=Vc;function bf(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Zn(t/4294967296>>>0,e,r),Zn(t>>>0,e,r+4),e}Ce.writeUint64BE=bf;Ce.writeInt64BE=bf;function gf(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Yn(t>>>0,e,r),Yn(t/4294967296>>>0,e,r+4),e}Ce.writeUint64LE=gf;Ce.writeInt64LE=gf;function Kc(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,a=t/8+r-1;a>=r;a--)n+=e[a]*i,i*=256;return n}Ce.readUintBE=Kc;function qc(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,a=r;a<r+t/8;a++)n+=e[a]*i,i*=256;return n}Ce.readUintLE=qc;function Wc(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!lf.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=t/8+n-1;a>=n;a--)r[a]=e/i&255,i*=256;return r}Ce.writeUintBE=Wc;function Zc(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!lf.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+t/8;a++)r[a]=e/i&255,i*=256;return r}Ce.writeUintLE=Zc;function Yc(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ce.readFloat32BE=Yc;function Jc(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ce.readFloat32LE=Jc;function Xc(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ce.readFloat64BE=Xc;function Qc(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ce.readFloat64LE=Qc;function eu(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ce.writeFloat32BE=eu;function tu(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ce.writeFloat32LE=tu;function ru(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ce.writeFloat64BE=ru;function nu(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ce.writeFloat64LE=nu;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});function iu(t){for(var e=0;e<t.length;e++)t[e]=0;return t}sr.wipe=iu;Object.defineProperty(ii,"__esModule",{value:!0});var Ft=Ce,Sa=sr,au=20;function ou(t,e,r){for(var n=1634760805,i=857760878,a=2036477234,o=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],C=r[31]<<24|r[30]<<16|r[29]<<8|r[28],k=e[3]<<24|e[2]<<16|e[1]<<8|e[0],M=e[7]<<24|e[6]<<16|e[5]<<8|e[4],z=e[11]<<24|e[10]<<16|e[9]<<8|e[8],I=e[15]<<24|e[14]<<16|e[13]<<8|e[12],B=n,v=i,S=a,T=o,u=s,E=c,L=l,V=h,X=g,A=y,P=w,p=C,D=k,$=M,G=z,Q=I,ne=0;ne<au;ne+=2)B=B+u|0,D^=B,D=D>>>32-16|D<<16,X=X+D|0,u^=X,u=u>>>32-12|u<<12,v=v+E|0,$^=v,$=$>>>32-16|$<<16,A=A+$|0,E^=A,E=E>>>32-12|E<<12,S=S+L|0,G^=S,G=G>>>32-16|G<<16,P=P+G|0,L^=P,L=L>>>32-12|L<<12,T=T+V|0,Q^=T,Q=Q>>>32-16|Q<<16,p=p+Q|0,V^=p,V=V>>>32-12|V<<12,S=S+L|0,G^=S,G=G>>>32-8|G<<8,P=P+G|0,L^=P,L=L>>>32-7|L<<7,T=T+V|0,Q^=T,Q=Q>>>32-8|Q<<8,p=p+Q|0,V^=p,V=V>>>32-7|V<<7,v=v+E|0,$^=v,$=$>>>32-8|$<<8,A=A+$|0,E^=A,E=E>>>32-7|E<<7,B=B+u|0,D^=B,D=D>>>32-8|D<<8,X=X+D|0,u^=X,u=u>>>32-7|u<<7,B=B+E|0,Q^=B,Q=Q>>>32-16|Q<<16,P=P+Q|0,E^=P,E=E>>>32-12|E<<12,v=v+L|0,D^=v,D=D>>>32-16|D<<16,p=p+D|0,L^=p,L=L>>>32-12|L<<12,S=S+V|0,$^=S,$=$>>>32-16|$<<16,X=X+$|0,V^=X,V=V>>>32-12|V<<12,T=T+u|0,G^=T,G=G>>>32-16|G<<16,A=A+G|0,u^=A,u=u>>>32-12|u<<12,S=S+V|0,$^=S,$=$>>>32-8|$<<8,X=X+$|0,V^=X,V=V>>>32-7|V<<7,T=T+u|0,G^=T,G=G>>>32-8|G<<8,A=A+G|0,u^=A,u=u>>>32-7|u<<7,v=v+L|0,D^=v,D=D>>>32-8|D<<8,p=p+D|0,L^=p,L=L>>>32-7|L<<7,B=B+E|0,Q^=B,Q=Q>>>32-8|Q<<8,P=P+Q|0,E^=P,E=E>>>32-7|E<<7;Ft.writeUint32LE(B+n|0,t,0),Ft.writeUint32LE(v+i|0,t,4),Ft.writeUint32LE(S+a|0,t,8),Ft.writeUint32LE(T+o|0,t,12),Ft.writeUint32LE(u+s|0,t,16),Ft.writeUint32LE(E+c|0,t,20),Ft.writeUint32LE(L+l|0,t,24),Ft.writeUint32LE(V+h|0,t,28),Ft.writeUint32LE(X+g|0,t,32),Ft.writeUint32LE(A+y|0,t,36),Ft.writeUint32LE(P+w|0,t,40),Ft.writeUint32LE(p+C|0,t,44),Ft.writeUint32LE(D+k|0,t,48),Ft.writeUint32LE($+M|0,t,52),Ft.writeUint32LE(G+z|0,t,56),Ft.writeUint32LE(Q+I|0,t,60)}function yf(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),o=a.length-e.length,a.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,o=i}for(var s=new Uint8Array(64),c=0;c<r.length;c+=64){ou(s,a,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^s[l-c];fu(a,0,o)}return Sa.wipe(s),i===0&&Sa.wipe(a),n}ii.streamXOR=yf;function su(t,e,r,n){return n===void 0&&(n=0),Sa.wipe(r),yf(t,e,r,r,n)}ii.stream=su;function fu(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var pf={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});function cu(t,e,r){return~(t-1)&e|t-1&r}Nr.select=cu;function uu(t,e){return(t|0)-(e|0)-1>>>31&1}Nr.lessOrEqual=uu;function mf(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Nr.compare=mf;function du(t,e){return t.length===0||e.length===0?!1:mf(t,e)!==0}Nr.equal=du;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Nr,r=sr;t.DIGEST_LENGTH=16;var n=function(){function o(s){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=s[0]|s[1]<<8;this._r[0]=c&8191;var l=s[2]|s[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var h=s[4]|s[5]<<8;this._r[2]=(l>>>10|h<<6)&7939;var g=s[6]|s[7]<<8;this._r[3]=(h>>>7|g<<9)&8191;var y=s[8]|s[9]<<8;this._r[4]=(g>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var w=s[10]|s[11]<<8;this._r[6]=(y>>>14|w<<2)&8191;var C=s[12]|s[13]<<8;this._r[7]=(w>>>11|C<<5)&8065;var k=s[14]|s[15]<<8;this._r[8]=(C>>>8|k<<8)&8191,this._r[9]=k>>>5&127,this._pad[0]=s[16]|s[17]<<8,this._pad[1]=s[18]|s[19]<<8,this._pad[2]=s[20]|s[21]<<8,this._pad[3]=s[22]|s[23]<<8,this._pad[4]=s[24]|s[25]<<8,this._pad[5]=s[26]|s[27]<<8,this._pad[6]=s[28]|s[29]<<8,this._pad[7]=s[30]|s[31]<<8}return o.prototype._blocks=function(s,c,l){for(var h=this._fin?0:2048,g=this._h[0],y=this._h[1],w=this._h[2],C=this._h[3],k=this._h[4],M=this._h[5],z=this._h[6],I=this._h[7],B=this._h[8],v=this._h[9],S=this._r[0],T=this._r[1],u=this._r[2],E=this._r[3],L=this._r[4],V=this._r[5],X=this._r[6],A=this._r[7],P=this._r[8],p=this._r[9];l>=16;){var D=s[c+0]|s[c+1]<<8;g+=D&8191;var $=s[c+2]|s[c+3]<<8;y+=(D>>>13|$<<3)&8191;var G=s[c+4]|s[c+5]<<8;w+=($>>>10|G<<6)&8191;var Q=s[c+6]|s[c+7]<<8;C+=(G>>>7|Q<<9)&8191;var ne=s[c+8]|s[c+9]<<8;k+=(Q>>>4|ne<<12)&8191,M+=ne>>>1&8191;var Ae=s[c+10]|s[c+11]<<8;z+=(ne>>>14|Ae<<2)&8191;var Le=s[c+12]|s[c+13]<<8;I+=(Ae>>>11|Le<<5)&8191;var F=s[c+14]|s[c+15]<<8;B+=(Le>>>8|F<<8)&8191,v+=F>>>5|h;var O=0,U=O;U+=g*S,U+=y*(5*p),U+=w*(5*P),U+=C*(5*A),U+=k*(5*X),O=U>>>13,U&=8191,U+=M*(5*V),U+=z*(5*L),U+=I*(5*E),U+=B*(5*u),U+=v*(5*T),O+=U>>>13,U&=8191;var K=O;K+=g*T,K+=y*S,K+=w*(5*p),K+=C*(5*P),K+=k*(5*A),O=K>>>13,K&=8191,K+=M*(5*X),K+=z*(5*V),K+=I*(5*L),K+=B*(5*E),K+=v*(5*u),O+=K>>>13,K&=8191;var re=O;re+=g*u,re+=y*T,re+=w*S,re+=C*(5*p),re+=k*(5*P),O=re>>>13,re&=8191,re+=M*(5*A),re+=z*(5*X),re+=I*(5*V),re+=B*(5*L),re+=v*(5*E),O+=re>>>13,re&=8191;var fe=O;fe+=g*E,fe+=y*u,fe+=w*T,fe+=C*S,fe+=k*(5*p),O=fe>>>13,fe&=8191,fe+=M*(5*P),fe+=z*(5*A),fe+=I*(5*X),fe+=B*(5*V),fe+=v*(5*L),O+=fe>>>13,fe&=8191;var se=O;se+=g*L,se+=y*E,se+=w*u,se+=C*T,se+=k*S,O=se>>>13,se&=8191,se+=M*(5*p),se+=z*(5*P),se+=I*(5*A),se+=B*(5*X),se+=v*(5*V),O+=se>>>13,se&=8191;var ce=O;ce+=g*V,ce+=y*L,ce+=w*E,ce+=C*u,ce+=k*T,O=ce>>>13,ce&=8191,ce+=M*S,ce+=z*(5*p),ce+=I*(5*P),ce+=B*(5*A),ce+=v*(5*X),O+=ce>>>13,ce&=8191;var be=O;be+=g*X,be+=y*V,be+=w*L,be+=C*E,be+=k*u,O=be>>>13,be&=8191,be+=M*T,be+=z*S,be+=I*(5*p),be+=B*(5*P),be+=v*(5*A),O+=be>>>13,be&=8191;var Pe=O;Pe+=g*A,Pe+=y*X,Pe+=w*V,Pe+=C*L,Pe+=k*E,O=Pe>>>13,Pe&=8191,Pe+=M*u,Pe+=z*T,Pe+=I*S,Pe+=B*(5*p),Pe+=v*(5*P),O+=Pe>>>13,Pe&=8191;var Me=O;Me+=g*P,Me+=y*A,Me+=w*X,Me+=C*V,Me+=k*L,O=Me>>>13,Me&=8191,Me+=M*E,Me+=z*u,Me+=I*T,Me+=B*S,Me+=v*(5*p),O+=Me>>>13,Me&=8191;var Ve=O;Ve+=g*p,Ve+=y*P,Ve+=w*A,Ve+=C*X,Ve+=k*V,O=Ve>>>13,Ve&=8191,Ve+=M*L,Ve+=z*E,Ve+=I*u,Ve+=B*T,Ve+=v*S,O+=Ve>>>13,Ve&=8191,O=(O<<2)+O|0,O=O+U|0,U=O&8191,O=O>>>13,K+=O,g=U,y=K,w=re,C=fe,k=se,M=ce,z=be,I=Pe,B=Me,v=Ve,c+=16,l-=16}this._h[0]=g,this._h[1]=y,this._h[2]=w,this._h[3]=C,this._h[4]=k,this._h[5]=M,this._h[6]=z,this._h[7]=I,this._h[8]=B,this._h[9]=v},o.prototype.finish=function(s,c){c===void 0&&(c=0);var l=new Uint16Array(10),h,g,y,w;if(this._leftover){for(w=this._leftover,this._buffer[w++]=1;w<16;w++)this._buffer[w]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(h=this._h[1]>>>13,this._h[1]&=8191,w=2;w<10;w++)this._h[w]+=h,h=this._h[w]>>>13,this._h[w]&=8191;for(this._h[0]+=h*5,h=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=h,h=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=h,l[0]=this._h[0]+5,h=l[0]>>>13,l[0]&=8191,w=1;w<10;w++)l[w]=this._h[w]+h,h=l[w]>>>13,l[w]&=8191;for(l[9]-=8192,g=(h^1)-1,w=0;w<10;w++)l[w]&=g;for(g=~g,w=0;w<10;w++)this._h[w]=this._h[w]&g|l[w];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,w=1;w<8;w++)y=(this._h[w]+this._pad[w]|0)+(y>>>16)|0,this._h[w]=y&65535;return s[c+0]=this._h[0]>>>0,s[c+1]=this._h[0]>>>8,s[c+2]=this._h[1]>>>0,s[c+3]=this._h[1]>>>8,s[c+4]=this._h[2]>>>0,s[c+5]=this._h[2]>>>8,s[c+6]=this._h[3]>>>0,s[c+7]=this._h[3]>>>8,s[c+8]=this._h[4]>>>0,s[c+9]=this._h[4]>>>8,s[c+10]=this._h[5]>>>0,s[c+11]=this._h[5]>>>8,s[c+12]=this._h[6]>>>0,s[c+13]=this._h[6]>>>8,s[c+14]=this._h[7]>>>0,s[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(s){var c=0,l=s.length,h;if(this._leftover){h=16-this._leftover,h>l&&(h=l);for(var g=0;g<h;g++)this._buffer[this._leftover+g]=s[c+g];if(l-=h,c+=h,this._leftover+=h,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(h=l-l%16,this._blocks(s,c,h),c+=h,l-=h),l){for(var g=0;g<l;g++)this._buffer[this._leftover+g]=s[c+g];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var s=new Uint8Array(16);return this.finish(s),s},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,s){var c=new n(o);c.update(s);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function a(o,s){return o.length!==t.DIGEST_LENGTH||s.length!==t.DIGEST_LENGTH?!1:e.equal(o,s)}t.equal=a})(pf);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ii,r=pf,n=sr,i=Ce,a=Nr;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),s=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,h,g,y){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var w=new Uint8Array(16);w.set(l,w.length-l.length);var C=new Uint8Array(32);e.stream(this._key,w,C,4);var k=h.length+this.tagLength,M;if(y){if(y.length!==k)throw new Error("ChaCha20Poly1305: incorrect destination length");M=y}else M=new Uint8Array(k);return e.streamXOR(this._key,w,h,M,4),this._authenticate(M.subarray(M.length-this.tagLength,M.length),C,M.subarray(0,M.length-this.tagLength),g),n.wipe(w),M},c.prototype.open=function(l,h,g,y){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(h.length<this.tagLength)return null;var w=new Uint8Array(16);w.set(l,w.length-l.length);var C=new Uint8Array(32);e.stream(this._key,w,C,4);var k=new Uint8Array(this.tagLength);if(this._authenticate(k,C,h.subarray(0,h.length-this.tagLength),g),!a.equal(k,h.subarray(h.length-this.tagLength,h.length)))return null;var M=h.length-this.tagLength,z;if(y){if(y.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");z=y}else z=new Uint8Array(M);return e.streamXOR(this._key,w,h.subarray(0,h.length-this.tagLength),z,4),n.wipe(w),z},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,h,g,y){var w=new r.Poly1305(h);y&&(w.update(y),y.length%16>0&&w.update(o.subarray(y.length%16))),w.update(g),g.length%16>0&&w.update(o.subarray(g.length%16));var C=new Uint8Array(8);y&&i.writeUint64LE(y.length,C),w.update(C),i.writeUint64LE(g.length,C),w.update(C);for(var k=w.digest(),M=0;M<k.length;M++)l[M]=k[M];w.clean(),n.wipe(k),n.wipe(C)},c}();t.ChaCha20Poly1305=s})(Qa);var vf={},Mn={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});function lu(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}eo.isSerializableHash=lu;Object.defineProperty(Mn,"__esModule",{value:!0});var ur=eo,hu=Nr,xu=sr,Ef=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),ur.isSerializableHash(this._inner)&&ur.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),xu.wipe(n)}return t.prototype.reset=function(){if(!ur.isSerializableHash(this._inner)||!ur.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){ur.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ur.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!ur.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!ur.isSerializableHash(this._inner)||!ur.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!ur.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Mn.HMAC=Ef;function bu(t,e,r){var n=new Ef(t,e);n.update(r);var i=n.digest();return n.clean(),i}Mn.hmac=bu;Mn.equal=hu.equal;Object.defineProperty(vf,"__esModule",{value:!0});var Fo=Mn,No=sr,gu=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var a=Fo.hmac(this._hash,n,r);this._hmac=new Fo.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),No.wipe(this._buffer),No.wipe(this._counter),this._bufpos=0},t}(),yu=vf.HKDF=gu,ai={},oi={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.BrowserRandomSource=void 0;const Mo=65536;class pu{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=Mo)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,Mo)));return r}}si.BrowserRandomSource=pu;var fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.NodeRandomSource=void 0;const mu=sr;class vu{constructor(){this.isAvailable=!1,this.isInstantiated=!1}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,mu.wipe)(r),n}}fi.NodeRandomSource=vu;Object.defineProperty(oi,"__esModule",{value:!0});oi.SystemRandomSource=void 0;const Eu=si,wu=fi;class _u{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Eu.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new wu.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}oi.SystemRandomSource=_u;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=oi,r=Ce,n=sr;t.defaultRandomSource=new e.SystemRandomSource;function i(l,h=t.defaultRandomSource){return h.randomBytes(l)}t.randomBytes=i;function a(l=t.defaultRandomSource){const h=i(4,l),g=(0,r.readUint32LE)(h);return(0,n.wipe)(h),g}t.randomUint32=a;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(l,h=o,g=t.defaultRandomSource){if(h.length<2)throw new Error("randomString charset is too short");if(h.length>256)throw new Error("randomString charset is too long");let y="";const w=h.length,C=256-256%w;for(;l>0;){const k=i(Math.ceil(l*256/C),g);for(let M=0;M<k.length&&l>0;M++){const z=k[M];z<C&&(y+=h.charAt(z%w),l--)}(0,n.wipe)(k)}return y}t.randomString=s;function c(l,h=o,g=t.defaultRandomSource){const y=Math.ceil(l/(Math.log(h.length)/Math.LN2));return s(y,h,g)}t.randomStringForEntropy=c})(ai);var ci={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ce,r=sr;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function s(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},s.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var h=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[h++],l--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(h=a(this._temp,this._state,c,h,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[h++],l--;return this},s.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,h=this._bufferLength,g=l/536870912|0,y=l<<3,w=l%64<56?64:128;this._buffer[h]=128;for(var C=h+1;C<w-8;C++)this._buffer[C]=0;e.writeUint32BE(g,this._buffer,w-8),e.writeUint32BE(y,this._buffer,w-4),a(this._temp,this._state,this._buffer,0,w),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)e.writeUint32BE(this._state[C],c,C*4);return this},s.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},s}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(s,c,l,h,g){for(;g>=64;){for(var y=c[0],w=c[1],C=c[2],k=c[3],M=c[4],z=c[5],I=c[6],B=c[7],v=0;v<16;v++){var S=h+v*4;s[v]=e.readUint32BE(l,S)}for(var v=16;v<64;v++){var T=s[v-2],u=(T>>>17|T<<32-17)^(T>>>19|T<<32-19)^T>>>10;T=s[v-15];var E=(T>>>7|T<<32-7)^(T>>>18|T<<32-18)^T>>>3;s[v]=(u+s[v-7]|0)+(E+s[v-16]|0)}for(var v=0;v<64;v++){var u=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&z^~M&I)|0)+(B+(i[v]+s[v]|0)|0)|0,E=((y>>>2|y<<32-2)^(y>>>13|y<<32-13)^(y>>>22|y<<32-22))+(y&w^y&C^w&C)|0;B=I,I=z,z=M,M=k+u|0,k=C,C=w,w=y,y=u+E|0}c[0]+=y,c[1]+=w,c[2]+=C,c[3]+=k,c[4]+=M,c[5]+=z,c[6]+=I,c[7]+=B,h+=64,g-=64}return h}function o(s){var c=new n;c.update(s);var l=c.digest();return c.clean(),l}t.hash=o})(ci);var to={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=ai,r=sr;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(v){const S=new Float64Array(16);if(v)for(let T=0;T<v.length;T++)S[T]=v[T];return S}const i=new Uint8Array(32);i[0]=9;const a=n([56129,1]);function o(v){let S=1;for(let T=0;T<16;T++){let u=v[T]+S+65535;S=Math.floor(u/65536),v[T]=u-S*65536}v[0]+=S-1+37*(S-1)}function s(v,S,T){const u=~(T-1);for(let E=0;E<16;E++){const L=u&(v[E]^S[E]);v[E]^=L,S[E]^=L}}function c(v,S){const T=n(),u=n();for(let E=0;E<16;E++)u[E]=S[E];o(u),o(u),o(u);for(let E=0;E<2;E++){T[0]=u[0]-65517;for(let V=1;V<15;V++)T[V]=u[V]-65535-(T[V-1]>>16&1),T[V-1]&=65535;T[15]=u[15]-32767-(T[14]>>16&1);const L=T[15]>>16&1;T[14]&=65535,s(u,T,1-L)}for(let E=0;E<16;E++)v[2*E]=u[E]&255,v[2*E+1]=u[E]>>8}function l(v,S){for(let T=0;T<16;T++)v[T]=S[2*T]+(S[2*T+1]<<8);v[15]&=32767}function h(v,S,T){for(let u=0;u<16;u++)v[u]=S[u]+T[u]}function g(v,S,T){for(let u=0;u<16;u++)v[u]=S[u]-T[u]}function y(v,S,T){let u,E,L=0,V=0,X=0,A=0,P=0,p=0,D=0,$=0,G=0,Q=0,ne=0,Ae=0,Le=0,F=0,O=0,U=0,K=0,re=0,fe=0,se=0,ce=0,be=0,Pe=0,Me=0,Ve=0,It=0,zt=0,cr=0,gr=0,Sr=0,q=0,et=T[0],ht=T[1],xt=T[2],bt=T[3],st=T[4],gt=T[5],ft=T[6],yt=T[7],pt=T[8],wt=T[9],St=T[10],mt=T[11],vt=T[12],ct=T[13],rt=T[14],tt=T[15];u=S[0],L+=u*et,V+=u*ht,X+=u*xt,A+=u*bt,P+=u*st,p+=u*gt,D+=u*ft,$+=u*yt,G+=u*pt,Q+=u*wt,ne+=u*St,Ae+=u*mt,Le+=u*vt,F+=u*ct,O+=u*rt,U+=u*tt,u=S[1],V+=u*et,X+=u*ht,A+=u*xt,P+=u*bt,p+=u*st,D+=u*gt,$+=u*ft,G+=u*yt,Q+=u*pt,ne+=u*wt,Ae+=u*St,Le+=u*mt,F+=u*vt,O+=u*ct,U+=u*rt,K+=u*tt,u=S[2],X+=u*et,A+=u*ht,P+=u*xt,p+=u*bt,D+=u*st,$+=u*gt,G+=u*ft,Q+=u*yt,ne+=u*pt,Ae+=u*wt,Le+=u*St,F+=u*mt,O+=u*vt,U+=u*ct,K+=u*rt,re+=u*tt,u=S[3],A+=u*et,P+=u*ht,p+=u*xt,D+=u*bt,$+=u*st,G+=u*gt,Q+=u*ft,ne+=u*yt,Ae+=u*pt,Le+=u*wt,F+=u*St,O+=u*mt,U+=u*vt,K+=u*ct,re+=u*rt,fe+=u*tt,u=S[4],P+=u*et,p+=u*ht,D+=u*xt,$+=u*bt,G+=u*st,Q+=u*gt,ne+=u*ft,Ae+=u*yt,Le+=u*pt,F+=u*wt,O+=u*St,U+=u*mt,K+=u*vt,re+=u*ct,fe+=u*rt,se+=u*tt,u=S[5],p+=u*et,D+=u*ht,$+=u*xt,G+=u*bt,Q+=u*st,ne+=u*gt,Ae+=u*ft,Le+=u*yt,F+=u*pt,O+=u*wt,U+=u*St,K+=u*mt,re+=u*vt,fe+=u*ct,se+=u*rt,ce+=u*tt,u=S[6],D+=u*et,$+=u*ht,G+=u*xt,Q+=u*bt,ne+=u*st,Ae+=u*gt,Le+=u*ft,F+=u*yt,O+=u*pt,U+=u*wt,K+=u*St,re+=u*mt,fe+=u*vt,se+=u*ct,ce+=u*rt,be+=u*tt,u=S[7],$+=u*et,G+=u*ht,Q+=u*xt,ne+=u*bt,Ae+=u*st,Le+=u*gt,F+=u*ft,O+=u*yt,U+=u*pt,K+=u*wt,re+=u*St,fe+=u*mt,se+=u*vt,ce+=u*ct,be+=u*rt,Pe+=u*tt,u=S[8],G+=u*et,Q+=u*ht,ne+=u*xt,Ae+=u*bt,Le+=u*st,F+=u*gt,O+=u*ft,U+=u*yt,K+=u*pt,re+=u*wt,fe+=u*St,se+=u*mt,ce+=u*vt,be+=u*ct,Pe+=u*rt,Me+=u*tt,u=S[9],Q+=u*et,ne+=u*ht,Ae+=u*xt,Le+=u*bt,F+=u*st,O+=u*gt,U+=u*ft,K+=u*yt,re+=u*pt,fe+=u*wt,se+=u*St,ce+=u*mt,be+=u*vt,Pe+=u*ct,Me+=u*rt,Ve+=u*tt,u=S[10],ne+=u*et,Ae+=u*ht,Le+=u*xt,F+=u*bt,O+=u*st,U+=u*gt,K+=u*ft,re+=u*yt,fe+=u*pt,se+=u*wt,ce+=u*St,be+=u*mt,Pe+=u*vt,Me+=u*ct,Ve+=u*rt,It+=u*tt,u=S[11],Ae+=u*et,Le+=u*ht,F+=u*xt,O+=u*bt,U+=u*st,K+=u*gt,re+=u*ft,fe+=u*yt,se+=u*pt,ce+=u*wt,be+=u*St,Pe+=u*mt,Me+=u*vt,Ve+=u*ct,It+=u*rt,zt+=u*tt,u=S[12],Le+=u*et,F+=u*ht,O+=u*xt,U+=u*bt,K+=u*st,re+=u*gt,fe+=u*ft,se+=u*yt,ce+=u*pt,be+=u*wt,Pe+=u*St,Me+=u*mt,Ve+=u*vt,It+=u*ct,zt+=u*rt,cr+=u*tt,u=S[13],F+=u*et,O+=u*ht,U+=u*xt,K+=u*bt,re+=u*st,fe+=u*gt,se+=u*ft,ce+=u*yt,be+=u*pt,Pe+=u*wt,Me+=u*St,Ve+=u*mt,It+=u*vt,zt+=u*ct,cr+=u*rt,gr+=u*tt,u=S[14],O+=u*et,U+=u*ht,K+=u*xt,re+=u*bt,fe+=u*st,se+=u*gt,ce+=u*ft,be+=u*yt,Pe+=u*pt,Me+=u*wt,Ve+=u*St,It+=u*mt,zt+=u*vt,cr+=u*ct,gr+=u*rt,Sr+=u*tt,u=S[15],U+=u*et,K+=u*ht,re+=u*xt,fe+=u*bt,se+=u*st,ce+=u*gt,be+=u*ft,Pe+=u*yt,Me+=u*pt,Ve+=u*wt,It+=u*St,zt+=u*mt,cr+=u*vt,gr+=u*ct,Sr+=u*rt,q+=u*tt,L+=38*K,V+=38*re,X+=38*fe,A+=38*se,P+=38*ce,p+=38*be,D+=38*Pe,$+=38*Me,G+=38*Ve,Q+=38*It,ne+=38*zt,Ae+=38*cr,Le+=38*gr,F+=38*Sr,O+=38*q,E=1,u=L+E+65535,E=Math.floor(u/65536),L=u-E*65536,u=V+E+65535,E=Math.floor(u/65536),V=u-E*65536,u=X+E+65535,E=Math.floor(u/65536),X=u-E*65536,u=A+E+65535,E=Math.floor(u/65536),A=u-E*65536,u=P+E+65535,E=Math.floor(u/65536),P=u-E*65536,u=p+E+65535,E=Math.floor(u/65536),p=u-E*65536,u=D+E+65535,E=Math.floor(u/65536),D=u-E*65536,u=$+E+65535,E=Math.floor(u/65536),$=u-E*65536,u=G+E+65535,E=Math.floor(u/65536),G=u-E*65536,u=Q+E+65535,E=Math.floor(u/65536),Q=u-E*65536,u=ne+E+65535,E=Math.floor(u/65536),ne=u-E*65536,u=Ae+E+65535,E=Math.floor(u/65536),Ae=u-E*65536,u=Le+E+65535,E=Math.floor(u/65536),Le=u-E*65536,u=F+E+65535,E=Math.floor(u/65536),F=u-E*65536,u=O+E+65535,E=Math.floor(u/65536),O=u-E*65536,u=U+E+65535,E=Math.floor(u/65536),U=u-E*65536,L+=E-1+37*(E-1),E=1,u=L+E+65535,E=Math.floor(u/65536),L=u-E*65536,u=V+E+65535,E=Math.floor(u/65536),V=u-E*65536,u=X+E+65535,E=Math.floor(u/65536),X=u-E*65536,u=A+E+65535,E=Math.floor(u/65536),A=u-E*65536,u=P+E+65535,E=Math.floor(u/65536),P=u-E*65536,u=p+E+65535,E=Math.floor(u/65536),p=u-E*65536,u=D+E+65535,E=Math.floor(u/65536),D=u-E*65536,u=$+E+65535,E=Math.floor(u/65536),$=u-E*65536,u=G+E+65535,E=Math.floor(u/65536),G=u-E*65536,u=Q+E+65535,E=Math.floor(u/65536),Q=u-E*65536,u=ne+E+65535,E=Math.floor(u/65536),ne=u-E*65536,u=Ae+E+65535,E=Math.floor(u/65536),Ae=u-E*65536,u=Le+E+65535,E=Math.floor(u/65536),Le=u-E*65536,u=F+E+65535,E=Math.floor(u/65536),F=u-E*65536,u=O+E+65535,E=Math.floor(u/65536),O=u-E*65536,u=U+E+65535,E=Math.floor(u/65536),U=u-E*65536,L+=E-1+37*(E-1),v[0]=L,v[1]=V,v[2]=X,v[3]=A,v[4]=P,v[5]=p,v[6]=D,v[7]=$,v[8]=G,v[9]=Q,v[10]=ne,v[11]=Ae,v[12]=Le,v[13]=F,v[14]=O,v[15]=U}function w(v,S){y(v,S,S)}function C(v,S){const T=n();for(let u=0;u<16;u++)T[u]=S[u];for(let u=253;u>=0;u--)w(T,T),u!==2&&u!==4&&y(T,T,S);for(let u=0;u<16;u++)v[u]=T[u]}function k(v,S){const T=new Uint8Array(32),u=new Float64Array(80),E=n(),L=n(),V=n(),X=n(),A=n(),P=n();for(let G=0;G<31;G++)T[G]=v[G];T[31]=v[31]&127|64,T[0]&=248,l(u,S);for(let G=0;G<16;G++)L[G]=u[G];E[0]=X[0]=1;for(let G=254;G>=0;--G){const Q=T[G>>>3]>>>(G&7)&1;s(E,L,Q),s(V,X,Q),h(A,E,V),g(E,E,V),h(V,L,X),g(L,L,X),w(X,A),w(P,E),y(E,V,E),y(V,L,A),h(A,E,V),g(E,E,V),w(L,E),g(V,X,P),y(E,V,a),h(E,E,X),y(V,V,E),y(E,X,P),y(X,L,u),w(L,A),s(E,L,Q),s(V,X,Q)}for(let G=0;G<16;G++)u[G+16]=E[G],u[G+32]=V[G],u[G+48]=L[G],u[G+64]=X[G];const p=u.subarray(32),D=u.subarray(16);C(p,p),y(D,D,p);const $=new Uint8Array(32);return c($,D),$}t.scalarMult=k;function M(v){return k(v,i)}t.scalarMultBase=M;function z(v){if(v.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const S=new Uint8Array(v);return{publicKey:M(S),secretKey:S}}t.generateKeyPairFromSeed=z;function I(v){const S=(0,e.randomBytes)(32,v),T=z(S);return(0,r.wipe)(S),T}t.generateKeyPair=I;function B(v,S,T=!1){if(v.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(S.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const u=k(v,S);if(T){let E=0;for(let L=0;L<u.length;L++)E|=u[L];if(E===0)throw new Error("X25519: invalid shared key")}return u}t.sharedKey=B})(to);function ro(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function wf(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ro(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Lo(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const r=wf(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return ro(r)}function Su(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),o=a.charCodeAt(0);if(r[o]!==255)throw new TypeError(a+" is ambiguous");r[o]=i}var s=t.length,c=t.charAt(0),l=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function g(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var k=0,M=0,z=0,I=C.length;z!==I&&C[z]===0;)z++,k++;for(var B=(I-z)*h+1>>>0,v=new Uint8Array(B);z!==I;){for(var S=C[z],T=0,u=B-1;(S!==0||T<M)&&u!==-1;u--,T++)S+=256*v[u]>>>0,v[u]=S%s>>>0,S=S/s>>>0;if(S!==0)throw new Error("Non-zero carry");M=T,z++}for(var E=B-M;E!==B&&v[E]===0;)E++;for(var L=c.repeat(k);E<B;++E)L+=t.charAt(v[E]);return L}function y(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;var k=0;if(C[k]!==" "){for(var M=0,z=0;C[k]===c;)M++,k++;for(var I=(C.length-k)*l+1>>>0,B=new Uint8Array(I);C[k];){var v=r[C.charCodeAt(k)];if(v===255)return;for(var S=0,T=I-1;(v!==0||S<z)&&T!==-1;T--,S++)v+=s*B[T]>>>0,B[T]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");z=S,k++}if(C[k]!==" "){for(var u=I-z;u!==I&&B[u]===0;)u++;for(var E=new Uint8Array(M+(I-u)),L=M;u!==I;)E[L++]=B[u++];return E}}}function w(C){var k=y(C);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:w}}var Au=Su,Pu=Au;const Tu=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Du=t=>new TextEncoder().encode(t),Iu=t=>new TextDecoder().decode(t);class Bu{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ou{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return _f(this,e)}}class Cu{constructor(e){this.decoders=e}or(e){return _f(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _f=(t,e)=>new Cu({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Fu{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Bu(e,r,n),this.decoder=new Ou(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ui=({name:t,prefix:e,encode:r,decode:n})=>new Fu(t,e,r,n),Ln=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Pu(r,e);return ui({prefix:t,name:e,encode:n,decode:a=>Tu(i(a))})},Nu=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let a=t.length;for(;t[a-1]==="=";)--a;const o=new Uint8Array(a*r/8|0);let s=0,c=0,l=0;for(let h=0;h<a;++h){const g=i[t[h]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|g,s+=r,s>=8&&(s-=8,o[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return o},Mu=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let a="",o=0,s=0;for(let c=0;c<t.length;++c)for(s=s<<8|t[c],o+=8;o>r;)o-=r,a+=e[i&s>>o];if(o&&(a+=e[i&s<<r-o]),n)for(;a.length*r&7;)a+="=";return a},Dt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ui({prefix:e,name:t,encode(i){return Mu(i,n,r)},decode(i){return Nu(i,n,r,t)}}),Lu=ui({prefix:"\0",name:"identity",encode:t=>Iu(t),decode:t=>Du(t)}),Ru=Object.freeze(Object.defineProperty({__proto__:null,identity:Lu},Symbol.toStringTag,{value:"Module"})),Uu=Dt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ku=Object.freeze(Object.defineProperty({__proto__:null,base2:Uu},Symbol.toStringTag,{value:"Module"})),ju=Dt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Hu=Object.freeze(Object.defineProperty({__proto__:null,base8:ju},Symbol.toStringTag,{value:"Module"})),$u=Ln({prefix:"9",name:"base10",alphabet:"0123456789"}),zu=Object.freeze(Object.defineProperty({__proto__:null,base10:$u},Symbol.toStringTag,{value:"Module"})),Gu=Dt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vu=Dt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ku=Object.freeze(Object.defineProperty({__proto__:null,base16:Gu,base16upper:Vu},Symbol.toStringTag,{value:"Module"})),qu=Dt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wu=Dt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zu=Dt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yu=Dt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ju=Dt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xu=Dt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Qu=Dt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ed=Dt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),td=Dt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),rd=Object.freeze(Object.defineProperty({__proto__:null,base32:qu,base32hex:Ju,base32hexpad:Qu,base32hexpadupper:ed,base32hexupper:Xu,base32pad:Zu,base32padupper:Yu,base32upper:Wu,base32z:td},Symbol.toStringTag,{value:"Module"})),nd=Ln({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),id=Ln({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ad=Object.freeze(Object.defineProperty({__proto__:null,base36:nd,base36upper:id},Symbol.toStringTag,{value:"Module"})),od=Ln({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sd=Ln({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fd=Object.freeze(Object.defineProperty({__proto__:null,base58btc:od,base58flickr:sd},Symbol.toStringTag,{value:"Module"})),cd=Dt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ud=Dt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dd=Dt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ld=Dt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),hd=Object.freeze(Object.defineProperty({__proto__:null,base64:cd,base64pad:ud,base64url:dd,base64urlpad:ld},Symbol.toStringTag,{value:"Module"})),Sf=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),xd=Sf.reduce((t,e,r)=>(t[r]=e,t),[]),bd=Sf.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function gd(t){return t.reduce((e,r)=>(e+=xd[r],e),"")}function yd(t){const e=[];for(const r of t){const n=bd[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const pd=ui({prefix:"ðŸš€",name:"base256emoji",encode:gd,decode:yd}),md=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:pd},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Ro={...Ru,...ku,...Hu,...zu,...Ku,...rd,...ad,...fd,...hd,...md};function Af(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Uo=Af("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Fi=Af("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=wf(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Pf={utf8:Uo,"utf-8":Uo,hex:Ro.base16,latin1:Fi,ascii:Fi,binary:Fi,...Ro};function ir(t,e="utf8"){const r=Pf[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ro(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function or(t,e="utf8"){const r=Pf[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var ko=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},vd=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Ed=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),wd=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),_d=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Sd=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Ad=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Pd=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,jo=3,Td=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ad]],Ho=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Dd(t){return t?$o(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Sd:typeof navigator<"u"?$o(navigator.userAgent):Od()}function Id(t){return t!==""&&Td.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var a=i.exec(t);return!!a&&[n,a]},!1)}function $o(t){var e=Id(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new _d;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<jo&&(i=ko(ko([],i,!0),Cd(jo-i.length),!0)):i=[];var a=i.join("."),o=Bd(t),s=Pd.exec(t);return s&&s[1]?new wd(r,a,o,s[1]):new vd(r,a,o)}function Bd(t){for(var e=0,r=Ho.length;e<r;e++){var n=Ho[e],i=n[0],a=n[1],o=a.exec(t);if(o)return i}return null}function Od(){var t=typeof process<"u"&&process.version;return t?new Ed(process.version.slice(1)):null}function Cd(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Kr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Aa=function(t,e){return Aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Aa(t,e)};function Fd(t,e){Aa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pa=function(){return Pa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pa.apply(this,arguments)};function Nd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Md(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function Ld(t,e){return function(r,n){e(r,n,t)}}function Rd(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ud(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(h){try{l(n.next(h))}catch(g){o(g)}}function c(h){try{l(n.throw(h))}catch(g){o(g)}}function l(h){h.done?a(h.value):i(h.value).then(s,c)}l((n=n.apply(t,e||[])).next())})}function kd(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(h){return c([l,h])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function jd(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Hd(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ta(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tf(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function $d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tf(arguments[e]));return t}function zd(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Bn(t){return this instanceof Bn?(this.v=t,this):new Bn(t)}function Gd(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(w){return new Promise(function(C,k){a.push([y,w,C,k])>1||s(y,w)})})}function s(y,w){try{c(n[y](w))}catch(C){g(a[0][3],C)}}function c(y){y.value instanceof Bn?Promise.resolve(y.value.v).then(l,h):g(a[0][2],y)}function l(y){s("next",y)}function h(y){s("throw",y)}function g(y,w){y(w),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Vd(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:Bn(t[i](o)),done:i==="return"}:a?a(o):o}:a}}function Kd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ta=="function"?Ta(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,c){o=t[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}}function qd(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Wd(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Zd(t){return t&&t.__esModule?t:{default:t}}function Yd(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Jd(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Xd=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Pa},__asyncDelegator:Vd,__asyncGenerator:Gd,__asyncValues:Kd,__await:Bn,__awaiter:Ud,__classPrivateFieldGet:Yd,__classPrivateFieldSet:Jd,__createBinding:jd,__decorate:Md,__exportStar:Hd,__extends:Fd,__generator:kd,__importDefault:Zd,__importStar:Wd,__makeTemplateObject:qd,__metadata:Rd,__param:Ld,__read:Tf,__rest:Nd,__spread:$d,__spreadArrays:zd,__values:Ta},Symbol.toStringTag,{value:"Module"})),di=Nn(Xd);var Ni={},_n={},zo;function Qd(){if(zo)return _n;zo=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return _n.delay=t,_n}var Ur={},Mi={},kr={},Go;function el(){return Go||(Go=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.ONE_THOUSAND=kr.ONE_HUNDRED=void 0,kr.ONE_HUNDRED=100,kr.ONE_THOUSAND=1e3),kr}var Li={},Vo;function tl(){return Vo||(Vo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Li)),Li}var Ko;function Df(){return Ko||(Ko=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=di;e.__exportStar(el(),t),e.__exportStar(tl(),t)}(Mi)),Mi}var qo;function rl(){if(qo)return Ur;qo=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.fromMiliseconds=Ur.toMiliseconds=void 0;const t=Df();function e(n){return n*t.ONE_THOUSAND}Ur.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Ur.fromMiliseconds=r,Ur}var Wo;function nl(){return Wo||(Wo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=di;e.__exportStar(Qd(),t),e.__exportStar(rl(),t)}(Ni)),Ni}var tn={},Zo;function il(){if(Zo)return tn;Zo=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return tn.Watch=t,tn.default=t,tn}var Ri={},Sn={},Yo;function al(){if(Yo)return Sn;Yo=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.IWatch=void 0;class t{}return Sn.IWatch=t,Sn}var Jo;function ol(){return Jo||(Jo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),di.__exportStar(al(),t)}(Ri)),Ri}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=di;e.__exportStar(nl(),t),e.__exportStar(il(),t),e.__exportStar(ol(),t),e.__exportStar(Df(),t)})(Kr);var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getLocalStorage=Xe.getLocalStorageOrThrow=Xe.getCrypto=Xe.getCryptoOrThrow=Bf=Xe.getLocation=Xe.getLocationOrThrow=no=Xe.getNavigator=Xe.getNavigatorOrThrow=If=Xe.getDocument=Xe.getDocumentOrThrow=Xe.getFromWindowOrThrow=Xe.getFromWindow=void 0;function Jr(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Xe.getFromWindow=Jr;function yn(t){const e=Jr(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Xe.getFromWindowOrThrow=yn;function sl(){return yn("document")}Xe.getDocumentOrThrow=sl;function fl(){return Jr("document")}var If=Xe.getDocument=fl;function cl(){return yn("navigator")}Xe.getNavigatorOrThrow=cl;function ul(){return Jr("navigator")}var no=Xe.getNavigator=ul;function dl(){return yn("location")}Xe.getLocationOrThrow=dl;function ll(){return Jr("location")}var Bf=Xe.getLocation=ll;function hl(){return yn("crypto")}Xe.getCryptoOrThrow=hl;function xl(){return Jr("crypto")}Xe.getCrypto=xl;function bl(){return yn("localStorage")}Xe.getLocalStorageOrThrow=bl;function gl(){return Jr("localStorage")}Xe.getLocalStorage=gl;var io={};Object.defineProperty(io,"__esModule",{value:!0});var Of=io.getWindowMetadata=void 0;const Xo=Xe;function yl(){let t,e;try{t=Xo.getDocumentOrThrow(),e=Xo.getLocationOrThrow()}catch{return null}function r(){const g=t.getElementsByTagName("link"),y=[];for(let w=0;w<g.length;w++){const C=g[w],k=C.getAttribute("rel");if(k&&k.toLowerCase().indexOf("icon")>-1){const M=C.getAttribute("href");if(M)if(M.toLowerCase().indexOf("https:")===-1&&M.toLowerCase().indexOf("http:")===-1&&M.indexOf("//")!==0){let z=e.protocol+"//"+e.host;if(M.indexOf("/")===0)z+=M;else{const I=e.pathname.split("/");I.pop();const B=I.join("/");z+=B+"/"+M}y.push(z)}else if(M.indexOf("//")===0){const z=e.protocol+M;y.push(z)}else y.push(M)}}return y}function n(...g){const y=t.getElementsByTagName("meta");for(let w=0;w<y.length;w++){const C=y[w],k=["itemprop","property","name"].map(M=>C.getAttribute(M)).filter(M=>M?g.includes(M):!1);if(k.length&&k){const M=C.getAttribute("content");if(M)return M}}return""}function i(){let g=n("name","og:site_name","og:title","twitter:title");return g||(g=t.title),g}function a(){return n("description","og:description","twitter:description","keywords")}const o=i(),s=a(),c=e.origin,l=r();return{description:s,url:c,icons:l,name:o}}Of=io.getWindowMetadata=yl;var On={},pl=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Cf="%[a-f0-9]{2}",Qo=new RegExp("("+Cf+")|([^%]+?)","gi"),es=new RegExp("("+Cf+")+","gi");function Da(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Da(r),Da(n))}function ml(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Qo)||[],r=1;r<e.length;r++)t=Da(e,r).join(""),e=t.match(Qo)||[];return t}}function vl(t){for(var e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=es.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=ml(r[0]);n!==r[0]&&(e[r[0]]=n)}r=es.exec(t)}e["%C2"]="ï¿½";for(var i=Object.keys(e),a=0;a<i.length;a++){var o=i[a];t=t.replace(new RegExp(o,"g"),e[o])}return t}var El=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return vl(t)}},wl=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},_l=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),a=0;a<n.length;a++){var o=n[a],s=t[o];(i?e.indexOf(o)!==-1:e(o,s,t))&&(r[o]=s)}return r};(function(t){const e=pl,r=El,n=wl,i=_l,a=I=>I==null,o=Symbol("encodeFragmentIdentifier");function s(I){switch(I.arrayFormat){case"index":return B=>(v,S)=>{const T=v.length;return S===void 0||I.skipNull&&S===null||I.skipEmptyString&&S===""?v:S===null?[...v,[h(B,I),"[",T,"]"].join("")]:[...v,[h(B,I),"[",h(T,I),"]=",h(S,I)].join("")]};case"bracket":return B=>(v,S)=>S===void 0||I.skipNull&&S===null||I.skipEmptyString&&S===""?v:S===null?[...v,[h(B,I),"[]"].join("")]:[...v,[h(B,I),"[]=",h(S,I)].join("")];case"colon-list-separator":return B=>(v,S)=>S===void 0||I.skipNull&&S===null||I.skipEmptyString&&S===""?v:S===null?[...v,[h(B,I),":list="].join("")]:[...v,[h(B,I),":list=",h(S,I)].join("")];case"comma":case"separator":case"bracket-separator":{const B=I.arrayFormat==="bracket-separator"?"[]=":"=";return v=>(S,T)=>T===void 0||I.skipNull&&T===null||I.skipEmptyString&&T===""?S:(T=T===null?"":T,S.length===0?[[h(v,I),B,h(T,I)].join("")]:[[S,h(T,I)].join(I.arrayFormatSeparator)])}default:return B=>(v,S)=>S===void 0||I.skipNull&&S===null||I.skipEmptyString&&S===""?v:S===null?[...v,h(B,I)]:[...v,[h(B,I),"=",h(S,I)].join("")]}}function c(I){let B;switch(I.arrayFormat){case"index":return(v,S,T)=>{if(B=/\[(\d*)\]$/.exec(v),v=v.replace(/\[\d*\]$/,""),!B){T[v]=S;return}T[v]===void 0&&(T[v]={}),T[v][B[1]]=S};case"bracket":return(v,S,T)=>{if(B=/(\[\])$/.exec(v),v=v.replace(/\[\]$/,""),!B){T[v]=S;return}if(T[v]===void 0){T[v]=[S];return}T[v]=[].concat(T[v],S)};case"colon-list-separator":return(v,S,T)=>{if(B=/(:list)$/.exec(v),v=v.replace(/:list$/,""),!B){T[v]=S;return}if(T[v]===void 0){T[v]=[S];return}T[v]=[].concat(T[v],S)};case"comma":case"separator":return(v,S,T)=>{const u=typeof S=="string"&&S.includes(I.arrayFormatSeparator),E=typeof S=="string"&&!u&&g(S,I).includes(I.arrayFormatSeparator);S=E?g(S,I):S;const L=u||E?S.split(I.arrayFormatSeparator).map(V=>g(V,I)):S===null?S:g(S,I);T[v]=L};case"bracket-separator":return(v,S,T)=>{const u=/(\[\])$/.test(v);if(v=v.replace(/\[\]$/,""),!u){T[v]=S&&g(S,I);return}const E=S===null?[]:S.split(I.arrayFormatSeparator).map(L=>g(L,I));if(T[v]===void 0){T[v]=E;return}T[v]=[].concat(T[v],E)};default:return(v,S,T)=>{if(T[v]===void 0){T[v]=S;return}T[v]=[].concat(T[v],S)}}}function l(I){if(typeof I!="string"||I.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(I,B){return B.encode?B.strict?e(I):encodeURIComponent(I):I}function g(I,B){return B.decode?r(I):I}function y(I){return Array.isArray(I)?I.sort():typeof I=="object"?y(Object.keys(I)).sort((B,v)=>Number(B)-Number(v)).map(B=>I[B]):I}function w(I){const B=I.indexOf("#");return B!==-1&&(I=I.slice(0,B)),I}function C(I){let B="";const v=I.indexOf("#");return v!==-1&&(B=I.slice(v)),B}function k(I){I=w(I);const B=I.indexOf("?");return B===-1?"":I.slice(B+1)}function M(I,B){return B.parseNumbers&&!Number.isNaN(Number(I))&&typeof I=="string"&&I.trim()!==""?I=Number(I):B.parseBooleans&&I!==null&&(I.toLowerCase()==="true"||I.toLowerCase()==="false")&&(I=I.toLowerCase()==="true"),I}function z(I,B){B=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},B),l(B.arrayFormatSeparator);const v=c(B),S=Object.create(null);if(typeof I!="string"||(I=I.trim().replace(/^[?#&]/,""),!I))return S;for(const T of I.split("&")){if(T==="")continue;let[u,E]=n(B.decode?T.replace(/\+/g," "):T,"=");E=E===void 0?null:["comma","separator","bracket-separator"].includes(B.arrayFormat)?E:g(E,B),v(g(u,B),E,S)}for(const T of Object.keys(S)){const u=S[T];if(typeof u=="object"&&u!==null)for(const E of Object.keys(u))u[E]=M(u[E],B);else S[T]=M(u,B)}return B.sort===!1?S:(B.sort===!0?Object.keys(S).sort():Object.keys(S).sort(B.sort)).reduce((T,u)=>{const E=S[u];return E&&typeof E=="object"&&!Array.isArray(E)?T[u]=y(E):T[u]=E,T},Object.create(null))}t.extract=k,t.parse=z,t.stringify=(I,B)=>{if(!I)return"";B=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},B),l(B.arrayFormatSeparator);const v=E=>B.skipNull&&a(I[E])||B.skipEmptyString&&I[E]==="",S=s(B),T={};for(const E of Object.keys(I))v(E)||(T[E]=I[E]);const u=Object.keys(T);return B.sort!==!1&&u.sort(B.sort),u.map(E=>{const L=I[E];return L===void 0?"":L===null?h(E,B):Array.isArray(L)?L.length===0&&B.arrayFormat==="bracket-separator"?h(E,B)+"[]":L.reduce(S(E),[]).join("&"):h(E,B)+"="+h(L,B)}).filter(E=>E.length>0).join("&")},t.parseUrl=(I,B)=>{B=Object.assign({decode:!0},B);const[v,S]=n(I,"#");return Object.assign({url:v.split("?")[0]||"",query:z(k(I),B)},B&&B.parseFragmentIdentifier&&S?{fragmentIdentifier:g(S,B)}:{})},t.stringifyUrl=(I,B)=>{B=Object.assign({encode:!0,strict:!0,[o]:!0},B);const v=w(I.url).split("?")[0]||"",S=t.extract(I.url),T=t.parse(S,{sort:!1}),u=Object.assign(T,I.query);let E=t.stringify(u,B);E&&(E=`?${E}`);let L=C(I.url);return I.fragmentIdentifier&&(L=`#${B[o]?h(I.fragmentIdentifier,B):I.fragmentIdentifier}`),`${v}${E}${L}`},t.pick=(I,B,v)=>{v=Object.assign({parseFragmentIdentifier:!0,[o]:!1},v);const{url:S,query:T,fragmentIdentifier:u}=t.parseUrl(I,v);return t.stringifyUrl({url:S,query:i(T,B),fragmentIdentifier:u},v)},t.exclude=(I,B,v)=>{const S=Array.isArray(B)?T=>!B.includes(T):(T,u)=>!B(T,u);return t.pick(I,S,v)}})(On);const Sl={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},ao=":";function Al(t){const[e,r]=t.split(ao);return{namespace:e,reference:r}}function Pl(t){const{namespace:e,reference:r}=t;return[e,r].join(ao)}function oo(t){const[e,r,n]=t.split(ao);return{namespace:e,reference:r,address:n}}function Tl(t,e){const r=[];return t.forEach(n=>{const i=e(n);r.includes(i)||r.push(i)}),r}function Dl(t){const{namespace:e,reference:r}=oo(t);return Pl({namespace:e,reference:r})}function Il(t){return Tl(t,Dl)}function Ff(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function Bl(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...Il(i.accounts))}),r}function Nf(t,e){return t.includes(":")?[t]:e.chains||[]}const Mf="base10",$t="base16",Ia="base64pad",so="utf8",Lf=0,Rn=1,Ol=0,ts=1,Ba=12,fo=32;function rb(){const t=to.generateKeyPair();return{privateKey:or(t.secretKey,$t),publicKey:or(t.publicKey,$t)}}function nb(){const t=ai.randomBytes(fo);return or(t,$t)}function ib(t,e){const r=to.sharedKey(ir(t,$t),ir(e,$t),!0),n=new yu(ci.SHA256,r).expand(fo);return or(n,$t)}function ab(t){const e=ci.hash(ir(t,$t));return or(e,$t)}function ob(t){const e=ci.hash(ir(t,so));return or(e,$t)}function Cl(t){return ir(`${t}`,Mf)}function li(t){return Number(or(t,Mf))}function sb(t){const e=Cl(typeof t.type<"u"?t.type:Lf);if(li(e)===Rn&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?ir(t.senderPublicKey,$t):void 0,n=typeof t.iv<"u"?ir(t.iv,$t):ai.randomBytes(Ba),i=new Qa.ChaCha20Poly1305(ir(t.symKey,$t)).seal(n,ir(t.message,so));return Fl({type:e,sealed:i,iv:n,senderPublicKey:r})}function fb(t){const e=new Qa.ChaCha20Poly1305(ir(t.symKey,$t)),{sealed:r,iv:n}=Rf(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return or(i,so)}function Fl(t){if(li(t.type)===Rn){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return or(Lo([t.type,t.senderPublicKey,t.iv,t.sealed]),Ia)}return or(Lo([t.type,t.iv,t.sealed]),Ia)}function Rf(t){const e=ir(t,Ia),r=e.slice(Ol,ts),n=ts;if(li(r)===Rn){const s=n+fo,c=s+Ba,l=e.slice(n,s),h=e.slice(s,c),g=e.slice(c);return{type:r,sealed:g,iv:h,senderPublicKey:l}}const i=n+Ba,a=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:a}}function cb(t,e){const r=Rf(t);return Nl({type:li(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?or(r.senderPublicKey,$t):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Nl(t){const e=(t==null?void 0:t.type)||Lf;if(e===Rn){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function ub(t){return t.type===Rn&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var Ml=Object.defineProperty,rs=Object.getOwnPropertySymbols,Ll=Object.prototype.hasOwnProperty,Rl=Object.prototype.propertyIsEnumerable,ns=(t,e,r)=>e in t?Ml(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,is=(t,e)=>{for(var r in e||(e={}))Ll.call(e,r)&&ns(t,r,e[r]);if(rs)for(var r of rs(e))Rl.call(e,r)&&ns(t,r,e[r]);return t};const Ul="ReactNative",qt={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},kl="js";function Uf(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hi(){return!If()&&!!no()&&navigator.product===Ul}function co(){return!Uf()&&!!no()}function Un(){return hi()?qt.reactNative:Uf()?qt.node:co()?qt.browser:qt.unknown}function jl(t,e){let r=On.parse(t);return r=is(is({},r),e),t=On.stringify(r),t}function db(){return Of()||{name:"",description:"",url:"",icons:[""]}}function Hl(){if(Un()===qt.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=Dd();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function $l(){var t;const e=Un();return e===qt.browser?[e,((t=Bf())==null?void 0:t.host)||"unknown"].join(":"):e}function zl(t,e,r){const n=Hl(),i=$l();return[[t,e].join("-"),[kl,r].join("-"),n,i].join("/")}function lb({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:a,useOnCloseEvent:o}){const s=r.split("?"),c=zl(t,e,n),l={auth:i,ua:c,projectId:a,useOnCloseEvent:o||void 0},h=jl(s[1]||"",l);return s[0]+"?"+h}function $r(t,e){return t.filter(r=>e.includes(r)).length===t.length}function hb(t){return Object.fromEntries(t.entries())}function xb(t){return new Map(Object.entries(t))}function bb(t=Kr.FIVE_MINUTES,e){const r=Kr.toMiliseconds(t||Kr.FIVE_MINUTES);let n,i,a;return{resolve:o=>{a&&n&&(clearTimeout(a),n(o))},reject:o=>{a&&i&&(clearTimeout(a),i(o))},done:()=>new Promise((o,s)=>{a=setTimeout(()=>{s(new Error(e))},r),n=o,i=s})}}function gb(t,e,r){return new Promise(async(n,i)=>{const a=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(a)})}function kf(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function yb(t){return kf("topic",t)}function pb(t){return kf("id",t)}function mb(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function vb(t,e){return Kr.fromMiliseconds((e||Date.now())+Kr.toMiliseconds(t))}function Eb(t){return Date.now()>=Kr.toMiliseconds(t)}function wb(t,e){return`${t}${e?`:${e}`:""}`}async function _b({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const a=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=Un();o===qt.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):o===qt.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(a)}catch(n){console.error(n)}}const Gl="irn";function Sb(t){return(t==null?void 0:t.relay)||{protocol:Gl}}function Ab(t){const e=Sl[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Vl=Object.defineProperty,as=Object.getOwnPropertySymbols,Kl=Object.prototype.hasOwnProperty,ql=Object.prototype.propertyIsEnumerable,os=(t,e,r)=>e in t?Vl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wl=(t,e)=>{for(var r in e||(e={}))Kl.call(e,r)&&os(t,r,e[r]);if(as)for(var r of as(e))ql.call(e,r)&&os(t,r,e[r]);return t};function Zl(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const a=i.replace(n,""),o=t[i];r[a]=o}}),r}function Pb(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),a=typeof r<"u"?t.substring(r):"",o=On.parse(a);return{protocol:n,topic:Yl(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Zl(o)}}function Yl(t){return t.startsWith("//")?t.substring(2):t}function Jl(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const a=r+e+i;t[i]&&(n[a]=t[i])}),n}function Tb(t){return`${t.protocol}:${t.topic}@${t.version}?`+On.stringify(Wl({symKey:t.symKey},Jl(t.relay)))}function pn(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Xl(t){const e=[];return Object.values(t).forEach(r=>{e.push(...pn(r.accounts))}),e}function Ql(t,e){const r=[];return Object.values(t).forEach(n=>{pn(n.accounts).includes(e)&&r.push(...n.methods)}),r}function eh(t,e){const r=[];return Object.values(t).forEach(n=>{pn(n.accounts).includes(e)&&r.push(...n.events)}),r}function Db(t,e){const r=ch(t,e);if(r)throw new Error(r.message);const n={};for(const[i,a]of Object.entries(t))n[i]={methods:a.methods,events:a.events,chains:a.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}const th={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},rh={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Tr(t,e){const{message:r,code:n}=rh[t];return{message:e?`${r} ${e}`:r,code:n}}function bn(t,e){const{message:r,code:n}=th[t];return{message:e?`${r} ${e}`:r,code:n}}function xi(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function jf(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function qr(t){return typeof t>"u"}function tr(t,e){return e&&qr(t)?!0:typeof t=="string"&&!!t.trim().length}function uo(t,e){return e&&qr(t)?!0:typeof t=="number"&&!isNaN(t)}function Ib(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let a=!0;return $r(i,n)?(n.forEach(o=>{const{accounts:s,methods:c,events:l}=t.namespaces[o],h=pn(s),g=r[o];(!$r(Nf(o,g),h)||!$r(g.methods,c)||!$r(g.events,l))&&(a=!1)}),a):!1}function Jn(t){return tr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function nh(t){if(tr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Jn(r)}}return!1}function Bb(t){if(tr(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Ob(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Cb(t){return t==null?void 0:t.topic}function Fb(t,e){let r=null;return tr(t==null?void 0:t.publicKey,!1)||(r=Tr("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function ss(t){let e=!0;return xi(t)?t.length&&(e=t.every(r=>tr(r,!1))):e=!1,e}function ih(t,e,r){let n=null;return xi(e)&&e.length?e.forEach(i=>{n||Jn(i)||(n=bn("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Jn(t)||(n=bn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function ah(t,e,r){let n=null;return Object.entries(t).forEach(([i,a])=>{if(n)return;const o=ih(i,Nf(i,a),`${e} ${r}`);o&&(n=o)}),n}function oh(t,e){let r=null;return xi(t)?t.forEach(n=>{r||nh(n)||(r=bn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=bn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function sh(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=oh(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function fh(t,e){let r=null;return ss(t==null?void 0:t.methods)?ss(t==null?void 0:t.events)||(r=bn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=bn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Hf(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=fh(n,`${e}, namespace`);i&&(r=i)}),r}function Nb(t,e,r){let n=null;if(t&&jf(t)){const i=Hf(t,e);i&&(n=i);const a=ah(t,e,r);a&&(n=a)}else n=Tr("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function ch(t,e){let r=null;if(t&&jf(t)){const n=Hf(t,e);n&&(r=n);const i=sh(t,e);i&&(r=i)}else r=Tr("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function uh(t){return tr(t.protocol,!0)}function Mb(t,e){let r=!1;return e&&!t?r=!0:t&&xi(t)&&t.length&&t.forEach(n=>{r=uh(n)}),r}function Lb(t){return typeof t=="number"}function Rb(t){return typeof t<"u"&&typeof t!==null}function Ub(t){return!(!t||typeof t!="object"||!t.code||!uo(t.code,!1)||!t.message||!tr(t.message,!1))}function kb(t){return!(qr(t)||!tr(t.method,!1))}function jb(t){return!(qr(t)||qr(t.result)&&qr(t.error)||!uo(t.id,!1)||!tr(t.jsonrpc,!1))}function Hb(t){return!(qr(t)||!tr(t.name,!1))}function $b(t,e){return!(!Jn(e)||!Xl(t).includes(e))}function zb(t,e,r){return tr(r,!1)?Ql(t,e).includes(r):!1}function Gb(t,e,r){return tr(r,!1)?eh(t,e).includes(r):!1}function Vb(t,e,r){let n=null;const i=dh(t),a=lh(e),o=Object.keys(i),s=Object.keys(a),c=fs(Object.keys(t)),l=fs(Object.keys(e)),h=c.filter(g=>!l.includes(g));return h.length&&(n=Tr("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),$r(o,s)||(n=Tr("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${s.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||n)return;const y=pn(e[g].accounts);y.includes(g)||(n=Tr("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),o.forEach(g=>{n||($r(i[g].methods,a[g].methods)?$r(i[g].events,a[g].events)||(n=Tr("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${g}`)):n=Tr("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${g}`))}),n}function dh(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function fs(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function lh(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=pn(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(a=>a.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Kb(t,e){return uo(t,!1)&&t<=e.max&&t>=e.min}function qb(){const t=Un();return new Promise(e=>{switch(t){case qt.browser:e(hh());break;case qt.reactNative:e(xh());break;case qt.node:e(bh());break;default:e(!0)}})}function hh(){return co()&&(navigator==null?void 0:navigator.onLine)}async function xh(){if(hi()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function bh(){return!0}function Wb(t){switch(Un()){case qt.browser:gh(t);break;case qt.reactNative:yh(t);break}}function gh(t){!hi()&&co()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function yh(t){hi()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const Ui={};class Zb{static get(e){return Ui[e]}static set(e,r){Ui[e]=r}static delete(e){delete Ui[e]}}const ph=(t,e=0)=>{let r=~~e,n=0;for(let i=0;i<t.length;i++)n+=t[i];return r+=n%256,r%256},cs=(t,e)=>cf.Buffer.from(t,e);function Zt(t,e){const r=(n,i)=>e(cs(n),i)>>>0;return r.signed=(n,i)=>e(cs(n),i),r.unsigned=r,r.model=t,r}Zt("crc1",ph);let Oa=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(Oa=new Int32Array(Oa));const mh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=Oa[(r^t[n])&255]&255;return r};Zt("crc-8",mh);let Ca=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(Ca=new Int32Array(Ca));const vh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=Ca[(r^t[n])&255]&255;return r};Zt("dallas-1-wire",vh);let Fa=[0,213,127,170,254,43,129,84,41,252,86,131,215,2,168,125,82,135,45,248,172,121,211,6,123,174,4,209,133,80,250,47,164,113,219,14,90,143,37,240,141,88,242,39,115,166,12,217,246,35,137,92,8,221,119,162,223,10,160,117,33,244,94,139,157,72,226,55,99,182,28,201,180,97,203,30,74,159,53,224,207,26,176,101,49,228,78,155,230,51,153,76,24,205,103,178,57,236,70,147,199,18,184,109,16,197,111,186,238,59,145,68,107,190,20,193,149,64,234,63,66,151,61,232,188,105,195,22,239,58,144,69,17,196,110,187,198,19,185,108,56,237,71,146,189,104,194,23,67,150,60,233,148,65,235,62,106,191,21,192,75,158,52,225,181,96,202,31,98,183,29,200,156,73,227,54,25,204,102,179,231,50,152,77,48,229,79,154,206,27,177,100,114,167,13,216,140,89,243,38,91,142,36,241,165,112,218,15,32,245,95,138,222,11,161,116,9,220,118,163,247,34,136,93,214,3,169,124,40,253,87,130,255,42,128,85,1,212,126,171,132,81,251,46,122,175,5,208,173,120,210,7,83,134,44,249];typeof Int32Array<"u"&&(Fa=new Int32Array(Fa));const Eh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=Fa[(r^t[n])&255]&255;return r};Zt("crc-8-dvbs2",Eh);let Na=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(Na=new Int32Array(Na));const wh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=(Na[(r^t[n])&255]^r>>8)&65535;return r};Zt("crc-16",wh);let Ma=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(Ma=new Int32Array(Ma));const _h=(t,e)=>{let r=typeof e<"u"?~~e:65535;for(let n=0;n<t.length;n++)r=(Ma[(r>>8^t[n])&255]^r<<8)&65535;return r};Zt("ccitt",_h);let La=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(La=new Int32Array(La));const Sh=(t,e)=>{let r=typeof e<"u"?~~e:65535;for(let n=0;n<t.length;n++)r=(La[(r^t[n])&255]^r>>8)&65535;return r};Zt("crc-16-modbus",Sh);const Ah=(t,e)=>{let r=typeof e<"u"?~~e:0;for(let n=0;n<t.length;n++){let i=r>>>8&255;i^=t[n]&255,i^=i>>>4,r=r<<8&65535,r^=i,i=i<<5&65535,r^=i,i=i<<7&65535,r^=i}return r};Zt("xmodem",Ah);let Ra=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(Ra=new Int32Array(Ra));const Ph=(t,e)=>{let r=typeof e<"u"?~~e:0;for(let n=0;n<t.length;n++)r=(Ra[(r^t[n])&255]^r>>8)&65535;return r};Zt("kermit",Ph);let Ua=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(Ua=new Int32Array(Ua));const Th=(t,e)=>{let r=typeof e<"u"?~~e:11994318;for(let n=0;n<t.length;n++)r=(Ua[(r>>16^t[n])&255]^r<<8)&16777215;return r};Zt("crc-24",Th);let ka=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(ka=new Int32Array(ka));const Dh=(t,e)=>{let r=e===0?0:~~e^-1;for(let n=0;n<t.length;n++)r=ka[(r^t[n])&255]^r>>>8;return r^-1},Ih=Zt("crc-32",Dh);let ja=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];typeof Int32Array<"u"&&(ja=new Int32Array(ja));const Bh=(t,e)=>{let r=typeof e<"u"?~~e:4294967295;for(let n=0;n<t.length;n++)r=ja[(r>>24^t[n])&255]^r<<8;return r};Zt("crc-32-mpeg",Bh);let Ha=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Ha=new Int32Array(Ha));const Oh=(t,e=-1)=>{let r=e===0?0:~~e;for(let n=0;n<t.length;n++)r=Ha[(r^t[n])&255]^r>>>8;return r};Zt("jam",Oh);const Ch={mainnet:{name:"mainnet",chainId:1,networkId:1,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},goerli:{name:"goerli",chainId:5,networkId:5,defaultHardfork:"shanghai",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"paris",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},sepolia:{name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"paris",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]}};var Wr;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(Wr||(Wr={}));Wr.Mainnet+"",BigInt(0),Er("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),Wr.Goerli+"",BigInt(0),Er("0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"),Wr.Sepolia+"",BigInt(0),Er("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494");var ye;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Paris="paris",t.Shanghai="shanghai",t.Cancun="cancun"})(ye||(ye={}));var us;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(us||(us={}));var ds;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(ds||(ds={}));var jt;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(jt||(jt={}));var Je;(function(t){t.Draft="draft",t.Review="review",t.Final="final"})(Je||(Je={}));const rn={1153:{comment:"Transient storage opcodes",url:"https://eips.ethereum.org/EIPS/eip-1153",status:Je.Review,minimumHardfork:ye.Chainstart,requiredEIPs:[],gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}}},1559:{comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:Je.Final,minimumHardfork:ye.Berlin,requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}}},2315:{comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:Je.Draft,minimumHardfork:ye.Istanbul,requiredEIPs:[],gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}}},2565:{comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:Je.Final,minimumHardfork:ye.Byzantium,requiredEIPs:[],gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}}},2718:{comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:Je.Final,minimumHardfork:ye.Chainstart,requiredEIPs:[]},2929:{comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:Je.Final,minimumHardfork:ye.Chainstart,requiredEIPs:[],gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}}},2930:{comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:Je.Final,minimumHardfork:ye.Istanbul,requiredEIPs:[2718,2929],gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}}},3074:{comment:"AUTH and AUTHCALL opcodes",url:"https://eips.ethereum.org/EIPS/eip-3074",status:Je.Review,minimumHardfork:ye.London,requiredEIPs:[],gasPrices:{auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}}},3198:{comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:Je.Final,minimumHardfork:ye.London,requiredEIPs:[],gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}}},3529:{comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:Je.Final,minimumHardfork:ye.Berlin,requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}}},3540:{comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:Je.Review,minimumHardfork:ye.London,requiredEIPs:[3541]},3541:{comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:Je.Final,minimumHardfork:ye.Berlin,requiredEIPs:[]},3554:{comment:"Difficulty Bomb Delay to December 1st 2021",url:"https://eips.ethereum.org/EIPS/eip-3554",status:Je.Final,minimumHardfork:ye.MuirGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:Je.Final,minimumHardfork:ye.Chainstart,requiredEIPs:[]},3651:{comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:Je.Review,minimumHardfork:ye.London,requiredEIPs:[2929]},3670:{comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:ye.London,requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:Je.Final,minimumHardfork:ye.London,requiredEIPs:[]},3855:{comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:Je.Review,minimumHardfork:ye.Chainstart,requiredEIPs:[],gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}}},3860:{comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:Je.Review,minimumHardfork:ye.SpuriousDragon,requiredEIPs:[],gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}}},4345:{comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:Je.Final,minimumHardfork:ye.London,requiredEIPs:[],pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:Je.Review,minimumHardfork:ye.London,requiredEIPs:[],gasPrices:{prevrandao:{v:2,d:"Base fee of the PREVRANDAO opcode (previously DIFFICULTY)"}}},4788:{comment:"Beacon block root in the EVM",url:"https://eips.ethereum.org/EIPS/eip-4788",status:Je.Draft,minimumHardfork:ye.Cancun,requiredEIPs:[],gasPrices:{beaconrootCost:{v:4200,d:"Gas cost when calling the beaconroot stateful precompile"}},vm:{historicalRootsLength:{v:98304,d:"The modulo parameter of the beaconroot ring buffer in the beaconroot statefull precompile"}}},4844:{comment:"Shard Blob Transactions",url:"https://eips.ethereum.org/EIPS/eip-4844",status:Je.Draft,minimumHardfork:ye.Paris,requiredEIPs:[1559,2718,2930,4895],gasConfig:{blobGasPerBlob:{v:131072,d:"The base fee for blob gas per blob"},targetBlobGasPerBlock:{v:393216,d:"The target blob gas consumed per block"},maxblobGasPerBlock:{v:786432,d:"The max blob gas allowable per block"},blobGasPriceUpdateFraction:{v:3338477,d:"The denominator used in the exponential when calculating a blob gas price"}},gasPrices:{simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minBlobGasPrice:{v:1,d:"The minimum fee per blob gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},blobhash:{v:3,d:"Base fee of the BLOBHASH opcode"}},sharding:{blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}}},4895:{comment:"Beacon chain push withdrawals as operations",url:"https://eips.ethereum.org/EIPS/eip-4895",status:Je.Review,minimumHardfork:ye.Paris,requiredEIPs:[]},5133:{comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:Je.Draft,minimumHardfork:ye.GrayGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},5656:{comment:"MCOPY - Memory copying instruction",url:"https://eips.ethereum.org/EIPS/eip-5656",status:Je.Draft,minimumHardfork:ye.Shanghai,requiredEIPs:[],gasPrices:{mcopy:{v:3,d:"Base fee of the MCOPY opcode"}}},6780:{comment:"SELFDESTRUCT only in same transaction",url:"https://eips.ethereum.org/EIPS/eip-6780",status:Je.Draft,minimumHardfork:ye.London,requiredEIPs:[]}};var Et;(function(t){t.Draft="draft",t.Review="review",t.Final="final"})(Et||(Et={}));const Fh={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:Et.Final,gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},keccak256:{v:30,d:"Base fee of the SHA3 opcode"},keccak256Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:BigInt("5000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:Et.Final,gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:Et.Final},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:Et.Final,gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:Et.Final,gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:Et.Final,gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},pow:{minerReward:{v:BigInt("3000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:Et.Final,gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},pow:{minerReward:{v:BigInt("2000000000000000000"),d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:Et.Final,gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:Et.Final,gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:Et.Final,pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:Et.Final,eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:Et.Final,eips:[1559,3198,3529,3541]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:Et.Final,eips:[4345]},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:Et.Final,eips:[5133]},paris:{name:"paris",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:Et.Final,consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:Et.Final,eips:[]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:Et.Final,eips:[3651,3855,3860,4895]},cancun:{name:"cancun",comment:"Next feature hardfork after the shanghai having proto-danksharding EIP 4844 blobs (still WIP hence not for production use), transient storage opcodes, parent beacon block root availability in EVM and selfdestruct only in same transaction",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/cancun.md",status:Et.Final,eips:[1153,4844,4788,5656,6780]}};function Nh(t){return!t||t==="0x0"?"0x0000000000000000":tf(t)?"0x"+hn(t).padStart(16,"0"):"0x"+t.padStart(16,"0")}function Mh(t,e=!0){const{name:r,config:n,difficulty:i,mixHash:a,gasLimit:o,coinbase:s,baseFeePerGas:c,excessBlobGas:l}=t;let{extraData:h,timestamp:g,nonce:y}=t;const w=Number(g),{chainId:C}=n;if(h===""&&(h="0x"),tf(g)||(g=lc(parseInt(g))),y.length!==18&&(y=Nh(y)),n.eip155Block!==n.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const k={name:r,chainId:C,networkId:C,genesis:{timestamp:g,gasLimit:o,difficulty:i,nonce:y,extraData:h,mixHash:a,coinbase:s,baseFeePerGas:c,excessBlobGas:l},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:n.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:n.clique.period??n.clique.blockperiodseconds,epoch:n.clique.epoch??n.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},M={[ye.Homestead]:{name:"homesteadBlock"},[ye.Dao]:{name:"daoForkBlock"},[ye.TangerineWhistle]:{name:"eip150Block"},[ye.SpuriousDragon]:{name:"eip155Block"},[ye.Byzantium]:{name:"byzantiumBlock"},[ye.Constantinople]:{name:"constantinopleBlock"},[ye.Petersburg]:{name:"petersburgBlock"},[ye.Istanbul]:{name:"istanbulBlock"},[ye.MuirGlacier]:{name:"muirGlacierBlock"},[ye.Berlin]:{name:"berlinBlock"},[ye.London]:{name:"londonBlock"},[ye.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[ye.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[ye.Cancun]:{name:"cancunTime",postMerge:!0,isTimestamp:!0}},z=Object.keys(M).reduce((v,S)=>(v[M[S].name]=S,v),{}),I=Object.keys(n).filter(v=>z[v]!==void 0&&n[v]!==void 0&&n[v]!==null);if(k.hardforks=I.map(v=>({name:z[v],block:M[z[v]].isTimestamp===!0||typeof n[v]!="number"?null:n[v],timestamp:M[z[v]].isTimestamp===!0&&typeof n[v]=="number"?n[v]:void 0})).filter(v=>v.block!==null||v.timestamp!==void 0),k.hardforks.sort(function(v,S){return(v.block??1/0)-(S.block??1/0)}),k.hardforks.sort(function(v,S){return(v.timestamp??w)-(S.timestamp??w)}),n.terminalTotalDifficulty!==void 0){const v={name:ye.Paris,ttd:n.terminalTotalDifficulty,block:null},S=k.hardforks.findIndex(T=>{var u;return((u=M[T.name])==null?void 0:u.postMerge)===!0});S!==-1?k.hardforks.splice(S,0,v):k.hardforks.push(v)}const B=k.hardforks.length>0?k.hardforks.slice(-1)[0]:void 0;return k.hardfork=B==null?void 0:B.name,k.hardforks.unshift({name:ye.Chainstart,block:0}),k}function Lh(t,e,r){try{if(["config","difficulty","gasLimit","alloc"].some(n=>!(n in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),Mh(t,r)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}class Mt{constructor(e){this._eips=[],this.events=new ga.EventEmitter,this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??ye.Shanghai,this.HARDFORK_CHANGES=this.hardforks().map(r=>[r.name,Fh[r.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,r={}){const n=r.baseChain??"mainnet",i={...Mt._getChainParams(n)};if(i.name="custom-chain",typeof e!="string")return new Mt({chain:{...i,...e},...r});if(e===jt.PolygonMainnet)return Mt.custom({name:jt.PolygonMainnet,chainId:137,networkId:137},r);if(e===jt.PolygonMumbai)return Mt.custom({name:jt.PolygonMumbai,chainId:80001,networkId:80001},r);if(e===jt.ArbitrumOne)return Mt.custom({name:jt.ArbitrumOne,chainId:42161,networkId:42161},r);if(e===jt.xDaiChain)return Mt.custom({name:jt.xDaiChain,chainId:100,networkId:100},r);if(e===jt.OptimisticKovan)return Mt.custom({name:jt.OptimisticKovan,chainId:69,networkId:69},{hardfork:ye.Berlin,...r});if(e===jt.OptimisticEthereum)return Mt.custom({name:jt.OptimisticEthereum,chainId:10,networkId:10},{hardfork:ye.Berlin,...r});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:r,eips:n,genesisHash:i,hardfork:a,mergeForkIdPostMerge:o}){const s=Lh(e,r,o),c=new Mt({chain:s.name??"custom",customChains:[s],eips:n,hardfork:a??s.hardfork});return i!==void 0&&c.setForkHashes(i),c}static isSupportedChainId(e){return!!this.getInitializedChains().names[e.toString()]}static _getChainParams(e,r){const n=this.getInitializedChains(r);if(typeof e=="number"||typeof e=="bigint"){if(e=e.toString(),n.names[e]){const i=n.names[e];return n[i]}throw new Error(`Chain with ID ${e} not supported`)}if(n[e]!==void 0)return n[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Mt._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const r=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of r)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}else throw new Error("Wrong input format");for(const r of this.hardforks())if(r.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let r=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.events.emit("hardforkChanged",e)),r=!0);if(!r)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkBy(e){let{blockNumber:r,timestamp:n,td:i}=e;r=sn(r,fn.BigInt),i=sn(i,fn.BigInt),n=sn(n,fn.BigInt);const a=this.hardforks().filter(g=>g.block!==null||g.ttd!==null&&g.ttd!==void 0||g.timestamp!==void 0),o=a.findIndex(g=>g.ttd!==null&&g.ttd!==void 0);if(a.slice(o+1).findIndex(g=>g.ttd!==null&&g.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let c=a.findIndex(g=>r!==void 0&&g.block!==null&&BigInt(g.block)>r||n!==void 0&&g.timestamp!==void 0&&g.timestamp>n);if(c===-1)c=a.length;else if(c===0)throw Error("Must have at least one hardfork at block 0");if(n===void 0){const g=a.slice(0,c).reverse().findIndex(y=>y.block!==null||y.ttd!==void 0);c=c-g}if(c=c-1,a[c].block===null&&a[c].timestamp===void 0)(i==null||BigInt(a[c].ttd)>i)&&(c-=1);else if(o>=0&&i!==void 0&&i!==null){if(c>=o&&BigInt(a[o].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<o&&BigInt(a[o].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const l=c;for(;c<a.length-1&&!(a[c].block!==a[c+1].block||a[c].timestamp!==a[c+1].timestamp);c++);if(n!==void 0){if(a.slice(0,l).reduce((w,C)=>Math.max(Number(C.timestamp??"0"),w),0)>n)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(c+1).reduce((w,C)=>Math.min(Number(C.timestamp??n),w),Number(n))<n)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[c].name}setHardforkBy(e){const r=this.getHardforkBy(e);return this.setHardfork(r),r}_getHardfork(e){const r=this.hardforks();for(const n of r)if(n.name===e)return n;return null}setEIPs(e=[]){for(const r of e){if(!(r in rn))throw new Error(`${r} not supported`);const n=this.gteHardfork(rn[r].minimumHardfork);if(!n)throw new Error(`${r} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(rn[r].requiredEIPs!==void 0){for(const i of rn[r].requiredEIPs)if(!(e.includes(i)||this.isActivatedEIP(i)))throw new Error(`${r} requires EIP ${i}, but is not included in the EIP list`)}}this._eips=e}param(e,r){let n;for(const i of this._eips)if(n=this.paramByEIP(e,r,i),n!==void 0)return n;return this.paramByHardfork(e,r,this._hardfork)}paramByHardfork(e,r,n){let i=null;for(const a of this.HARDFORK_CHANGES){if("eips"in a[1]){const o=a[1].eips;for(const s of o){const c=this.paramByEIP(e,r,s);i=typeof c=="bigint"?c:i}}else a[1][e]!==void 0&&a[1][e][r]!==void 0&&(i=a[1][e][r].v);if(a[0]===n)break}return BigInt(i??0)}paramByEIP(e,r,n){if(!(n in rn))throw new Error(`${n} not supported`);const i=rn[n];if(!(e in i)||i[e][r]===void 0)return;const a=i[e][r].v;return BigInt(a)}paramByBlock(e,r,n,i,a){const o=this.getHardforkBy({blockNumber:n,td:i,timestamp:a});return this.paramByHardfork(e,r,o)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const r of this.HARDFORK_CHANGES){const n=r[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,r){r=sn(r,fn.BigInt),e=e??this._hardfork;const n=this.hardforkBlock(e);return typeof n=="bigint"&&n!==BigInt(0)&&r>=n}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,r){e=e??this._hardfork;const n=this.hardforks();let i=-1,a=-1,o=0;for(const s of n)s.name===e&&(i=o),s.name===r&&(a=o),o+=1;return i>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;e=e??this._hardfork;const r=(n=this._getHardfork(e))==null?void 0:n.block;return r==null?null:BigInt(r)}hardforkTimestamp(e){var n;e=e??this._hardfork;const r=(n=this._getHardfork(e))==null?void 0:n.timestamp;return r==null?null:BigInt(r)}eipBlock(e){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock(r[0])}return null}hardforkTTD(e){var n;e=e??this._hardfork;const r=(n=this._getHardfork(e))==null?void 0:n.ttd;return r==null?null:BigInt(r)}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const r=this.hardforks();let n=r.findIndex(s=>s.name===e);if(e===ye.Paris&&(n-=1),n<0)return null;let i=r[n].timestamp??r[n].block;i=i!=null?Number(i):null;const a=r.slice(n+1).find(s=>{let c=s.timestamp??s.block;return c=c!=null?Number(c):null,s.name!==ye.Paris&&c!==null&&c!==void 0&&c!==i});if(a===void 0)return null;const o=a.timestamp??a.block;return o==null?null:BigInt(o)}_calcForkHash(e,r){let n=new Uint8Array(0),i=0;for(const s of this.hardforks()){const{block:c,timestamp:l,name:h}=s;let g=l??c;if(g=g!==null?Number(g):null,typeof g=="number"&&g!==0&&g!==i&&h!==ye.Paris){const y=Er("0x"+g.toString(16).padStart(16,"0"));n=wr(n,y),i=g}if(s.name===e)break}const a=wr(r,n);return Kt(hc(Ih(a)>>>0))}forkHash(e,r){e=e??this._hardfork;const n=this._getHardfork(e);if(n===null||(n==null?void 0:n.block)===null&&(n==null?void 0:n.timestamp)===void 0&&(n==null?void 0:n.ttd)===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if((n==null?void 0:n.forkHash)!==null&&(n==null?void 0:n.forkHash)!==void 0)return n.forkHash;if(!r)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,r)}hardforkForForkHash(e){const r=this.hardforks().filter(n=>n.forkHash===e);return r.length>=1?r[r.length-1]:null}setForkHashes(e){for(const r of this.hardforks()){const n=r.timestamp??r.block;(r.forkHash===null||r.forkHash===void 0)&&(n!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.type),n[0]===e)break;return r??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.algorithm),n[0]===e)break;return r??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES){if("consensus"in n[1]){const i=n[1],a=i.consensus.algorithm;r=i.consensus[a]}if(n[0]===e)break}return r??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.events=new ga.EventEmitter,e}static getInitializedChains(e){const r={};for(const[i,a]of Object.entries(Wr))r[a]=i.toLowerCase();const n={...Ch};if(e)for(const i of e){const{name:a}=i;r[i.chainId.toString()]=a,n[a]=i}return n.names=r,n}}var dr;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(dr||(dr={}));function Rh(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function Uh(t){return!Rh(t)}var dt;(function(t){t[t.Legacy=0]="Legacy",t[t.AccessListEIP2930=1]="AccessListEIP2930",t[t.FeeMarketEIP1559=2]="FeeMarketEIP1559",t[t.BlobEIP4844=3]="BlobEIP4844"})(dt||(dt={}));function kh(t){return Number(je(Ze(t.type)))===dt.Legacy}function jh(t){return Number(je(Ze(t.type)))===dt.AccessListEIP2930}function Hh(t){return Number(je(Ze(t.type)))===dt.FeeMarketEIP1559}function $h(t){return Number(je(Ze(t.type)))===dt.BlobEIP4844}function zh(t,e){const r=t.param("vm","maxInitCodeSize");if(r&&BigInt(e)>r)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)}class ar{static getAccessListData(e){let r,n;if(Uh(e)){r=e;const i=[];for(let a=0;a<e.length;a++){const o=e[a],s=Er(o.address),c=[];for(let l=0;l<o.storageKeys.length;l++)c.push(Er(o.storageKeys[l]));i.push([s,c])}n=i}else{n=e??[];const i=[];for(let a=0;a<n.length;a++){const o=n[a],s=Kt(o[0]),c=[];for(let h=0;h<o[1].length;h++)c.push(Kt(o[1][h]));const l={address:s,storageKeys:c};i.push(l)}r=i}return{AccessListJSON:r,accessList:n}}static verifyAccessList(e){for(let r=0;r<e.length;r++){const n=e[r],i=n[0],a=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(i.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let o=0;o<a.length;o++)if(a[o].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const r=[];for(let n=0;n<e.length;n++){const i=e[n],a={address:Kt(ya(i[0],20)),storageKeys:[]},o=i[1];for(let s=0;s<o.length;s++){const c=o[s];a.storageKeys.push(Kt(ya(c,32)))}r.push(a)}return r}static getDataFeeEIP2930(e,r){const n=r.param("gasPrices","accessListStorageKeyCost"),i=r.param("gasPrices","accessListAddressCost");let a=0;for(let s=0;s<e.length;s++){const l=e[s][1];a+=l.length}return e.length*Number(i)+a*Number(n)}}class Fr{constructor(e,r){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Wr.Mainnet;const{nonce:n,gasLimit:i,to:a,value:o,data:s,v:c,r:l,s:h,type:g}=e;this._type=Number(je(Ze(g))),this.txOptions=r;const y=Ze(a===""?"0x":a),w=Ze(c===""?"0x":c),C=Ze(l===""?"0x":l),k=Ze(h===""?"0x":h);this.nonce=je(Ze(n===""?"0x":n)),this.gasLimit=je(Ze(i===""?"0x":i)),this.to=y.length>0?new Co(y):void 0,this.value=je(Ze(o===""?"0x":o)),this.data=Ze(s===""?"0x":s),this.v=w.length>0?je(w):void 0,this.r=C.length>0?je(C):void 0,this.s=k.length>0?je(k):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const M=this.to===void 0||this.to===null,z=r.allowUnlimitedInitCodeSize??!1,I=r.common??this._getCommon();M&&I.isActivatedEIP(3860)&&z===!1&&zh(I,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}getValidationErrors(){const e=[];return this.isSigned()&&!this.verifySignature()&&e.push("Invalid Signature"),this.getBaseFee()>this.gasLimit&&e.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),e}isValid(){return this.getValidationErrors().length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const r=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(r)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>xc){const r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let r=this.getDataFee();if(e&&(r+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(r+=n)}return r}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let i=0;i<this.data.length;i++)this.data[i]===0?n+=e:n+=r;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),a=this.common.param("gasPrices","initCodeWordCost")*i;n+=a}return n}toCreationAddress(){return this.to===void 0||this.to.bytes.length===0}isSigned(){const{v:e,r,s:n}=this;return!(e===void 0||r===void 0||n===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return pa(e).length!==0}catch{return!1}}getSenderAddress(){return new Co(bc(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const c=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(c)}let r=!1;this.type===dt.Legacy&&this.common.gteHardfork("spuriousDragon")&&!this.supports(dr.EIP155ReplayProtection)&&(this.activeCapabilities.push(dr.EIP155ReplayProtection),r=!0);const n=this.getHashedMessageToSign(),{v:i,r:a,s:o}=gc(n,e),s=this._processSignature(i,a,o);if(r){const c=this.activeCapabilities.indexOf(dr.EIP155ReplayProtection);c>-1&&this.activeCapabilities.splice(c,1)}return s}toJSON(){return{type:Pt(BigInt(this.type)),nonce:Pt(this.nonce),gasLimit:Pt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Pt(this.value),data:Kt(this.data),v:this.v!==void 0?Pt(this.v):void 0,r:this.r!==void 0?Pt(this.r):void 0,s:this.s!==void 0?Pt(this.s):void 0}}_getCommon(e,r){if(r!==void 0){const n=je(Ze(r));if(e){if(e.chainId()!==n){const i=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(i)}return e.copy()}else return Mt.isSupportedChainId(n)?new Mt({chain:n}):Mt.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN})}else return(e==null?void 0:e.copy())??new Mt({chain:this.DEFAULT_CHAIN})}_validateCannotExceedMaxInteger(e,r=256,n=!1){for(const[i,a]of Object.entries(e))switch(r){case 64:if(n){if(a!==void 0&&a>=Bo){const o=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(o)}}else if(a!==void 0&&a>Bo){const o=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(o)}break;case 256:if(n){if(a!==void 0&&a>=xn){const o=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(o)}}else if(a!==void 0&&a>xn){const o=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(o)}break;default:{const o=this._errorMsg("unimplemented bits value");throw new Error(o)}}}static _validateNotArray(e){const r=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,i]of Object.entries(e))if(r.includes(n)&&Array.isArray(i))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?Kt(this.hash()):"not available (unsigned)"}catch{e="error"}let r="";try{r=this.isSigned().toString()}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${r} hf=${n}`,i}}const ki=Er("0x"+dt.FeeMarketEIP1559.toString(16).padStart(2,"0"));class zr extends Fr{constructor(e,r={}){super({...e,type:dt.FeeMarketEIP1559},r);const{chainId:n,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const s=ar.getAccessListData(i??[]);if(this.accessList=s.accessList,this.AccessListJSON=s.AccessListJSON,ar.verifyAccessList(this.accessList),this.maxFeePerGas=je(Ze(a===""?"0x":a)),this.maxPriorityFeePerGas=je(Ze(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Fr._validateNotArray(e),this.gasLimit*this.maxFeePerGas>xn){const l=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(l)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const l=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(l)}this._validateYParity(),this._validateHighS(),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r={}){return new zr(e,r)}static fromSerializedTx(e,r={}){if(ln(e.subarray(0,1),ki)===!1)throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${dt.FeeMarketEIP1559}, received: ${Kt(e.subarray(0,1))}`);const n=Ut.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return zr.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,i,a,o,s,c,l,h,g,y,w,C]=e;return this._validateNotArray({chainId:n,v:y}),ti({nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:o,gasLimit:s,value:l,v:y,r:w,s:C}),new zr({chainId:je(n),nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:o,gasLimit:s,to:c,value:l,data:h,accessList:g??[],v:y!==void 0?je(y):void 0,r:w,s:C},r)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(ar.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const r=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,a=(r<n?r:n)+e;return this.gasLimit*a+this.value}raw(){return[ve(this.chainId),ve(this.nonce),ve(this.maxPriorityFeePerGas),ve(this.maxFeePerGas),ve(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),ve(this.value),this.data,this.accessList,this.v!==void 0?ve(this.v):new Uint8Array(0),this.r!==void 0?ve(this.r):new Uint8Array(0),this.s!==void 0?ve(this.s):new Uint8Array(0)]}serialize(){const e=this.raw();return wr(ki,Ut.encode(e))}getMessageToSign(){const e=this.raw().slice(0,9);return wr(ki,Ut.encode(e))}getHashedMessageToSign(){return Qt(this.getMessageToSign())}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Qt(this.serialize())),this.cache.hash):Qt(this.serialize())}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const a=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(a)}const e=this.getMessageToVerifySignature(),{v:r,r:n,s:i}=this;this._validateHighS();try{return ri(e,r+BigInt(27),ve(n),ve(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,r,n){const i={...this.txOptions,common:this.common};return zr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:je(r),s:je(n)},i)}toJSON(){const e=ar.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Pt(this.chainId),maxPriorityFeePerGas:Pt(this.maxPriorityFeePerGas),maxFeePerGas:Pt(this.maxFeePerGas),accessList:e}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const ji=Er("0x"+dt.AccessListEIP2930.toString(16).padStart(2,"0"));class Gr extends Fr{constructor(e,r={}){super({...e,type:dt.AccessListEIP2930},r);const{chainId:n,accessList:i,gasPrice:a}=e;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const o=ar.getAccessListData(i??[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,ar.verifyAccessList(this.accessList),this.gasPrice=je(Ze(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Fr._validateNotArray(e),this.gasPrice*this.gasLimit>xn){const c=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(c)}this._validateYParity(),this._validateHighS(),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r={}){return new Gr(e,r)}static fromSerializedTx(e,r={}){if(ln(e.subarray(0,1),ji)===!1)throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${dt.AccessListEIP2930}, received: ${Kt(e.subarray(0,1))}`);const n=Ut.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Gr.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,i,a,o,s,c,l,h,g,y,w]=e;this._validateNotArray({chainId:n,v:g}),ti({nonce:i,gasPrice:a,gasLimit:o,value:c,v:g,r:y,s:w});const C=[];return new Gr({chainId:je(n),nonce:i,gasPrice:a,gasLimit:o,to:s,value:c,data:l,accessList:h??C,v:g!==void 0?je(g):void 0,r:y,s:w},r)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(ar.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[ve(this.chainId),ve(this.nonce),ve(this.gasPrice),ve(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),ve(this.value),this.data,this.accessList,this.v!==void 0?ve(this.v):new Uint8Array(0),this.r!==void 0?ve(this.r):new Uint8Array(0),this.s!==void 0?ve(this.s):new Uint8Array(0)]}serialize(){const e=this.raw();return wr(ji,Ut.encode(e))}getMessageToSign(){const e=this.raw().slice(0,8);return wr(ji,Ut.encode(e))}getHashedMessageToSign(){return Qt(this.getMessageToSign())}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Qt(this.serialize())),this.cache.hash):Qt(this.serialize())}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const a=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(a)}const e=this.getMessageToVerifySignature(),{v:r,r:n,s:i}=this;this._validateHighS();try{return ri(e,r+BigInt(27),ve(n),ve(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,r,n){const i={...this.txOptions,common:this.common};return Gr.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:je(r),s:je(n)},i)}toJSON(){const e=ar.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Pt(this.chainId),gasPrice:Pt(this.gasPrice),accessList:e}}errorStr(){var r;let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${((r=this.accessList)==null?void 0:r.length)??0}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const ls=16777216,An=Er("0x"+dt.BlobEIP4844.toString(16).padStart(2,"0")),Gh=(t,e,r,n,i)=>{if(!(t.length===e.length&&e.length===r.length))throw new Error("Number of versionedHashes, blobs, and commitments not all equal");if(t.length===0)throw new Error("Invalid transaction with empty blobs");let a;try{a=Ja.verifyBlobKzgProofBatch(e,r,n)}catch(o){throw new Error(`KZG verification of blobs fail with error=${o}`)}if(!a)throw new Error("KZG proof cannot be verified from blobs/commitments");for(let o=0;o<t.length;o++){const s=uf(r[o],i);if(!ln(s,t[o]))throw new Error(`commitment for blob at index ${o} does not match versionedHash`)}};class mr extends Fr{constructor(e,r={}){var h,g,y;super({...e,type:dt.BlobEIP4844},r);const{chainId:n,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:o,maxFeePerBlobGas:s}=e;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");if(this.common.isActivatedEIP(4844)===!1)throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const c=ar.getAccessListData(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,ar.verifyAccessList(this.accessList),this.maxFeePerGas=je(Ze(a===""?"0x":a)),this.maxPriorityFeePerGas=je(Ze(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Fr._validateNotArray(e),this.gasLimit*this.maxFeePerGas>xn){const w=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(w)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const w=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(w)}this.maxFeePerBlobGas=je(Ze((s??"")===""?"0x":s)),this.versionedHashes=(e.versionedHashes??[]).map(w=>Ze(w)),this._validateYParity(),this._validateHighS();for(const w of this.versionedHashes){if(w.length!==32){const C=this._errorMsg("versioned hash is invalid length");throw new Error(C)}if(BigInt(w[0])!==this.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844)){const C=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(C)}}if(this.versionedHashes.length>ls){const w=this._errorMsg(`tx can contain at most ${ls} blobs`);throw new Error(w)}this.blobs=(h=e.blobs)==null?void 0:h.map(w=>Ze(w)),this.kzgCommitments=(g=e.kzgCommitments)==null?void 0:g.map(w=>Ze(w)),this.kzgProofs=(y=e.kzgProofs)==null?void 0:y.map(w=>Ze(w)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r){if(e.blobsData!==void 0){if(e.blobs!==void 0)throw new Error("cannot have both raw blobs data and encoded blobs in constructor");if(e.kzgCommitments!==void 0)throw new Error("cannot have both raw blobs data and KZG commitments in constructor");if(e.versionedHashes!==void 0)throw new Error("cannot have both raw blobs data and versioned hashes in constructor");if(e.kzgProofs!==void 0)throw new Error("cannot have both raw blobs data and KZG proofs in constructor");e.blobs=Cc(e.blobsData.reduce((n,i)=>n+i)),e.kzgCommitments=Fc(e.blobs),e.versionedHashes=Mc(e.kzgCommitments),e.kzgProofs=Nc(e.blobs,e.kzgCommitments)}return new mr(e,r)}static minimalFromNetworkWrapper(e,r){return mr.fromTxData({...e,blobs:void 0,kzgCommitments:void 0,kzgProofs:void 0},r)}static fromSerializedTx(e,r={}){if(ln(e.subarray(0,1),An)===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${dt.BlobEIP4844}, received: ${Kt(e.subarray(0,1))}`);const n=Ut.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return mr.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==11&&e.length!==14)throw new Error("Invalid EIP-4844 transaction. Only expecting 11 values (for unsigned tx) or 14 values (for signed tx).");const[n,i,a,o,s,c,l,h,g,y,w,C,k,M]=e;return this._validateNotArray({chainId:n,v:C}),ti({nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:o,gasLimit:s,value:l,maxFeePerBlobGas:y,v:C,r:k,s:M}),new mr({chainId:je(n),nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:o,gasLimit:s,to:c,value:l,data:h,accessList:g??[],maxFeePerBlobGas:y,versionedHashes:w,v:C!==void 0?je(C):void 0,r:k,s:M},r)}static fromSerializedBlobTxNetworkWrapper(e,r){if(!r||!r.common)throw new Error("common instance required to validate versioned hashes");if(ln(e.subarray(0,1),An)===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${dt.BlobEIP4844}, received: ${Kt(e.subarray(0,1))}`);const n=Ut.decode(e.subarray(1));if(n.length!==4)throw Error("Expected 4 values in the deserialized network transaction");const[i,a,o,s]=n,c=mr.fromValuesArray(i,{...r,freeze:!1});if(c.to===void 0)throw Error("BlobEIP4844Transaction can not be send without a valid `to`");const l=Number(r.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844));return Gh(c.versionedHashes,a,o,s,l),c.blobs=a,c.kzgCommitments=o,c.kzgProofs=s,((r==null?void 0:r.freeze)??!0)&&Object.freeze(c),c}getUpfrontCost(e=BigInt(0)){const r=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,a=(r<n?r:n)+e;return this.gasLimit*a+this.value}raw(){return[ve(this.chainId),ve(this.nonce),ve(this.maxPriorityFeePerGas),ve(this.maxFeePerGas),ve(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),ve(this.value),this.data,this.accessList,ve(this.maxFeePerBlobGas),this.versionedHashes,this.v!==void 0?ve(this.v):new Uint8Array(0),this.r!==void 0?ve(this.r):new Uint8Array(0),this.s!==void 0?ve(this.s):new Uint8Array(0)]}serialize(){const e=this.raw();return wr(An,Ut.encode(e))}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.kzgProofs===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and KZG proofs provided");const e=this.raw();return wr(An,Ut.encode([e,this.blobs,this.kzgCommitments,this.kzgProofs]))}getMessageToSign(){const e=this.raw().slice(0,11);return wr(An,Ut.encode(e))}getHashedMessageToSign(){return Qt(this.getMessageToSign())}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Qt(this.serialize())),this.cache.hash):Qt(this.serialize())}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const a=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(a)}const e=this.getMessageToVerifySignature(),{v:r,r:n,s:i}=this;this._validateHighS();try{return ri(e,r+BigInt(27),ve(n),ve(i))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}toJSON(){const e=ar.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Pt(this.chainId),maxPriorityFeePerGas:Pt(this.maxPriorityFeePerGas),maxFeePerGas:Pt(this.maxFeePerGas),accessList:e,maxFeePerBlobGas:Pt(this.maxFeePerBlobGas),versionedHashes:this.versionedHashes.map(n=>Kt(n))}}_processSignature(e,r,n){const i={...this.txOptions,common:this.common};return mr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:je(r),s:je(n),maxFeePerBlobGas:this.maxFeePerBlobGas,versionedHashes:this.versionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProofs:this.kzgProofs},i)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}numBlobs(){return this.versionedHashes.length}}function hs(t,e){const r=Number(t),n=Number(e)*2;return r===n+35||r===n+36}class Br extends Fr{constructor(e,r={}){if(super({...e,type:dt.Legacy},r),this.common=this._validateTxV(this.v,r.common),this.gasPrice=je(Ze(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>xn){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Fr._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?hs(this.v,this.common.chainId())&&this.activeCapabilities.push(dr.EIP155ReplayProtection):this.activeCapabilities.push(dr.EIP155ReplayProtection)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r={}){return new Br(e,r)}static fromSerializedTx(e,r={}){const n=Ut.decode(e);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,i,a,o,s,c,l,h,g]=e;return ti({nonce:n,gasPrice:i,gasLimit:a,value:s,v:l,r:h,s:g}),new Br({nonce:n,gasPrice:i,gasLimit:a,to:o,value:s,data:c,v:l,r:h,s:g},r)}raw(){return[ve(this.nonce),ve(this.gasPrice),ve(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),ve(this.value),this.data,this.v!==void 0?ve(this.v):new Uint8Array(0),this.r!==void 0?ve(this.r):new Uint8Array(0),this.s!==void 0?ve(this.s):new Uint8Array(0)]}serialize(){return Ut.encode(this.raw())}getMessageToSign(){const e=[ve(this.nonce),ve(this.gasPrice),ve(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),ve(this.value),this.data];return this.supports(dr.EIP155ReplayProtection)&&(e.push(ve(this.common.chainId())),e.push(pa(Ze(0))),e.push(pa(Ze(0)))),e}getHashedMessageToSign(){const e=this.getMessageToSign();return Qt(Ut.encode(e))}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Qt(Ut.encode(this.raw()))),this.cache.hash):Qt(Ut.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}return this.getHashedMessageToSign()}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:r,r:n,s:i}=this;this._validateHighS();try{return ri(e,r,ve(n),ve(i),this.supports(dr.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(e,r,n){this.supports(dr.EIP155ReplayProtection)&&(e+=this.common.chainId()*BigInt(2)+BigInt(8));const i={...this.txOptions,common:this.common};return Br.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:je(r),s:je(n)},i)}toJSON(){return{...super.toJSON(),gasPrice:Pt(this.gasPrice)}}_validateTxV(e,r){let n;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!r||r.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(r){if(!hs(BigInt(i),r.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${r.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let a;(i-35)%2===0?a=35:a=36,n=BigInt(i-a)/BigInt(2)}return this._getCommon(r,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Vh=t=>{const e=Object.assign({},t);return e.gasLimit=sn(e.gasLimit??e.gas,fn.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?ya(Ze(e.to),20):null,e.v=e.v==="0x0"?"0x":e.v,e.r=e.r==="0x0"?"0x":e.r,e.s=e.s==="0x0"?"0x":e.s,(e.v!=="0x"||e.r!=="0x"||e.s!=="0x")&&(e.v=sn(e.v,fn.BigInt)),e};class Xn{constructor(){}static fromTxData(e,r={}){if(!("type"in e)||e.type===void 0)return Br.fromTxData(e,r);if(kh(e))return Br.fromTxData(e,r);if(jh(e))return Gr.fromTxData(e,r);if(Hh(e))return zr.fromTxData(e,r);if($h(e))return mr.fromTxData(e,r);throw new Error(`Tx instantiation with type ${e==null?void 0:e.type} not supported`)}static fromSerializedData(e,r={}){if(e[0]<=127)switch(e[0]){case dt.AccessListEIP2930:return Gr.fromSerializedTx(e,r);case dt.FeeMarketEIP1559:return zr.fromSerializedTx(e,r);case dt.BlobEIP4844:return mr.fromSerializedTx(e,r);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return Br.fromSerializedTx(e,r)}static fromBlockBodyData(e,r={}){if(e instanceof Uint8Array)return this.fromSerializedData(e,r);if(Array.isArray(e))return Br.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")}static async fromJsonRpcProvider(e,r,n){const i=Rc(e),a=await Lc(i,{method:"eth_getTransactionByHash",params:[r]});if(a===null)throw new Error("No data returned from provider");return Xn.fromRPC(a,n)}static async fromRPC(e,r={}){return Xn.fromTxData(Vh(e),r)}}var Lt={},Or={},bi={},gi={},yi={};const Kh=Nn(yc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=void 0;var e=Kh;Object.defineProperty(t,"secp256k1",{enumerable:!0,get:function(){return e.secp256k1}})})(yi);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const e=cf,r=yi;t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=r.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=e.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16})(gi);var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.GWEI_TO_WEI=void 0;pi.GWEI_TO_WEI=BigInt(1e9);var lo={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.RLP=lr.utils=lr.decode=lr.encode=void 0;function ho(t){if(Array.isArray(t)){const r=[];let n=0;for(let i=0;i<t.length;i++){const a=ho(t[i]);r.push(a),n+=a.length}return za(bs(n,192),...r)}const e=qf(t);return e.length===1&&e[0]<128?e:za(bs(e.length,128),e)}lr.encode=ho;function nn(t,e,r){if(r>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,r)}function xs(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return Gf(zf(t))}function bs(t,e){if(t<56)return Uint8Array.from([t+e]);const r=Ga(t),n=r.length/2,i=Ga(e+55+n);return Uint8Array.from(Qn(i+r))}function $f(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const r=qf(t),n=$a(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}lr.decode=$f;function $a(t){let e,r,n,i,a;const o=[],s=t[0];if(s<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(s<=183){if(e=s-127,s===128?n=Uint8Array.from([]):n=nn(t,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:t.slice(e)}}else if(s<=191){if(r=s-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=xs(nn(t,1,r)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=nn(t,r,e+r),{data:n,remainder:t.slice(e+r)}}else if(s<=247){for(e=s-191,i=nn(t,1,e);i.length;)a=$a(i),o.push(a.data),i=a.remainder;return{data:o,remainder:t.slice(e)}}else{if(r=s-246,e=xs(nn(t,1,r)),e<56)throw new Error("invalid RLP: encoded list too short");const c=r+e;if(c>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=nn(t,r,c);i.length;)a=$a(i),o.push(a.data),i=a.remainder;return{data:o,remainder:t.slice(c)}}}const qh=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zf(t){let e="";for(let r=0;r<t.length;r++)e+=qh[t[r]];return e}function Gf(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function Qn(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2;e[r]=Gf(t.slice(n,n+2))}return e}function za(...t){if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}function Vf(t){return new TextEncoder().encode(t)}function Ga(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function Wh(t){return t.length%2?`0${t}`:t}function Kf(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function Zh(t){return typeof t!="string"?t:Kf(t)?t.slice(2):t}function qf(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return Kf(t)?Qn(Wh(Zh(t))):Vf(t);if(typeof t=="number"||typeof t=="bigint")return t?Qn(Ga(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}lr.utils={bytesToHex:zf,concatBytes:za,hexToBytes:Qn,utf8ToBytes:Vf};lr.RLP={encode:ho,decode:$f};var Jt={};const Yh=Nn(pc);var ei={exports:{}};const Jh=Nn(mc),gs=Nn(vc);ei.exports;(function(t,e){var r=Ge&&Ge.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const n=r(Jh),i=gs,a=n.default.bool;e.assertBool=a;const o=n.default.bytes;e.assertBytes=o;var s=gs;Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return s.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return s.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return s.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return s.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return s.utf8ToBytes}});function c(y){if(!(y instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof y}`);return new TextDecoder().decode(y)}e.bytesToUtf8=c;function l(y){const w=y.startsWith("0x")?y.substring(2):y;return(0,i.hexToBytes)(w)}e.hexToBytes=l;function h(y,w){if(y.length!==w.length)return!1;for(let C=0;C<y.length;C++)if(y[C]!==w[C])return!1;return!0}e.equalsBytes=h;function g(y){return w=>(n.default.bytes(w),y(w))}e.wrapHash=g,e.crypto=(()=>{const y=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,w=typeof ma=="function"&&ma.bind(t);return{node:w&&!y?w("crypto"):void 0,web:y}})()})(ei,ei.exports);var Wf=ei.exports;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.keccak512=Jt.keccak384=Jt.keccak256=Jt.keccak224=void 0;const Cn=Yh,mi=Wf;Jt.keccak224=(0,mi.wrapHash)(Cn.keccak_224);Jt.keccak256=(()=>{const t=(0,mi.wrapHash)(Cn.keccak_256);return t.create=Cn.keccak_256.create,t})();Jt.keccak384=(0,mi.wrapHash)(Cn.keccak_384);Jt.keccak512=(0,mi.wrapHash)(Cn.keccak_512);var Xr={},Xt={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.isHexString=Qe.getKeys=Qe.fromAscii=Qe.fromUtf8=Qe.toAscii=Qe.arrayContainsArray=Qe.getBinarySize=Qe.padToEven=Qe.stripHexPrefix=Qe.isHexPrefixed=void 0;function Zf(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}Qe.isHexPrefixed=Zf;const Xh=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Zf(t)?t.slice(2):t};Qe.stripHexPrefix=Xh;function Yf(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}Qe.padToEven=Yf;function Qh(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof t}`);return Buffer.byteLength(t,"utf8")}Qe.getBinarySize=Qh;function ex(t,e,r){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[r===!0?"some":"every"](n=>t.indexOf(n)>=0)}Qe.arrayContainsArray=ex;function tx(t){let e="",r=0;const n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}Qe.toAscii=tx;function rx(t){const e=Buffer.from(t,"utf8");return`0x${Yf(e.toString("hex")).replace(/^0+|0+$/g,"")}`}Qe.fromUtf8=rx;function nx(t){let e="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r).toString(16);e+=i.length<2?`0${i}`:i}return`0x${e}`}Qe.fromAscii=nx;function ix(t,e,r){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);const n=[];for(let i=0;i<t.length;i++){let a=t[i][e];if(r===!0&&!a)a="";else if(typeof a!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof a}`);n.push(a)}return n}Qe.getKeys=ix;function ax(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}Qe.isHexString=ax;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.assertIsString=Xt.assertIsArray=Xt.assertIsBuffer=Xt.assertIsHexString=void 0;const ox=Qe,sx=function(t){if(!(0,ox.isHexString)(t)){const e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}};Xt.assertIsHexString=sx;const fx=function(t){if(!Buffer.isBuffer(t)){const e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};Xt.assertIsBuffer=fx;const cx=function(t){if(!Array.isArray(t)){const e=`This method only supports number arrays but input was: ${t}`;throw new Error(e)}};Xt.assertIsArray=cx;const ux=function(t){if(typeof t!="string"){const e=`This method only supports strings but input was: ${t}`;throw new Error(e)}};Xt.assertIsString=ux;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const e=Xt,r=Qe,n=function(p){if(!Number.isSafeInteger(p)||p<0)throw new Error(`Received an invalid integer type: ${p}`);return`0x${p.toString(16)}`};t.intToHex=n;const i=function(p){const D=(0,t.intToHex)(p);return Buffer.from((0,r.padToEven)(D.slice(2)),"hex")};t.intToBuffer=i;const a=function(p){return Buffer.allocUnsafe(p).fill(0)};t.zeros=a;const o=function(p,D,$){const G=(0,t.zeros)(D);return $?p.length<D?(p.copy(G),G):p.slice(0,D):p.length<D?(p.copy(G,D-p.length),G):p.slice(-D)},s=function(p,D){return(0,e.assertIsBuffer)(p),o(p,D,!1)};t.setLengthLeft=s;const c=function(p,D){return(0,e.assertIsBuffer)(p),o(p,D,!0)};t.setLengthRight=c;const l=function(p){let D=p[0];for(;p.length>0&&D.toString()==="0";)p=p.slice(1),D=p[0];return p},h=function(p){return(0,e.assertIsBuffer)(p),l(p)};t.unpadBuffer=h;const g=function(p){return(0,e.assertIsArray)(p),l(p)};t.unpadArray=g;const y=function(p){return(0,e.assertIsHexString)(p),p=(0,r.stripHexPrefix)(p),"0x"+l(p)};t.unpadHexString=y;const w=function(p){if(p==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(p)||Array.isArray(p)||p instanceof Uint8Array)return Buffer.from(p);if(typeof p=="string"){if(!(0,r.isHexString)(p))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${p}`);return Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(p)),"hex")}if(typeof p=="number")return(0,t.intToBuffer)(p);if(typeof p=="bigint"){if(p<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${p}`);let D=p.toString(16);return D.length%2&&(D="0"+D),Buffer.from(D,"hex")}if(p.toArray)return Buffer.from(p.toArray());if(p.toBuffer)return Buffer.from(p.toBuffer());throw new Error("invalid type")};t.toBuffer=w;const C=function(p){return p=(0,t.toBuffer)(p),"0x"+p.toString("hex")};t.bufferToHex=C;function k(p){const D=(0,t.bufferToHex)(p);return BigInt(D==="0x"?0:D)}t.bufferToBigInt=k;function M(p){return(0,t.toBuffer)("0x"+p.toString(16))}t.bigIntToBuffer=M;const z=function(p){const D=Number(k(p));if(!Number.isSafeInteger(D))throw new Error("Number exceeds 53 bits");return D};t.bufferToInt=z;const I=function(p){return BigInt.asIntN(256,k(p))};t.fromSigned=I;const B=function(p){return M(BigInt.asUintN(256,p))};t.toUnsigned=B;const v=function(p){return typeof p!="string"||(0,r.isHexPrefixed)(p)?p:"0x"+p};t.addHexPrefix=v;function S(p,D=50){const $=Buffer.isBuffer(p)?p.toString("hex"):p;return $.length<=D?$:$.slice(0,D)+"â€¦"}t.short=S;const T=function(p){const D=/^(00)+|(00)+$/g;if(p=(0,r.stripHexPrefix)(p),p.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(p.replace(D,""),"hex").toString("utf8")};t.toUtf8=T;const u=function(p){if(Buffer.isBuffer(p))return`0x${p.toString("hex")}`;if(p instanceof Array){const D=[];for(let $=0;$<p.length;$++)D.push((0,t.baToJSON)(p[$]));return D}};t.baToJSON=u;const E=function(p){for(const[D,$]of Object.entries(p))if($!==void 0&&$.length>0&&$[0]===0)throw new Error(`${D} cannot have leading zeroes, received: ${$.toString("hex")}`)};t.validateNoLeadingZeroes=E;function L(p){return Array.isArray(p)?p.map(D=>L(D)):Buffer.from(p)}t.arrToBufArr=L;function V(p){return Array.isArray(p)?p.map(D=>V(D)):Uint8Array.from(p??[])}t.bufArrToArr=V;const X=p=>"0x"+p.toString(16);t.bigIntToHex=X;function A(p){return(0,t.unpadBuffer)(M(p))}t.bigIntToUnpaddedBuffer=A;function P(p){return(0,t.unpadBuffer)((0,t.intToBuffer)(p))}t.intToUnpaddedBuffer=P})(Xr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const e=lr,r=Jt,n=yi,i=Wf,a=Xr,o=gi,s=Xt,c=Qe,l=BigInt(0);class h{constructor(P=l,p=l,D=o.KECCAK256_RLP,$=o.KECCAK256_NULL){this.nonce=P,this.balance=p,this.storageRoot=D,this.codeHash=$,this._validate()}static fromAccountData(P){const{nonce:p,balance:D,storageRoot:$,codeHash:G}=P;return new h(p!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(p)):void 0,D!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(D)):void 0,$!==void 0?(0,a.toBuffer)($):void 0,G!==void 0?(0,a.toBuffer)(G):void 0)}static fromRlpSerializedAccount(P){const p=(0,a.arrToBufArr)(e.RLP.decode(Uint8Array.from(P)));if(!Array.isArray(p))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(p)}static fromValuesArray(P){const[p,D,$,G]=P;return new h((0,a.bufferToBigInt)(p),(0,a.bufferToBigInt)(D),$,G)}_validate(){if(this.nonce<l)throw new Error("nonce must be greater than zero");if(this.balance<l)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(e.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===l&&this.nonce===l&&this.codeHash.equals(o.KECCAK256_NULL)}}t.Account=h;const g=function(A){try{(0,s.assertIsString)(A)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(A)};t.isValidAddress=g;const y=function(A,P){(0,s.assertIsHexString)(A);const p=(0,c.stripHexPrefix)(A).toLowerCase();let D="";P!==void 0&&(D=(0,a.bufferToBigInt)((0,a.toBuffer)(P)).toString()+"0x");const $=Buffer.from(D+p,"utf8"),G=(0,i.bytesToHex)((0,r.keccak256)($));let Q="0x";for(let ne=0;ne<p.length;ne++)parseInt(G[ne],16)>=8?Q+=p[ne].toUpperCase():Q+=p[ne];return Q};t.toChecksumAddress=y;const w=function(A,P){return(0,t.isValidAddress)(A)&&(0,t.toChecksumAddress)(A,P)===A};t.isValidChecksumAddress=w;const C=function(A,P){return(0,s.assertIsBuffer)(A),(0,s.assertIsBuffer)(P),(0,a.bufferToBigInt)(P)===BigInt(0)?Buffer.from((0,r.keccak256)(e.RLP.encode((0,a.bufArrToArr)([A,null])))).slice(-20):Buffer.from((0,r.keccak256)(e.RLP.encode((0,a.bufArrToArr)([A,P])))).slice(-20)};t.generateAddress=C;const k=function(A,P,p){if((0,s.assertIsBuffer)(A),(0,s.assertIsBuffer)(P),(0,s.assertIsBuffer)(p),A.length!==20)throw new Error("Expected from to be of length 20");if(P.length!==32)throw new Error("Expected salt to be of length 32");const D=(0,r.keccak256)(Buffer.concat([Buffer.from("ff","hex"),A,P,(0,r.keccak256)(p)]));return(0,a.toBuffer)(D).slice(-20)};t.generateAddress2=k;const M=function(A){return n.secp256k1.utils.isValidPrivateKey(A)};t.isValidPrivate=M;const z=function(A,P=!1){if((0,s.assertIsBuffer)(A),A.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),A])),!0}catch{return!1}if(!P)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(A),!0}catch{return!1}};t.isValidPublic=z;const I=function(A,P=!1){if((0,s.assertIsBuffer)(A),P&&A.length!==64&&(A=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(A).toRawBytes(!1).slice(1))),A.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,r.keccak256)(A)).slice(-20)};t.pubToAddress=I,t.publicToAddress=t.pubToAddress;const B=function(A){return(0,s.assertIsBuffer)(A),Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(A).toRawBytes(!1).slice(1))};t.privateToPublic=B;const v=function(A){return(0,t.publicToAddress)((0,t.privateToPublic)(A))};t.privateToAddress=v;const S=function(A){return(0,s.assertIsBuffer)(A),A.length!==64&&(A=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(A).toRawBytes(!1).slice(1))),A};t.importPublic=S;const T=function(){const P=(0,a.zeros)(20);return(0,a.bufferToHex)(P)};t.zeroAddress=T;const u=function(A){try{(0,s.assertIsString)(A)}catch{return!1}return(0,t.zeroAddress)()===A};t.isZeroAddress=u;function E(A){const[P,p,D,$]=A;return[P,p,(0,a.arrToBufArr)(D).length===0?o.KECCAK256_RLP:D,(0,a.arrToBufArr)($).length===0?o.KECCAK256_NULL:$]}t.accountBodyFromSlim=E;const L=new Uint8Array(0);function V(A){const[P,p,D,$]=A;return[P,p,(0,a.arrToBufArr)(D).equals(o.KECCAK256_RLP)?L:D,(0,a.arrToBufArr)($).equals(o.KECCAK256_NULL)?L:$]}t.accountBodyToSlim=V;function X(A,P=!0){const p=P?E(A):A;return(0,a.arrToBufArr)(e.RLP.encode(p))}t.accountBodyToRLP=X})(lo);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.Address=void 0;const Pn=lo,zn=Xr;class pr{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new pr((0,zn.zeros)(20))}static fromString(e){if(!(0,Pn.isValidAddress)(e))throw new Error("Invalid address");return new pr((0,zn.toBuffer)(e))}static fromPublicKey(e){if(!Buffer.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,Pn.pubToAddress)(e);return new pr(r)}static fromPrivateKey(e){if(!Buffer.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,Pn.privateToAddress)(e);return new pr(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new pr((0,Pn.generateAddress)(e.buf,(0,zn.bigIntToBuffer)(r)))}static generate2(e,r,n){if(!Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new pr((0,Pn.generateAddress2)(e.buf,r,n))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(pr.zero())}isPrecompileOrSystemAddress(){const e=(0,zn.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return e>=r&&e<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}kn.Address=pr;var vi={},xo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const e=Xr,r=Qe;var n;(function(a){a[a.Number=0]="Number",a[a.BigInt=1]="BigInt",a[a.Buffer=2]="Buffer",a[a.PrefixedHexString=3]="PrefixedHexString"})(n=t.TypeOutput||(t.TypeOutput={}));function i(a,o){if(a===null)return null;if(a===void 0)return;if(typeof a=="string"&&!(0,r.isHexString)(a))throw new Error(`A string must be provided with a 0x-prefix, given: ${a}`);if(typeof a=="number"&&!Number.isSafeInteger(a))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const s=(0,e.toBuffer)(a);switch(o){case n.Buffer:return s;case n.BigInt:return(0,e.bufferToBigInt)(s);case n.Number:{const c=(0,e.bufferToBigInt)(s);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case n.PrefixedHexString:return(0,e.bufferToHex)(s);default:throw new Error("unknown outputType")}}t.toType=i})(xo);Object.defineProperty(vi,"__esModule",{value:!0});vi.Withdrawal=void 0;const ys=kn,Hi=Xr,ot=xo;class In{constructor(e,r,n,i){this.index=e,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(e){const{index:r,validatorIndex:n,address:i,amount:a}=e,o=(0,ot.toType)(r,ot.TypeOutput.BigInt),s=(0,ot.toType)(n,ot.TypeOutput.BigInt),c=new ys.Address((0,ot.toType)(i,ot.TypeOutput.Buffer)),l=(0,ot.toType)(a,ot.TypeOutput.BigInt);return new In(o,s,c,l)}static fromValuesArray(e){if(e.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[r,n,i,a]=e;return In.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:a})}static toBufferArray(e){const{index:r,validatorIndex:n,address:i,amount:a}=e,o=(0,ot.toType)(r,ot.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,ot.toType)(r,ot.TypeOutput.Buffer),s=(0,ot.toType)(n,ot.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,ot.toType)(n,ot.TypeOutput.Buffer);let c;i instanceof ys.Address?c=i.buf:c=(0,ot.toType)(i,ot.TypeOutput.Buffer);const l=(0,ot.toType)(a,ot.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,ot.toType)(a,ot.TypeOutput.Buffer);return[o,s,c,l]}raw(){return In.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,Hi.bigIntToHex)(this.index),validatorIndex:(0,Hi.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,Hi.bigIntToHex)(this.amount)}}}vi.Withdrawal=In;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.hashPersonalMessage=Rt.isValidSignature=Rt.fromRpcSig=Rt.toCompactSig=Rt.toRpcSig=Rt.ecrecover=Rt.ecsign=void 0;const dx=Jt,Jf=yi,Ht=Xr,$i=gi,lx=Xt;function hx(t,e,r){const n=Jf.secp256k1.sign(t,e),i=n.toCompactRawBytes(),a=Buffer.from(i.slice(0,32)),o=Buffer.from(i.slice(32,64)),s=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:o,v:s}}Rt.ecsign=hx;function Ei(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function wi(t){return t===BigInt(0)||t===BigInt(1)}const xx=function(t,e,r,n,i){const a=Buffer.concat([(0,Ht.setLengthLeft)(r,32),(0,Ht.setLengthLeft)(n,32)],64),o=Ei(e,i);if(!wi(o))throw new Error("Invalid signature v value");const c=Jf.secp256k1.Signature.fromCompact(a).addRecoveryBit(Number(o)).recoverPublicKey(t);return Buffer.from(c.toRawBytes(!1).slice(1))};Rt.ecrecover=xx;const bx=function(t,e,r,n){const i=Ei(t,n);if(!wi(i))throw new Error("Invalid signature v value");return(0,Ht.bufferToHex)(Buffer.concat([(0,Ht.setLengthLeft)(e,32),(0,Ht.setLengthLeft)(r,32),(0,Ht.toBuffer)(t)]))};Rt.toRpcSig=bx;const gx=function(t,e,r,n){const i=Ei(t,n);if(!wi(i))throw new Error("Invalid signature v value");let a=r;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(a=Buffer.from(r),a[0]|=128),(0,Ht.bufferToHex)(Buffer.concat([(0,Ht.setLengthLeft)(e,32),(0,Ht.setLengthLeft)(a,32)]))};Rt.toCompactSig=gx;const yx=function(t){const e=(0,Ht.toBuffer)(t);let r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,Ht.bufferToBigInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),i=BigInt((0,Ht.bufferToInt)(e.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};Rt.fromRpcSig=yx;const px=function(t,e,r,n=!0,i){if(e.length!==32||r.length!==32||!wi(Ei(t,i)))return!1;const a=(0,Ht.bufferToBigInt)(e),o=(0,Ht.bufferToBigInt)(r);return!(a===BigInt(0)||a>=$i.SECP256K1_ORDER||o===BigInt(0)||o>=$i.SECP256K1_ORDER||n&&o>=$i.SECP256K1_ORDER_DIV_2)};Rt.isValidSignature=px;const mx=function(t){(0,lx.assertIsBuffer)(t);const e=Buffer.from(`Ethereum Signed Message:
${t.length}`,"utf-8");return Buffer.from((0,dx.keccak256)(Buffer.concat([e,t])))};Rt.hashPersonalMessage=mx;var Xf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0;const e=o=>o.length>0&&o[o.length-1]===16;t.hasTerminator=e;const r=(o,s)=>{for(let c=0,l=0;l<o.length;c+=1,l+=2)s[c]=o[l]<<4|o[l+1]};t.nibblesToBytes=r;const n=o=>{let s=0;(0,t.hasTerminator)(o)&&(s=1,o=o.subarray(0,o.length-1));const c=new Uint8Array(o.length/2+1);return c[0]=s<<5,(o.length&1)===1&&(c[0]|=16,c[0]|=o[0],o=o.subarray(1)),(0,t.nibblesToBytes)(o,c.subarray(1)),c};t.nibblesToCompactBytes=n;const i=o=>{const s=o.length*2+1,c=new Uint8Array(s);for(let l=0;l<o.length;l++){const h=o[l];c[l*2]=h/16,c[l*2+1]=h%16}return c[s-1]=16,c};t.bytesToNibbles=i;const a=o=>{if(o.length===0)return o;let s=(0,t.bytesToNibbles)(o);s[0]<2&&(s=s.subarray(0,s.length-1));const c=2-(s[0]&1);return s.subarray(c)};t.compactBytesToNibbles=a})(Xf);var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.AsyncEventEmitter=void 0;const vx=ga;async function Ex(t,e,r){let n;for await(const i of e)try{i.length<2?i.call(t,r):await new Promise((a,o)=>{i.call(t,r,s=>{s?o(s):a()})})}catch(a){n=a}if(n)throw n}class wx extends vx.EventEmitter{emit(e,...r){let[n,i]=r;const a=this;let o=a._events[e]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(e==="newListener"||e==="removeListener")&&(n={event:n,fn:i},i=void 0),o=Array.isArray(o)?o:[o],Ex(a,o.slice(),n).then(i).catch(i),a.listenerCount(e)>0}once(e,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(a,o){n.removeListener(e,i),r(a,o)}:i=function(a){n.removeListener(e,i),r(a,i)},n.on(e,i),n}first(e,r){let n=this._events[e]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(r),this}before(e,r,n){return this.beforeOrAfter(e,r,n)}after(e,r,n){return this.beforeOrAfter(e,r,n,"after")}beforeOrAfter(e,r,n,i){let a=this._events[e]??[],o,s;const c=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[e]=a=[a]),s=a.length,o=a.length;o--;)if(a[o]===r){s=o+c;break}return a.splice(s,0,n),this}on(e,r){return super.on(e,r)}addListener(e,r){return super.addListener(e,r)}prependListener(e,r){return super.prependListener(e,r)}prependOnceListener(e,r){return super.prependOnceListener(e,r)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,r){return super.removeListener(e,r)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}_i.AsyncEventEmitter=wx;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.Lock=void 0;class _x{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}Si.Lock=_x;var gn={},Zr={},zi={},Gi={},Vi,ps;function Qf(){return ps||(ps=1,Vi=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),Vi}var Ki,ms;function bo(){if(ms)return Ki;ms=1;var t=Qf();return Ki=function(){return t()&&!!Symbol.toStringTag},Ki}var qi,vs;function Sx(){if(vs)return qi;vs=1;var t=typeof Symbol<"u"&&Symbol,e=Qf();return qi=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},qi}var Wi,Es;function Ax(){if(Es)return Wi;Es=1;var t={foo:{}},e=Object;return Wi=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},Wi}var Zi,ws;function Px(){if(ws)return Zi;ws=1;var t="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";return Zi=function(a){var o=this;if(typeof o!="function"||r.call(o)!==n)throw new TypeError(t+o);for(var s=e.call(arguments,1),c,l=function(){if(this instanceof c){var C=o.apply(this,s.concat(e.call(arguments)));return Object(C)===C?C:this}else return o.apply(a,s.concat(e.call(arguments)))},h=Math.max(0,o.length-s.length),g=[],y=0;y<h;y++)g.push("$"+y);if(c=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var w=function(){};w.prototype=o.prototype,c.prototype=new w,w.prototype=null}return c},Zi}var Yi,_s;function e0(){if(_s)return Yi;_s=1;var t=Px();return Yi=Function.prototype.bind||t,Yi}var Ji,Ss;function Tx(){if(Ss)return Ji;Ss=1;var t={}.hasOwnProperty,e=Function.prototype.call;return Ji=e.bind?e.bind(t):function(r,n){return e.call(t,r,n)},Ji}var Xi,As;function go(){if(As)return Xi;As=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(A){try{return r('"use strict"; return ('+A+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var o=function(){throw new n},s=a?function(){try{return arguments.callee,o}catch{try{return a(arguments,"callee").get}catch{return o}}}():o,c=Sx()(),l=Ax()(),h=Object.getPrototypeOf||(l?function(A){return A.__proto__}:null),g={},y=typeof Uint8Array>"u"||!h?t:h(Uint8Array),w={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":c&&h?h([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&h?h(h([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c||!h?t:h(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c||!h?t:h(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&h?h(""[Symbol.iterator]()):t,"%Symbol%":c?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":s,"%TypedArray%":y,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(h)try{null.error}catch(A){var C=h(h(A));w["%Error.prototype%"]=C}var k=function A(P){var p;if(P==="%AsyncFunction%")p=i("async function () {}");else if(P==="%GeneratorFunction%")p=i("function* () {}");else if(P==="%AsyncGeneratorFunction%")p=i("async function* () {}");else if(P==="%AsyncGenerator%"){var D=A("%AsyncGeneratorFunction%");D&&(p=D.prototype)}else if(P==="%AsyncIteratorPrototype%"){var $=A("%AsyncGenerator%");$&&h&&(p=h($.prototype))}return w[P]=p,p},M={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=e0(),I=Tx(),B=z.call(Function.call,Array.prototype.concat),v=z.call(Function.apply,Array.prototype.splice),S=z.call(Function.call,String.prototype.replace),T=z.call(Function.call,String.prototype.slice),u=z.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,V=function(P){var p=T(P,0,1),D=T(P,-1);if(p==="%"&&D!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(D==="%"&&p!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var $=[];return S(P,E,function(G,Q,ne,Ae){$[$.length]=ne?S(Ae,L,"$1"):Q||G}),$},X=function(P,p){var D=P,$;if(I(M,D)&&($=M[D],D="%"+$[0]+"%"),I(w,D)){var G=w[D];if(G===g&&(G=k(D)),typeof G>"u"&&!p)throw new n("intrinsic "+P+" exists, but is not available. Please file an issue!");return{alias:$,name:D,value:G}}throw new e("intrinsic "+P+" does not exist!")};return Xi=function(P,p){if(typeof P!="string"||P.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof p!="boolean")throw new n('"allowMissing" argument must be a boolean');if(u(/^%?[^%]*%?$/,P)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=V(P),$=D.length>0?D[0]:"",G=X("%"+$+"%",p),Q=G.name,ne=G.value,Ae=!1,Le=G.alias;Le&&($=Le[0],v(D,B([0,1],Le)));for(var F=1,O=!0;F<D.length;F+=1){var U=D[F],K=T(U,0,1),re=T(U,-1);if((K==='"'||K==="'"||K==="`"||re==='"'||re==="'"||re==="`")&&K!==re)throw new e("property names with quotes must have matching quotes");if((U==="constructor"||!O)&&(Ae=!0),$+="."+U,Q="%"+$+"%",I(w,Q))ne=w[Q];else if(ne!=null){if(!(U in ne)){if(!p)throw new n("base intrinsic for "+P+" exists, but the property is not available.");return}if(a&&F+1>=D.length){var fe=a(ne,U);O=!!fe,O&&"get"in fe&&!("originalValue"in fe.get)?ne=fe.get:ne=ne[U]}else O=I(ne,U),ne=ne[U];O&&!Ae&&(w[Q]=ne)}}return ne},Xi}var Qi={exports:{}},Ps;function t0(){return Ps||(Ps=1,function(t){var e=e0(),r=go(),n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}t.exports=function(g){var y=a(e,i,arguments);if(o&&s){var w=o(y,"length");w.configurable&&s(y,"length",{value:1+c(0,g.length-(arguments.length-1))})}return y};var l=function(){return a(e,n,arguments)};s?s(t.exports,"apply",{value:l}):t.exports.apply=l}(Qi)),Qi.exports}var ea,Ts;function r0(){if(Ts)return ea;Ts=1;var t=go(),e=t0(),r=e(t("String.prototype.indexOf"));return ea=function(i,a){var o=t(i,!!a);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},ea}var ta,Ds;function Dx(){if(Ds)return ta;Ds=1;var t=bo()(),e=r0(),r=e("Object.prototype.toString"),n=function(s){return t&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},i=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&r(s.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,ta=a?n:i,ta}var ra,Is;function Ix(){if(Is)return ra;Is=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=bo()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return ra=function(c){if(typeof c!="function")return!1;if(r.test(e.call(c)))return!0;if(!n){var l=t.call(c);return l==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var h=a();o=h?i(h):!1}return i(c)===o},ra}var na,Bs;function Bx(){if(Bs)return na;Bs=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(I){I!==n&&(e=null)}else e=null;var i=/^\s*class\b/,a=function(B){try{var v=t.call(B);return i.test(v)}catch{return!1}},o=function(B){try{return a(B)?!1:(t.call(B),!0)}catch{return!1}},s=Object.prototype.toString,c="[object Object]",l="[object Function]",h="[object GeneratorFunction]",g="[object HTMLAllCollection]",y="[object HTML document.all class]",w="[object HTMLCollection]",C=typeof Symbol=="function"&&!!Symbol.toStringTag,k=!(0 in[,]),M=function(){return!1};if(typeof document=="object"){var z=document.all;s.call(z)===s.call(document.all)&&(M=function(B){if((k||!B)&&(typeof B>"u"||typeof B=="object"))try{var v=s.call(B);return(v===g||v===y||v===w||v===c)&&B("")==null}catch{}return!1})}return na=e?function(B){if(M(B))return!0;if(!B||typeof B!="function"&&typeof B!="object")return!1;try{e(B,null,r)}catch(v){if(v!==n)return!1}return!a(B)&&o(B)}:function(B){if(M(B))return!0;if(!B||typeof B!="function"&&typeof B!="object")return!1;if(C)return o(B);if(a(B))return!1;var v=s.call(B);return v!==l&&v!==h&&!/^\[object HTML/.test(v)?!1:o(B)},na}var ia,Os;function Ox(){if(Os)return ia;Os=1;var t=Bx(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,l,h){for(var g=0,y=c.length;g<y;g++)r.call(c,g)&&(h==null?l(c[g],g,c):l.call(h,c[g],g,c))},i=function(c,l,h){for(var g=0,y=c.length;g<y;g++)h==null?l(c.charAt(g),g,c):l.call(h,c.charAt(g),g,c)},a=function(c,l,h){for(var g in c)r.call(c,g)&&(h==null?l(c[g],g,c):l.call(h,c[g],g,c))},o=function(c,l,h){if(!t(l))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=h),e.call(c)==="[object Array]"?n(c,l,g):typeof c=="string"?i(c,l,g):a(c,l,g)};return ia=o,ia}var aa,Cs;function Cx(){if(Cs)return aa;Cs=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=globalThis;return aa=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},aa}var oa,Fs;function Fx(){if(Fs)return oa;Fs=1;var t=go(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return oa=e,oa}var sa,Ns;function n0(){if(Ns)return sa;Ns=1;var t=Ox(),e=Cx(),r=t0(),n=r0(),i=Fx(),a=n("Object.prototype.toString"),o=bo()(),s=globalThis,c=e(),l=n("String.prototype.slice"),h=Object.getPrototypeOf,g=n("Array.prototype.indexOf",!0)||function(M,z){for(var I=0;I<M.length;I+=1)if(M[I]===z)return I;return-1},y={__proto__:null};o&&i&&h?t(c,function(k){var M=new s[k];if(Symbol.toStringTag in M){var z=h(M),I=i(z,Symbol.toStringTag);if(!I){var B=h(z);I=i(B,Symbol.toStringTag)}y["$"+k]=r(I.get)}}):t(c,function(k){var M=new s[k];y["$"+k]=r(M.slice)});var w=function(M){var z=!1;return t(y,function(I,B){if(!z)try{"$"+I(M)===B&&(z=l(B,1))}catch{}}),z},C=function(M){var z=!1;return t(y,function(I,B){if(!z)try{I(M),z=l(B,1)}catch{}}),z};return sa=function(M){if(!M||typeof M!="object")return!1;if(!o){var z=l(a(M),8,-1);return g(c,z)>-1?z:z!=="Object"?!1:C(M)}return i?w(M):null},sa}var fa,Ms;function Nx(){if(Ms)return fa;Ms=1;var t=n0();return fa=function(r){return!!t(r)},fa}var Ls;function Mx(){return Ls||(Ls=1,function(t){var e=Dx(),r=Ix(),n=n0(),i=Nx();function a(q){return q.call.bind(q)}var o=typeof BigInt<"u",s=typeof Symbol<"u",c=a(Object.prototype.toString),l=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),g=a(Boolean.prototype.valueOf);if(o)var y=a(BigInt.prototype.valueOf);if(s)var w=a(Symbol.prototype.valueOf);function C(q,et){if(typeof q!="object")return!1;try{return et(q),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function k(q){return typeof Promise<"u"&&q instanceof Promise||q!==null&&typeof q=="object"&&typeof q.then=="function"&&typeof q.catch=="function"}t.isPromise=k;function M(q){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(q):i(q)||O(q)}t.isArrayBufferView=M;function z(q){return n(q)==="Uint8Array"}t.isUint8Array=z;function I(q){return n(q)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function B(q){return n(q)==="Uint16Array"}t.isUint16Array=B;function v(q){return n(q)==="Uint32Array"}t.isUint32Array=v;function S(q){return n(q)==="Int8Array"}t.isInt8Array=S;function T(q){return n(q)==="Int16Array"}t.isInt16Array=T;function u(q){return n(q)==="Int32Array"}t.isInt32Array=u;function E(q){return n(q)==="Float32Array"}t.isFloat32Array=E;function L(q){return n(q)==="Float64Array"}t.isFloat64Array=L;function V(q){return n(q)==="BigInt64Array"}t.isBigInt64Array=V;function X(q){return n(q)==="BigUint64Array"}t.isBigUint64Array=X;function A(q){return c(q)==="[object Map]"}A.working=typeof Map<"u"&&A(new Map);function P(q){return typeof Map>"u"?!1:A.working?A(q):q instanceof Map}t.isMap=P;function p(q){return c(q)==="[object Set]"}p.working=typeof Set<"u"&&p(new Set);function D(q){return typeof Set>"u"?!1:p.working?p(q):q instanceof Set}t.isSet=D;function $(q){return c(q)==="[object WeakMap]"}$.working=typeof WeakMap<"u"&&$(new WeakMap);function G(q){return typeof WeakMap>"u"?!1:$.working?$(q):q instanceof WeakMap}t.isWeakMap=G;function Q(q){return c(q)==="[object WeakSet]"}Q.working=typeof WeakSet<"u"&&Q(new WeakSet);function ne(q){return Q(q)}t.isWeakSet=ne;function Ae(q){return c(q)==="[object ArrayBuffer]"}Ae.working=typeof ArrayBuffer<"u"&&Ae(new ArrayBuffer);function Le(q){return typeof ArrayBuffer>"u"?!1:Ae.working?Ae(q):q instanceof ArrayBuffer}t.isArrayBuffer=Le;function F(q){return c(q)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function O(q){return typeof DataView>"u"?!1:F.working?F(q):q instanceof DataView}t.isDataView=O;var U=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function K(q){return c(q)==="[object SharedArrayBuffer]"}function re(q){return typeof U>"u"?!1:(typeof K.working>"u"&&(K.working=K(new U)),K.working?K(q):q instanceof U)}t.isSharedArrayBuffer=re;function fe(q){return c(q)==="[object AsyncFunction]"}t.isAsyncFunction=fe;function se(q){return c(q)==="[object Map Iterator]"}t.isMapIterator=se;function ce(q){return c(q)==="[object Set Iterator]"}t.isSetIterator=ce;function be(q){return c(q)==="[object Generator]"}t.isGeneratorObject=be;function Pe(q){return c(q)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Pe;function Me(q){return C(q,l)}t.isNumberObject=Me;function Ve(q){return C(q,h)}t.isStringObject=Ve;function It(q){return C(q,g)}t.isBooleanObject=It;function zt(q){return o&&C(q,y)}t.isBigIntObject=zt;function cr(q){return s&&C(q,w)}t.isSymbolObject=cr;function gr(q){return Me(q)||Ve(q)||It(q)||zt(q)||cr(q)}t.isBoxedPrimitive=gr;function Sr(q){return typeof Uint8Array<"u"&&(Le(q)||re(q))}t.isAnyArrayBuffer=Sr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(q){Object.defineProperty(t,q,{enumerable:!1,value:function(){throw new Error(q+" is not supported in userland")}})})}(Gi)),Gi}var ca,Rs;function Lx(){return Rs||(Rs=1,ca=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),ca}var Us;function Rx(){return Us||(Us=1,function(t){var e=Object.getOwnPropertyDescriptors||function(O){for(var U=Object.keys(O),K={},re=0;re<U.length;re++)K[U[re]]=Object.getOwnPropertyDescriptor(O,U[re]);return K},r=/%[sdj%]/g;t.format=function(F){if(!S(F)){for(var O=[],U=0;U<arguments.length;U++)O.push(o(arguments[U]));return O.join(" ")}for(var U=1,K=arguments,re=K.length,fe=String(F).replace(r,function(ce){if(ce==="%%")return"%";if(U>=re)return ce;switch(ce){case"%s":return String(K[U++]);case"%d":return Number(K[U++]);case"%j":try{return JSON.stringify(K[U++])}catch{return"[Circular]"}default:return ce}}),se=K[U];U<re;se=K[++U])I(se)||!L(se)?fe+=" "+se:fe+=" "+o(se);return fe},t.deprecate=function(F,O){if(typeof process<"u"&&process.noDeprecation===!0)return F;if(typeof process>"u")return function(){return t.deprecate(F,O).apply(this,arguments)};var U=!1;function K(){if(!U){if(process.throwDeprecation)throw new Error(O);process.traceDeprecation?console.trace(O):console.error(O),U=!0}return F.apply(this,arguments)}return K};var n={},i=/^$/;if({}.NODE_DEBUG){var a={}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!n[F])if(i.test(F)){var O=process.pid;n[F]=function(){var U=t.format.apply(t,arguments);console.error("%s %d: %s",F,O,U)}}else n[F]=function(){};return n[F]};function o(F,O){var U={seen:[],stylize:c};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),z(O)?U.showHidden=O:O&&t._extend(U,O),u(U.showHidden)&&(U.showHidden=!1),u(U.depth)&&(U.depth=2),u(U.colors)&&(U.colors=!1),u(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=s),h(U,F,U.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(F,O){var U=o.styles[O];return U?"\x1B["+o.colors[U][0]+"m"+F+"\x1B["+o.colors[U][1]+"m":F}function c(F,O){return F}function l(F){var O={};return F.forEach(function(U,K){O[U]=!0}),O}function h(F,O,U){if(F.customInspect&&O&&A(O.inspect)&&O.inspect!==t.inspect&&!(O.constructor&&O.constructor.prototype===O)){var K=O.inspect(U,F);return S(K)||(K=h(F,K,U)),K}var re=g(F,O);if(re)return re;var fe=Object.keys(O),se=l(fe);if(F.showHidden&&(fe=Object.getOwnPropertyNames(O)),X(O)&&(fe.indexOf("message")>=0||fe.indexOf("description")>=0))return y(O);if(fe.length===0){if(A(O)){var ce=O.name?": "+O.name:"";return F.stylize("[Function"+ce+"]","special")}if(E(O))return F.stylize(RegExp.prototype.toString.call(O),"regexp");if(V(O))return F.stylize(Date.prototype.toString.call(O),"date");if(X(O))return y(O)}var be="",Pe=!1,Me=["{","}"];if(M(O)&&(Pe=!0,Me=["[","]"]),A(O)){var Ve=O.name?": "+O.name:"";be=" [Function"+Ve+"]"}if(E(O)&&(be=" "+RegExp.prototype.toString.call(O)),V(O)&&(be=" "+Date.prototype.toUTCString.call(O)),X(O)&&(be=" "+y(O)),fe.length===0&&(!Pe||O.length==0))return Me[0]+be+Me[1];if(U<0)return E(O)?F.stylize(RegExp.prototype.toString.call(O),"regexp"):F.stylize("[Object]","special");F.seen.push(O);var It;return Pe?It=w(F,O,U,se,fe):It=fe.map(function(zt){return C(F,O,U,se,zt,Pe)}),F.seen.pop(),k(It,be,Me)}function g(F,O){if(u(O))return F.stylize("undefined","undefined");if(S(O)){var U="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(U,"string")}if(v(O))return F.stylize(""+O,"number");if(z(O))return F.stylize(""+O,"boolean");if(I(O))return F.stylize("null","null")}function y(F){return"["+Error.prototype.toString.call(F)+"]"}function w(F,O,U,K,re){for(var fe=[],se=0,ce=O.length;se<ce;++se)Q(O,String(se))?fe.push(C(F,O,U,K,String(se),!0)):fe.push("");return re.forEach(function(be){be.match(/^\d+$/)||fe.push(C(F,O,U,K,be,!0))}),fe}function C(F,O,U,K,re,fe){var se,ce,be;if(be=Object.getOwnPropertyDescriptor(O,re)||{value:O[re]},be.get?be.set?ce=F.stylize("[Getter/Setter]","special"):ce=F.stylize("[Getter]","special"):be.set&&(ce=F.stylize("[Setter]","special")),Q(K,re)||(se="["+re+"]"),ce||(F.seen.indexOf(be.value)<0?(I(U)?ce=h(F,be.value,null):ce=h(F,be.value,U-1),ce.indexOf(`
`)>-1&&(fe?ce=ce.split(`
`).map(function(Pe){return"  "+Pe}).join(`
`).slice(2):ce=`
`+ce.split(`
`).map(function(Pe){return"   "+Pe}).join(`
`))):ce=F.stylize("[Circular]","special")),u(se)){if(fe&&re.match(/^\d+$/))return ce;se=JSON.stringify(""+re),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.slice(1,-1),se=F.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=F.stylize(se,"string"))}return se+": "+ce}function k(F,O,U){var K=F.reduce(function(re,fe){return fe.indexOf(`
`)>=0,re+fe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return K>60?U[0]+(O===""?"":O+`
 `)+" "+F.join(`,
  `)+" "+U[1]:U[0]+O+" "+F.join(", ")+" "+U[1]}t.types=Mx();function M(F){return Array.isArray(F)}t.isArray=M;function z(F){return typeof F=="boolean"}t.isBoolean=z;function I(F){return F===null}t.isNull=I;function B(F){return F==null}t.isNullOrUndefined=B;function v(F){return typeof F=="number"}t.isNumber=v;function S(F){return typeof F=="string"}t.isString=S;function T(F){return typeof F=="symbol"}t.isSymbol=T;function u(F){return F===void 0}t.isUndefined=u;function E(F){return L(F)&&p(F)==="[object RegExp]"}t.isRegExp=E,t.types.isRegExp=E;function L(F){return typeof F=="object"&&F!==null}t.isObject=L;function V(F){return L(F)&&p(F)==="[object Date]"}t.isDate=V,t.types.isDate=V;function X(F){return L(F)&&(p(F)==="[object Error]"||F instanceof Error)}t.isError=X,t.types.isNativeError=X;function A(F){return typeof F=="function"}t.isFunction=A;function P(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=P,t.isBuffer=Lx();function p(F){return Object.prototype.toString.call(F)}function D(F){return F<10?"0"+F.toString(10):F.toString(10)}var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var F=new Date,O=[D(F.getHours()),D(F.getMinutes()),D(F.getSeconds())].join(":");return[F.getDate(),$[F.getMonth()],O].join(" ")}t.log=function(){console.log("%s - %s",G(),t.format.apply(t,arguments))},t.inherits=Sc,t._extend=function(F,O){if(!O||!L(O))return F;for(var U=Object.keys(O),K=U.length;K--;)F[U[K]]=O[U[K]];return F};function Q(F,O){return Object.prototype.hasOwnProperty.call(F,O)}var ne=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(ne&&O[ne]){var U=O[ne];if(typeof U!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(U,ne,{value:U,enumerable:!1,writable:!1,configurable:!0}),U}function U(){for(var K,re,fe=new Promise(function(be,Pe){K=be,re=Pe}),se=[],ce=0;ce<arguments.length;ce++)se.push(arguments[ce]);se.push(function(be,Pe){be?re(be):K(Pe)});try{O.apply(this,se)}catch(be){re(be)}return fe}return Object.setPrototypeOf(U,Object.getPrototypeOf(O)),ne&&Object.defineProperty(U,ne,{value:U,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(U,e(O))},t.promisify.custom=ne;function Ae(F,O){if(!F){var U=new Error("Promise was rejected with a falsy value");U.reason=F,F=U}return O(F)}function Le(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var U=[],K=0;K<arguments.length;K++)U.push(arguments[K]);var re=U.pop();if(typeof re!="function")throw new TypeError("The last argument must be of type Function");var fe=this,se=function(){return re.apply(fe,arguments)};F.apply(this,U).then(function(ce){process.nextTick(se.bind(null,null,ce))},function(ce){process.nextTick(Ae.bind(null,ce,se))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(F)),Object.defineProperties(O,e(F)),O}t.callbackify=Le}(zi)),zi}Object.defineProperty(Zr,"__esModule",{value:!0});Zr.InvalidStatusCodeError=Zr.InvalidCertError=void 0;const i0=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class Va extends Error{constructor(e,r){super(e),this.fingerprint256=r}}Zr.InvalidCertError=Va;class yo extends Error{constructor(e){super(`Request Failed. Status Code: ${e}`),this.statusCode=e}}Zr.InvalidStatusCodeError=yo;function a0(t,e){if(!e||e==="text"||e==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(t);if(e==="text")return r;try{return JSON.parse(r)}catch(n){if(e==="json")throw n;return r}}catch(r){if(e==="text"||e==="json")throw r}return t}let ks={};function Ka(t,e){var y;let r={...i0,...e};const n=Ir,i=Ir,a=Ir,{promisify:o}=Rx(),{resolve:s}=Ir,c=!!/^https/.test(t);let l={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const h=w=>w.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const w={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},C=[c,c&&((y=r.sslPinnedCertificates)==null?void 0:y.map(k=>h(k)).sort())].join();l.agent=ks[C]||(ks[C]=new(c?i:n).Agent(w))}r.type==="json"&&(l.headers["Content-Type"]="application/json"),r.data&&(r.method||(l.method="POST"),l.body=r.type==="json"?JSON.stringify(r.data):r.data),l.headers={...l.headers,...r.headers},r.sslAllowSelfSigned&&(l.rejectUnauthorized=!1);const g=async w=>{const C=w.statusCode;if(r.redirect&&300<=C&&C<400&&w.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await Ka(s(t,w.headers.location),r)}if(r.expectStatusCode&&C!==r.expectStatusCode)throw w.resume(),new yo(C);let k=[];for await(const B of w)k.push(B);let M=Buffer.concat(k);const z=w.headers["content-encoding"];z==="br"&&(M=await o(a.brotliDecompress)(M)),(z==="gzip"||z==="deflate")&&(M=await o(a.unzip)(M));const I=a0(M,r.type);return r.full?{headers:w.headers,status:C,body:I}:I};return new Promise((w,C)=>{var B;const k=async v=>{if(v&&v.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Ka(t,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(S){S&&S.fingerprint256&&(v=new Va(`Self-signed SSL certificate: ${S.fingerprint256}`,S.fingerprint256))}C(v)},M=(c?i:n).request(t,l,v=>{v.on("error",k),(async()=>{try{w(await g(v))}catch(S){C(S)}})()});M.on("error",k);const z=(B=r.sslPinnedCertificates)==null?void 0:B.map(v=>h(v)),I=v=>{var T;const S=h(((T=v.getPeerCertificate())==null?void 0:T.fingerprint256)||"");if(!(!S&&v.isSessionReused())&&!z.includes(S))return M.emit("error",new Va(`Invalid SSL certificate: ${S} Expected: ${z}`,S)),M.abort()};r.sslPinnedCertificates&&M.on("socket",v=>{v.listeners("secureConnect").map(T=>(T.name||"").replace("bound ","")).includes("mfetchSecureConnect")||v.on("secureConnect",I.bind(null,v))}),r.keepAlive&&M.setNoDelay(!0),l.body&&M.write(l.body),M.end()})}const Ux=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(t=>t.toLowerCase())),kx=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(t=>t.toLowerCase()));async function jx(t,e){let r={...i0,...e};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(t);if(i.username){const c=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${c}`),i.username="",i.password=""}t=""+i;for(let c in r.headers){const l=c.toLowerCase();(Ux.has(l)||r.cors&&!kx.has(l))&&n.set(c,r.headers[c])}let a={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(a.referrerPolicy="no-referrer"),r.cors&&(a.mode="cors"),r.data&&(r.method||(a.method="POST"),a.body=r.type==="json"?JSON.stringify(r.data):r.data);const o=await fetch(t,a);if(r.expectStatusCode&&o.status!==r.expectStatusCode)throw new yo(o.status);const s=a0(new Uint8Array(await o.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(o.headers.entries()),status:o.status,body:s}:s}const Hx=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function $x(t,e){return(Hx?Ka:jx)(t,e)}Zr.default=$x;Object.defineProperty(gn,"__esModule",{value:!0});gn.getProvider=gn.fetchFromProvider=void 0;const zx=Zr,Gx=async(t,e)=>(await(0,zx.default)(t,{headers:{"content-type":"application/json"},type:"json",data:{method:e.method,params:e.params,jsonrpc:"2.0",id:1}})).result;gn.fetchFromProvider=Gx;const Vx=t=>{var e;if(typeof t=="string")return t;if(((e=t==null?void 0:t.connection)==null?void 0:e.url)!==void 0)return t.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};gn.getProvider=Vx;(function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,c)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=Ge&&Ge.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=void 0,r(gi,t),r(pi,t),r(lo,t),r(kn,t),r(vi,t),r(Rt,t),r(Xr,t),r(xo,t),r(Xf,t),r(_i,t);var n=Qe;Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(Si,t),r(gn,t)})(bi);var Tt={},o0=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"},Kx=o0,qx=function(e){return typeof e!="string"?e:Kx(e)?e.slice(2):e},Wx=o0,s0=qx;function Ai(t){var e=t;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function f0(t){var e=t.toString(16);return"0x"+e}function Zx(t){var e=f0(t);return new Buffer(Ai(e.slice(2)),"hex")}function Yx(t){if(typeof t!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Buffer.byteLength(t,"utf8")}function Jx(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!r&&"some"||"every"](function(n){return t.indexOf(n)>=0})}function Xx(t){var e=new Buffer(Ai(s0(t).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function Qx(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}function e1(t){var e=new Buffer(t,"utf8");return"0x"+Ai(e.toString("hex")).replace(/^0+|0+$/g,"")}function t1(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e}function r1(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var a=t[i][e];if(r&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi");n.push(a)}return n}function n1(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var i1={arrayContainsArray:Jx,intToBuffer:Zx,getBinarySize:Yx,isHexPrefixed:Wx,stripHexPrefix:s0,padToEven:Ai,intToHex:f0,fromAscii:t1,fromUtf8:e1,toAscii:Qx,toUtf8:Xx,getKeys:r1,isHexString:n1};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.normalize=Tt.recoverPublicKey=Tt.concatSig=Tt.legacyToBuffer=Tt.isNullish=Tt.padWithZeroes=void 0;const Dr=bi,qn=kt,qa=i1;function Wa(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}Tt.padWithZeroes=Wa;function c0(t){return t==null}Tt.isNullish=c0;function a1(t){return typeof t=="string"&&!(0,qa.isHexString)(t)?Buffer.from(t):(0,Dr.toBuffer)(t)}Tt.legacyToBuffer=a1;function o1(t,e,r){const n=(0,Dr.fromSigned)(e),i=(0,Dr.fromSigned)(r),a=(0,Dr.bufferToInt)(t),o=Wa((0,Dr.toUnsigned)(n).toString("hex"),64),s=Wa((0,Dr.toUnsigned)(i).toString("hex"),64),c=(0,qa.stripHexPrefix)((0,qa.intToHex)(a));return(0,qn.add0x)(o.concat(s,c))}Tt.concatSig=o1;function s1(t,e){const r=(0,Dr.fromRpcSig)(e);return(0,Dr.ecrecover)(t,r.v,r.r,r.s)}Tt.recoverPublicKey=s1;function f1(t){if(!c0(t)){if(typeof t=="number"){if(t<0)return"0x";const e=(0,qn.numberToBytes)(t);t=(0,qn.bytesToHex)(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return(0,qn.add0x)(t.toLowerCase())}}Tt.normalize=f1;Object.defineProperty(Or,"__esModule",{value:!0});Or.extractPublicKey=Or.recoverPersonalSignature=Or.personalSign=void 0;const dn=bi,hr=Tt;function c1({privateKey:t,data:e}){if((0,hr.isNullish)(e))throw new Error("Missing data parameter");if((0,hr.isNullish)(t))throw new Error("Missing privateKey parameter");const r=(0,hr.legacyToBuffer)(e),n=(0,dn.hashPersonalMessage)(r),i=(0,dn.ecsign)(n,t);return(0,hr.concatSig)((0,dn.toBuffer)(i.v),i.r,i.s)}Or.personalSign=c1;function u1({data:t,signature:e}){if((0,hr.isNullish)(t))throw new Error("Missing data parameter");if((0,hr.isNullish)(e))throw new Error("Missing signature parameter");const r=u0(t,e),n=(0,dn.publicToAddress)(r);return(0,dn.bufferToHex)(n)}Or.recoverPersonalSignature=u1;function d1({data:t,signature:e}){if((0,hr.isNullish)(t))throw new Error("Missing data parameter");if((0,hr.isNullish)(e))throw new Error("Missing signature parameter");return`0x${u0(t,e).toString("hex")}`}Or.extractPublicKey=d1;function u0(t,e){const r=(0,dn.hashPersonalMessage)((0,hr.legacyToBuffer)(t));return(0,hr.recoverPublicKey)(r,e)}var d0={},l0={},h0={},fr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParserError=t.getErrorStack=t.getErrorMessage=void 0;const e=kt,r=a=>typeof a=="string"?a:a instanceof Error||(0,e.isObject)(a)&&(0,e.hasProperty)(a,"message")&&typeof a.message=="string"?a.message:"Unknown error.";t.getErrorMessage=r;const n=a=>{if(a instanceof Error)return a.stack};t.getErrorStack=n;class i extends Error{constructor(o,s){super(o),this.name="ParserError";const c=(0,t.getErrorStack)(s);c&&(this.stack=c)}}t.ParserError=i})(fr);var ua={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.iterate=void 0;const js=kt,l1=function*(t,e=32){for(let r=0;r<t.length;r+=e){const n=a=>{(0,js.assert)(a>=0,"Cannot skip a negative number of bytes."),(0,js.assert)(a%e===0,"Length must be a multiple of the size."),r+=a},i=t.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};Pi.iterate=l1;var da={},x0={},Mr={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.padEnd=Cr.padStart=Cr.set=void 0;const po=kt,b0=32,h1=(t,e,r)=>(0,po.concatBytes)([t.subarray(0,r),e,t.subarray(r+e.length)]);Cr.set=h1;const x1=(t,e=b0)=>{const r=new Uint8Array(Math.max(e-t.length,0)).fill(0);return(0,po.concatBytes)([r,t])};Cr.padStart=x1;const b1=(t,e=b0)=>{const r=new Uint8Array(Math.max(e-t.length,0)).fill(0);return(0,po.concatBytes)([t,r])};Cr.padEnd=b1;(function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ge&&Ge.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(Cr,t)})(Mr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.getAddress=void 0;const e=kt,r=fr,n=Mr,i=a=>{const o=(0,e.createBytes)(a);return(0,e.assert)(o.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)};t.getAddress=i,t.address={isDynamic:!1,isType:a=>a==="address",getByteLength(){return 32},encode({buffer:a,value:o,packed:s}){const c=(0,t.getAddress)(o);if(s)return(0,e.concatBytes)([a,c]);const l=(0,n.padStart)(c);return(0,e.concatBytes)([a,l])},decode({value:a}){return(0,e.add0x)((0,e.bytesToHex)(a.slice(12,32)))}}})(x0);var la={},Ti={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fixedBytes=t.getByteLength=void 0;const e=kt,r=fr,n=Mr,i=/^bytes([0-9]{1,2})$/u,a=o=>{var l;const s=(l=o.match(i))==null?void 0:l[1];(0,e.assert)(s,`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`);const c=Number(s);return(0,e.assert)(c>0&&c<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`)),c};t.getByteLength=a,t.fixedBytes={isDynamic:!1,isType(o){return i.test(o)},getByteLength(){return 32},encode({type:o,buffer:s,value:c,packed:l}){const h=(0,t.getByteLength)(o),g=(0,e.createBytes)(c);return(0,e.assert)(g.length<=h,new r.ParserError(`Expected a value of length ${h}, but received a value of length ${g.length}.`)),l?(0,e.concatBytes)([s,(0,n.padEnd)(g,h)]):(0,e.concatBytes)([s,(0,n.padEnd)(g)])},decode({type:o,value:s}){const c=(0,t.getByteLength)(o);return s.slice(0,c)}}})(Ti);var ha={},Hs;function g0(){return Hs||(Hs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.getTupleElements=void 0;const e=kt,r=fr,n=vo(),i=/^\((.+)\)$/u,a=s=>i.test(s),o=s=>{(0,e.assert)(s.startsWith("(")&&s.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${s}".`));const c=[];let l="",h=0;for(let g=1;g<s.length-1;g++){const y=s[g];y===","&&h===0?(c.push(l.trim()),l=""):(l+=y,y==="("?h+=1:y===")"&&(h-=1))}return l.trim()&&c.push(l.trim()),c};t.getTupleElements=o,t.tuple={isDynamic(s){return(0,t.getTupleElements)(s).some(l=>{const h=(0,n.getParser)(l);return(0,n.isDynamicParser)(h,l)})},isType(s){return a(s)},getByteLength(s){return(0,n.isDynamicParser)(this,s)?32:(0,t.getTupleElements)(s).reduce((l,h)=>l+(0,n.getParser)(h).getByteLength(h),0)},encode({type:s,buffer:c,value:l,packed:h,tight:g}){const y=(0,t.getTupleElements)(s);return(0,n.pack)({types:y,values:l,byteArray:c,packed:h,tight:g})},decode({type:s,value:c,skip:l}){const h=(0,t.getTupleElements)(s),g=this.getByteLength(s)-32;return l(g),(0,n.unpack)(h,c)}}}(ha)),ha}var $s;function g1(){return $s||($s=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.getTupleType=t.getArrayType=t.isArrayType=void 0;const e=kt,r=fr,n=vo(),i=Mr,a=Ti,o=g0(),s=/^(?<type>.*)\[(?<length>\d*?)\]$/u,c=g=>s.test(g);t.isArrayType=c;const l=g=>{var w;const y=g.match(s);return(0,e.assert)((w=y==null?void 0:y.groups)==null?void 0:w.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${g}".`)),[y.groups.type,y.groups.length?parseInt(y.groups.length,10):void 0]};t.getArrayType=l;const h=(g,y)=>`(${new Array(y).fill(g).join(",")})`;t.getTupleType=h,t.array={isDynamic(g){const[y,w]=(0,t.getArrayType)(g);return w===void 0||(0,n.isDynamicParser)((0,n.getParser)(y),y)},isType(g){return(0,t.isArrayType)(g)},getByteLength(g){(0,e.assert)((0,t.isArrayType)(g),new r.ParserError(`Expected an array type, but received "${g}".`));const[y,w]=(0,t.getArrayType)(g);return!(0,n.isDynamicParser)(this,g)&&w!==void 0?o.tuple.getByteLength((0,t.getTupleType)(y,w)):32},encode({type:g,buffer:y,value:w,packed:C,tight:k}){const[M,z]=(0,t.getArrayType)(g);if((0,e.assert)(!C||!(0,t.isArrayType)(M),new r.ParserError("Cannot pack nested arrays.")),C&&(0,n.isDynamicParser)((0,n.getParser)(M),M))return(0,n.pack)({types:new Array(w.length).fill(M),values:w,byteArray:y,packed:C,arrayPacked:!0,tight:k});if(z)return(0,e.assert)(z===w.length,new r.ParserError(`Array length does not match type length. Expected a length of ${z}, but received ${w.length}.`)),o.tuple.encode({type:(0,t.getTupleType)(M,z),buffer:y,value:w,packed:a.fixedBytes.isType(M)&&k,tight:k});if(C)return(0,n.pack)({types:new Array(w.length).fill(M),values:w,byteArray:y,packed:a.fixedBytes.isType(M)&&k,arrayPacked:!0,tight:k});const I=(0,i.padStart)((0,e.numberToBytes)(w.length));return(0,n.pack)({types:new Array(w.length).fill(M),values:w,byteArray:(0,e.concatBytes)([y,I]),packed:C,tight:k})},decode({type:g,value:y,...w}){const[C,k]=(0,t.getArrayType)(g);if(k){const z=o.tuple.decode({type:(0,t.getTupleType)(C,k),value:y,...w});return(0,e.assert)(z.length===k,new r.ParserError(`Array length does not match type length. Expected a length of ${k}, but received ${z.length}.`)),z}const M=(0,e.bytesToNumber)(y.subarray(0,32));return(0,n.unpack)(new Array(M).fill(C),y.subarray(32))}}}(la)),la}var y0={},mo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.number=t.getBigInt=t.assertNumberLength=t.getLength=t.isSigned=void 0;const e=kt,r=fr,n=Mr,i=/^u?int(?<length>[0-9]*)?$/u,a=l=>!l.startsWith("u");t.isSigned=a;const o=l=>{var y;if(l==="int"||l==="uint")return 256;const h=l.match(i);(0,e.assert)((y=h==null?void 0:h.groups)==null?void 0:y.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${l}".`));const g=parseInt(h.groups.length,10);return(0,e.assert)(g>=8&&g<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${l}".`)),(0,e.assert)(g%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${l}".`)),g};t.getLength=o;const s=(l,h)=>{const g=(0,t.getLength)(h),y=BigInt(2)**BigInt(g-((0,t.isSigned)(h)?1:0))-BigInt(1);if((0,t.isSigned)(h)){(0,e.assert)(l>=-(y+BigInt(1))&&l<=y,new r.ParserError(`Number "${l}" is out of range for type "${h}".`));return}(0,e.assert)(l<=y,new r.ParserError(`Number "${l}" is out of range for type "${h}".`))};t.assertNumberLength=s;const c=l=>{try{return(0,e.createBigInt)(l)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${l}".`)}};t.getBigInt=c,t.number={isDynamic:!1,isType(l){return i.test(l)},getByteLength(){return 32},encode({type:l,buffer:h,value:g,packed:y}){const w=(0,t.getBigInt)(g);if((0,t.assertNumberLength)(w,l),(0,t.isSigned)(l)){if(y){const C=(0,t.getLength)(l)/8;return(0,e.concatBytes)([h,(0,e.signedBigIntToBytes)(w,C)])}return(0,e.concatBytes)([h,(0,n.padStart)((0,e.signedBigIntToBytes)(w,32))])}if(y){const C=(0,t.getLength)(l)/8;return(0,e.concatBytes)([h,(0,n.padStart)((0,e.bigIntToBytes)(w),C)])}return(0,e.concatBytes)([h,(0,n.padStart)((0,e.bigIntToBytes)(w))])},decode({type:l,value:h}){const g=h.subarray(0,32);if((0,t.isSigned)(l)){const w=(0,e.bytesToSignedBigInt)(g);return(0,t.assertNumberLength)(w,l),w}const y=(0,e.bytesToBigInt)(g);return(0,t.assertNumberLength)(y,l),y}}})(mo);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bool=t.getBooleanValue=void 0;const e=kt,r=rf,n=fr,i=mo,a=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),s=>s==="true"),o=s=>{try{return(0,r.create)(s,a)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${s}".`)}};t.getBooleanValue=o,t.bool={isDynamic:!1,isType:s=>s==="bool",getByteLength(){return 32},encode({buffer:s,value:c,packed:l,tight:h}){const g=(0,t.getBooleanValue)(c);return l?(0,e.concatBytes)([s,(0,e.bigIntToBytes)(g)]):i.number.encode({type:"uint256",buffer:s,value:g,packed:l,tight:h})},decode(s){return i.number.decode({...s,type:"uint256"})===BigInt(1)}}})(y0);var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.bytes=void 0;const Tn=kt,zs=Mr;jn.bytes={isDynamic:!0,isType:t=>t==="bytes",getByteLength(){return 32},encode({buffer:t,value:e,packed:r}){const n=(0,Tn.createBytes)(e);if(r)return(0,Tn.concatBytes)([t,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,Tn.concatBytes)([t,(0,zs.padStart)((0,Tn.numberToBytes)(n.byteLength)),(0,zs.padEnd)(n,i)])},decode({value:t}){const e=t.subarray(0,32),r=(0,Tn.bytesToNumber)(e);return t.slice(32,32+r)}};var p0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fn=t.getFunction=void 0;const e=kt,r=rf,n=fr,i=Ti,a=(0,r.coerce)((0,r.object)({address:e.StrictHexStruct,selector:e.StrictHexStruct}),(0,r.union)([e.StrictHexStruct,(0,r.instance)(Uint8Array)]),s=>{const c=(0,e.createBytes)(s);return(0,e.assert)(c.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${c.length} bytes.`)),{address:(0,e.bytesToHex)(c.subarray(0,20)),selector:(0,e.bytesToHex)(c.subarray(20,24))}}),o=s=>{const c=(0,r.create)(s,a);return(0,e.concatBytes)([(0,e.hexToBytes)(c.address),(0,e.hexToBytes)(c.selector)])};t.getFunction=o,t.fn={isDynamic:!1,isType:s=>s==="function",getByteLength(){return 32},encode({buffer:s,value:c,packed:l,tight:h}){const g=(0,t.getFunction)(c);return i.fixedBytes.encode({type:"bytes24",buffer:s,value:g,packed:l,tight:h})},decode({value:s}){return{address:(0,e.bytesToHex)(s.slice(0,20)),selector:(0,e.bytesToHex)(s.slice(20,24))}}}})(p0);var m0={};Object.defineProperty(m0,"__esModule",{value:!0});var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.string=void 0;const Gs=kt,Vs=jn;Di.string={isDynamic:!0,isType:t=>t==="string",getByteLength(){return 32},encode({buffer:t,value:e,packed:r,tight:n}){return Vs.bytes.encode({type:"bytes",buffer:t,value:(0,Gs.stringToBytes)(e),packed:r,tight:n})},decode(t){return(0,Gs.bytesToString)(Vs.bytes.decode(t))}};var Ks;function v0(){return Ks||(Ks=1,function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ge&&Ge.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(x0,t),r(g1(),t),r(y0,t),r(jn,t),r(Ti,t),r(p0,t),r(mo,t),r(m0,t),r(Di,t),r(g0(),t)}(da)),da}var qs;function vo(){return qs||(qs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.isDynamicParser=t.getParser=void 0;const e=kt,r=fr,n=Pi,i=v0(),a=Mr,o=h=>{const g={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},y=g[h];if(y)return y;const w=Object.values(g).find(C=>C.isType(h));if(w)return w;throw new r.ParserError(`The type "${h}" is not supported.`)};t.getParser=o;const s=(h,g)=>{const{isDynamic:y}=h;return typeof y=="function"?y(g):y};t.isDynamicParser=s;const c=({types:h,values:g,packed:y=!1,tight:w=!1,arrayPacked:C=!1,byteArray:k=new Uint8Array})=>{(0,e.assert)(h.length===g.length,new r.ParserError(`The number of types (${h.length}) does not match the number of values (${g.length}).`));const{staticBuffer:M,dynamicBuffer:z,pointers:I}=h.reduce(({staticBuffer:S,dynamicBuffer:T,pointers:u},E,L)=>{const V=(0,t.getParser)(E),X=g[L];if(y||C||!(0,t.isDynamicParser)(V,E))return{staticBuffer:V.encode({buffer:S,value:X,type:E,packed:y,tight:w}),dynamicBuffer:T,pointers:u};const A=(0,e.concatBytes)([S,new Uint8Array(32)]),P=V.encode({buffer:T,value:X,type:E,packed:y,tight:w});return{staticBuffer:A,dynamicBuffer:P,pointers:[...u,{position:S.length,pointer:T.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,e.assert)(!y&&!C||z.length===0,new r.ParserError("Invalid pack state."));const B=M.length,v=I.reduce((S,{pointer:T,position:u})=>{const E=(0,a.padStart)((0,e.numberToBytes)(B+T));return(0,a.set)(S,E,u)},M);return(0,e.concatBytes)([k,v,z])};t.pack=c;const l=(h,g)=>{const y=(0,n.iterate)(g);return h.map(w=>{const{value:{value:C,skip:k},done:M}=y.next();(0,e.assert)(!M,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${w}".`));const z=(0,t.getParser)(w);if((0,t.isDynamicParser)(z,w)){const B=(0,e.bytesToNumber)(C.subarray(0,32)),v=g.subarray(B);return z.decode({type:w,value:v,skip:k})}return z.decode({type:w,value:C,skip:k})})};t.unpack=l}(ua)),ua}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSingle=t.decode=t.encodePacked=t.encodeSingle=t.encode=void 0;const e=kt,r=fr,n=vo(),i=(l,h,g,y)=>{try{return(0,n.pack)({types:l,values:h,packed:g,tight:y})}catch(w){throw w instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${w.message}`,w):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(w)}`,w)}};t.encode=i;const a=(l,h)=>(0,t.encode)([l],[h]);t.encodeSingle=a;const o=(l,h,g)=>(0,t.encode)(l,h,!0,g);t.encodePacked=o;const s=(l,h)=>{const g=(0,e.createBytes)(h);try{return(0,n.unpack)(l,g)}catch(y){throw y instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${y.message}`,y):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(y)}`,y)}};t.decode=s;const c=(l,h)=>{const g=(0,t.decode)([l],h);return(0,e.assert)(g.length===1,new r.ParserError("Decoded value array has unexpected length.")),g[0]};t.decodeSingle=c})(h0);var E0={},w0={};Object.defineProperty(w0,"__esModule",{value:!0});(function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ge&&Ge.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(w0,t)})(E0);(function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=Ge&&Ge.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(h0,t),r(fr,t),r(E0,t)})(l0);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.recoverTypedSignature=t.signTypedData=t.typedSignatureHash=t.TypedDataUtils=t.TYPED_MESSAGE_SCHEMA=t.SignTypedDataVersion=void 0;const e=bi,r=l0,n=v0(),i=Mr,a=kt,o=Jt,s=Tt;var c;(function(A){A.V1="V1",A.V3="V3",A.V4="V4"})(c=t.SignTypedDataVersion||(t.SignTypedDataVersion={})),t.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function l(A,P){if(Object.keys(c).includes(A)){if(P&&!P.includes(A))throw new Error(`SignTypedDataVersion not allowed: '${A}'. Allowed versions are: ${P.join(", ")}`)}else throw new Error(`Invalid version: '${A}'`)}function h(A,P){(0,a.assert)(P!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${P}".`);const p=BigInt(P),D=(0,n.getLength)(A),$=BigInt(2)**BigInt(D)-BigInt(1);return(0,a.assert)(p>=-$&&p<=$,`Unable to encode value: Number "${P}" is out of range for type "${A}".`),p}function g(A){let P=BigInt(0);for(let p=0;p<A.length;p++){const D=BigInt(A.charCodeAt(p)-48);P*=BigInt(10),D>=49?P+=D-BigInt(49)+BigInt(10):D>=17?P+=D-BigInt(17)+BigInt(10):P+=D}return(0,i.padStart)((0,a.bigIntToBytes)(P),20)}function y(A,P,p,D,$){if(l($,[c.V3,c.V4]),A[p]!==void 0)return["bytes32",$===c.V4&&D==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,e.arrToBufArr)((0,o.keccak256)(w(p,D,A,$)))];if(p==="function")throw new Error('Unsupported or invalid type: "function"');if(D===void 0)throw new Error(`missing value for field ${P} of type ${p}`);if(p==="address"){if(typeof D=="number")return["address",(0,i.padStart)((0,a.numberToBytes)(D),20)];if((0,a.isStrictHexString)(D))return["address",(0,a.add0x)(D)];if(typeof D=="string")return["address",g(D).subarray(0,20)]}if(p==="bool")return["bool",!!D];if(p==="bytes")return typeof D=="number"?D=(0,a.numberToBytes)(D):(0,a.isStrictHexString)(D)?D=(0,a.hexToBytes)(D):typeof D=="string"&&(D=(0,a.stringToBytes)(D)),["bytes32",(0,e.arrToBufArr)((0,o.keccak256)(D))];if(p.startsWith("bytes")&&p!=="bytes"&&!p.includes("["))return typeof D=="number"?D<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(D))]:(0,a.isStrictHexString)(D)?["bytes32",(0,a.hexToBytes)(D)]:["bytes32",D];if(p.startsWith("int")&&!p.includes("[")){const G=h(p,D);return G>=BigInt(0)?["uint256",G]:["int256",G]}if(p==="string")return typeof D=="number"?D=(0,a.numberToBytes)(D):D=(0,a.stringToBytes)(D??""),["bytes32",(0,e.arrToBufArr)((0,o.keccak256)(D))];if(p.endsWith("]")){if($===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const G=p.slice(0,p.lastIndexOf("[")),Q=D.map(ne=>y(A,P,G,ne,$));return["bytes32",(0,e.arrToBufArr)((0,o.keccak256)((0,r.encode)(Q.map(([ne])=>ne),Q.map(([,ne])=>ne))))]}return[p,D]}function w(A,P,p,D){l(D,[c.V3,c.V4]);const $=["bytes32"],G=[z(A,p)];for(const Q of p[A]){if(D===c.V3&&P[Q.name]===void 0)continue;const[ne,Ae]=y(p,Q.name,Q.type,P[Q.name],D);$.push(ne),G.push(Ae)}return(0,e.arrToBufArr)((0,r.encode)($,G))}function C(A,P){let p="";const D=k(A,P);D.delete(A);const $=[A,...Array.from(D).sort()];for(const G of $){if(!P[G])throw new Error(`No type definition specified: ${G}`);p+=`${G}(${P[G].map(({name:ne,type:Ae})=>`${Ae} ${ne}`).join(",")})`}return p}function k(A,P,p=new Set){if(typeof A!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(A)}`);if([A]=A.match(/^\w*/u),p.has(A)||P[A]===void 0)return p;p.add(A);for(const $ of P[A])k($.type,P,p);return p}function M(A,P,p,D){l(D,[c.V3,c.V4]);const $=w(A,P,p,D),G=(0,o.keccak256)($);return(0,e.arrToBufArr)(G)}function z(A,P){const p=(0,a.stringToBytes)(C(A,P));return(0,e.arrToBufArr)((0,o.keccak256)(p))}function I(A){const P={};for(const p in t.TYPED_MESSAGE_SCHEMA.properties)A[p]&&(P[p]=A[p]);return"types"in P&&(P.types=Object.assign({EIP712Domain:[]},P.types)),P}function B(A,P){l(P,[c.V3,c.V4]);const p=I(A),{domain:D}=p,$={EIP712Domain:p.types.EIP712Domain};return M("EIP712Domain",D,$,P)}function v(A,P){l(P,[c.V3,c.V4]);const p=I(A),D=[(0,a.hexToBytes)("1901")];return D.push(B(A,P)),p.primaryType!=="EIP712Domain"&&D.push(M(p.primaryType,p.message,p.types,P)),(0,e.arrToBufArr)((0,o.keccak256)((0,a.concatBytes)(D)))}t.TypedDataUtils={encodeData:w,encodeType:C,findTypeDependencies:k,hashStruct:M,hashType:z,sanitizeData:I,eip712Hash:v,eip712DomainHash:B};function S(A){const P=L(A);return(0,a.bytesToHex)(P)}t.typedSignatureHash=S;function T(A,P){if((0,n.isArrayType)(A)&&Array.isArray(P)){const[p]=(0,n.getArrayType)(A);return P.map(D=>T(p,D))}if(A==="address"){if(typeof P=="number")return(0,i.padStart)((0,a.numberToBytes)(P),20);if((0,a.isStrictHexString)(P))return(0,i.padStart)((0,a.hexToBytes)(P).subarray(0,20),20);if(P instanceof Uint8Array)return(0,i.padStart)(P.subarray(0,20),20)}if(A==="bool")return!!P;if(A.startsWith("bytes")&&A!=="bytes"){const p=(0,n.getByteLength)(A);if(typeof P=="number")return P<0?new Uint8Array:(0,a.numberToBytes)(P).subarray(0,p);if((0,a.isStrictHexString)(P))return(0,a.hexToBytes)(P).subarray(0,p);if(P instanceof Uint8Array)return P.subarray(0,p)}if(A.startsWith("uint")&&typeof P=="number")return Math.abs(P);if(A.startsWith("int")&&typeof P=="number"){const p=(0,n.getLength)(A);return BigInt.asIntN(p,BigInt(P))}return P}function u(A){return A.map(P=>typeof P=="number"?(0,i.padStart)((0,a.numberToBytes)(P),32):(0,a.isStrictHexString)(P)?(0,i.padStart)((0,a.hexToBytes)(P).subarray(0,32),32):P instanceof Uint8Array?(0,i.padStart)(P.subarray(0,32),32):P)}function E(A,P){return P.map(p=>{if(typeof p=="string"||typeof p=="number"||typeof p=="bigint"){const D=h(A,p);if(D>=BigInt(0))return(0,i.padStart)((0,a.bigIntToBytes)(D),32);const $=(0,n.getLength)(A),G=BigInt.asIntN($,D);return(0,a.signedBigIntToBytes)(G,32)}return p})}function L(A){const P=new Error("Expect argument to be non-empty array");if(typeof A!="object"||!("length"in A)||!A.length)throw P;const p=A.map(({name:Q,type:ne,value:Ae})=>{if(ne==="address[]")return{name:Q,type:"bytes32[]",value:u(Ae)};if(ne.startsWith("int")&&(0,n.isArrayType)(ne)){const[Le,F]=(0,n.getArrayType)(ne);return{name:Q,type:`bytes32[${F??""}]`,value:E(Le,Ae)}}return{name:Q,type:ne,value:T(ne,Ae)}}),D=p.map(Q=>Q.type!=="bytes"?Q.value:(0,s.legacyToBuffer)(Q.value)),$=p.map(Q=>{if(Q.type==="function")throw new Error('Unsupported or invalid type: "function"');return Q.type}),G=A.map(Q=>{if(!Q.name)throw P;return`${Q.type} ${Q.name}`});return(0,e.arrToBufArr)((0,o.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,o.keccak256)((0,r.encodePacked)(["string[]"],[G],!0)),(0,o.keccak256)((0,r.encodePacked)($,D,!0))])))}function V({privateKey:A,data:P,version:p}){if(l(p),(0,s.isNullish)(P))throw new Error("Missing data parameter");if((0,s.isNullish)(A))throw new Error("Missing private key parameter");const D=p===c.V1?L(P):t.TypedDataUtils.eip712Hash(P,p),$=(0,e.ecsign)(D,A);return(0,s.concatSig)((0,e.arrToBufArr)((0,a.bigIntToBytes)($.v)),$.r,$.s)}t.signTypedData=V;function X({data:A,signature:P,version:p}){if(l(p),(0,s.isNullish)(A))throw new Error("Missing data parameter");if((0,s.isNullish)(P))throw new Error("Missing signature parameter");const D=p===c.V1?L(A):t.TypedDataUtils.eip712Hash(A,p),$=(0,s.recoverPublicKey)(D,P),G=(0,e.publicToAddress)($);return(0,a.bytesToHex)(G)}t.recoverTypedSignature=X})(d0);var Yt={},_0={exports:{}};(function(t){(function(e){var r=function(d){var b,x=new Float64Array(16);if(d)for(b=0;b<d.length;b++)x[b]=d[b];return x},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var o=r(),s=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(d,b,x,f){d[b]=x>>24&255,d[b+1]=x>>16&255,d[b+2]=x>>8&255,d[b+3]=x&255,d[b+4]=f>>24&255,d[b+5]=f>>16&255,d[b+6]=f>>8&255,d[b+7]=f&255}function k(d,b,x,f,m){var N,R=0;for(N=0;N<m;N++)R|=d[b+N]^x[f+N];return(1&R-1>>>8)-1}function M(d,b,x,f){return k(d,b,x,f,16)}function z(d,b,x,f){return k(d,b,x,f,32)}function I(d,b,x,f){for(var m=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,R=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Z=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,te=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,xe=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,ae=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,He=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,ue=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,me=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,Ee=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,De=x[16]&255|(x[17]&255)<<8|(x[18]&255)<<16|(x[19]&255)<<24,Te=x[20]&255|(x[21]&255)<<8|(x[22]&255)<<16|(x[23]&255)<<24,we=x[24]&255|(x[25]&255)<<8|(x[26]&255)<<16|(x[27]&255)<<24,Se=x[28]&255|(x[29]&255)<<8|(x[30]&255)<<16|(x[31]&255)<<24,_e=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,de=m,ge=N,oe=R,le=Z,he=te,ie=xe,j=ae,H=He,J=ue,W=me,Y=Ee,ee=De,pe=Te,Ie=we,Oe=Se,Be=_e,_,Ne=0;Ne<20;Ne+=2)_=de+pe|0,he^=_<<7|_>>>32-7,_=he+de|0,J^=_<<9|_>>>32-9,_=J+he|0,pe^=_<<13|_>>>32-13,_=pe+J|0,de^=_<<18|_>>>32-18,_=ie+ge|0,W^=_<<7|_>>>32-7,_=W+ie|0,Ie^=_<<9|_>>>32-9,_=Ie+W|0,ge^=_<<13|_>>>32-13,_=ge+Ie|0,ie^=_<<18|_>>>32-18,_=Y+j|0,Oe^=_<<7|_>>>32-7,_=Oe+Y|0,oe^=_<<9|_>>>32-9,_=oe+Oe|0,j^=_<<13|_>>>32-13,_=j+oe|0,Y^=_<<18|_>>>32-18,_=Be+ee|0,le^=_<<7|_>>>32-7,_=le+Be|0,H^=_<<9|_>>>32-9,_=H+le|0,ee^=_<<13|_>>>32-13,_=ee+H|0,Be^=_<<18|_>>>32-18,_=de+le|0,ge^=_<<7|_>>>32-7,_=ge+de|0,oe^=_<<9|_>>>32-9,_=oe+ge|0,le^=_<<13|_>>>32-13,_=le+oe|0,de^=_<<18|_>>>32-18,_=ie+he|0,j^=_<<7|_>>>32-7,_=j+ie|0,H^=_<<9|_>>>32-9,_=H+j|0,he^=_<<13|_>>>32-13,_=he+H|0,ie^=_<<18|_>>>32-18,_=Y+W|0,ee^=_<<7|_>>>32-7,_=ee+Y|0,J^=_<<9|_>>>32-9,_=J+ee|0,W^=_<<13|_>>>32-13,_=W+J|0,Y^=_<<18|_>>>32-18,_=Be+Oe|0,pe^=_<<7|_>>>32-7,_=pe+Be|0,Ie^=_<<9|_>>>32-9,_=Ie+pe|0,Oe^=_<<13|_>>>32-13,_=Oe+Ie|0,Be^=_<<18|_>>>32-18;de=de+m|0,ge=ge+N|0,oe=oe+R|0,le=le+Z|0,he=he+te|0,ie=ie+xe|0,j=j+ae|0,H=H+He|0,J=J+ue|0,W=W+me|0,Y=Y+Ee|0,ee=ee+De|0,pe=pe+Te|0,Ie=Ie+we|0,Oe=Oe+Se|0,Be=Be+_e|0,d[0]=de>>>0&255,d[1]=de>>>8&255,d[2]=de>>>16&255,d[3]=de>>>24&255,d[4]=ge>>>0&255,d[5]=ge>>>8&255,d[6]=ge>>>16&255,d[7]=ge>>>24&255,d[8]=oe>>>0&255,d[9]=oe>>>8&255,d[10]=oe>>>16&255,d[11]=oe>>>24&255,d[12]=le>>>0&255,d[13]=le>>>8&255,d[14]=le>>>16&255,d[15]=le>>>24&255,d[16]=he>>>0&255,d[17]=he>>>8&255,d[18]=he>>>16&255,d[19]=he>>>24&255,d[20]=ie>>>0&255,d[21]=ie>>>8&255,d[22]=ie>>>16&255,d[23]=ie>>>24&255,d[24]=j>>>0&255,d[25]=j>>>8&255,d[26]=j>>>16&255,d[27]=j>>>24&255,d[28]=H>>>0&255,d[29]=H>>>8&255,d[30]=H>>>16&255,d[31]=H>>>24&255,d[32]=J>>>0&255,d[33]=J>>>8&255,d[34]=J>>>16&255,d[35]=J>>>24&255,d[36]=W>>>0&255,d[37]=W>>>8&255,d[38]=W>>>16&255,d[39]=W>>>24&255,d[40]=Y>>>0&255,d[41]=Y>>>8&255,d[42]=Y>>>16&255,d[43]=Y>>>24&255,d[44]=ee>>>0&255,d[45]=ee>>>8&255,d[46]=ee>>>16&255,d[47]=ee>>>24&255,d[48]=pe>>>0&255,d[49]=pe>>>8&255,d[50]=pe>>>16&255,d[51]=pe>>>24&255,d[52]=Ie>>>0&255,d[53]=Ie>>>8&255,d[54]=Ie>>>16&255,d[55]=Ie>>>24&255,d[56]=Oe>>>0&255,d[57]=Oe>>>8&255,d[58]=Oe>>>16&255,d[59]=Oe>>>24&255,d[60]=Be>>>0&255,d[61]=Be>>>8&255,d[62]=Be>>>16&255,d[63]=Be>>>24&255}function B(d,b,x,f){for(var m=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,R=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Z=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,te=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,xe=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,ae=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,He=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,ue=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,me=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,Ee=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,De=x[16]&255|(x[17]&255)<<8|(x[18]&255)<<16|(x[19]&255)<<24,Te=x[20]&255|(x[21]&255)<<8|(x[22]&255)<<16|(x[23]&255)<<24,we=x[24]&255|(x[25]&255)<<8|(x[26]&255)<<16|(x[27]&255)<<24,Se=x[28]&255|(x[29]&255)<<8|(x[30]&255)<<16|(x[31]&255)<<24,_e=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,de=m,ge=N,oe=R,le=Z,he=te,ie=xe,j=ae,H=He,J=ue,W=me,Y=Ee,ee=De,pe=Te,Ie=we,Oe=Se,Be=_e,_,Ne=0;Ne<20;Ne+=2)_=de+pe|0,he^=_<<7|_>>>32-7,_=he+de|0,J^=_<<9|_>>>32-9,_=J+he|0,pe^=_<<13|_>>>32-13,_=pe+J|0,de^=_<<18|_>>>32-18,_=ie+ge|0,W^=_<<7|_>>>32-7,_=W+ie|0,Ie^=_<<9|_>>>32-9,_=Ie+W|0,ge^=_<<13|_>>>32-13,_=ge+Ie|0,ie^=_<<18|_>>>32-18,_=Y+j|0,Oe^=_<<7|_>>>32-7,_=Oe+Y|0,oe^=_<<9|_>>>32-9,_=oe+Oe|0,j^=_<<13|_>>>32-13,_=j+oe|0,Y^=_<<18|_>>>32-18,_=Be+ee|0,le^=_<<7|_>>>32-7,_=le+Be|0,H^=_<<9|_>>>32-9,_=H+le|0,ee^=_<<13|_>>>32-13,_=ee+H|0,Be^=_<<18|_>>>32-18,_=de+le|0,ge^=_<<7|_>>>32-7,_=ge+de|0,oe^=_<<9|_>>>32-9,_=oe+ge|0,le^=_<<13|_>>>32-13,_=le+oe|0,de^=_<<18|_>>>32-18,_=ie+he|0,j^=_<<7|_>>>32-7,_=j+ie|0,H^=_<<9|_>>>32-9,_=H+j|0,he^=_<<13|_>>>32-13,_=he+H|0,ie^=_<<18|_>>>32-18,_=Y+W|0,ee^=_<<7|_>>>32-7,_=ee+Y|0,J^=_<<9|_>>>32-9,_=J+ee|0,W^=_<<13|_>>>32-13,_=W+J|0,Y^=_<<18|_>>>32-18,_=Be+Oe|0,pe^=_<<7|_>>>32-7,_=pe+Be|0,Ie^=_<<9|_>>>32-9,_=Ie+pe|0,Oe^=_<<13|_>>>32-13,_=Oe+Ie|0,Be^=_<<18|_>>>32-18;d[0]=de>>>0&255,d[1]=de>>>8&255,d[2]=de>>>16&255,d[3]=de>>>24&255,d[4]=ie>>>0&255,d[5]=ie>>>8&255,d[6]=ie>>>16&255,d[7]=ie>>>24&255,d[8]=Y>>>0&255,d[9]=Y>>>8&255,d[10]=Y>>>16&255,d[11]=Y>>>24&255,d[12]=Be>>>0&255,d[13]=Be>>>8&255,d[14]=Be>>>16&255,d[15]=Be>>>24&255,d[16]=j>>>0&255,d[17]=j>>>8&255,d[18]=j>>>16&255,d[19]=j>>>24&255,d[20]=H>>>0&255,d[21]=H>>>8&255,d[22]=H>>>16&255,d[23]=H>>>24&255,d[24]=J>>>0&255,d[25]=J>>>8&255,d[26]=J>>>16&255,d[27]=J>>>24&255,d[28]=W>>>0&255,d[29]=W>>>8&255,d[30]=W>>>16&255,d[31]=W>>>24&255}function v(d,b,x,f){I(d,b,x,f)}function S(d,b,x,f){B(d,b,x,f)}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function u(d,b,x,f,m,N,R){var Z=new Uint8Array(16),te=new Uint8Array(64),xe,ae;for(ae=0;ae<16;ae++)Z[ae]=0;for(ae=0;ae<8;ae++)Z[ae]=N[ae];for(;m>=64;){for(v(te,Z,R,T),ae=0;ae<64;ae++)d[b+ae]=x[f+ae]^te[ae];for(xe=1,ae=8;ae<16;ae++)xe=xe+(Z[ae]&255)|0,Z[ae]=xe&255,xe>>>=8;m-=64,b+=64,f+=64}if(m>0)for(v(te,Z,R,T),ae=0;ae<m;ae++)d[b+ae]=x[f+ae]^te[ae];return 0}function E(d,b,x,f,m){var N=new Uint8Array(16),R=new Uint8Array(64),Z,te;for(te=0;te<16;te++)N[te]=0;for(te=0;te<8;te++)N[te]=f[te];for(;x>=64;){for(v(R,N,m,T),te=0;te<64;te++)d[b+te]=R[te];for(Z=1,te=8;te<16;te++)Z=Z+(N[te]&255)|0,N[te]=Z&255,Z>>>=8;x-=64,b+=64}if(x>0)for(v(R,N,m,T),te=0;te<x;te++)d[b+te]=R[te];return 0}function L(d,b,x,f,m){var N=new Uint8Array(32);S(N,f,m,T);for(var R=new Uint8Array(8),Z=0;Z<8;Z++)R[Z]=f[Z+16];return E(d,b,x,R,N)}function V(d,b,x,f,m,N,R){var Z=new Uint8Array(32);S(Z,N,R,T);for(var te=new Uint8Array(8),xe=0;xe<8;xe++)te[xe]=N[xe+16];return u(d,b,x,f,m,te,Z)}var X=function(d){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var b,x,f,m,N,R,Z,te;b=d[0]&255|(d[1]&255)<<8,this.r[0]=b&8191,x=d[2]&255|(d[3]&255)<<8,this.r[1]=(b>>>13|x<<3)&8191,f=d[4]&255|(d[5]&255)<<8,this.r[2]=(x>>>10|f<<6)&7939,m=d[6]&255|(d[7]&255)<<8,this.r[3]=(f>>>7|m<<9)&8191,N=d[8]&255|(d[9]&255)<<8,this.r[4]=(m>>>4|N<<12)&255,this.r[5]=N>>>1&8190,R=d[10]&255|(d[11]&255)<<8,this.r[6]=(N>>>14|R<<2)&8191,Z=d[12]&255|(d[13]&255)<<8,this.r[7]=(R>>>11|Z<<5)&8065,te=d[14]&255|(d[15]&255)<<8,this.r[8]=(Z>>>8|te<<8)&8191,this.r[9]=te>>>5&127,this.pad[0]=d[16]&255|(d[17]&255)<<8,this.pad[1]=d[18]&255|(d[19]&255)<<8,this.pad[2]=d[20]&255|(d[21]&255)<<8,this.pad[3]=d[22]&255|(d[23]&255)<<8,this.pad[4]=d[24]&255|(d[25]&255)<<8,this.pad[5]=d[26]&255|(d[27]&255)<<8,this.pad[6]=d[28]&255|(d[29]&255)<<8,this.pad[7]=d[30]&255|(d[31]&255)<<8};X.prototype.blocks=function(d,b,x){for(var f=this.fin?0:2048,m,N,R,Z,te,xe,ae,He,ue,me,Ee,De,Te,we,Se,_e,de,ge,oe,le=this.h[0],he=this.h[1],ie=this.h[2],j=this.h[3],H=this.h[4],J=this.h[5],W=this.h[6],Y=this.h[7],ee=this.h[8],pe=this.h[9],Ie=this.r[0],Oe=this.r[1],Be=this.r[2],_=this.r[3],Ne=this.r[4],$e=this.r[5],ze=this.r[6],Fe=this.r[7],Ue=this.r[8],ke=this.r[9];x>=16;)m=d[b+0]&255|(d[b+1]&255)<<8,le+=m&8191,N=d[b+2]&255|(d[b+3]&255)<<8,he+=(m>>>13|N<<3)&8191,R=d[b+4]&255|(d[b+5]&255)<<8,ie+=(N>>>10|R<<6)&8191,Z=d[b+6]&255|(d[b+7]&255)<<8,j+=(R>>>7|Z<<9)&8191,te=d[b+8]&255|(d[b+9]&255)<<8,H+=(Z>>>4|te<<12)&8191,J+=te>>>1&8191,xe=d[b+10]&255|(d[b+11]&255)<<8,W+=(te>>>14|xe<<2)&8191,ae=d[b+12]&255|(d[b+13]&255)<<8,Y+=(xe>>>11|ae<<5)&8191,He=d[b+14]&255|(d[b+15]&255)<<8,ee+=(ae>>>8|He<<8)&8191,pe+=He>>>5|f,ue=0,me=ue,me+=le*Ie,me+=he*(5*ke),me+=ie*(5*Ue),me+=j*(5*Fe),me+=H*(5*ze),ue=me>>>13,me&=8191,me+=J*(5*$e),me+=W*(5*Ne),me+=Y*(5*_),me+=ee*(5*Be),me+=pe*(5*Oe),ue+=me>>>13,me&=8191,Ee=ue,Ee+=le*Oe,Ee+=he*Ie,Ee+=ie*(5*ke),Ee+=j*(5*Ue),Ee+=H*(5*Fe),ue=Ee>>>13,Ee&=8191,Ee+=J*(5*ze),Ee+=W*(5*$e),Ee+=Y*(5*Ne),Ee+=ee*(5*_),Ee+=pe*(5*Be),ue+=Ee>>>13,Ee&=8191,De=ue,De+=le*Be,De+=he*Oe,De+=ie*Ie,De+=j*(5*ke),De+=H*(5*Ue),ue=De>>>13,De&=8191,De+=J*(5*Fe),De+=W*(5*ze),De+=Y*(5*$e),De+=ee*(5*Ne),De+=pe*(5*_),ue+=De>>>13,De&=8191,Te=ue,Te+=le*_,Te+=he*Be,Te+=ie*Oe,Te+=j*Ie,Te+=H*(5*ke),ue=Te>>>13,Te&=8191,Te+=J*(5*Ue),Te+=W*(5*Fe),Te+=Y*(5*ze),Te+=ee*(5*$e),Te+=pe*(5*Ne),ue+=Te>>>13,Te&=8191,we=ue,we+=le*Ne,we+=he*_,we+=ie*Be,we+=j*Oe,we+=H*Ie,ue=we>>>13,we&=8191,we+=J*(5*ke),we+=W*(5*Ue),we+=Y*(5*Fe),we+=ee*(5*ze),we+=pe*(5*$e),ue+=we>>>13,we&=8191,Se=ue,Se+=le*$e,Se+=he*Ne,Se+=ie*_,Se+=j*Be,Se+=H*Oe,ue=Se>>>13,Se&=8191,Se+=J*Ie,Se+=W*(5*ke),Se+=Y*(5*Ue),Se+=ee*(5*Fe),Se+=pe*(5*ze),ue+=Se>>>13,Se&=8191,_e=ue,_e+=le*ze,_e+=he*$e,_e+=ie*Ne,_e+=j*_,_e+=H*Be,ue=_e>>>13,_e&=8191,_e+=J*Oe,_e+=W*Ie,_e+=Y*(5*ke),_e+=ee*(5*Ue),_e+=pe*(5*Fe),ue+=_e>>>13,_e&=8191,de=ue,de+=le*Fe,de+=he*ze,de+=ie*$e,de+=j*Ne,de+=H*_,ue=de>>>13,de&=8191,de+=J*Be,de+=W*Oe,de+=Y*Ie,de+=ee*(5*ke),de+=pe*(5*Ue),ue+=de>>>13,de&=8191,ge=ue,ge+=le*Ue,ge+=he*Fe,ge+=ie*ze,ge+=j*$e,ge+=H*Ne,ue=ge>>>13,ge&=8191,ge+=J*_,ge+=W*Be,ge+=Y*Oe,ge+=ee*Ie,ge+=pe*(5*ke),ue+=ge>>>13,ge&=8191,oe=ue,oe+=le*ke,oe+=he*Ue,oe+=ie*Fe,oe+=j*ze,oe+=H*$e,ue=oe>>>13,oe&=8191,oe+=J*Ne,oe+=W*_,oe+=Y*Be,oe+=ee*Oe,oe+=pe*Ie,ue+=oe>>>13,oe&=8191,ue=(ue<<2)+ue|0,ue=ue+me|0,me=ue&8191,ue=ue>>>13,Ee+=ue,le=me,he=Ee,ie=De,j=Te,H=we,J=Se,W=_e,Y=de,ee=ge,pe=oe,b+=16,x-=16;this.h[0]=le,this.h[1]=he,this.h[2]=ie,this.h[3]=j,this.h[4]=H,this.h[5]=J,this.h[6]=W,this.h[7]=Y,this.h[8]=ee,this.h[9]=pe},X.prototype.finish=function(d,b){var x=new Uint16Array(10),f,m,N,R;if(this.leftover){for(R=this.leftover,this.buffer[R++]=1;R<16;R++)this.buffer[R]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(f=this.h[1]>>>13,this.h[1]&=8191,R=2;R<10;R++)this.h[R]+=f,f=this.h[R]>>>13,this.h[R]&=8191;for(this.h[0]+=f*5,f=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=f,f=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=f,x[0]=this.h[0]+5,f=x[0]>>>13,x[0]&=8191,R=1;R<10;R++)x[R]=this.h[R]+f,f=x[R]>>>13,x[R]&=8191;for(x[9]-=8192,m=(f^1)-1,R=0;R<10;R++)x[R]&=m;for(m=~m,R=0;R<10;R++)this.h[R]=this.h[R]&m|x[R];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,N=this.h[0]+this.pad[0],this.h[0]=N&65535,R=1;R<8;R++)N=(this.h[R]+this.pad[R]|0)+(N>>>16)|0,this.h[R]=N&65535;d[b+0]=this.h[0]>>>0&255,d[b+1]=this.h[0]>>>8&255,d[b+2]=this.h[1]>>>0&255,d[b+3]=this.h[1]>>>8&255,d[b+4]=this.h[2]>>>0&255,d[b+5]=this.h[2]>>>8&255,d[b+6]=this.h[3]>>>0&255,d[b+7]=this.h[3]>>>8&255,d[b+8]=this.h[4]>>>0&255,d[b+9]=this.h[4]>>>8&255,d[b+10]=this.h[5]>>>0&255,d[b+11]=this.h[5]>>>8&255,d[b+12]=this.h[6]>>>0&255,d[b+13]=this.h[6]>>>8&255,d[b+14]=this.h[7]>>>0&255,d[b+15]=this.h[7]>>>8&255},X.prototype.update=function(d,b,x){var f,m;if(this.leftover){for(m=16-this.leftover,m>x&&(m=x),f=0;f<m;f++)this.buffer[this.leftover+f]=d[b+f];if(x-=m,b+=m,this.leftover+=m,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(x>=16&&(m=x-x%16,this.blocks(d,b,m),b+=m,x-=m),x){for(f=0;f<x;f++)this.buffer[this.leftover+f]=d[b+f];this.leftover+=x}};function A(d,b,x,f,m,N){var R=new X(N);return R.update(x,f,m),R.finish(d,b),0}function P(d,b,x,f,m,N){var R=new Uint8Array(16);return A(R,0,x,f,m,N),M(d,b,R,0)}function p(d,b,x,f,m){var N;if(x<32)return-1;for(V(d,0,b,0,x,f,m),A(d,16,d,32,x-32,d),N=0;N<16;N++)d[N]=0;return 0}function D(d,b,x,f,m){var N,R=new Uint8Array(32);if(x<32||(L(R,0,32,f,m),P(b,16,b,32,x-32,R)!==0))return-1;for(V(d,0,b,0,x,f,m),N=0;N<32;N++)d[N]=0;return 0}function $(d,b){var x;for(x=0;x<16;x++)d[x]=b[x]|0}function G(d){var b,x,f=1;for(b=0;b<16;b++)x=d[b]+f+65535,f=Math.floor(x/65536),d[b]=x-f*65536;d[0]+=f-1+37*(f-1)}function Q(d,b,x){for(var f,m=~(x-1),N=0;N<16;N++)f=m&(d[N]^b[N]),d[N]^=f,b[N]^=f}function ne(d,b){var x,f,m,N=r(),R=r();for(x=0;x<16;x++)R[x]=b[x];for(G(R),G(R),G(R),f=0;f<2;f++){for(N[0]=R[0]-65517,x=1;x<15;x++)N[x]=R[x]-65535-(N[x-1]>>16&1),N[x-1]&=65535;N[15]=R[15]-32767-(N[14]>>16&1),m=N[15]>>16&1,N[14]&=65535,Q(R,N,1-m)}for(x=0;x<16;x++)d[2*x]=R[x]&255,d[2*x+1]=R[x]>>8}function Ae(d,b){var x=new Uint8Array(32),f=new Uint8Array(32);return ne(x,d),ne(f,b),z(x,0,f,0)}function Le(d){var b=new Uint8Array(32);return ne(b,d),b[0]&1}function F(d,b){var x;for(x=0;x<16;x++)d[x]=b[2*x]+(b[2*x+1]<<8);d[15]&=32767}function O(d,b,x){for(var f=0;f<16;f++)d[f]=b[f]+x[f]}function U(d,b,x){for(var f=0;f<16;f++)d[f]=b[f]-x[f]}function K(d,b,x){var f,m,N=0,R=0,Z=0,te=0,xe=0,ae=0,He=0,ue=0,me=0,Ee=0,De=0,Te=0,we=0,Se=0,_e=0,de=0,ge=0,oe=0,le=0,he=0,ie=0,j=0,H=0,J=0,W=0,Y=0,ee=0,pe=0,Ie=0,Oe=0,Be=0,_=x[0],Ne=x[1],$e=x[2],ze=x[3],Fe=x[4],Ue=x[5],ke=x[6],ut=x[7],We=x[8],nt=x[9],it=x[10],at=x[11],_t=x[12],Bt=x[13],Ot=x[14],Ct=x[15];f=b[0],N+=f*_,R+=f*Ne,Z+=f*$e,te+=f*ze,xe+=f*Fe,ae+=f*Ue,He+=f*ke,ue+=f*ut,me+=f*We,Ee+=f*nt,De+=f*it,Te+=f*at,we+=f*_t,Se+=f*Bt,_e+=f*Ot,de+=f*Ct,f=b[1],R+=f*_,Z+=f*Ne,te+=f*$e,xe+=f*ze,ae+=f*Fe,He+=f*Ue,ue+=f*ke,me+=f*ut,Ee+=f*We,De+=f*nt,Te+=f*it,we+=f*at,Se+=f*_t,_e+=f*Bt,de+=f*Ot,ge+=f*Ct,f=b[2],Z+=f*_,te+=f*Ne,xe+=f*$e,ae+=f*ze,He+=f*Fe,ue+=f*Ue,me+=f*ke,Ee+=f*ut,De+=f*We,Te+=f*nt,we+=f*it,Se+=f*at,_e+=f*_t,de+=f*Bt,ge+=f*Ot,oe+=f*Ct,f=b[3],te+=f*_,xe+=f*Ne,ae+=f*$e,He+=f*ze,ue+=f*Fe,me+=f*Ue,Ee+=f*ke,De+=f*ut,Te+=f*We,we+=f*nt,Se+=f*it,_e+=f*at,de+=f*_t,ge+=f*Bt,oe+=f*Ot,le+=f*Ct,f=b[4],xe+=f*_,ae+=f*Ne,He+=f*$e,ue+=f*ze,me+=f*Fe,Ee+=f*Ue,De+=f*ke,Te+=f*ut,we+=f*We,Se+=f*nt,_e+=f*it,de+=f*at,ge+=f*_t,oe+=f*Bt,le+=f*Ot,he+=f*Ct,f=b[5],ae+=f*_,He+=f*Ne,ue+=f*$e,me+=f*ze,Ee+=f*Fe,De+=f*Ue,Te+=f*ke,we+=f*ut,Se+=f*We,_e+=f*nt,de+=f*it,ge+=f*at,oe+=f*_t,le+=f*Bt,he+=f*Ot,ie+=f*Ct,f=b[6],He+=f*_,ue+=f*Ne,me+=f*$e,Ee+=f*ze,De+=f*Fe,Te+=f*Ue,we+=f*ke,Se+=f*ut,_e+=f*We,de+=f*nt,ge+=f*it,oe+=f*at,le+=f*_t,he+=f*Bt,ie+=f*Ot,j+=f*Ct,f=b[7],ue+=f*_,me+=f*Ne,Ee+=f*$e,De+=f*ze,Te+=f*Fe,we+=f*Ue,Se+=f*ke,_e+=f*ut,de+=f*We,ge+=f*nt,oe+=f*it,le+=f*at,he+=f*_t,ie+=f*Bt,j+=f*Ot,H+=f*Ct,f=b[8],me+=f*_,Ee+=f*Ne,De+=f*$e,Te+=f*ze,we+=f*Fe,Se+=f*Ue,_e+=f*ke,de+=f*ut,ge+=f*We,oe+=f*nt,le+=f*it,he+=f*at,ie+=f*_t,j+=f*Bt,H+=f*Ot,J+=f*Ct,f=b[9],Ee+=f*_,De+=f*Ne,Te+=f*$e,we+=f*ze,Se+=f*Fe,_e+=f*Ue,de+=f*ke,ge+=f*ut,oe+=f*We,le+=f*nt,he+=f*it,ie+=f*at,j+=f*_t,H+=f*Bt,J+=f*Ot,W+=f*Ct,f=b[10],De+=f*_,Te+=f*Ne,we+=f*$e,Se+=f*ze,_e+=f*Fe,de+=f*Ue,ge+=f*ke,oe+=f*ut,le+=f*We,he+=f*nt,ie+=f*it,j+=f*at,H+=f*_t,J+=f*Bt,W+=f*Ot,Y+=f*Ct,f=b[11],Te+=f*_,we+=f*Ne,Se+=f*$e,_e+=f*ze,de+=f*Fe,ge+=f*Ue,oe+=f*ke,le+=f*ut,he+=f*We,ie+=f*nt,j+=f*it,H+=f*at,J+=f*_t,W+=f*Bt,Y+=f*Ot,ee+=f*Ct,f=b[12],we+=f*_,Se+=f*Ne,_e+=f*$e,de+=f*ze,ge+=f*Fe,oe+=f*Ue,le+=f*ke,he+=f*ut,ie+=f*We,j+=f*nt,H+=f*it,J+=f*at,W+=f*_t,Y+=f*Bt,ee+=f*Ot,pe+=f*Ct,f=b[13],Se+=f*_,_e+=f*Ne,de+=f*$e,ge+=f*ze,oe+=f*Fe,le+=f*Ue,he+=f*ke,ie+=f*ut,j+=f*We,H+=f*nt,J+=f*it,W+=f*at,Y+=f*_t,ee+=f*Bt,pe+=f*Ot,Ie+=f*Ct,f=b[14],_e+=f*_,de+=f*Ne,ge+=f*$e,oe+=f*ze,le+=f*Fe,he+=f*Ue,ie+=f*ke,j+=f*ut,H+=f*We,J+=f*nt,W+=f*it,Y+=f*at,ee+=f*_t,pe+=f*Bt,Ie+=f*Ot,Oe+=f*Ct,f=b[15],de+=f*_,ge+=f*Ne,oe+=f*$e,le+=f*ze,he+=f*Fe,ie+=f*Ue,j+=f*ke,H+=f*ut,J+=f*We,W+=f*nt,Y+=f*it,ee+=f*at,pe+=f*_t,Ie+=f*Bt,Oe+=f*Ot,Be+=f*Ct,N+=38*ge,R+=38*oe,Z+=38*le,te+=38*he,xe+=38*ie,ae+=38*j,He+=38*H,ue+=38*J,me+=38*W,Ee+=38*Y,De+=38*ee,Te+=38*pe,we+=38*Ie,Se+=38*Oe,_e+=38*Be,m=1,f=N+m+65535,m=Math.floor(f/65536),N=f-m*65536,f=R+m+65535,m=Math.floor(f/65536),R=f-m*65536,f=Z+m+65535,m=Math.floor(f/65536),Z=f-m*65536,f=te+m+65535,m=Math.floor(f/65536),te=f-m*65536,f=xe+m+65535,m=Math.floor(f/65536),xe=f-m*65536,f=ae+m+65535,m=Math.floor(f/65536),ae=f-m*65536,f=He+m+65535,m=Math.floor(f/65536),He=f-m*65536,f=ue+m+65535,m=Math.floor(f/65536),ue=f-m*65536,f=me+m+65535,m=Math.floor(f/65536),me=f-m*65536,f=Ee+m+65535,m=Math.floor(f/65536),Ee=f-m*65536,f=De+m+65535,m=Math.floor(f/65536),De=f-m*65536,f=Te+m+65535,m=Math.floor(f/65536),Te=f-m*65536,f=we+m+65535,m=Math.floor(f/65536),we=f-m*65536,f=Se+m+65535,m=Math.floor(f/65536),Se=f-m*65536,f=_e+m+65535,m=Math.floor(f/65536),_e=f-m*65536,f=de+m+65535,m=Math.floor(f/65536),de=f-m*65536,N+=m-1+37*(m-1),m=1,f=N+m+65535,m=Math.floor(f/65536),N=f-m*65536,f=R+m+65535,m=Math.floor(f/65536),R=f-m*65536,f=Z+m+65535,m=Math.floor(f/65536),Z=f-m*65536,f=te+m+65535,m=Math.floor(f/65536),te=f-m*65536,f=xe+m+65535,m=Math.floor(f/65536),xe=f-m*65536,f=ae+m+65535,m=Math.floor(f/65536),ae=f-m*65536,f=He+m+65535,m=Math.floor(f/65536),He=f-m*65536,f=ue+m+65535,m=Math.floor(f/65536),ue=f-m*65536,f=me+m+65535,m=Math.floor(f/65536),me=f-m*65536,f=Ee+m+65535,m=Math.floor(f/65536),Ee=f-m*65536,f=De+m+65535,m=Math.floor(f/65536),De=f-m*65536,f=Te+m+65535,m=Math.floor(f/65536),Te=f-m*65536,f=we+m+65535,m=Math.floor(f/65536),we=f-m*65536,f=Se+m+65535,m=Math.floor(f/65536),Se=f-m*65536,f=_e+m+65535,m=Math.floor(f/65536),_e=f-m*65536,f=de+m+65535,m=Math.floor(f/65536),de=f-m*65536,N+=m-1+37*(m-1),d[0]=N,d[1]=R,d[2]=Z,d[3]=te,d[4]=xe,d[5]=ae,d[6]=He,d[7]=ue,d[8]=me,d[9]=Ee,d[10]=De,d[11]=Te,d[12]=we,d[13]=Se,d[14]=_e,d[15]=de}function re(d,b){K(d,b,b)}function fe(d,b){var x=r(),f;for(f=0;f<16;f++)x[f]=b[f];for(f=253;f>=0;f--)re(x,x),f!==2&&f!==4&&K(x,x,b);for(f=0;f<16;f++)d[f]=x[f]}function se(d,b){var x=r(),f;for(f=0;f<16;f++)x[f]=b[f];for(f=250;f>=0;f--)re(x,x),f!==1&&K(x,x,b);for(f=0;f<16;f++)d[f]=x[f]}function ce(d,b,x){var f=new Uint8Array(32),m=new Float64Array(80),N,R,Z=r(),te=r(),xe=r(),ae=r(),He=r(),ue=r();for(R=0;R<31;R++)f[R]=b[R];for(f[31]=b[31]&127|64,f[0]&=248,F(m,x),R=0;R<16;R++)te[R]=m[R],ae[R]=Z[R]=xe[R]=0;for(Z[0]=ae[0]=1,R=254;R>=0;--R)N=f[R>>>3]>>>(R&7)&1,Q(Z,te,N),Q(xe,ae,N),O(He,Z,xe),U(Z,Z,xe),O(xe,te,ae),U(te,te,ae),re(ae,He),re(ue,Z),K(Z,xe,Z),K(xe,te,He),O(He,Z,xe),U(Z,Z,xe),re(te,Z),U(xe,ae,ue),K(Z,xe,c),O(Z,Z,ae),K(xe,xe,Z),K(Z,ae,ue),K(ae,te,m),re(te,He),Q(Z,te,N),Q(xe,ae,N);for(R=0;R<16;R++)m[R+16]=Z[R],m[R+32]=xe[R],m[R+48]=te[R],m[R+64]=ae[R];var me=m.subarray(32),Ee=m.subarray(16);return fe(me,me),K(Ee,Ee,me),ne(d,Ee),0}function be(d,b){return ce(d,b,a)}function Pe(d,b){return n(b,32),be(d,b)}function Me(d,b,x){var f=new Uint8Array(32);return ce(f,x,b),S(d,i,f,T)}var Ve=p,It=D;function zt(d,b,x,f,m,N){var R=new Uint8Array(32);return Me(R,m,N),Ve(d,b,x,f,R)}function cr(d,b,x,f,m,N){var R=new Uint8Array(32);return Me(R,m,N),It(d,b,x,f,R)}var gr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sr(d,b,x,f){for(var m=new Int32Array(16),N=new Int32Array(16),R,Z,te,xe,ae,He,ue,me,Ee,De,Te,we,Se,_e,de,ge,oe,le,he,ie,j,H,J,W,Y,ee,pe=d[0],Ie=d[1],Oe=d[2],Be=d[3],_=d[4],Ne=d[5],$e=d[6],ze=d[7],Fe=b[0],Ue=b[1],ke=b[2],ut=b[3],We=b[4],nt=b[5],it=b[6],at=b[7],_t=0;f>=128;){for(he=0;he<16;he++)ie=8*he+_t,m[he]=x[ie+0]<<24|x[ie+1]<<16|x[ie+2]<<8|x[ie+3],N[he]=x[ie+4]<<24|x[ie+5]<<16|x[ie+6]<<8|x[ie+7];for(he=0;he<80;he++)if(R=pe,Z=Ie,te=Oe,xe=Be,ae=_,He=Ne,ue=$e,me=ze,Ee=Fe,De=Ue,Te=ke,we=ut,Se=We,_e=nt,de=it,ge=at,j=ze,H=at,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=(_>>>14|We<<32-14)^(_>>>18|We<<32-18)^(We>>>41-32|_<<32-(41-32)),H=(We>>>14|_<<32-14)^(We>>>18|_<<32-18)^(_>>>41-32|We<<32-(41-32)),J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,j=_&Ne^~_&$e,H=We&nt^~We&it,J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,j=gr[he*2],H=gr[he*2+1],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,j=m[he%16],H=N[he%16],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,oe=Y&65535|ee<<16,le=J&65535|W<<16,j=oe,H=le,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=(pe>>>28|Fe<<32-28)^(Fe>>>34-32|pe<<32-(34-32))^(Fe>>>39-32|pe<<32-(39-32)),H=(Fe>>>28|pe<<32-28)^(pe>>>34-32|Fe<<32-(34-32))^(pe>>>39-32|Fe<<32-(39-32)),J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,j=pe&Ie^pe&Oe^Ie&Oe,H=Fe&Ue^Fe&ke^Ue&ke,J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,me=Y&65535|ee<<16,ge=J&65535|W<<16,j=xe,H=we,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=oe,H=le,J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,xe=Y&65535|ee<<16,we=J&65535|W<<16,Ie=R,Oe=Z,Be=te,_=xe,Ne=ae,$e=He,ze=ue,pe=me,Ue=Ee,ke=De,ut=Te,We=we,nt=Se,it=_e,at=de,Fe=ge,he%16===15)for(ie=0;ie<16;ie++)j=m[ie],H=N[ie],J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=m[(ie+9)%16],H=N[(ie+9)%16],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,oe=m[(ie+1)%16],le=N[(ie+1)%16],j=(oe>>>1|le<<32-1)^(oe>>>8|le<<32-8)^oe>>>7,H=(le>>>1|oe<<32-1)^(le>>>8|oe<<32-8)^(le>>>7|oe<<32-7),J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,oe=m[(ie+14)%16],le=N[(ie+14)%16],j=(oe>>>19|le<<32-19)^(le>>>61-32|oe<<32-(61-32))^oe>>>6,H=(le>>>19|oe<<32-19)^(oe>>>61-32|le<<32-(61-32))^(le>>>6|oe<<32-6),J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,m[ie]=Y&65535|ee<<16,N[ie]=J&65535|W<<16;j=pe,H=Fe,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[0],H=b[0],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[0]=pe=Y&65535|ee<<16,b[0]=Fe=J&65535|W<<16,j=Ie,H=Ue,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[1],H=b[1],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[1]=Ie=Y&65535|ee<<16,b[1]=Ue=J&65535|W<<16,j=Oe,H=ke,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[2],H=b[2],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[2]=Oe=Y&65535|ee<<16,b[2]=ke=J&65535|W<<16,j=Be,H=ut,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[3],H=b[3],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[3]=Be=Y&65535|ee<<16,b[3]=ut=J&65535|W<<16,j=_,H=We,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[4],H=b[4],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[4]=_=Y&65535|ee<<16,b[4]=We=J&65535|W<<16,j=Ne,H=nt,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[5],H=b[5],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[5]=Ne=Y&65535|ee<<16,b[5]=nt=J&65535|W<<16,j=$e,H=it,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[6],H=b[6],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[6]=$e=Y&65535|ee<<16,b[6]=it=J&65535|W<<16,j=ze,H=at,J=H&65535,W=H>>>16,Y=j&65535,ee=j>>>16,j=d[7],H=b[7],J+=H&65535,W+=H>>>16,Y+=j&65535,ee+=j>>>16,W+=J>>>16,Y+=W>>>16,ee+=Y>>>16,d[7]=ze=Y&65535|ee<<16,b[7]=at=J&65535|W<<16,_t+=128,f-=128}return f}function q(d,b,x){var f=new Int32Array(8),m=new Int32Array(8),N=new Uint8Array(256),R,Z=x;for(f[0]=1779033703,f[1]=3144134277,f[2]=1013904242,f[3]=2773480762,f[4]=1359893119,f[5]=2600822924,f[6]=528734635,f[7]=1541459225,m[0]=4089235720,m[1]=2227873595,m[2]=4271175723,m[3]=1595750129,m[4]=2917565137,m[5]=725511199,m[6]=4215389547,m[7]=327033209,Sr(f,m,b,x),x%=128,R=0;R<x;R++)N[R]=b[Z-x+R];for(N[x]=128,x=256-128*(x<112?1:0),N[x-9]=0,C(N,x-8,Z/536870912|0,Z<<3),Sr(f,m,N,x),R=0;R<8;R++)C(d,8*R,f[R],m[R]);return 0}function et(d,b){var x=r(),f=r(),m=r(),N=r(),R=r(),Z=r(),te=r(),xe=r(),ae=r();U(x,d[1],d[0]),U(ae,b[1],b[0]),K(x,x,ae),O(f,d[0],d[1]),O(ae,b[0],b[1]),K(f,f,ae),K(m,d[3],b[3]),K(m,m,h),K(N,d[2],b[2]),O(N,N,N),U(R,f,x),U(Z,N,m),O(te,N,m),O(xe,f,x),K(d[0],R,Z),K(d[1],xe,te),K(d[2],te,Z),K(d[3],R,xe)}function ht(d,b,x){var f;for(f=0;f<4;f++)Q(d[f],b[f],x)}function xt(d,b){var x=r(),f=r(),m=r();fe(m,b[2]),K(x,b[0],m),K(f,b[1],m),ne(d,f),d[31]^=Le(x)<<7}function bt(d,b,x){var f,m;for($(d[0],o),$(d[1],s),$(d[2],s),$(d[3],o),m=255;m>=0;--m)f=x[m/8|0]>>(m&7)&1,ht(d,b,f),et(b,d),et(d,d),ht(d,b,f)}function st(d,b){var x=[r(),r(),r(),r()];$(x[0],g),$(x[1],y),$(x[2],s),K(x[3],g,y),bt(d,x,b)}function gt(d,b,x){var f=new Uint8Array(64),m=[r(),r(),r(),r()],N;for(x||n(b,32),q(f,b,32),f[0]&=248,f[31]&=127,f[31]|=64,st(m,f),xt(d,m),N=0;N<32;N++)b[N+32]=d[N];return 0}var ft=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function yt(d,b){var x,f,m,N;for(f=63;f>=32;--f){for(x=0,m=f-32,N=f-12;m<N;++m)b[m]+=x-16*b[f]*ft[m-(f-32)],x=Math.floor((b[m]+128)/256),b[m]-=x*256;b[m]+=x,b[f]=0}for(x=0,m=0;m<32;m++)b[m]+=x-(b[31]>>4)*ft[m],x=b[m]>>8,b[m]&=255;for(m=0;m<32;m++)b[m]-=x*ft[m];for(f=0;f<32;f++)b[f+1]+=b[f]>>8,d[f]=b[f]&255}function pt(d){var b=new Float64Array(64),x;for(x=0;x<64;x++)b[x]=d[x];for(x=0;x<64;x++)d[x]=0;yt(d,b)}function wt(d,b,x,f){var m=new Uint8Array(64),N=new Uint8Array(64),R=new Uint8Array(64),Z,te,xe=new Float64Array(64),ae=[r(),r(),r(),r()];q(m,f,32),m[0]&=248,m[31]&=127,m[31]|=64;var He=x+64;for(Z=0;Z<x;Z++)d[64+Z]=b[Z];for(Z=0;Z<32;Z++)d[32+Z]=m[32+Z];for(q(R,d.subarray(32),x+32),pt(R),st(ae,R),xt(d,ae),Z=32;Z<64;Z++)d[Z]=f[Z];for(q(N,d,x+64),pt(N),Z=0;Z<64;Z++)xe[Z]=0;for(Z=0;Z<32;Z++)xe[Z]=R[Z];for(Z=0;Z<32;Z++)for(te=0;te<32;te++)xe[Z+te]+=N[Z]*m[te];return yt(d.subarray(32),xe),He}function St(d,b){var x=r(),f=r(),m=r(),N=r(),R=r(),Z=r(),te=r();return $(d[2],s),F(d[1],b),re(m,d[1]),K(N,m,l),U(m,m,d[2]),O(N,d[2],N),re(R,N),re(Z,R),K(te,Z,R),K(x,te,m),K(x,x,N),se(x,x),K(x,x,m),K(x,x,N),K(x,x,N),K(d[0],x,N),re(f,d[0]),K(f,f,N),Ae(f,m)&&K(d[0],d[0],w),re(f,d[0]),K(f,f,N),Ae(f,m)?-1:(Le(d[0])===b[31]>>7&&U(d[0],o,d[0]),K(d[3],d[0],d[1]),0)}function mt(d,b,x,f){var m,N=new Uint8Array(32),R=new Uint8Array(64),Z=[r(),r(),r(),r()],te=[r(),r(),r(),r()];if(x<64||St(te,f))return-1;for(m=0;m<x;m++)d[m]=b[m];for(m=0;m<32;m++)d[m+32]=f[m];if(q(R,d,x),pt(R),bt(Z,te,R),st(te,b.subarray(32)),et(Z,te),xt(N,Z),x-=64,z(b,0,N,0)){for(m=0;m<x;m++)d[m]=0;return-1}for(m=0;m<x;m++)d[m]=b[m+64];return x}var vt=32,ct=24,rt=32,tt=16,mn=32,$n=32,vn=32,En=32,Bi=32,To=ct,tc=rt,rc=tt,yr=64,Rr=32,en=64,Oi=32,Ci=64;e.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:V,crypto_stream:L,crypto_stream_salsa20_xor:u,crypto_stream_salsa20:E,crypto_onetimeauth:A,crypto_onetimeauth_verify:P,crypto_verify_16:M,crypto_verify_32:z,crypto_secretbox:p,crypto_secretbox_open:D,crypto_scalarmult:ce,crypto_scalarmult_base:be,crypto_box_beforenm:Me,crypto_box_afternm:Ve,crypto_box:zt,crypto_box_open:cr,crypto_box_keypair:Pe,crypto_hash:q,crypto_sign:wt,crypto_sign_keypair:gt,crypto_sign_open:mt,crypto_secretbox_KEYBYTES:vt,crypto_secretbox_NONCEBYTES:ct,crypto_secretbox_ZEROBYTES:rt,crypto_secretbox_BOXZEROBYTES:tt,crypto_scalarmult_BYTES:mn,crypto_scalarmult_SCALARBYTES:$n,crypto_box_PUBLICKEYBYTES:vn,crypto_box_SECRETKEYBYTES:En,crypto_box_BEFORENMBYTES:Bi,crypto_box_NONCEBYTES:To,crypto_box_ZEROBYTES:tc,crypto_box_BOXZEROBYTES:rc,crypto_sign_BYTES:yr,crypto_sign_PUBLICKEYBYTES:Rr,crypto_sign_SECRETKEYBYTES:en,crypto_sign_SEEDBYTES:Oi,crypto_hash_BYTES:Ci,gf:r,D:l,L:ft,pack25519:ne,unpack25519:F,M:K,A:O,S:re,Z:U,pow2523:se,add:et,set25519:$,modL:yt,scalarmult:bt,scalarbase:st};function Do(d,b){if(d.length!==vt)throw new Error("bad key size");if(b.length!==ct)throw new Error("bad nonce size")}function nc(d,b){if(d.length!==vn)throw new Error("bad public key size");if(b.length!==En)throw new Error("bad secret key size")}function Gt(){for(var d=0;d<arguments.length;d++)if(!(arguments[d]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Io(d){for(var b=0;b<d.length;b++)d[b]=0}e.randomBytes=function(d){var b=new Uint8Array(d);return n(b,d),b},e.secretbox=function(d,b,x){Gt(d,b,x),Do(x,b);for(var f=new Uint8Array(rt+d.length),m=new Uint8Array(f.length),N=0;N<d.length;N++)f[N+rt]=d[N];return p(m,f,f.length,b,x),m.subarray(tt)},e.secretbox.open=function(d,b,x){Gt(d,b,x),Do(x,b);for(var f=new Uint8Array(tt+d.length),m=new Uint8Array(f.length),N=0;N<d.length;N++)f[N+tt]=d[N];return f.length<32||D(m,f,f.length,b,x)!==0?null:m.subarray(rt)},e.secretbox.keyLength=vt,e.secretbox.nonceLength=ct,e.secretbox.overheadLength=tt,e.scalarMult=function(d,b){if(Gt(d,b),d.length!==$n)throw new Error("bad n size");if(b.length!==mn)throw new Error("bad p size");var x=new Uint8Array(mn);return ce(x,d,b),x},e.scalarMult.base=function(d){if(Gt(d),d.length!==$n)throw new Error("bad n size");var b=new Uint8Array(mn);return be(b,d),b},e.scalarMult.scalarLength=$n,e.scalarMult.groupElementLength=mn,e.box=function(d,b,x,f){var m=e.box.before(x,f);return e.secretbox(d,b,m)},e.box.before=function(d,b){Gt(d,b),nc(d,b);var x=new Uint8Array(Bi);return Me(x,d,b),x},e.box.after=e.secretbox,e.box.open=function(d,b,x,f){var m=e.box.before(x,f);return e.secretbox.open(d,b,m)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var d=new Uint8Array(vn),b=new Uint8Array(En);return Pe(d,b),{publicKey:d,secretKey:b}},e.box.keyPair.fromSecretKey=function(d){if(Gt(d),d.length!==En)throw new Error("bad secret key size");var b=new Uint8Array(vn);return be(b,d),{publicKey:b,secretKey:new Uint8Array(d)}},e.box.publicKeyLength=vn,e.box.secretKeyLength=En,e.box.sharedKeyLength=Bi,e.box.nonceLength=To,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(d,b){if(Gt(d,b),b.length!==en)throw new Error("bad secret key size");var x=new Uint8Array(yr+d.length);return wt(x,d,d.length,b),x},e.sign.open=function(d,b){if(Gt(d,b),b.length!==Rr)throw new Error("bad public key size");var x=new Uint8Array(d.length),f=mt(x,d,d.length,b);if(f<0)return null;for(var m=new Uint8Array(f),N=0;N<m.length;N++)m[N]=x[N];return m},e.sign.detached=function(d,b){for(var x=e.sign(d,b),f=new Uint8Array(yr),m=0;m<f.length;m++)f[m]=x[m];return f},e.sign.detached.verify=function(d,b,x){if(Gt(d,b,x),b.length!==yr)throw new Error("bad signature size");if(x.length!==Rr)throw new Error("bad public key size");var f=new Uint8Array(yr+d.length),m=new Uint8Array(yr+d.length),N;for(N=0;N<yr;N++)f[N]=b[N];for(N=0;N<d.length;N++)f[N+yr]=d[N];return mt(m,f,f.length,x)>=0},e.sign.keyPair=function(){var d=new Uint8Array(Rr),b=new Uint8Array(en);return gt(d,b),{publicKey:d,secretKey:b}},e.sign.keyPair.fromSecretKey=function(d){if(Gt(d),d.length!==en)throw new Error("bad secret key size");for(var b=new Uint8Array(Rr),x=0;x<b.length;x++)b[x]=d[32+x];return{publicKey:b,secretKey:new Uint8Array(d)}},e.sign.keyPair.fromSeed=function(d){if(Gt(d),d.length!==Oi)throw new Error("bad seed size");for(var b=new Uint8Array(Rr),x=new Uint8Array(en),f=0;f<32;f++)x[f]=d[f];return gt(b,x,!0),{publicKey:b,secretKey:x}},e.sign.publicKeyLength=Rr,e.sign.secretKeyLength=en,e.sign.seedLength=Oi,e.sign.signatureLength=yr,e.hash=function(d){Gt(d);var b=new Uint8Array(Ci);return q(b,d,d.length),b},e.hash.hashLength=Ci,e.verify=function(d,b){return Gt(d,b),d.length===0||b.length===0||d.length!==b.length?!1:k(d,0,b,0,d.length)===0},e.setPRNG=function(d){n=d},function(){var d=typeof self<"u"?self.crypto||self.msCrypto:null;if(d&&d.getRandomValues){var b=65536;e.setPRNG(function(x,f){var m,N=new Uint8Array(f);for(m=0;m<f;m+=b)d.getRandomValues(N.subarray(m,m+Math.min(f-m,b)));for(m=0;m<f;m++)x[m]=N[m];Io(N)})}else typeof ma<"u"&&(d=Ir,d&&d.randomBytes&&e.setPRNG(function(x,f){var m,N=d.randomBytes(f);for(m=0;m<f;m++)x[m]=N[m];Io(N)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(_0);var y1=_0.exports,S0={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())})(Ge,function(){var e={};function r(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var i,a=unescape(encodeURIComponent(n)),o=new Uint8Array(a.length);for(i=0;i<a.length;i++)o[i]=a.charCodeAt(i);return o},e.encodeUTF8=function(n){var i,a=[];for(i=0;i<n.length;i++)a.push(String.fromCharCode(n[i]));return decodeURIComponent(escape(a.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(n){return Buffer.from(n).toString("base64")},e.decodeBase64=function(n){return r(n),new Uint8Array(Array.prototype.slice.call(Buffer.from(n,"base64"),0))}):(e.encodeBase64=function(n){return new Buffer(n).toString("base64")},e.decodeBase64=function(n){return r(n),new Uint8Array(Array.prototype.slice.call(new Buffer(n,"base64"),0))}):(e.encodeBase64=function(n){var i,a=[],o=n.length;for(i=0;i<o;i++)a.push(String.fromCharCode(n[i]));return btoa(a.join(""))},e.decodeBase64=function(n){r(n);var i,a=atob(n),o=new Uint8Array(a.length);for(i=0;i<a.length;i++)o[i]=a.charCodeAt(i);return o}),e})})(S0);var p1=S0.exports,m1=Ge&&Ge.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v1=Ge&&Ge.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),A0=Ge&&Ge.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m1(e,t,r);return v1(e,t),e};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.getEncryptionPublicKey=Yt.decryptSafely=Yt.decrypt=Yt.encryptSafely=Yt.encrypt=void 0;const Vr=A0(y1),rr=A0(p1),xr=Tt;function P0({publicKey:t,data:e,version:r}){if((0,xr.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,xr.isNullish)(e))throw new Error("Missing data parameter");if((0,xr.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");const n=Vr.box.keyPair();let i;try{i=rr.decodeBase64(t)}catch{throw new Error("Bad public key")}const a=rr.decodeUTF8(e),o=Vr.randomBytes(Vr.box.nonceLength),s=Vr.box(a,o,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:rr.encodeBase64(o),ephemPublicKey:rr.encodeBase64(n.publicKey),ciphertext:rr.encodeBase64(s)}}default:throw new Error("Encryption type/version not supported")}}Yt.encrypt=P0;function E1({publicKey:t,data:e,version:r}){if((0,xr.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,xr.isNullish)(e))throw new Error("Missing data parameter");if((0,xr.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof e=="object"&&e&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const a={data:e,padding:""},s=Buffer.byteLength(JSON.stringify(a),"utf-8")%n;let c=0;s>0&&(c=n-s-i),a.padding="0".repeat(c);const l=JSON.stringify(a);return P0({publicKey:t,data:l,version:r})}Yt.encryptSafely=E1;function T0({encryptedData:t,privateKey:e}){if((0,xr.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,xr.isNullish)(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{const r=D0(e),n=Vr.box.keyPair.fromSecretKey(r).secretKey,i=rr.decodeBase64(t.nonce),a=rr.decodeBase64(t.ciphertext),o=rr.decodeBase64(t.ephemPublicKey),s=Vr.box.open(a,i,o,n);try{if(!s)throw new Error;const c=rr.encodeUTF8(s);if(!c)throw new Error;return c}catch(c){throw c&&typeof c.message=="string"&&c.message.length?new Error(`Decryption failed: ${c.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Yt.decrypt=T0;function w1({encryptedData:t,privateKey:e}){if((0,xr.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,xr.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse(T0({encryptedData:t,privateKey:e})).data}Yt.decryptSafely=w1;function _1(t){const e=D0(t),r=Vr.box.keyPair.fromSecretKey(e).publicKey;return rr.encodeBase64(r)}Yt.getEncryptionPublicKey=_1;function D0(t){const e=Buffer.from(t,"hex").toString("base64");return rr.decodeBase64(e)}(function(t){var e=Ge&&Ge.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,c)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),r=Ge&&Ge.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,r(Or,t),r(d0,t),r(Yt,t);var n=Tt;Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(Lt);var _r={},lt={},I0=Ir,Za=lt.ValidationError=function(e,r,n,i,a,o){if(Array.isArray(i)?(this.path=i,this.property=i.reduce(function(c,l){return c+B0(l)},"instance")):i!==void 0&&(this.property=i),e&&(this.message=e),n){var s=n.$id||n.id;this.schema=s||n}r!==void 0&&(this.instance=r),this.name=a,this.argument=o,this.stack=this.toString()};Za.prototype.toString=function(){return this.property+" "+this.message};var Ii=lt.ValidatorResult=function(e,r,n,i){this.instance=e,this.schema=r,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&n.disableFormat===!0};Ii.prototype.addError=function(e){var r;if(typeof e=="string")r=new Za(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");r=new Za(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(r),this.throwFirst)throw new Yr(this);if(this.throwError)throw r;return r};Ii.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))};function S1(t,e){return e+": "+t.toString()+`
`}Ii.prototype.toString=function(e){return this.errors.map(S1).join("")};Object.defineProperty(Ii.prototype,"valid",{get:function(){return!this.errors.length}});lt.ValidatorResultError=Yr;function Yr(t){Error.captureStackTrace&&Error.captureStackTrace(this,Yr),this.instance=t.instance,this.schema=t.schema,this.options=t.options,this.errors=t.errors}Yr.prototype=new Error;Yr.prototype.constructor=Yr;Yr.prototype.name="Validation Error";var Ws=lt.SchemaError=function t(e,r){this.message=e,this.schema=r,Error.call(this,e),Error.captureStackTrace(this,t)};Ws.prototype=Object.create(Error.prototype,{constructor:{value:Ws,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Ya=lt.SchemaContext=function(e,r,n,i,a){this.schema=e,this.options=r,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce(function(o,s){return o+B0(s)},"instance")):this.propertyPath=n,this.base=i,this.schemas=a};Ya.prototype.resolve=function(e){return I0.resolve(this.base,e)};Ya.prototype.makeChild=function(e,r){var n=r===void 0?this.path:this.path.concat([r]),i=e.$id||e.id,a=I0.resolve(this.base,i||""),o=new Ya(e,this.options,n,a,Object.create(this.schemas));return i&&!o.schemas[a]&&(o.schemas[a]=e),o};var nr=lt.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(t){return typeof t=="string"&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)},regex:function(t){var e=!0;try{new RegExp(t)}catch{e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};nr.regexp=nr.regex;nr.pattern=nr.regex;nr.ipv4=nr["ip-address"];lt.isFormat=function(e,r,n){if(typeof e=="string"&&nr[r]!==void 0){if(nr[r]instanceof RegExp)return nr[r].test(e);if(typeof nr[r]=="function")return nr[r](e)}else if(n&&n.customFormats&&typeof n.customFormats[r]=="function")return n.customFormats[r](e);return!0};var B0=lt.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};lt.deepCompareStrict=function t(e,r){if(typeof e!=typeof r)return!1;if(Array.isArray(e))return!Array.isArray(r)||e.length!==r.length?!1:e.every(function(a,o){return t(e[o],r[o])});if(typeof e=="object"){if(!e||!r)return e===r;var n=Object.keys(e),i=Object.keys(r);return n.length!==i.length?!1:n.every(function(a){return t(e[a],r[a])})}return e===r};function A1(t,e,r,n){typeof r=="object"?e[n]=Eo(t[n],r):t.indexOf(r)===-1&&e.push(r)}function P1(t,e,r){e[r]=t[r]}function T1(t,e,r,n){typeof e[n]!="object"||!e[n]?r[n]=e[n]:t[n]?r[n]=Eo(t[n],e[n]):r[n]=e[n]}function Eo(t,e){var r=Array.isArray(e),n=r&&[]||{};return r?(t=t||[],n=n.concat(t),e.forEach(A1.bind(null,t,n))):(t&&typeof t=="object"&&Object.keys(t).forEach(P1.bind(null,t,n)),Object.keys(e).forEach(T1.bind(null,t,e,n))),n}lt.deepMerge=Eo;lt.objectGetPath=function(e,r){for(var n=r.split("/").slice(1),i;typeof(i=n.shift())=="string";){var a=decodeURIComponent(i.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e};function D1(t){return"/"+encodeURIComponent(t).replace(/~/g,"%7E")}lt.encodePath=function(e){return e.map(D1).join("")};lt.getDecimalPlaces=function(e){var r=0;if(isNaN(e))return r;typeof e!="number"&&(e=Number(e));var n=e.toString().split("e");if(n.length===2){if(n[1][0]!=="-")return r;r=Number(n[1].slice(1))}var i=n[0].split(".");return i.length===2&&(r+=i[1].length),r};lt.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"};var Wt=lt,Ke=Wt.ValidatorResult,Lr=Wt.SchemaError,wo={};wo.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var qe=wo.validators={};qe.type=function(e,r,n,i){if(e===void 0)return null;var a=new Ke(e,r,n,i),o=Array.isArray(r.type)?r.type:[r.type];if(!o.some(this.testType.bind(this,e,r,n,i))){var s=o.map(function(c){if(c){var l=c.$id||c.id;return l?"<"+l+">":c+""}});a.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return a};function _o(t,e,r,n,i){var a=e.throwError,o=e.throwAll;e.throwError=!1,e.throwAll=!1;var s=this.validateSchema(t,i,e,r);return e.throwError=a,e.throwAll=o,!s.valid&&n instanceof Function&&n(s),s.valid}qe.anyOf=function(e,r,n,i){if(e===void 0)return null;var a=new Ke(e,r,n,i),o=new Ke(e,r,n,i);if(!Array.isArray(r.anyOf))throw new Lr("anyOf must be an array");if(!r.anyOf.some(_o.bind(this,e,n,i,function(c){o.importErrors(c)}))){var s=r.anyOf.map(function(c,l){var h=c.$id||c.id;return h?"<"+h+">":c.title&&JSON.stringify(c.title)||c.$ref&&"<"+c.$ref+">"||"[subschema "+l+"]"});n.nestedErrors&&a.importErrors(o),a.addError({name:"anyOf",argument:s,message:"is not any of "+s.join(",")})}return a};qe.allOf=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.allOf))throw new Lr("allOf must be an array");var a=new Ke(e,r,n,i),o=this;return r.allOf.forEach(function(s,c){var l=o.validateSchema(e,s,n,i);if(!l.valid){var h=s.$id||s.id,g=h||s.title&&JSON.stringify(s.title)||s.$ref&&"<"+s.$ref+">"||"[subschema "+c+"]";a.addError({name:"allOf",argument:{id:g,length:l.errors.length,valid:l},message:"does not match allOf schema "+g+" with "+l.errors.length+" error[s]:"}),a.importErrors(l)}}),a};qe.oneOf=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.oneOf))throw new Lr("oneOf must be an array");var a=new Ke(e,r,n,i),o=new Ke(e,r,n,i),s=r.oneOf.filter(_o.bind(this,e,n,i,function(l){o.importErrors(l)})).length,c=r.oneOf.map(function(l,h){var g=l.$id||l.id;return g||l.title&&JSON.stringify(l.title)||l.$ref&&"<"+l.$ref+">"||"[subschema "+h+"]"});return s!==1&&(n.nestedErrors&&a.importErrors(o),a.addError({name:"oneOf",argument:c,message:"is not exactly one from "+c.join(",")})),a};qe.if=function(e,r,n,i){if(e===void 0)return null;if(!Wt.isSchema(r.if))throw new Error('Expected "if" keyword to be a schema');var a=_o.call(this,e,n,i,null,r.if),o=new Ke(e,r,n,i),s;if(a){if(r.then===void 0)return;if(!Wt.isSchema(r.then))throw new Error('Expected "then" keyword to be a schema');s=this.validateSchema(e,r.then,n,i.makeChild(r.then)),o.importErrors(s)}else{if(r.else===void 0)return;if(!Wt.isSchema(r.else))throw new Error('Expected "else" keyword to be a schema');s=this.validateSchema(e,r.else,n,i.makeChild(r.else)),o.importErrors(s)}return o};function So(t,e){if(Object.hasOwnProperty.call(t,e))return t[e];if(e in t){for(;t=Object.getPrototypeOf(t);)if(Object.propertyIsEnumerable.call(t,e))return t[e]}}qe.propertyNames=function(e,r,n,i){if(this.types.object(e)){var a=new Ke(e,r,n,i),o=r.propertyNames!==void 0?r.propertyNames:{};if(!Wt.isSchema(o))throw new Lr('Expected "propertyNames" to be a schema (object or boolean)');for(var s in e)if(So(e,s)!==void 0){var c=this.validateSchema(s,o,n,i.makeChild(o));a.importErrors(c)}return a}};qe.properties=function(e,r,n,i){if(this.types.object(e)){var a=new Ke(e,r,n,i),o=r.properties||{};for(var s in o){var c=o[s];if(c!==void 0){if(c===null)throw new Lr('Unexpected null, expected schema in "properties"');typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,s,c,n,i);var l=So(e,s),h=this.validateSchema(l,c,n,i.makeChild(c,s));h.instance!==a.instance[s]&&(a.instance[s]=h.instance),a.importErrors(h)}}return a}};function O0(t,e,r,n,i,a){if(this.types.object(t)&&!(e.properties&&e.properties[i]!==void 0))if(e.additionalProperties===!1)a.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var o=e.additionalProperties||{};typeof r.preValidateProperty=="function"&&r.preValidateProperty(t,i,o,r,n);var s=this.validateSchema(t[i],o,r,n.makeChild(o,i));s.instance!==a.instance[i]&&(a.instance[i]=s.instance),a.importErrors(s)}}qe.patternProperties=function(e,r,n,i){if(this.types.object(e)){var a=new Ke(e,r,n,i),o=r.patternProperties||{};for(var s in e){var c=!0;for(var l in o){var h=o[l];if(h!==void 0){if(h===null)throw new Lr('Unexpected null, expected schema in "patternProperties"');try{var g=new RegExp(l,"u")}catch{g=new RegExp(l)}if(g.test(s)){c=!1,typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,s,h,n,i);var y=this.validateSchema(e[s],h,n,i.makeChild(h,s));y.instance!==a.instance[s]&&(a.instance[s]=y.instance),a.importErrors(y)}}}c&&O0.call(this,e,r,n,i,s,a)}return a}};qe.additionalProperties=function(e,r,n,i){if(this.types.object(e)){if(r.patternProperties)return null;var a=new Ke(e,r,n,i);for(var o in e)O0.call(this,e,r,n,i,o,a);return a}};qe.minProperties=function(e,r,n,i){if(this.types.object(e)){var a=new Ke(e,r,n,i),o=Object.keys(e);return o.length>=r.minProperties||a.addError({name:"minProperties",argument:r.minProperties,message:"does not meet minimum property length of "+r.minProperties}),a}};qe.maxProperties=function(e,r,n,i){if(this.types.object(e)){var a=new Ke(e,r,n,i),o=Object.keys(e);return o.length<=r.maxProperties||a.addError({name:"maxProperties",argument:r.maxProperties,message:"does not meet maximum property length of "+r.maxProperties}),a}};qe.items=function(e,r,n,i){var a=this;if(this.types.array(e)&&r.items!==void 0){var o=new Ke(e,r,n,i);return e.every(function(s,c){if(Array.isArray(r.items))var l=r.items[c]===void 0?r.additionalItems:r.items[c];else var l=r.items;if(l===void 0)return!0;if(l===!1)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var h=a.validateSchema(s,l,n,i.makeChild(l,c));return h.instance!==o.instance[c]&&(o.instance[c]=h.instance),o.importErrors(h),!0}),o}};qe.contains=function(e,r,n,i){var a=this;if(this.types.array(e)&&r.contains!==void 0){if(!Wt.isSchema(r.contains))throw new Error('Expected "contains" keyword to be a schema');var o=new Ke(e,r,n,i),s=e.some(function(c,l){var h=a.validateSchema(c,r.contains,n,i.makeChild(r.contains,l));return h.errors.length===0});return s===!1&&o.addError({name:"contains",argument:r.contains,message:"must contain an item matching given schema"}),o}};qe.minimum=function(e,r,n,i){if(this.types.number(e)){var a=new Ke(e,r,n,i);return r.exclusiveMinimum&&r.exclusiveMinimum===!0?e>r.minimum||a.addError({name:"minimum",argument:r.minimum,message:"must be greater than "+r.minimum}):e>=r.minimum||a.addError({name:"minimum",argument:r.minimum,message:"must be greater than or equal to "+r.minimum}),a}};qe.maximum=function(e,r,n,i){if(this.types.number(e)){var a=new Ke(e,r,n,i);return r.exclusiveMaximum&&r.exclusiveMaximum===!0?e<r.maximum||a.addError({name:"maximum",argument:r.maximum,message:"must be less than "+r.maximum}):e<=r.maximum||a.addError({name:"maximum",argument:r.maximum,message:"must be less than or equal to "+r.maximum}),a}};qe.exclusiveMinimum=function(e,r,n,i){if(typeof r.exclusiveMinimum!="boolean"&&this.types.number(e)){var a=new Ke(e,r,n,i),o=e>r.exclusiveMinimum;return o||a.addError({name:"exclusiveMinimum",argument:r.exclusiveMinimum,message:"must be strictly greater than "+r.exclusiveMinimum}),a}};qe.exclusiveMaximum=function(e,r,n,i){if(typeof r.exclusiveMaximum!="boolean"&&this.types.number(e)){var a=new Ke(e,r,n,i),o=e<r.exclusiveMaximum;return o||a.addError({name:"exclusiveMaximum",argument:r.exclusiveMaximum,message:"must be strictly less than "+r.exclusiveMaximum}),a}};var C0=function(e,r,n,i,a,o){if(this.types.number(e)){var s=r[a];if(s==0)throw new Lr(a+" cannot be zero");var c=new Ke(e,r,n,i),l=Wt.getDecimalPlaces(e),h=Wt.getDecimalPlaces(s),g=Math.max(l,h),y=Math.pow(10,g);return Math.round(e*y)%Math.round(s*y)!==0&&c.addError({name:a,argument:s,message:o+JSON.stringify(s)}),c}};qe.multipleOf=function(e,r,n,i){return C0.call(this,e,r,n,i,"multipleOf","is not a multiple of (divisible by) ")};qe.divisibleBy=function(e,r,n,i){return C0.call(this,e,r,n,i,"divisibleBy","is not divisible by (multiple of) ")};qe.required=function(e,r,n,i){var a=new Ke(e,r,n,i);return e===void 0&&r.required===!0?a.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(r.required)&&r.required.forEach(function(o){So(e,o)===void 0&&a.addError({name:"required",argument:o,message:"requires property "+JSON.stringify(o)})}),a};qe.pattern=function(e,r,n,i){if(this.types.string(e)){var a=new Ke(e,r,n,i),o=r.pattern;try{var s=new RegExp(o,"u")}catch{s=new RegExp(o)}return e.match(s)||a.addError({name:"pattern",argument:r.pattern,message:"does not match pattern "+JSON.stringify(r.pattern.toString())}),a}};qe.format=function(e,r,n,i){if(e!==void 0){var a=new Ke(e,r,n,i);return!a.disableFormat&&!Wt.isFormat(e,r.format,this)&&a.addError({name:"format",argument:r.format,message:"does not conform to the "+JSON.stringify(r.format)+" format"}),a}};qe.minLength=function(e,r,n,i){if(this.types.string(e)){var a=new Ke(e,r,n,i),o=e.match(/[\uDC00-\uDFFF]/g),s=e.length-(o?o.length:0);return s>=r.minLength||a.addError({name:"minLength",argument:r.minLength,message:"does not meet minimum length of "+r.minLength}),a}};qe.maxLength=function(e,r,n,i){if(this.types.string(e)){var a=new Ke(e,r,n,i),o=e.match(/[\uDC00-\uDFFF]/g),s=e.length-(o?o.length:0);return s<=r.maxLength||a.addError({name:"maxLength",argument:r.maxLength,message:"does not meet maximum length of "+r.maxLength}),a}};qe.minItems=function(e,r,n,i){if(this.types.array(e)){var a=new Ke(e,r,n,i);return e.length>=r.minItems||a.addError({name:"minItems",argument:r.minItems,message:"does not meet minimum length of "+r.minItems}),a}};qe.maxItems=function(e,r,n,i){if(this.types.array(e)){var a=new Ke(e,r,n,i);return e.length<=r.maxItems||a.addError({name:"maxItems",argument:r.maxItems,message:"does not meet maximum length of "+r.maxItems}),a}};function I1(t,e,r){var n,i=r.length;for(n=e+1,i;n<i;n++)if(Wt.deepCompareStrict(t,r[n]))return!1;return!0}qe.uniqueItems=function(e,r,n,i){if(r.uniqueItems===!0&&this.types.array(e)){var a=new Ke(e,r,n,i);return e.every(I1)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}};qe.dependencies=function(e,r,n,i){if(this.types.object(e)){var a=new Ke(e,r,n,i);for(var o in r.dependencies)if(e[o]!==void 0){var s=r.dependencies[o],c=i.makeChild(s,o);if(typeof s=="string"&&(s=[s]),Array.isArray(s))s.forEach(function(h){e[h]===void 0&&a.addError({name:"dependencies",argument:c.propertyPath,message:"property "+h+" not found, required by "+c.propertyPath})});else{var l=this.validateSchema(e,s,n,c);a.instance!==l.instance&&(a.instance=l.instance),l&&l.errors.length&&(a.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),a.importErrors(l))}}return a}};qe.enum=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.enum))throw new Lr("enum expects an array",r);var a=new Ke(e,r,n,i);return r.enum.some(Wt.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:r.enum,message:"is not one of enum values: "+r.enum.map(String).join(",")}),a};qe.const=function(e,r,n,i){if(e===void 0)return null;var a=new Ke(e,r,n,i);return Wt.deepCompareStrict(r.const,e)||a.addError({name:"const",argument:r.const,message:"does not exactly match expected constant: "+r.const}),a};qe.not=qe.disallow=function(e,r,n,i){var a=this;if(e===void 0)return null;var o=new Ke(e,r,n,i),s=r.not||r.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach(function(c){if(a.testType(e,r,n,i,c)){var l=c&&(c.$id||c.id),h=l||c;o.addError({name:"not",argument:h,message:"is of prohibited type "+h})}}),o):null};var B1=wo,Hn={},Zs=Ir,O1=lt;Hn.SchemaScanResult=F0;function F0(t,e){this.id=t,this.ref=e}Hn.scan=function(e,r){function n(c,l){if(!(!l||typeof l!="object")){if(l.$ref){var h=Zs.resolve(c,l.$ref);s[h]=s[h]?s[h]+1:0;return}var g=l.$id||l.id,y=g?Zs.resolve(c,g):c;if(y){if(y.indexOf("#")<0&&(y+="#"),o[y]){if(!O1.deepCompareStrict(o[y],l))throw new Error("Schema <"+y+"> already exists with different definition");return o[y]}o[y]=l,y[y.length-1]=="#"&&(o[y.substring(0,y.length-1)]=l)}i(y+"/items",Array.isArray(l.items)?l.items:[l.items]),i(y+"/extends",Array.isArray(l.extends)?l.extends:[l.extends]),n(y+"/additionalItems",l.additionalItems),a(y+"/properties",l.properties),n(y+"/additionalProperties",l.additionalProperties),a(y+"/definitions",l.definitions),a(y+"/patternProperties",l.patternProperties),a(y+"/dependencies",l.dependencies),i(y+"/disallow",l.disallow),i(y+"/allOf",l.allOf),i(y+"/anyOf",l.anyOf),i(y+"/oneOf",l.oneOf),n(y+"/not",l.not)}}function i(c,l){if(Array.isArray(l))for(var h=0;h<l.length;h++)n(c+"/"+h,l[h])}function a(c,l){if(!(!l||typeof l!="object"))for(var h in l)n(c+"/"+h,l[h])}var o={},s={};return n(e,r),new F0(o,s)};var N0=Ir,M0=B1,Qr=lt,L0=Hn.scan,R0=Qr.ValidatorResult,C1=Qr.ValidatorResultError,Fn=Qr.SchemaError,U0=Qr.SchemaContext,k0="/",At=function t(){this.customFormats=Object.create(t.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(br),this.attributes=Object.create(M0.validators)};At.prototype.customFormats={};At.prototype.schemas=null;At.prototype.types=null;At.prototype.attributes=null;At.prototype.unresolvedRefs=null;At.prototype.addSchema=function(e,r){var n=this;if(!e)return null;var i=L0(r||k0,e),a=r||e.$id||e.id;for(var o in i.id)this.schemas[o]=i.id[o];for(var o in i.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter(function(s){return typeof n.schemas[s]>"u"}),this.schemas[a]};At.prototype.addSubSchemaArray=function(e,r){if(Array.isArray(r))for(var n=0;n<r.length;n++)this.addSubSchema(e,r[n])};At.prototype.addSubSchemaObject=function(e,r){if(!(!r||typeof r!="object"))for(var n in r)this.addSubSchema(e,r[n])};At.prototype.setSchemas=function(e){this.schemas=e};At.prototype.getSchema=function(e){return this.schemas[e]};At.prototype.validate=function(e,r,n,i){if(typeof r!="boolean"&&typeof r!="object"||r===null)throw new Fn("Expected `schema` to be an object or boolean");n||(n={});var a=r.$id||r.id,o=N0.resolve(n.base||k0,a||"");if(!i){i=new U0(r,n,[],o,Object.create(this.schemas)),i.schemas[o]||(i.schemas[o]=r);var s=L0(o,r);for(var c in s.id){var l=s.id[c];i.schemas[c]=l}}if(n.required&&e===void 0){var h=new R0(e,r,n,i);return h.addError("is required, but is undefined"),h}var h=this.validateSchema(e,r,n,i);if(h){if(n.throwAll&&h.errors.length)throw new C1(h)}else throw new Error("Result undefined");return h};function j0(t){var e=typeof t=="string"?t:t.$ref;return typeof e=="string"?e:!1}At.prototype.validateSchema=function(e,r,n,i){var a=new R0(e,r,n,i);if(typeof r=="boolean")r===!0?r={}:r===!1&&(r={type:[]});else if(!r)throw new Error("schema is undefined");if(r.extends)if(Array.isArray(r.extends)){var o={schema:r,ctx:i};r.extends.forEach(this.schemaTraverser.bind(this,o)),r=o.schema,o.schema=null,o.ctx=null,o=null}else r=Qr.deepMerge(r,this.superResolve(r.extends,i));var s=j0(r);if(s){var c=this.resolve(r,s,i),l=new U0(c.subschema,n,i.path,c.switchSchema,i.schemas);return this.validateSchema(e,c.subschema,n,l)}var h=n&&n.skipAttributes||[];for(var g in r)if(!M0.ignoreProperties[g]&&h.indexOf(g)<0){var y=null,w=this.attributes[g];if(w)y=w.call(this,e,r,n,i);else if(n.allowUnknownAttributes===!1)throw new Fn("Unsupported attribute: "+g,r);y&&a.importErrors(y)}if(typeof n.rewrite=="function"){var C=n.rewrite.call(this,e,r,n,i);a.instance=C}return a};At.prototype.schemaTraverser=function(e,r){e.schema=Qr.deepMerge(e.schema,this.superResolve(r,e.ctx))};At.prototype.superResolve=function(e,r){var n=j0(e);return n?this.resolve(e,n,r).subschema:e};At.prototype.resolve=function(e,r,n){if(r=n.resolve(r),n.schemas[r])return{subschema:n.schemas[r],switchSchema:r};var i=N0.parse(r),a=i&&i.hash,o=a&&a.length&&r.substr(0,r.length-a.length);if(!o||!n.schemas[o])throw new Fn("no such schema <"+r+">",e);var s=Qr.objectGetPath(n.schemas[o],a.substr(1));if(s===void 0)throw new Fn("no such schema "+a+" located in <"+o+">",e);return{subschema:s,switchSchema:r}};At.prototype.testType=function(e,r,n,i,a){if(a!==void 0){if(a===null)throw new Fn('Unexpected null in "type" keyword');if(typeof this.types[a]=="function")return this.types[a].call(this,e);if(a&&typeof a=="object"){var o=this.validateSchema(e,a,n,i);return o===void 0||!(o&&o.errors.length)}return!0}};var br=At.prototype.types={};br.string=function(e){return typeof e=="string"};br.number=function(e){return typeof e=="number"&&isFinite(e)};br.integer=function(e){return typeof e=="number"&&e%1===0};br.boolean=function(e){return typeof e=="boolean"};br.array=function(e){return Array.isArray(e)};br.null=function(e){return e===null};br.date=function(e){return e instanceof Date};br.any=function(e){return!0};br.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};var F1=At,N1=_r.Validator=F1;_r.ValidatorResult=lt.ValidatorResult;_r.ValidatorResultError=lt.ValidatorResultError;_r.ValidationError=lt.ValidationError;_r.SchemaError=lt.SchemaError;_r.SchemaScanResult=Hn.SchemaScanResult;_r.scan=Hn.scan;_r.validate=function(t,e,r){var n=new N1;return n.validate(t,e,r)};function Ys(t){return t.length===2+20*2}function M1(t){let{getAccounts:e,getPrivateKey:r,processDecryptMessage:n,processEncryptionPublicKey:i,processEthSignMessage:a,processPersonalMessage:o,processTransaction:s,processSignTransaction:c,processTypedMessage:l,processTypedMessageV3:h,processTypedMessageV4:g}=t;if(!e)throw new Error("opts.getAccounts is required");async function y(L,V){if(typeof L=="string"&&L.length>0){const A=(await e(V)).map(p=>p.toLowerCase()),P=L.toLowerCase();if(A.includes(P))return P}throw Re.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function w(L,V){V.result=await e(L)}async function C(L,V){const X=await e(L);V.result=X[0]||null}async function k(L,V){if(!s)throw Re.rpcErrors.methodNotSupported();const X=L.params[0]||{from:""};X.from=await y(X.from,L),V.result=await s(X,L)}async function M(L,V){if(!c)throw Re.rpcErrors.methodNotSupported();const X=L.params[0]||{from:""};X.from=await y(X.from,L),V.result=await c(X,L)}async function z(L,V){if(!a)throw Re.rpcErrors.methodNotSupported();const X=await y(L.params[0],L),A=L.params[1],P=L.params[2]||{},p=Ye(Ye({},P),{},{from:X,data:A});V.result=await a(p,L)}async function I(L,V){if(!l)throw Re.rpcErrors.methodNotSupported();const X=L.params[0],A=await y(L.params[1],L),P="V1",p=L.params[2]||{},D=Ye(Ye({},p),{},{from:A,data:X});V.result=await l(D,L,P)}async function B(L,V){if(!h)throw Re.rpcErrors.methodNotSupported();const X=await y(L.params[0],L),A=L.params[1],P="V3",p={data:A,from:X,version:P};V.result=await h(p,L,P)}async function v(L,V){if(!g)throw Re.rpcErrors.methodNotSupported();const X=await y(L.params[0],L),A=L.params[1],P="V4",p={data:A,from:X,version:P};V.result=await g(p,L,P)}async function S(L,V){if(!o)throw Re.rpcErrors.methodNotSupported();const X=L.params[0],A=L.params[1],P=L.params[2]||{};let p,D;if(Ys(X)&&!Ys(A)){let G="The eth_personalSign method requires params ordered ";G+="[message, address]. This was previously handled incorrectly, ",G+="and has been corrected automatically. ",G+="Please switch this param order for smooth behavior in the future.",V.warning=G,p=X,D=A}else D=X,p=A;p=await y(p,L);const $=Ye(Ye({},P),{},{from:p,data:D});V.result=await o($,L)}async function T(L,V){if(!i)throw Re.rpcErrors.methodNotSupported();const X=await y(L.params[0],L);V.result=await i(X,L)}async function u(L,V){if(!n)throw Re.rpcErrors.methodNotSupported();const X=L.params[0],A=await y(L.params[1],L),P=L.params[2]||{},p=Ye(Ye({},P),{},{from:A,data:X});V.result=n(p,L)}async function E(L,V){if(!r)throw Re.rpcErrors.methodNotSupported();V.result=r(L)}return ni({eth_accounts:Nt(w),eth_private_key:Nt(E),private_key:Nt(E),eth_coinbase:Nt(C),eth_sendTransaction:Nt(k),eth_signTransaction:Nt(M),eth_sign:Nt(z),eth_signTypedData:Nt(I),eth_signTypedData_v3:Nt(B),eth_signTypedData_v4:Nt(v),personal_sign:Nt(S),eth_getEncryptionPublicKey:Nt(T),eth_decrypt:Nt(u)})}function H0(t){const{getAccounts:e,getPrivateKey:r,processTransaction:n,processSignTransaction:i,processEthSignMessage:a,processTypedMessage:o,processTypedMessageV3:s,processTypedMessageV4:c,processPersonalMessage:l,processEncryptionPublicKey:h,processDecryptMessage:g}=t;return sf([ni({eth_syncing:!1}),M1({getAccounts:e,getPrivateKey:r,processTransaction:n,processEthSignMessage:a,processSignTransaction:i,processTypedMessage:o,processTypedMessageV3:s,processTypedMessageV4:c,processPersonalMessage:l,processEncryptionPublicKey:h,processDecryptMessage:g})])}function $0(t){let{addChain:e,switchChain:r}=t;async function n(a,o){var s;const c=(s=a.params)!==null&&s!==void 0&&s.length?a.params[0]:void 0;if(!c)throw Re.rpcErrors.invalidParams("Missing chain params");if(!c.chainId)throw Re.rpcErrors.invalidParams("Missing chainId in chainParams");if(!c.rpcUrls||c.rpcUrls.length===0)throw Re.rpcErrors.invalidParams("Missing rpcUrls in chainParams");if(!c.nativeCurrency)throw Re.rpcErrors.invalidParams("Missing nativeCurrency in chainParams");o.result=await e(c)}async function i(a,o){var s;const c=(s=a.params)!==null&&s!==void 0&&s.length?a.params[0]:void 0;if(!c)throw Re.rpcErrors.invalidParams("Missing chainId");o.result=await r(c)}return ni({wallet_addEthereumChain:Nt(n),wallet_switchEthereumChain:Nt(i)})}function L1(t){let{updatePrivatekey:e}=t;async function r(n,i){var a;const o=(a=n.params)!==null&&a!==void 0&&a.length?n.params[0]:void 0;if(!(o!=null&&o.privateKey))throw Re.rpcErrors.invalidParams("Missing privateKey");i.result=await e(o)}return ni({wallet_updateAccount:Nt(r)})}function R1(t){return(e,r,n,i)=>e.method==="eth_chainId"?(r.result=t,i()):n()}function U1(t){return(e,r,n,i)=>e.method==="eth_provider_config"?(r.result=t,i()):n()}function z0(t){const{chainId:e,rpcTarget:r}=t,n=_c({rpcTarget:r});return{networkMiddleware:sf([R1(e),U1(t),n]),fetchMiddleware:n}}async function G0(t){if(t.session.length){const e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}async function jr(t,e,r,n){const i=await G0(t);if(!i)throw Re.providerErrors.disconnected();return t.request({topic:i.topic,chainId:`eip155:${e}`,request:{method:r,params:n}})}async function V0(t){const e=await G0(t);if(!e)throw Re.providerErrors.disconnected();const r=Ff(e.namespaces);if(r&&r.length)return[...new Set(r.map(n=>oo(n).address))];throw new Error("Failed to get accounts")}function k1(t){let{connector:e,chainId:r}=t;return{getPrivateKey:async()=>{throw Re.rpcErrors.methodNotSupported()},getAccounts:async n=>V0(e),processTransaction:async(n,i)=>await jr(e,r,"eth_sendTransaction",[n]),processSignTransaction:async(n,i)=>await jr(e,r,"eth_signTransaction",[n]),processEthSignMessage:async(n,i)=>await jr(e,r,"eth_sign",[n.from,n.data]),processPersonalMessage:async(n,i)=>await jr(e,r,"personal_sign",[n.from,n.data]),processTypedMessage:async(n,i)=>await jr(e,r,"eth_signTypedData",[n.data,n.from]),processTypedMessageV3:async n=>await jr(e,r,"eth_signTypedData_v3",[n.from,n.data]),processTypedMessageV4:async n=>await jr(e,r,"eth_signTypedData_v4",[n.from,n.data]),processEncryptionPublicKey:async n=>{throw Re.rpcErrors.methodNotSupported()},processDecryptMessage:n=>{throw Re.rpcErrors.methodNotSupported()}}}var K0;class Ao extends nf{constructor(e){let{config:r,state:n,connector:i}=e;super({config:{chainConfig:Ye(Ye({},r.chainConfig),{},{chainNamespace:cn.EIP155}),skipLookupNetwork:!!r.skipLookupNetwork},state:Ye(Ye({},n||{}),{},{chainId:"loading",accounts:[]})}),un(this,"connector",null),this.connector=i||null}async enable(){if(!this.connector)throw Re.providerErrors.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:r}=e;if(!this.connector)throw Re.providerErrors.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const n=this.getChainConfig(r);this.configure({chainConfig:n}),await this.setupEngine(this.connector),this.lookupNetwork(this.connector)}async addChain(e){super.addChain(e)}async lookupNetwork(e){const r=this.config.chainConfig.chainId;return this.update({chainId:r}),this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.config.chainConfig.chainId}async setupEngine(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16),i=k1({connector:e,chainId:n}),a=await V0(e);this.update({accounts:a||[]});const o=H0(i),s=this.getChainSwitchMiddleware(),c=new af,{networkMiddleware:l}=z0(this.config.chainConfig);c.push(o),c.push(s),c.push(l);const h=of(c);this.updateProviderEngineProxy(h)}getChainSwitchMiddleware(){return $0({addChain:async n=>{const{chainId:i,chainName:a,rpcUrls:o,blockExplorerUrls:s,nativeCurrency:c}=n;this.addChain({chainNamespace:cn.EIP155,chainId:i,ticker:(c==null?void 0:c.symbol)||"ETH",tickerName:(c==null?void 0:c.name)||"Ether",displayName:a,rpcTarget:o[0],blockExplorer:(s==null?void 0:s[0])||"",decimals:(c==null?void 0:c.decimals)||18})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}connectedTopic(){var e;if(!this.connector)throw Oo.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var r;const n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfChainIdAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=Bl(r.namespaces);let i=!1;for(const a of n){const o=Al(a);if(Number.parseInt(o.reference,10)===Number.parseInt(e,10)){i=!0;break}}return i}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=Ff(r.namespaces);let i=!1;for(const o of n){var a;if(((a=oo(o).address)===null||a===void 0?void 0:a.toLowerCase())===(e==null?void 0:e.toLowerCase())){i=!0;break}}return i}async onConnectorStateUpdate(e){e.events.on("session_event",async r=>{if(vr.debug("session_event data",r),!this.provider)throw Oo.notConnectedError("Wallet connect connector is not connected");const{event:n}=r.params,{name:i,data:a}=n||{};if(i==="accountsChanged"&&a!==null&&a!==void 0&&a.length&&this.state.accounts[0]!==a[0]&&this.checkIfAccountAllowed(a[0])&&(this.update({accounts:a}),this.emit("accountsChanged",a)),n.name==="chainChanged"){const{chainId:o,rpcUrl:s}=a,c=`0x${o.toString(16)}`;if(!this.checkIfChainIdAllowed(c))return;if(c&&this.state.chainId!==c){const l=Ec(cn.EIP155,c)||{};this.configure({chainConfig:Ye(Ye({},l),{},{chainId:c,rpcTarget:s,chainNamespace:cn.EIP155})}),await this.setupEngine(e)}}})}}K0=Ao;un(Ao,"getProviderInstance",async t=>{const e=new K0({config:{chainConfig:t.chainConfig,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e});const q0=new er("1e18"),W0=new er("1e9"),Z0=new er("1"),j1={hex:t=>typeof t=="string"?new er(hn(t),16):new er(t,16),dec:t=>new er(t,10)},H1={WEI:t=>t.div(q0),GWEI:t=>t.div(W0),ETH:t=>t.div(Z0)},$1={WEI:t=>t.times(q0).dp(0,er.ROUND_HALF_UP),GWEI:t=>t.times(W0).dp(9,er.ROUND_HALF_UP),ETH:t=>t.times(Z0).dp(9,er.ROUND_HALF_UP)},z1={hex:t=>t.toString(16),dec:t=>new er(t).toString(10)},G1=t=>{const{value:e,fromNumericBase:r,fromDenomination:n,toNumericBase:i,toDenomination:a,numberOfDecimals:o}=t;let s=j1[r](e);return n&&(s=H1[n](s)),a&&(s=$1[a](s)),o&&(s=s.dp(o,er.ROUND_HALF_DOWN)),i&&(s=z1[i](s)),s},Y0=(t,e)=>{let{fromNumericBase:r="hex",toNumericBase:n,fromDenomination:i,toDenomination:a,numberOfDecimals:o}=e;return G1({fromNumericBase:r,toNumericBase:n,fromDenomination:i,toDenomination:a,numberOfDecimals:o,value:t||"0"})};function on(t){return Y0(t,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function J0(t){return Y0(t,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function Hr(t){const e=on(t);return J0(e)}async function V1(t){const e=await ff(t);return Ye(Ye({},e),{},{estimatedBaseFee:Hr(e.estimatedBaseFee),low:Ye(Ye({},e.low),{},{suggestedMaxPriorityFeePerGas:Hr(e.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Hr(e.low.suggestedMaxFeePerGas)}),medium:Ye(Ye({},e.medium),{},{suggestedMaxPriorityFeePerGas:Hr(e.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Hr(e.medium.suggestedMaxFeePerGas)}),high:Ye(Ye({},e.high),{},{suggestedMaxPriorityFeePerGas:Hr(e.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Hr(e.high.suggestedMaxFeePerGas)})})}async function K1(t){const e=await ff(t,{referrer:t,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}const xa=(t,e)=>{try{Vt.ok(t&&typeof t=="object","Params must be an object."),Vt.ok("data"in t,'Params must include a "data" field.'),Vt.ok("from"in t,'Params must include a "from" field.'),Vt.ok(typeof t.from=="string"&&Qs(t.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let n=null,i=null;switch(t.version){case Lt.SignTypedDataVersion.V1:typeof t.data=="string"?Vt.doesNotThrow(()=>{n=JSON.parse(t.data)},'"data" must be a valid JSON string.'):n=t.data,Vt.ok(Array.isArray(n),"params.data must be an array."),Vt.doesNotThrow(()=>{Lt.typedSignatureHash(n)},"Signing data must be valid EIP-712 typed data.");break;case Lt.SignTypedDataVersion.V3:case Lt.SignTypedDataVersion.V4:{var r;typeof t.data=="string"?Vt.doesNotThrow(()=>{n=JSON.parse(t.data)},'"data" must be a valid JSON string.'):n=t.data;const a=n;Vt.ok(a.primaryType in a.types,`Primary type of "${a.primaryType}" has no type definition.`);const o=_r.validate(a,Lt.TYPED_MESSAGE_SCHEMA.properties);Vt.strictEqual(o.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),i=(r=a.domain)===null||r===void 0?void 0:r.chainId,i&&(Vt.ok(!Number.isNaN(e),`Cannot sign messages for chainId "${i}", because Web3Auth is switching networks.`),typeof i=="string"&&(i=Number.parseInt(i,Kn(i)?16:10)),Vt.strictEqual(i,e,`Provided chainId "${i}" must match the active chainId "${e}"`));break}default:Vt.fail(`Unknown typed data version "${t.version}"`)}}catch(n){throw Re.rpcErrors.invalidInput({message:n==null?void 0:n.message})}};async function Js(t,e,r){const n=await r.formatTransaction(t),i=await r.getCommonConfiguration(),o=Xn.fromTxData(n,{common:i}).sign(Buffer.from(e,"hex")).serialize();return Buffer.from(o)}function X0(t){let{txFormatter:e,privKey:r,getProviderEngineProxy:n}=t;return{getAccounts:async i=>[`0x${Buffer.from(ef(Buffer.from(r,"hex"))).toString("hex")}`],getPrivateKey:async i=>r,processTransaction:async(i,a)=>{const o=n();if(!o)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});const s=await Js(i,r,e);return await o.request({method:"eth_sendRawTransaction",params:["0x".concat(s.toString("hex"))]})},processSignTransaction:async(i,a)=>{if(!n())throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});return`0x${(await Js(i,r,e)).toString("hex")}`},processEthSignMessage:async(i,a)=>wc(r,i.data),processPersonalMessage:async(i,a)=>{const o=Buffer.from(r,"hex");return Lt.personalSign({privateKey:o,data:i.data})},processTypedMessage:async(i,a)=>{vr.debug("processTypedMessage",i);const o=Buffer.from(r,"hex"),s=n();if(!s)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});const c=await s.request({method:"eth_chainId"}),l=Number.parseInt(c,Kn(c)?16:10),h=Ye(Ye({},i),{},{version:Lt.SignTypedDataVersion.V1});xa(h,l);const g=typeof h.data=="string"?JSON.parse(h.data):h.data;return Lt.signTypedData({privateKey:o,data:g,version:Lt.SignTypedDataVersion.V1})},processTypedMessageV3:async(i,a)=>{vr.debug("processTypedMessageV3",i);const o=Buffer.from(r,"hex"),s=n();if(!s)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});const c=await s.request({method:"eth_chainId"}),l=Number.parseInt(c,Kn(c)?16:10);xa(i,l);const h=typeof i.data=="string"?JSON.parse(i.data):i.data;return Lt.signTypedData({privateKey:o,data:h,version:Lt.SignTypedDataVersion.V3})},processTypedMessageV4:async(i,a)=>{vr.debug("processTypedMessageV4",i);const o=Buffer.from(r,"hex"),s=n();if(!s)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});const c=await s.request({method:"eth_chainId"}),l=Number.parseInt(c,Kn(c)?16:10);xa(i,l);const h=typeof i.data=="string"?JSON.parse(i.data):i.data;return Lt.signTypedData({privateKey:o,data:h,version:Lt.SignTypedDataVersion.V4})},processEncryptionPublicKey:async(i,a)=>(vr.info("processEncryptionPublicKey",i),Lt.getEncryptionPublicKey(r)),processDecryptMessage:(i,a)=>{vr.info("processDecryptMessage",i);const o=hn(i.data),s=Buffer.from(o,"hex");return Lt.decrypt({encryptedData:JSON.parse(s.toString("utf8")),privateKey:r})}}}function q1(t,e){return t==null||e===null||e===void 0?null:new er(t,10).lt(e,10)}function Gn(t){return Ar(t.toString(16))}function ba(t){return Wn.isBN(t)?t:new Wn(hn(t),16)}function W1(t,e,r){const n=new Wn(e),i=new Wn(r);return t.mul(n).div(i)}const Z1="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",Y1="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",Xs={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Vn={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},an={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};class Q0{constructor(e){let{getProviderEngineProxy:r}=e;un(this,"chainConfig",null),un(this,"getProviderEngineProxy",void 0),un(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=r}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config"}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:e,chainId:r}=this.chainConfig,n=this.isEIP1559Compatible?ye.Paris:ye.Berlin,i={name:e,chainId:r==="loading"?0:Number.parseInt(r,16),networkId:r==="loading"?0:Number.parseInt(r,16),defaultHardfork:n};return Mt.custom(i)}async formatTransaction(e){if(!this.chainConfig)throw new Error("Chain config not initialized");const r=Ye({},e);if(r.nonce===void 0&&(r.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&r.gasPrice){if(r.maxFeePerGas&&delete r.maxFeePerGas,r.maxPriorityFeePerGas&&delete r.maxPriorityFeePerGas,!r.gasLimit)if(r.gas)r.gasLimit=r.gas;else{const o=await this.getDefaultGasLimit(r);o&&(r.gasLimit=o)}return r}if(!r.gasLimit)if(r.gas)r.gasLimit=r.gas;else{const o=await this.getDefaultGasLimit(r);o&&(r.gasLimit=o)}const{gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:a}=await this.getDefaultGasFees(r);return this.isEIP1559Compatible?(r.gasPrice&&!r.maxFeePerGas&&!r.maxPriorityFeePerGas?(r.maxFeePerGas=r.gasPrice,r.maxPriorityFeePerGas=q1(typeof a=="string"?hn(a):a,typeof r.gasPrice=="string"?hn(r.gasPrice):r.gasPrice)?a:r.gasPrice):(i&&!r.maxFeePerGas&&(r.maxFeePerGas=i),a&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=a),n&&!r.maxFeePerGas&&(r.maxFeePerGas=n),r.maxFeePerGas&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=r.maxFeePerGas)),delete r.gasPrice):(delete r.maxPriorityFeePerGas,delete r.maxFeePerGas),n&&!r.gasPrice&&!r.maxPriorityFeePerGas&&!r.maxFeePerGas&&(r.gasPrice=n),r.type=this.isEIP1559Compatible?Xs.FEE_MARKET:Xs.LEGACY,r.chainId=this.chainConfig.chainId,r}async fetchEthGasPriceEstimate(){const e=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:J0(e).toString()}}async getEIP1559Compatibility(){const e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(e&&e.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const e=this.chainConfig.chainId==="0x1",r=Number.parseInt(this.chainConfig.chainId,16);let n;try{if(this.isEIP1559Compatible)n={gasFeeEstimates:await V1(Y1.replace("<chain_id>",`${r}`)),gasEstimateType:an.FEE_MARKET};else if(e)n={gasFeeEstimates:await K1(Z1.replace("<chain_id>",`${r}`)),gasEstimateType:an.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{n={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:an.ETH_GASPRICE}}catch(a){throw new Error(`Gas fee/price estimation failed. Message: ${a.message}`)}}return n}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:n,gasEstimateType:i}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&i===an.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:a,suggestedMaxFeePerGas:o}={}}=n;if(a&&o)return{maxFeePerGas:Ar(on(o)),maxPriorityFeePerGas:Ar(on(a))}}else{if(i===an.LEGACY)return{gasPrice:Ar(on(n.medium))};if(i===an.ETH_GASPRICE)return{gasPrice:Ar(on(n.gasPrice))}}}catch(n){vr.error(n)}const{gasPrice:r}=await this.fetchEthGasPriceEstimate();return{gasPrice:Ar(on(r))}}async estimateTxGas(e){const r=Ye({},e);return delete r.gasPrice,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[r]})}async analyzeGasUsage(e){const r=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),n=ba(r.gasLimit),i=W1(n,19,20);let a=Gn(i);try{a=await this.estimateTxGas(e)}catch(o){vr.warn(o)}return{blockGasLimit:r.gasLimit,estimatedGasHex:a}}addGasBuffer(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;const i=ba(e),o=ba(r).muln(.9),s=i.muln(n);return i.gt(o)?Gn(i):s.lt(o)?Gn(s):Gn(o)}async determineTransactionCategory(e){const{data:r,to:n}=e;let i="",a;if(r&&!n)a=Vn.DEPLOY_CONTRACT;else{try{i=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(s){vr.warn(s)}a=!i||i==="0x"||i==="0x0"?Vn.SENT_ETHER:Vn.CONTRACT_INTERACTION}return{transactionCategory:a,code:i}}async getDefaultGasLimit(e){const{transactionCategory:r}=await this.determineTransactionCategory(Ye({},e));if(e.gas)return e.gas;if(e.to&&r===Vn.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");return Ar(21e3.toString(16))}const{blockGasLimit:n,estimatedGasHex:i}=await this.analyzeGasUsage(e);return this.addGasBuffer(Ar(i),n)}}var ec;class Po extends nf{constructor(e){let{config:r,state:n}=e;super({config:{chainConfig:Ye(Ye({},r.chainConfig),{},{chainNamespace:cn.EIP155})},state:n})}async enable(){if(!this.state.privateKey)throw Re.providerErrors.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){const r=new Q0({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=X0({txFormatter:r,privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),i=H0(n),a=this.getChainSwitchMiddleware(),o=new af,{networkMiddleware:s}=z0(this.config.chainConfig);o.push(i),o.push(a),o.push(this.getAccountMiddleware()),o.push(s);const c=of(o);this.updateProviderEngineProxy(c),await r.init(),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r});const n=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw Re.providerErrors.custom({message:"Provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig;if(!e)throw Re.rpcErrors.invalidParams("chainId is required while lookupNetwork");const r=await this._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(e,16)!==parseInt(r,10))throw Re.providerErrors.chainDisconnected(`Invalid network, net_version is: ${r}`);return this.state.chainId!==e&&(this.emit("chainChanged",e),this.emit("connect",{chainId:e})),this.update({chainId:e}),r}getChainSwitchMiddleware(){return $0({addChain:async n=>{const{chainId:i,chainName:a,rpcUrls:o,blockExplorerUrls:s,nativeCurrency:c}=n;this.addChain({chainNamespace:cn.EIP155,chainId:i,ticker:(c==null?void 0:c.symbol)||"ETH",tickerName:(c==null?void 0:c.name)||"Ether",displayName:a,rpcTarget:o[0],blockExplorer:(s==null?void 0:s[0])||"",decimals:(c==null?void 0:c.decimals)||18})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}getAccountMiddleware(){return L1({updatePrivatekey:async r=>{const{privateKey:n}=r;await this.updateAccount({privateKey:n})}})}}ec=Po;un(Po,"getProviderInstance",async t=>{const e=new ec({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e});const Yb=Object.freeze(Object.defineProperty({__proto__:null,EthereumPrivateKeyProvider:Po,TransactionFormatter:Q0,WalletConnectV2Provider:Ao,getProviderHandlers:X0},Symbol.toStringTag,{value:"Module"}));export{li as $,mb as A,yb as B,pb as C,Ob as D,hi as E,ub as F,co as G,Uf as H,hb as I,lb as J,sb as K,fb as L,xb as M,Tr as N,ob as O,Sb as P,Ab as Q,Nl as R,xi as S,db as T,bn as U,ab as V,jf as W,Wb as X,Db as Y,qb as Z,Rn as _,ai as a,_b as a0,Ib as a1,Zb as a2,Mb as a3,Nb as a4,ch as a5,Vb as a6,Ub as a7,uh as a8,Fb as a9,$b as aa,kb as ab,zb as ac,Kb as ad,jb as ae,Hb as af,Gb as ag,Lb as ah,Ao as ai,Yb as aj,Ce as b,Kr as c,Lo as d,qr as e,ir as f,nb as g,ib as h,Rf as i,rb as j,Cb as k,gb as l,vb as m,Tb as n,Pb as o,$t as p,wb as q,di as r,bb as s,or as t,Eb as u,Rb as v,sr as w,cb as x,Bb as y,tr as z};
