import{D as Ms,_ as q,bA as Ss,bB as _s,q as In,o as As,l as Es,bC as Is,bD as Ps,bE as Zt,bF as Ze,bG as Rs,bH as _t,bI as Ns,a as J,bJ as Gr,bK as tn,bL as Os,bM as Zr,bN as ks,bO as rn,x as Bs,B as Qr,ag as Cs,Q as ir,N as Ts,P as qs,R as We,O as ei,ar as bt,av as Jt,T as Wt,U as Mt,V as Ls,bP as nn,j as zs}from"./provider-browser-5807d46b.js";import{bQ as Od,bR as kd,bS as Bd,bT as Cd,bU as Td,bZ as qd,bV as Ld,bW as zd,bX as $d,bY as Kd}from"./provider-browser-5807d46b.js";import{e as $s,a as er}from"./index-8fffa698.js";import{c as Ks}from"./index-c463d612.js";import{i as wr,k as Ds}from"./inherits_browser-b30651b4.js";const it=Object.create(null);it.open="0";it.close="1";it.ping="2";it.pong="3";it.message="4";it.upgrade="5";it.noop="6";const cr=Object.create(null);Object.keys(it).forEach(r=>{cr[it[r]]=r});const bi={type:"error",data:"parser error"},Pn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Rn=typeof ArrayBuffer=="function",Nn=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,_i=({type:r,data:e},t,i)=>Pn&&e instanceof Blob?t?i(e):sn(e,i):Rn&&(e instanceof ArrayBuffer||Nn(e))?t?i(e):sn(new Blob([e]),i):i(it[r]+(e||"")),sn=(r,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(r)};function an(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let ti;function Us(r,e){if(Pn&&r.data instanceof Blob)return r.data.arrayBuffer().then(an).then(e);if(Rn&&(r.data instanceof ArrayBuffer||Nn(r.data)))return e(an(r.data));_i(r,!1,t=>{ti||(ti=new TextEncoder),e(ti.encode(t))})}const fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<fn.length;r++)Gt[fn.charCodeAt(r)]=r;const Fs=r=>{let e=r.length*.75,t=r.length,i,a=0,n,c,h,v;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const w=new ArrayBuffer(e),g=new Uint8Array(w);for(i=0;i<t;i+=4)n=Gt[r.charCodeAt(i)],c=Gt[r.charCodeAt(i+1)],h=Gt[r.charCodeAt(i+2)],v=Gt[r.charCodeAt(i+3)],g[a++]=n<<2|c>>4,g[a++]=(c&15)<<4|h>>2,g[a++]=(h&3)<<6|v&63;return w},Hs=typeof ArrayBuffer=="function",Ai=(r,e)=>{if(typeof r!="string")return{type:"message",data:On(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:Vs(r.substring(1),e)}:cr[t]?r.length>1?{type:cr[t],data:r.substring(1)}:{type:cr[t]}:bi},Vs=(r,e)=>{if(Hs){const t=Fs(r);return On(t,e)}else return{base64:!0,data:r}},On=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},kn=String.fromCharCode(30),Js=(r,e)=>{const t=r.length,i=new Array(t);let a=0;r.forEach((n,c)=>{_i(n,!1,h=>{i[c]=h,++a===t&&e(i.join(kn))})})},Ws=(r,e)=>{const t=r.split(kn),i=[];for(let a=0;a<t.length;a++){const n=Ai(t[a],e);if(i.push(n),n.type==="error")break}return i};function Ys(){return new TransformStream({transform(r,e){Us(r,t=>{const i=t.length;let a;if(i<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,i);else if(i<65536){a=new Uint8Array(3);const n=new DataView(a.buffer);n.setUint8(0,126),n.setUint16(1,i)}else{a=new Uint8Array(9);const n=new DataView(a.buffer);n.setUint8(0,127),n.setBigUint64(1,BigInt(i))}r.data&&typeof r.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(t)})}})}let ri;function nr(r){return r.reduce((e,t)=>e+t.length,0)}function sr(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let i=0;for(let a=0;a<e;a++)t[a]=r[0][i++],i===r[0].length&&(r.shift(),i=0);return r.length&&i<r[0].length&&(r[0]=r[0].slice(i)),t}function Xs(r,e){ri||(ri=new TextDecoder);const t=[];let i=0,a=-1,n=!1;return new TransformStream({transform(c,h){for(t.push(c);;){if(i===0){if(nr(t)<1)break;const v=sr(t,1);n=(v[0]&128)===128,a=v[0]&127,a<126?i=3:a===126?i=1:i=2}else if(i===1){if(nr(t)<2)break;const v=sr(t,2);a=new DataView(v.buffer,v.byteOffset,v.length).getUint16(0),i=3}else if(i===2){if(nr(t)<8)break;const v=sr(t,8),w=new DataView(v.buffer,v.byteOffset,v.length),g=w.getUint32(0);if(g>Math.pow(2,53-32)-1){h.enqueue(bi);break}a=g*Math.pow(2,32)+w.getUint32(4),i=3}else{if(nr(t)<a)break;const v=sr(t,a);h.enqueue(Ai(n?v:ri.decode(v),e)),i=0}if(a===0||a>r){h.enqueue(bi);break}}}})}const Bn=4;function Re(r){if(r)return js(r)}function js(r){for(var e in Re.prototype)r[e]=Re.prototype[e];return r}Re.prototype.on=Re.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};Re.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};Re.prototype.off=Re.prototype.removeListener=Re.prototype.removeAllListeners=Re.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,a=0;a<t.length;a++)if(i=t[a],i===e||i.fn===e){t.splice(a,1);break}return t.length===0&&delete this._callbacks["$"+r],this};Re.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,a=t.length;i<a;++i)t[i].apply(this,e)}return this};Re.prototype.emitReserved=Re.prototype.emit;Re.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Re.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Fe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Cn(r,...e){return e.reduce((t,i)=>(r.hasOwnProperty(i)&&(t[i]=r[i]),t),{})}const Gs=Fe.setTimeout,Zs=Fe.clearTimeout;function xr(r,e){e.useNativeTimers?(r.setTimeoutFn=Gs.bind(Fe),r.clearTimeoutFn=Zs.bind(Fe)):(r.setTimeoutFn=Fe.setTimeout.bind(Fe),r.clearTimeoutFn=Fe.clearTimeout.bind(Fe))}const Qs=1.33;function ea(r){return typeof r=="string"?ta(r):Math.ceil((r.byteLength||r.size)*Qs)}function ta(r){let e=0,t=0;for(let i=0,a=r.length;i<a;i++)e=r.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function ra(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function ia(r){let e={},t=r.split("&");for(let i=0,a=t.length;i<a;i++){let n=t[i].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}class na extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class Ei extends Re{constructor(e){super(),this.writable=!1,xr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new na(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ai(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=ra(e);return t.length?"?"+t:""}}const Tn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),pi=64,sa={};let on=0,ar=0,dn;function cn(r){let e="";do e=Tn[r%pi]+e,r=Math.floor(r/pi);while(r>0);return e}function qn(){const r=cn(+new Date);return r!==dn?(on=0,dn=r):r+"."+cn(on++)}for(;ar<pi;ar++)sa[Tn[ar]]=ar;let Ln=!1;try{Ln=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const aa=Ln;function zn(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||aa))return new XMLHttpRequest}catch{}if(!e)try{return new Fe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function fa(){}const oa=function(){return new zn({xdomain:!1}).responseType!=null}();class da extends Ei{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let a=location.port;a||(a=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port}const t=e&&e.forceBase64;this.supportsBinary=oa&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Ws(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Js(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=qn()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Qe(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(a,n)=>{this.onError("xhr post error",a,n)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}class Qe extends Re{constructor(e,t){super(),xr(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=Cn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const i=this.xhr=new zn(t);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&i.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var a;i.readyState===3&&((a=this.opts.cookieJar)===null||a===void 0||a.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document<"u"&&(this.index=Qe.requestsCount++,Qe.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=fa,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Qe.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Qe.requestsCount=0;Qe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hn);else if(typeof addEventListener=="function"){const r="onpagehide"in Fe?"pagehide":"unload";addEventListener(r,hn,!1)}}function hn(){for(let r in Qe.requests)Qe.requests.hasOwnProperty(r)&&Qe.requests[r].abort()}const Ii=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),fr=Fe.WebSocket||Fe.MozWebSocket,un=!0,ca="arraybuffer",ln=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ha extends Ei{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=ln?{}:Cn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=un&&!ln?t?new fr(e,t):new fr(e):new fr(e,t,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],a=t===e.length-1;_i(i,this.supportsBinary,n=>{const c={};try{un&&this.ws.send(n)}catch{}a&&Ii(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=qn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!fr}}class ua extends Ei{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=Xs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),a=Ys();a.readable.pipeTo(e.writable),this.writer=a.writable.getWriter();const n=()=>{i.read().then(({done:h,value:v})=>{h||(this.onPacket(v),n())}).catch(h=>{})};n();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],a=t===e.length-1;this.writer.write(i).then(()=>{a&&Ii(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const la={websocket:ha,webtransport:ua,polling:da},ba=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,pa=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vi(r){const e=r,t=r.indexOf("["),i=r.indexOf("]");t!=-1&&i!=-1&&(r=r.substring(0,t)+r.substring(t,i).replace(/:/g,";")+r.substring(i,r.length));let a=ba.exec(r||""),n={},c=14;for(;c--;)n[pa[c]]=a[c]||"";return t!=-1&&i!=-1&&(n.source=e,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n.pathNames=va(n,n.path),n.queryKey=ma(n,n.query),n}function va(r,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function ma(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,n){a&&(t[a]=n)}),t}let $n=class Nt extends Re{constructor(e,t={}){super(),this.binaryType=ca,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=vi(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=vi(t.host).host),xr(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ia(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Bn,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new la[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Nt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),i=!1;Nt.priorWebsocketSuccess=!1;const a=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",x=>{if(!i)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Nt.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(g(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const A=new Error("probe error");A.transport=t.name,this.emitReserved("upgradeError",A)}}))};function n(){i||(i=!0,g(),t.close(),t=null)}const c=x=>{const A=new Error("probe error: "+x);A.transport=t.name,n(),this.emitReserved("upgradeError",A)};function h(){c("transport closed")}function v(){c("socket closed")}function w(x){t&&x.name!==t.name&&n()}const g=()=>{t.removeListener("open",a),t.removeListener("error",c),t.removeListener("close",h),this.off("close",v),this.off("upgrading",w)};t.once("open",a),t.once("error",c),t.once("close",h),this.once("close",v),this.once("upgrading",w),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onOpen(){if(this.readyState="open",Nt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(t+=ea(a)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,a){if(typeof t=="function"&&(a=t,t=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const n={type:e,data:t,options:i};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Nt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const a=e.length;for(;i<a;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};$n.protocol=Bn;function ga(r,e="",t){let i=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),i=vi(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const n=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+e,i.href=i.protocol+"://"+n+(t&&t.port===i.port?"":":"+i.port),i}const ya=typeof ArrayBuffer=="function",wa=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Kn=Object.prototype.toString,xa=typeof Blob=="function"||typeof Blob<"u"&&Kn.call(Blob)==="[object BlobConstructor]",Ma=typeof File=="function"||typeof File<"u"&&Kn.call(File)==="[object FileConstructor]";function Pi(r){return ya&&(r instanceof ArrayBuffer||wa(r))||xa&&r instanceof Blob||Ma&&r instanceof File}function hr(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,i=r.length;t<i;t++)if(hr(r[t]))return!0;return!1}if(Pi(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return hr(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&hr(r[t]))return!0;return!1}function Sa(r){const e=[],t=r.data,i=r;return i.data=mi(t,e),i.attachments=e.length,{packet:i,buffers:e}}function mi(r,e){if(!r)return r;if(Pi(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let i=0;i<r.length;i++)t[i]=mi(r[i],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=mi(r[i],e));return t}return r}function _a(r,e){return r.data=gi(r.data,e),delete r.attachments,r}function gi(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=gi(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=gi(r[t],e));return r}const Aa=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ea=5;var T;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(T||(T={}));class Ia{constructor(e){this.replacer=e}encode(e){return(e.type===T.EVENT||e.type===T.ACK)&&hr(e)?this.encodeAsBinary({type:e.type===T.EVENT?T.BINARY_EVENT:T.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===T.BINARY_EVENT||e.type===T.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Sa(e),i=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(i),a}}function bn(r){return Object.prototype.toString.call(r)==="[object Object]"}class Ri extends Re{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===T.BINARY_EVENT;i||t.type===T.BINARY_ACK?(t.type=i?T.EVENT:T.ACK,this.reconstructor=new Pa(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Pi(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(T[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===T.BINARY_EVENT||i.type===T.BINARY_ACK){const n=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const c=e.substring(n,t);if(c!=Number(c)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(e.charAt(t+1)==="/"){const n=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(n,t)}else i.nsp="/";const a=e.charAt(t+1);if(a!==""&&Number(a)==a){const n=t+1;for(;++t;){const c=e.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===e.length)break}i.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(Ri.isPayloadValid(i.type,n))i.data=n;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case T.CONNECT:return bn(t);case T.DISCONNECT:return t===void 0;case T.CONNECT_ERROR:return typeof t=="string"||bn(t);case T.EVENT:case T.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Aa.indexOf(t[0])===-1);case T.ACK:case T.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Pa{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=_a(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ra=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ri,Encoder:Ia,get PacketType(){return T},protocol:Ea},Symbol.toStringTag,{value:"Module"}));function Xe(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const Na=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Dn extends Re{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Xe(e,"open",this.onopen.bind(this)),Xe(e,"packet",this.onpacket.bind(this)),Xe(e,"error",this.onerror.bind(this)),Xe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Na.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:T.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const c=this.ids++,h=t.pop();this._registerAckCallback(c,h),i.id=c}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const a=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(a===void 0){this.acks[e]=t;return}const n=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},a);this.acks[e]=(...c)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...c])}}emitWithAck(e,...t){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((a,n)=>{t.push((c,h)=>i?c?n(c):a(h):a(c)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...n)=>i!==this._queue[0]?void 0:(a!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(a)):(this._queue.shift(),t&&t(null,...n)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:T.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case T.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case T.EVENT:case T.BINARY_EVENT:this.onevent(e);break;case T.ACK:case T.BINARY_ACK:this.onack(e);break;case T.DISCONNECT:this.ondisconnect();break;case T.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...a){i||(i=!0,t.packet({type:T.ACK,id:e,data:a}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:T.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function zt(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}zt.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};zt.prototype.reset=function(){this.attempts=0};zt.prototype.setMin=function(r){this.ms=r};zt.prototype.setMax=function(r){this.max=r};zt.prototype.setJitter=function(r){this.jitter=r};class yi extends Re{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,xr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new zt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const a=t.parser||Ra;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $n(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=Xe(t,"open",function(){i.onopen(),e&&e()}),n=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),e?e(h):this.maybeReconnectOnOpen()},c=Xe(t,"error",n);if(this._timeout!==!1){const h=this._timeout,v=this.setTimeoutFn(()=>{a(),n(new Error("timeout")),t.close()},h);this.opts.autoUnref&&v.unref(),this.subs.push(()=>{this.clearTimeoutFn(v)})}return this.subs.push(a),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Xe(e,"ping",this.onping.bind(this)),Xe(e,"data",this.ondata.bind(this)),Xe(e,"error",this.onerror.bind(this)),Xe(e,"close",this.onclose.bind(this)),Xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Ii(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Dn(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Yt={};function ur(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=ga(r,e.path||"/socket.io"),i=t.source,a=t.id,n=t.path,c=Yt[a]&&n in Yt[a].nsps,h=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let v;return h?v=new yi(i,e):(Yt[a]||(Yt[a]=new yi(i,e)),v=Yt[a]),t.query&&!e.query&&(e.query=t.queryKey),v.socket(t.path,e)}Object.assign(ur,{Manager:yi,Socket:Dn,io:ur,connect:ur});var Ni={};const Oa="elliptic",ka="6.5.4",Ba="EC cryptography",Ca="lib/elliptic.js",Ta=["lib"],qa={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},La={type:"git",url:"git@github.com:indutny/elliptic"},za=["EC","Elliptic","curve","Cryptography"],$a="Fedor Indutny <fedor@indutny.com>",Ka="MIT",Da={url:"https://github.com/indutny/elliptic/issues"},Ua="https://github.com/indutny/elliptic",Fa={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Ha={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Va={name:Oa,version:ka,description:Ba,main:Ca,files:Ta,scripts:qa,repository:La,keywords:za,author:$a,license:Ka,bugs:Da,homepage:Ua,devDependencies:Fa,dependencies:Ha};var Ke={},Oi={exports:{}};Oi.exports;(function(r){(function(e,t){function i(m,s){if(!m)throw new Error(s||"Assertion failed")}function a(m,s){m.super_=s;var o=function(){};o.prototype=s.prototype,m.prototype=new o,m.prototype.constructor=m}function n(m,s,o){if(n.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((s==="le"||s==="be")&&(o=s,s=10),this._init(m||0,s||10,o||"be"))}typeof e=="object"?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Ms.Buffer}catch{}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,o){return s.cmp(o)>0?s:o},n.min=function(s,o){return s.cmp(o)<0?s:o},n.prototype._init=function(s,o,d){if(typeof s=="number")return this._initNumber(s,o,d);if(typeof s=="object")return this._initArray(s,o,d);o==="hex"&&(o=16),i(o===(o|0)&&o>=2&&o<=36),s=s.toString().replace(/\s+/g,"");var u=0;s[0]==="-"&&(u++,this.negative=1),u<s.length&&(o===16?this._parseHex(s,u,d):(this._parseBase(s,o,u),d==="le"&&this._initArray(this.toArray(),o,d)))},n.prototype._initNumber=function(s,o,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),o,d)},n.prototype._initArray=function(s,o,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var p,y,M=0;if(d==="be")for(u=s.length-1,p=0;u>=0;u-=3)y=s[u]|s[u-1]<<8|s[u-2]<<16,this.words[p]|=y<<M&67108863,this.words[p+1]=y>>>26-M&67108863,M+=24,M>=26&&(M-=26,p++);else if(d==="le")for(u=0,p=0;u<s.length;u+=3)y=s[u]|s[u+1]<<8|s[u+2]<<16,this.words[p]|=y<<M&67108863,this.words[p+1]=y>>>26-M&67108863,M+=24,M>=26&&(M-=26,p++);return this.strip()};function h(m,s){var o=m.charCodeAt(s);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function v(m,s,o){var d=h(m,o);return o-1>=s&&(d|=h(m,o-1)<<4),d}n.prototype._parseHex=function(s,o,d){this.length=Math.ceil((s.length-o)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var p=0,y=0,M;if(d==="be")for(u=s.length-1;u>=o;u-=2)M=v(s,o,u)<<p,this.words[y]|=M&67108863,p>=18?(p-=18,y+=1,this.words[y]|=M>>>26):p+=8;else{var l=s.length-o;for(u=l%2===0?o+1:o;u<s.length;u+=2)M=v(s,o,u)<<p,this.words[y]|=M&67108863,p>=18?(p-=18,y+=1,this.words[y]|=M>>>26):p+=8}this.strip()};function w(m,s,o,d){for(var u=0,p=Math.min(m.length,o),y=s;y<p;y++){var M=m.charCodeAt(y)-48;u*=d,M>=49?u+=M-49+10:M>=17?u+=M-17+10:u+=M}return u}n.prototype._parseBase=function(s,o,d){this.words=[0],this.length=1;for(var u=0,p=1;p<=67108863;p*=o)u++;u--,p=p/o|0;for(var y=s.length-d,M=y%u,l=Math.min(y,y-M)+d,f=0,b=d;b<l;b+=u)f=w(s,b,b+u,o),this.imuln(p),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(M!==0){var I=1;for(f=w(s,b,s.length,o),b=0;b<M;b++)I*=o;this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var o=0;o<this.length;o++)s.words[o]=this.words[o];s.length=this.length,s.negative=this.negative,s.red=this.red},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,o){s=s||10,o=o|0||1;var d;if(s===16||s==="hex"){d="";for(var u=0,p=0,y=0;y<this.length;y++){var M=this.words[y],l=((M<<u|p)&16777215).toString(16);p=M>>>24-u&16777215,p!==0||y!==this.length-1?d=g[6-l.length]+l+d:d=l+d,u+=2,u>=26&&(u-=26,y--)}for(p!==0&&(d=p.toString(16)+d);d.length%o!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var f=x[s],b=A[s];d="";var I=this.clone();for(I.negative=0;!I.isZero();){var P=I.modn(b).toString(s);I=I.idivn(b),I.isZero()?d=P+d:d=g[f-P.length]+P+d}for(this.isZero()&&(d="0"+d);d.length%o!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(s,o){return i(typeof c<"u"),this.toArrayLike(c,s,o)},n.prototype.toArray=function(s,o){return this.toArrayLike(Array,s,o)},n.prototype.toArrayLike=function(s,o,d){var u=this.byteLength(),p=d||Math.max(1,u);i(u<=p,"byte array longer than desired length"),i(p>0,"Requested array length <= 0"),this.strip();var y=o==="le",M=new s(p),l,f,b=this.clone();if(y){for(f=0;!b.isZero();f++)l=b.andln(255),b.iushrn(8),M[f]=l;for(;f<p;f++)M[f]=0}else{for(f=0;f<p-u;f++)M[f]=0;for(f=0;!b.isZero();f++)l=b.andln(255),b.iushrn(8),M[p-f-1]=l}return M},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var o=s,d=0;return o>=4096&&(d+=13,o>>>=13),o>=64&&(d+=7,o>>>=7),o>=8&&(d+=4,o>>>=4),o>=2&&(d+=2,o>>>=2),d+o},n.prototype._zeroBits=function(s){if(s===0)return 26;var o=s,d=0;return o&8191||(d+=13,o>>>=13),o&127||(d+=7,o>>>=7),o&15||(d+=4,o>>>=4),o&3||(d+=2,o>>>=2),o&1||d++,d},n.prototype.bitLength=function(){var s=this.words[this.length-1],o=this._countBits(s);return(this.length-1)*26+o};function S(m){for(var s=new Array(m.bitLength()),o=0;o<s.length;o++){var d=o/26|0,u=o%26;s[o]=(m.words[d]&1<<u)>>>u}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,o=0;o<this.length;o++){var d=this._zeroBits(this.words[o]);if(s+=d,d!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var o=0;o<s.length;o++)this.words[o]=this.words[o]|s.words[o];return this.strip()},n.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var o;this.length>s.length?o=s:o=this;for(var d=0;d<o.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=o.length,this.strip()},n.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var o,d;this.length>s.length?(o=this,d=s):(o=s,d=this);for(var u=0;u<d.length;u++)this.words[u]=o.words[u]^d.words[u];if(this!==o)for(;u<o.length;u++)this.words[u]=o.words[u];return this.length=o.length,this.strip()},n.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var o=Math.ceil(s/26)|0,d=s%26;this._expand(o),d>0&&o--;for(var u=0;u<o;u++)this.words[u]=~this.words[u]&67108863;return d>0&&(this.words[u]=~this.words[u]&67108863>>26-d),this.strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,o){i(typeof s=="number"&&s>=0);var d=s/26|0,u=s%26;return this._expand(d+1),o?this.words[d]=this.words[d]|1<<u:this.words[d]=this.words[d]&~(1<<u),this.strip()},n.prototype.iadd=function(s){var o;if(this.negative!==0&&s.negative===0)return this.negative=0,o=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,o=this.isub(s),s.negative=1,o._normSign();var d,u;this.length>s.length?(d=this,u=s):(d=s,u=this);for(var p=0,y=0;y<u.length;y++)o=(d.words[y]|0)+(u.words[y]|0)+p,this.words[y]=o&67108863,p=o>>>26;for(;p!==0&&y<d.length;y++)o=(d.words[y]|0)+p,this.words[y]=o&67108863,p=o>>>26;if(this.length=d.length,p!==0)this.words[this.length]=p,this.length++;else if(d!==this)for(;y<d.length;y++)this.words[y]=d.words[y];return this},n.prototype.add=function(s){var o;return s.negative!==0&&this.negative===0?(s.negative=0,o=this.sub(s),s.negative^=1,o):s.negative===0&&this.negative!==0?(this.negative=0,o=s.sub(this),this.negative=1,o):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var o=this.iadd(s);return s.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,p;d>0?(u=this,p=s):(u=s,p=this);for(var y=0,M=0;M<p.length;M++)o=(u.words[M]|0)-(p.words[M]|0)+y,y=o>>26,this.words[M]=o&67108863;for(;y!==0&&M<u.length;M++)o=(u.words[M]|0)+y,y=o>>26,this.words[M]=o&67108863;if(y===0&&M<u.length&&u!==this)for(;M<u.length;M++)this.words[M]=u.words[M];return this.length=Math.max(this.length,M),u!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function _(m,s,o){o.negative=s.negative^m.negative;var d=m.length+s.length|0;o.length=d,d=d-1|0;var u=m.words[0]|0,p=s.words[0]|0,y=u*p,M=y&67108863,l=y/67108864|0;o.words[0]=M;for(var f=1;f<d;f++){for(var b=l>>>26,I=l&67108863,P=Math.min(f,s.length-1),R=Math.max(0,f-m.length+1);R<=P;R++){var B=f-R|0;u=m.words[B]|0,p=s.words[R]|0,y=u*p+I,b+=y/67108864|0,I=y&67108863}o.words[f]=I|0,l=b|0}return l!==0?o.words[f]=l|0:o.length--,o.strip()}var E=function(s,o,d){var u=s.words,p=o.words,y=d.words,M=0,l,f,b,I=u[0]|0,P=I&8191,R=I>>>13,B=u[1]|0,z=B&8191,U=B>>>13,lt=u[2]|0,F=lt&8191,V=lt>>>13,zi=u[3]|0,Y=zi&8191,X=zi>>>13,$i=u[4]|0,j=$i&8191,G=$i>>>13,Ki=u[5]|0,Z=Ki&8191,Q=Ki>>>13,Di=u[6]|0,ee=Di&8191,te=Di>>>13,Ui=u[7]|0,re=Ui&8191,ie=Ui>>>13,Fi=u[8]|0,ne=Fi&8191,se=Fi>>>13,Hi=u[9]|0,ae=Hi&8191,fe=Hi>>>13,Vi=p[0]|0,oe=Vi&8191,de=Vi>>>13,Ji=p[1]|0,ce=Ji&8191,he=Ji>>>13,Wi=p[2]|0,ue=Wi&8191,le=Wi>>>13,Yi=p[3]|0,be=Yi&8191,pe=Yi>>>13,Xi=p[4]|0,ve=Xi&8191,me=Xi>>>13,ji=p[5]|0,ge=ji&8191,ye=ji>>>13,Gi=p[6]|0,we=Gi&8191,xe=Gi>>>13,Zi=p[7]|0,Me=Zi&8191,Se=Zi>>>13,Qi=p[8]|0,_e=Qi&8191,Ae=Qi>>>13,en=p[9]|0,Ee=en&8191,Ie=en>>>13;d.negative=s.negative^o.negative,d.length=19,l=Math.imul(P,oe),f=Math.imul(P,de),f=f+Math.imul(R,oe)|0,b=Math.imul(R,de);var kr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,l=Math.imul(z,oe),f=Math.imul(z,de),f=f+Math.imul(U,oe)|0,b=Math.imul(U,de),l=l+Math.imul(P,ce)|0,f=f+Math.imul(P,he)|0,f=f+Math.imul(R,ce)|0,b=b+Math.imul(R,he)|0;var Br=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,l=Math.imul(F,oe),f=Math.imul(F,de),f=f+Math.imul(V,oe)|0,b=Math.imul(V,de),l=l+Math.imul(z,ce)|0,f=f+Math.imul(z,he)|0,f=f+Math.imul(U,ce)|0,b=b+Math.imul(U,he)|0,l=l+Math.imul(P,ue)|0,f=f+Math.imul(P,le)|0,f=f+Math.imul(R,ue)|0,b=b+Math.imul(R,le)|0;var Cr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,l=Math.imul(Y,oe),f=Math.imul(Y,de),f=f+Math.imul(X,oe)|0,b=Math.imul(X,de),l=l+Math.imul(F,ce)|0,f=f+Math.imul(F,he)|0,f=f+Math.imul(V,ce)|0,b=b+Math.imul(V,he)|0,l=l+Math.imul(z,ue)|0,f=f+Math.imul(z,le)|0,f=f+Math.imul(U,ue)|0,b=b+Math.imul(U,le)|0,l=l+Math.imul(P,be)|0,f=f+Math.imul(P,pe)|0,f=f+Math.imul(R,be)|0,b=b+Math.imul(R,pe)|0;var Tr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,l=Math.imul(j,oe),f=Math.imul(j,de),f=f+Math.imul(G,oe)|0,b=Math.imul(G,de),l=l+Math.imul(Y,ce)|0,f=f+Math.imul(Y,he)|0,f=f+Math.imul(X,ce)|0,b=b+Math.imul(X,he)|0,l=l+Math.imul(F,ue)|0,f=f+Math.imul(F,le)|0,f=f+Math.imul(V,ue)|0,b=b+Math.imul(V,le)|0,l=l+Math.imul(z,be)|0,f=f+Math.imul(z,pe)|0,f=f+Math.imul(U,be)|0,b=b+Math.imul(U,pe)|0,l=l+Math.imul(P,ve)|0,f=f+Math.imul(P,me)|0,f=f+Math.imul(R,ve)|0,b=b+Math.imul(R,me)|0;var qr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,l=Math.imul(Z,oe),f=Math.imul(Z,de),f=f+Math.imul(Q,oe)|0,b=Math.imul(Q,de),l=l+Math.imul(j,ce)|0,f=f+Math.imul(j,he)|0,f=f+Math.imul(G,ce)|0,b=b+Math.imul(G,he)|0,l=l+Math.imul(Y,ue)|0,f=f+Math.imul(Y,le)|0,f=f+Math.imul(X,ue)|0,b=b+Math.imul(X,le)|0,l=l+Math.imul(F,be)|0,f=f+Math.imul(F,pe)|0,f=f+Math.imul(V,be)|0,b=b+Math.imul(V,pe)|0,l=l+Math.imul(z,ve)|0,f=f+Math.imul(z,me)|0,f=f+Math.imul(U,ve)|0,b=b+Math.imul(U,me)|0,l=l+Math.imul(P,ge)|0,f=f+Math.imul(P,ye)|0,f=f+Math.imul(R,ge)|0,b=b+Math.imul(R,ye)|0;var Lr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,l=Math.imul(ee,oe),f=Math.imul(ee,de),f=f+Math.imul(te,oe)|0,b=Math.imul(te,de),l=l+Math.imul(Z,ce)|0,f=f+Math.imul(Z,he)|0,f=f+Math.imul(Q,ce)|0,b=b+Math.imul(Q,he)|0,l=l+Math.imul(j,ue)|0,f=f+Math.imul(j,le)|0,f=f+Math.imul(G,ue)|0,b=b+Math.imul(G,le)|0,l=l+Math.imul(Y,be)|0,f=f+Math.imul(Y,pe)|0,f=f+Math.imul(X,be)|0,b=b+Math.imul(X,pe)|0,l=l+Math.imul(F,ve)|0,f=f+Math.imul(F,me)|0,f=f+Math.imul(V,ve)|0,b=b+Math.imul(V,me)|0,l=l+Math.imul(z,ge)|0,f=f+Math.imul(z,ye)|0,f=f+Math.imul(U,ge)|0,b=b+Math.imul(U,ye)|0,l=l+Math.imul(P,we)|0,f=f+Math.imul(P,xe)|0,f=f+Math.imul(R,we)|0,b=b+Math.imul(R,xe)|0;var zr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,l=Math.imul(re,oe),f=Math.imul(re,de),f=f+Math.imul(ie,oe)|0,b=Math.imul(ie,de),l=l+Math.imul(ee,ce)|0,f=f+Math.imul(ee,he)|0,f=f+Math.imul(te,ce)|0,b=b+Math.imul(te,he)|0,l=l+Math.imul(Z,ue)|0,f=f+Math.imul(Z,le)|0,f=f+Math.imul(Q,ue)|0,b=b+Math.imul(Q,le)|0,l=l+Math.imul(j,be)|0,f=f+Math.imul(j,pe)|0,f=f+Math.imul(G,be)|0,b=b+Math.imul(G,pe)|0,l=l+Math.imul(Y,ve)|0,f=f+Math.imul(Y,me)|0,f=f+Math.imul(X,ve)|0,b=b+Math.imul(X,me)|0,l=l+Math.imul(F,ge)|0,f=f+Math.imul(F,ye)|0,f=f+Math.imul(V,ge)|0,b=b+Math.imul(V,ye)|0,l=l+Math.imul(z,we)|0,f=f+Math.imul(z,xe)|0,f=f+Math.imul(U,we)|0,b=b+Math.imul(U,xe)|0,l=l+Math.imul(P,Me)|0,f=f+Math.imul(P,Se)|0,f=f+Math.imul(R,Me)|0,b=b+Math.imul(R,Se)|0;var $r=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,l=Math.imul(ne,oe),f=Math.imul(ne,de),f=f+Math.imul(se,oe)|0,b=Math.imul(se,de),l=l+Math.imul(re,ce)|0,f=f+Math.imul(re,he)|0,f=f+Math.imul(ie,ce)|0,b=b+Math.imul(ie,he)|0,l=l+Math.imul(ee,ue)|0,f=f+Math.imul(ee,le)|0,f=f+Math.imul(te,ue)|0,b=b+Math.imul(te,le)|0,l=l+Math.imul(Z,be)|0,f=f+Math.imul(Z,pe)|0,f=f+Math.imul(Q,be)|0,b=b+Math.imul(Q,pe)|0,l=l+Math.imul(j,ve)|0,f=f+Math.imul(j,me)|0,f=f+Math.imul(G,ve)|0,b=b+Math.imul(G,me)|0,l=l+Math.imul(Y,ge)|0,f=f+Math.imul(Y,ye)|0,f=f+Math.imul(X,ge)|0,b=b+Math.imul(X,ye)|0,l=l+Math.imul(F,we)|0,f=f+Math.imul(F,xe)|0,f=f+Math.imul(V,we)|0,b=b+Math.imul(V,xe)|0,l=l+Math.imul(z,Me)|0,f=f+Math.imul(z,Se)|0,f=f+Math.imul(U,Me)|0,b=b+Math.imul(U,Se)|0,l=l+Math.imul(P,_e)|0,f=f+Math.imul(P,Ae)|0,f=f+Math.imul(R,_e)|0,b=b+Math.imul(R,Ae)|0;var Kr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,l=Math.imul(ae,oe),f=Math.imul(ae,de),f=f+Math.imul(fe,oe)|0,b=Math.imul(fe,de),l=l+Math.imul(ne,ce)|0,f=f+Math.imul(ne,he)|0,f=f+Math.imul(se,ce)|0,b=b+Math.imul(se,he)|0,l=l+Math.imul(re,ue)|0,f=f+Math.imul(re,le)|0,f=f+Math.imul(ie,ue)|0,b=b+Math.imul(ie,le)|0,l=l+Math.imul(ee,be)|0,f=f+Math.imul(ee,pe)|0,f=f+Math.imul(te,be)|0,b=b+Math.imul(te,pe)|0,l=l+Math.imul(Z,ve)|0,f=f+Math.imul(Z,me)|0,f=f+Math.imul(Q,ve)|0,b=b+Math.imul(Q,me)|0,l=l+Math.imul(j,ge)|0,f=f+Math.imul(j,ye)|0,f=f+Math.imul(G,ge)|0,b=b+Math.imul(G,ye)|0,l=l+Math.imul(Y,we)|0,f=f+Math.imul(Y,xe)|0,f=f+Math.imul(X,we)|0,b=b+Math.imul(X,xe)|0,l=l+Math.imul(F,Me)|0,f=f+Math.imul(F,Se)|0,f=f+Math.imul(V,Me)|0,b=b+Math.imul(V,Se)|0,l=l+Math.imul(z,_e)|0,f=f+Math.imul(z,Ae)|0,f=f+Math.imul(U,_e)|0,b=b+Math.imul(U,Ae)|0,l=l+Math.imul(P,Ee)|0,f=f+Math.imul(P,Ie)|0,f=f+Math.imul(R,Ee)|0,b=b+Math.imul(R,Ie)|0;var Dr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,l=Math.imul(ae,ce),f=Math.imul(ae,he),f=f+Math.imul(fe,ce)|0,b=Math.imul(fe,he),l=l+Math.imul(ne,ue)|0,f=f+Math.imul(ne,le)|0,f=f+Math.imul(se,ue)|0,b=b+Math.imul(se,le)|0,l=l+Math.imul(re,be)|0,f=f+Math.imul(re,pe)|0,f=f+Math.imul(ie,be)|0,b=b+Math.imul(ie,pe)|0,l=l+Math.imul(ee,ve)|0,f=f+Math.imul(ee,me)|0,f=f+Math.imul(te,ve)|0,b=b+Math.imul(te,me)|0,l=l+Math.imul(Z,ge)|0,f=f+Math.imul(Z,ye)|0,f=f+Math.imul(Q,ge)|0,b=b+Math.imul(Q,ye)|0,l=l+Math.imul(j,we)|0,f=f+Math.imul(j,xe)|0,f=f+Math.imul(G,we)|0,b=b+Math.imul(G,xe)|0,l=l+Math.imul(Y,Me)|0,f=f+Math.imul(Y,Se)|0,f=f+Math.imul(X,Me)|0,b=b+Math.imul(X,Se)|0,l=l+Math.imul(F,_e)|0,f=f+Math.imul(F,Ae)|0,f=f+Math.imul(V,_e)|0,b=b+Math.imul(V,Ae)|0,l=l+Math.imul(z,Ee)|0,f=f+Math.imul(z,Ie)|0,f=f+Math.imul(U,Ee)|0,b=b+Math.imul(U,Ie)|0;var Ur=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,l=Math.imul(ae,ue),f=Math.imul(ae,le),f=f+Math.imul(fe,ue)|0,b=Math.imul(fe,le),l=l+Math.imul(ne,be)|0,f=f+Math.imul(ne,pe)|0,f=f+Math.imul(se,be)|0,b=b+Math.imul(se,pe)|0,l=l+Math.imul(re,ve)|0,f=f+Math.imul(re,me)|0,f=f+Math.imul(ie,ve)|0,b=b+Math.imul(ie,me)|0,l=l+Math.imul(ee,ge)|0,f=f+Math.imul(ee,ye)|0,f=f+Math.imul(te,ge)|0,b=b+Math.imul(te,ye)|0,l=l+Math.imul(Z,we)|0,f=f+Math.imul(Z,xe)|0,f=f+Math.imul(Q,we)|0,b=b+Math.imul(Q,xe)|0,l=l+Math.imul(j,Me)|0,f=f+Math.imul(j,Se)|0,f=f+Math.imul(G,Me)|0,b=b+Math.imul(G,Se)|0,l=l+Math.imul(Y,_e)|0,f=f+Math.imul(Y,Ae)|0,f=f+Math.imul(X,_e)|0,b=b+Math.imul(X,Ae)|0,l=l+Math.imul(F,Ee)|0,f=f+Math.imul(F,Ie)|0,f=f+Math.imul(V,Ee)|0,b=b+Math.imul(V,Ie)|0;var Fr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,l=Math.imul(ae,be),f=Math.imul(ae,pe),f=f+Math.imul(fe,be)|0,b=Math.imul(fe,pe),l=l+Math.imul(ne,ve)|0,f=f+Math.imul(ne,me)|0,f=f+Math.imul(se,ve)|0,b=b+Math.imul(se,me)|0,l=l+Math.imul(re,ge)|0,f=f+Math.imul(re,ye)|0,f=f+Math.imul(ie,ge)|0,b=b+Math.imul(ie,ye)|0,l=l+Math.imul(ee,we)|0,f=f+Math.imul(ee,xe)|0,f=f+Math.imul(te,we)|0,b=b+Math.imul(te,xe)|0,l=l+Math.imul(Z,Me)|0,f=f+Math.imul(Z,Se)|0,f=f+Math.imul(Q,Me)|0,b=b+Math.imul(Q,Se)|0,l=l+Math.imul(j,_e)|0,f=f+Math.imul(j,Ae)|0,f=f+Math.imul(G,_e)|0,b=b+Math.imul(G,Ae)|0,l=l+Math.imul(Y,Ee)|0,f=f+Math.imul(Y,Ie)|0,f=f+Math.imul(X,Ee)|0,b=b+Math.imul(X,Ie)|0;var Hr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,l=Math.imul(ae,ve),f=Math.imul(ae,me),f=f+Math.imul(fe,ve)|0,b=Math.imul(fe,me),l=l+Math.imul(ne,ge)|0,f=f+Math.imul(ne,ye)|0,f=f+Math.imul(se,ge)|0,b=b+Math.imul(se,ye)|0,l=l+Math.imul(re,we)|0,f=f+Math.imul(re,xe)|0,f=f+Math.imul(ie,we)|0,b=b+Math.imul(ie,xe)|0,l=l+Math.imul(ee,Me)|0,f=f+Math.imul(ee,Se)|0,f=f+Math.imul(te,Me)|0,b=b+Math.imul(te,Se)|0,l=l+Math.imul(Z,_e)|0,f=f+Math.imul(Z,Ae)|0,f=f+Math.imul(Q,_e)|0,b=b+Math.imul(Q,Ae)|0,l=l+Math.imul(j,Ee)|0,f=f+Math.imul(j,Ie)|0,f=f+Math.imul(G,Ee)|0,b=b+Math.imul(G,Ie)|0;var Vr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,l=Math.imul(ae,ge),f=Math.imul(ae,ye),f=f+Math.imul(fe,ge)|0,b=Math.imul(fe,ye),l=l+Math.imul(ne,we)|0,f=f+Math.imul(ne,xe)|0,f=f+Math.imul(se,we)|0,b=b+Math.imul(se,xe)|0,l=l+Math.imul(re,Me)|0,f=f+Math.imul(re,Se)|0,f=f+Math.imul(ie,Me)|0,b=b+Math.imul(ie,Se)|0,l=l+Math.imul(ee,_e)|0,f=f+Math.imul(ee,Ae)|0,f=f+Math.imul(te,_e)|0,b=b+Math.imul(te,Ae)|0,l=l+Math.imul(Z,Ee)|0,f=f+Math.imul(Z,Ie)|0,f=f+Math.imul(Q,Ee)|0,b=b+Math.imul(Q,Ie)|0;var Jr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,l=Math.imul(ae,we),f=Math.imul(ae,xe),f=f+Math.imul(fe,we)|0,b=Math.imul(fe,xe),l=l+Math.imul(ne,Me)|0,f=f+Math.imul(ne,Se)|0,f=f+Math.imul(se,Me)|0,b=b+Math.imul(se,Se)|0,l=l+Math.imul(re,_e)|0,f=f+Math.imul(re,Ae)|0,f=f+Math.imul(ie,_e)|0,b=b+Math.imul(ie,Ae)|0,l=l+Math.imul(ee,Ee)|0,f=f+Math.imul(ee,Ie)|0,f=f+Math.imul(te,Ee)|0,b=b+Math.imul(te,Ie)|0;var Wr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,l=Math.imul(ae,Me),f=Math.imul(ae,Se),f=f+Math.imul(fe,Me)|0,b=Math.imul(fe,Se),l=l+Math.imul(ne,_e)|0,f=f+Math.imul(ne,Ae)|0,f=f+Math.imul(se,_e)|0,b=b+Math.imul(se,Ae)|0,l=l+Math.imul(re,Ee)|0,f=f+Math.imul(re,Ie)|0,f=f+Math.imul(ie,Ee)|0,b=b+Math.imul(ie,Ie)|0;var Yr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,l=Math.imul(ae,_e),f=Math.imul(ae,Ae),f=f+Math.imul(fe,_e)|0,b=Math.imul(fe,Ae),l=l+Math.imul(ne,Ee)|0,f=f+Math.imul(ne,Ie)|0,f=f+Math.imul(se,Ee)|0,b=b+Math.imul(se,Ie)|0;var Xr=(M+l|0)+((f&8191)<<13)|0;M=(b+(f>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,l=Math.imul(ae,Ee),f=Math.imul(ae,Ie),f=f+Math.imul(fe,Ee)|0,b=Math.imul(fe,Ie);var jr=(M+l|0)+((f&8191)<<13)|0;return M=(b+(f>>>13)|0)+(jr>>>26)|0,jr&=67108863,y[0]=kr,y[1]=Br,y[2]=Cr,y[3]=Tr,y[4]=qr,y[5]=Lr,y[6]=zr,y[7]=$r,y[8]=Kr,y[9]=Dr,y[10]=Ur,y[11]=Fr,y[12]=Hr,y[13]=Vr,y[14]=Jr,y[15]=Wr,y[16]=Yr,y[17]=Xr,y[18]=jr,M!==0&&(y[19]=M,d.length++),d};Math.imul||(E=_);function O(m,s,o){o.negative=s.negative^m.negative,o.length=m.length+s.length;for(var d=0,u=0,p=0;p<o.length-1;p++){var y=u;u=0;for(var M=d&67108863,l=Math.min(p,s.length-1),f=Math.max(0,p-m.length+1);f<=l;f++){var b=p-f,I=m.words[b]|0,P=s.words[f]|0,R=I*P,B=R&67108863;y=y+(R/67108864|0)|0,B=B+M|0,M=B&67108863,y=y+(B>>>26)|0,u+=y>>>26,y&=67108863}o.words[p]=M,d=y,y=u}return d!==0?o.words[p]=d:o.length--,o.strip()}function N(m,s,o){var d=new k;return d.mulp(m,s,o)}n.prototype.mulTo=function(s,o){var d,u=this.length+s.length;return this.length===10&&s.length===10?d=E(this,s,o):u<63?d=_(this,s,o):u<1024?d=O(this,s,o):d=N(this,s,o),d};function k(m,s){this.x=m,this.y=s}k.prototype.makeRBT=function(s){for(var o=new Array(s),d=n.prototype._countBits(s)-1,u=0;u<s;u++)o[u]=this.revBin(u,d,s);return o},k.prototype.revBin=function(s,o,d){if(s===0||s===d-1)return s;for(var u=0,p=0;p<o;p++)u|=(s&1)<<o-p-1,s>>=1;return u},k.prototype.permute=function(s,o,d,u,p,y){for(var M=0;M<y;M++)u[M]=o[s[M]],p[M]=d[s[M]]},k.prototype.transform=function(s,o,d,u,p,y){this.permute(y,s,o,d,u,p);for(var M=1;M<p;M<<=1)for(var l=M<<1,f=Math.cos(2*Math.PI/l),b=Math.sin(2*Math.PI/l),I=0;I<p;I+=l)for(var P=f,R=b,B=0;B<M;B++){var z=d[I+B],U=u[I+B],lt=d[I+B+M],F=u[I+B+M],V=P*lt-R*F;F=P*F+R*lt,lt=V,d[I+B]=z+lt,u[I+B]=U+F,d[I+B+M]=z-lt,u[I+B+M]=U-F,B!==l&&(V=f*P-b*R,R=f*R+b*P,P=V)}},k.prototype.guessLen13b=function(s,o){var d=Math.max(o,s)|1,u=d&1,p=0;for(d=d/2|0;d;d=d>>>1)p++;return 1<<p+1+u},k.prototype.conjugate=function(s,o,d){if(!(d<=1))for(var u=0;u<d/2;u++){var p=s[u];s[u]=s[d-u-1],s[d-u-1]=p,p=o[u],o[u]=-o[d-u-1],o[d-u-1]=-p}},k.prototype.normalize13b=function(s,o){for(var d=0,u=0;u<o/2;u++){var p=Math.round(s[2*u+1]/o)*8192+Math.round(s[2*u]/o)+d;s[u]=p&67108863,p<67108864?d=0:d=p/67108864|0}return s},k.prototype.convert13b=function(s,o,d,u){for(var p=0,y=0;y<o;y++)p=p+(s[y]|0),d[2*y]=p&8191,p=p>>>13,d[2*y+1]=p&8191,p=p>>>13;for(y=2*o;y<u;++y)d[y]=0;i(p===0),i((p&-8192)===0)},k.prototype.stub=function(s){for(var o=new Array(s),d=0;d<s;d++)o[d]=0;return o},k.prototype.mulp=function(s,o,d){var u=2*this.guessLen13b(s.length,o.length),p=this.makeRBT(u),y=this.stub(u),M=new Array(u),l=new Array(u),f=new Array(u),b=new Array(u),I=new Array(u),P=new Array(u),R=d.words;R.length=u,this.convert13b(s.words,s.length,M,u),this.convert13b(o.words,o.length,b,u),this.transform(M,y,l,f,u,p),this.transform(b,y,I,P,u,p);for(var B=0;B<u;B++){var z=l[B]*I[B]-f[B]*P[B];f[B]=l[B]*P[B]+f[B]*I[B],l[B]=z}return this.conjugate(l,f,u),this.transform(l,f,R,y,u,p),this.conjugate(R,y,u),this.normalize13b(R,u),d.negative=s.negative^o.negative,d.length=s.length+o.length,d.strip()},n.prototype.mul=function(s){var o=new n(null);return o.words=new Array(this.length+s.length),this.mulTo(s,o)},n.prototype.mulf=function(s){var o=new n(null);return o.words=new Array(this.length+s.length),N(this,s,o)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){i(typeof s=="number"),i(s<67108864);for(var o=0,d=0;d<this.length;d++){var u=(this.words[d]|0)*s,p=(u&67108863)+(o&67108863);o>>=26,o+=u/67108864|0,o+=p>>>26,this.words[d]=p&67108863}return o!==0&&(this.words[d]=o,this.length++),this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var o=S(s);if(o.length===0)return new n(1);for(var d=this,u=0;u<o.length&&o[u]===0;u++,d=d.sqr());if(++u<o.length)for(var p=d.sqr();u<o.length;u++,p=p.sqr())o[u]!==0&&(d=d.mul(p));return d},n.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var o=s%26,d=(s-o)/26,u=67108863>>>26-o<<26-o,p;if(o!==0){var y=0;for(p=0;p<this.length;p++){var M=this.words[p]&u,l=(this.words[p]|0)-M<<o;this.words[p]=l|y,y=M>>>26-o}y&&(this.words[p]=y,this.length++)}if(d!==0){for(p=this.length-1;p>=0;p--)this.words[p+d]=this.words[p];for(p=0;p<d;p++)this.words[p]=0;this.length+=d}return this.strip()},n.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,o,d){i(typeof s=="number"&&s>=0);var u;o?u=(o-o%26)/26:u=0;var p=s%26,y=Math.min((s-p)/26,this.length),M=67108863^67108863>>>p<<p,l=d;if(u-=y,u=Math.max(0,u),l){for(var f=0;f<y;f++)l.words[f]=this.words[f];l.length=y}if(y!==0)if(this.length>y)for(this.length-=y,f=0;f<this.length;f++)this.words[f]=this.words[f+y];else this.words[0]=0,this.length=1;var b=0;for(f=this.length-1;f>=0&&(b!==0||f>=u);f--){var I=this.words[f]|0;this.words[f]=b<<26-p|I>>>p,b=I&M}return l&&b!==0&&(l.words[l.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(s,o,d){return i(this.negative===0),this.iushrn(s,o,d)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var o=s%26,d=(s-o)/26,u=1<<o;if(this.length<=d)return!1;var p=this.words[d];return!!(p&u)},n.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var o=s%26,d=(s-o)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(o!==0&&d++,this.length=Math.min(d,this.length),o!==0){var u=67108863^67108863>>>o<<o;this.words[this.length-1]&=u}return this.strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},n.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,o,d){var u=s.length+d,p;this._expand(u);var y,M=0;for(p=0;p<s.length;p++){y=(this.words[p+d]|0)+M;var l=(s.words[p]|0)*o;y-=l&67108863,M=(y>>26)-(l/67108864|0),this.words[p+d]=y&67108863}for(;p<this.length-d;p++)y=(this.words[p+d]|0)+M,M=y>>26,this.words[p+d]=y&67108863;if(M===0)return this.strip();for(i(M===-1),M=0,p=0;p<this.length;p++)y=-(this.words[p]|0)+M,M=y>>26,this.words[p]=y&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(s,o){var d=this.length-s.length,u=this.clone(),p=s,y=p.words[p.length-1]|0,M=this._countBits(y);d=26-M,d!==0&&(p=p.ushln(d),u.iushln(d),y=p.words[p.length-1]|0);var l=u.length-p.length,f;if(o!=="mod"){f=new n(null),f.length=l+1,f.words=new Array(f.length);for(var b=0;b<f.length;b++)f.words[b]=0}var I=u.clone()._ishlnsubmul(p,1,l);I.negative===0&&(u=I,f&&(f.words[l]=1));for(var P=l-1;P>=0;P--){var R=(u.words[p.length+P]|0)*67108864+(u.words[p.length+P-1]|0);for(R=Math.min(R/y|0,67108863),u._ishlnsubmul(p,R,P);u.negative!==0;)R--,u.negative=0,u._ishlnsubmul(p,1,P),u.isZero()||(u.negative^=1);f&&(f.words[P]=R)}return f&&f.strip(),u.strip(),o!=="div"&&d!==0&&u.iushrn(d),{div:f||null,mod:u}},n.prototype.divmod=function(s,o,d){if(i(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var u,p,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,o),o!=="mod"&&(u=y.div.neg()),o!=="div"&&(p=y.mod.neg(),d&&p.negative!==0&&p.iadd(s)),{div:u,mod:p}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),o),o!=="mod"&&(u=y.div.neg()),{div:u,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),o),o!=="div"&&(p=y.mod.neg(),d&&p.negative!==0&&p.isub(s)),{div:y.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?o==="div"?{div:this.divn(s.words[0]),mod:null}:o==="mod"?{div:null,mod:new n(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modn(s.words[0]))}:this._wordDiv(s,o)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var o=this.divmod(s);if(o.mod.isZero())return o.div;var d=o.div.negative!==0?o.mod.isub(s):o.mod,u=s.ushrn(1),p=s.andln(1),y=d.cmp(u);return y<0||p===1&&y===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},n.prototype.modn=function(s){i(s<=67108863);for(var o=(1<<26)%s,d=0,u=this.length-1;u>=0;u--)d=(o*d+(this.words[u]|0))%s;return d},n.prototype.idivn=function(s){i(s<=67108863);for(var o=0,d=this.length-1;d>=0;d--){var u=(this.words[d]|0)+o*67108864;this.words[d]=u/s|0,o=u%s}return this.strip()},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var o=this,d=s.clone();o.negative!==0?o=o.umod(s):o=o.clone();for(var u=new n(1),p=new n(0),y=new n(0),M=new n(1),l=0;o.isEven()&&d.isEven();)o.iushrn(1),d.iushrn(1),++l;for(var f=d.clone(),b=o.clone();!o.isZero();){for(var I=0,P=1;!(o.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(o.iushrn(I);I-- >0;)(u.isOdd()||p.isOdd())&&(u.iadd(f),p.isub(b)),u.iushrn(1),p.iushrn(1);for(var R=0,B=1;!(d.words[0]&B)&&R<26;++R,B<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(y.isOdd()||M.isOdd())&&(y.iadd(f),M.isub(b)),y.iushrn(1),M.iushrn(1);o.cmp(d)>=0?(o.isub(d),u.isub(y),p.isub(M)):(d.isub(o),y.isub(u),M.isub(p))}return{a:y,b:M,gcd:d.iushln(l)}},n.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var o=this,d=s.clone();o.negative!==0?o=o.umod(s):o=o.clone();for(var u=new n(1),p=new n(0),y=d.clone();o.cmpn(1)>0&&d.cmpn(1)>0;){for(var M=0,l=1;!(o.words[0]&l)&&M<26;++M,l<<=1);if(M>0)for(o.iushrn(M);M-- >0;)u.isOdd()&&u.iadd(y),u.iushrn(1);for(var f=0,b=1;!(d.words[0]&b)&&f<26;++f,b<<=1);if(f>0)for(d.iushrn(f);f-- >0;)p.isOdd()&&p.iadd(y),p.iushrn(1);o.cmp(d)>=0?(o.isub(d),u.isub(p)):(d.isub(o),p.isub(u))}var I;return o.cmpn(1)===0?I=u:I=p,I.cmpn(0)<0&&I.iadd(s),I},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var o=this.clone(),d=s.clone();o.negative=0,d.negative=0;for(var u=0;o.isEven()&&d.isEven();u++)o.iushrn(1),d.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;d.isEven();)d.iushrn(1);var p=o.cmp(d);if(p<0){var y=o;o=d,d=y}else if(p===0||d.cmpn(1)===0)break;o.isub(d)}while(!0);return d.iushln(u)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){i(typeof s=="number");var o=s%26,d=(s-o)/26,u=1<<o;if(this.length<=d)return this._expand(d+1),this.words[d]|=u,this;for(var p=u,y=d;p!==0&&y<this.length;y++){var M=this.words[y]|0;M+=p,p=M>>>26,M&=67108863,this.words[y]=M}return p!==0&&(this.words[y]=p,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var o=s<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var d;if(this.length>1)d=1;else{o&&(s=-s),i(s<=67108863,"Number is too big");var u=this.words[0]|0;d=u===s?0:u<s?-1:1}return this.negative!==0?-d|0:d},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var o=this.ucmp(s);return this.negative!==0?-o|0:o},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var o=0,d=this.length-1;d>=0;d--){var u=this.words[d]|0,p=s.words[d]|0;if(u!==p){u<p?o=-1:u>p&&(o=1);break}}return o},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new L(s)},n.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var K={k256:null,p224:null,p192:null,p25519:null};function D(m,s){this.name=m,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},D.prototype.ireduce=function(s){var o=s,d;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),d=o.bitLength();while(d>this.n);var u=d<this.n?-1:o.ucmp(this.p);return u===0?(o.words[0]=0,o.length=1):u>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},D.prototype.split=function(s,o){s.iushrn(this.n,0,o)},D.prototype.imulK=function(s){return s.imul(this.k)};function $(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a($,D),$.prototype.split=function(s,o){for(var d=4194303,u=Math.min(s.length,9),p=0;p<u;p++)o.words[p]=s.words[p];if(o.length=u,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(o.words[o.length++]=y&d,p=10;p<s.length;p++){var M=s.words[p]|0;s.words[p-10]=(M&d)<<4|y>>>22,y=M}y>>>=22,s.words[p-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},$.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var o=0,d=0;d<s.length;d++){var u=s.words[d]|0;o+=u*977,s.words[d]=o&67108863,o=u*64+(o/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function Le(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Le,D);function De(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(De,D);function Ue(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Ue,D),Ue.prototype.imulK=function(s){for(var o=0,d=0;d<s.length;d++){var u=(s.words[d]|0)*19+o,p=u&67108863;u>>>=26,s.words[d]=p,o=u}return o!==0&&(s.words[s.length++]=o),s},n._prime=function(s){if(K[s])return K[s];var o;if(s==="k256")o=new $;else if(s==="p224")o=new Le;else if(s==="p192")o=new De;else if(s==="p25519")o=new Ue;else throw new Error("Unknown prime "+s);return K[s]=o,o};function L(m){if(typeof m=="string"){var s=n._prime(m);this.m=s.p,this.prime=s}else i(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}L.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},L.prototype._verify2=function(s,o){i((s.negative|o.negative)===0,"red works only with positives"),i(s.red&&s.red===o.red,"red works only with red numbers")},L.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},L.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},L.prototype.add=function(s,o){this._verify2(s,o);var d=s.add(o);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},L.prototype.iadd=function(s,o){this._verify2(s,o);var d=s.iadd(o);return d.cmp(this.m)>=0&&d.isub(this.m),d},L.prototype.sub=function(s,o){this._verify2(s,o);var d=s.sub(o);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},L.prototype.isub=function(s,o){this._verify2(s,o);var d=s.isub(o);return d.cmpn(0)<0&&d.iadd(this.m),d},L.prototype.shl=function(s,o){return this._verify1(s),this.imod(s.ushln(o))},L.prototype.imul=function(s,o){return this._verify2(s,o),this.imod(s.imul(o))},L.prototype.mul=function(s,o){return this._verify2(s,o),this.imod(s.mul(o))},L.prototype.isqr=function(s){return this.imul(s,s.clone())},L.prototype.sqr=function(s){return this.mul(s,s)},L.prototype.sqrt=function(s){if(s.isZero())return s.clone();var o=this.m.andln(3);if(i(o%2===1),o===3){var d=this.m.add(new n(1)).iushrn(2);return this.pow(s,d)}for(var u=this.m.subn(1),p=0;!u.isZero()&&u.andln(1)===0;)p++,u.iushrn(1);i(!u.isZero());var y=new n(1).toRed(this),M=y.redNeg(),l=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new n(2*f*f).toRed(this);this.pow(f,l).cmp(M)!==0;)f.redIAdd(M);for(var b=this.pow(f,u),I=this.pow(s,u.addn(1).iushrn(1)),P=this.pow(s,u),R=p;P.cmp(y)!==0;){for(var B=P,z=0;B.cmp(y)!==0;z++)B=B.redSqr();i(z<R);var U=this.pow(b,new n(1).iushln(R-z-1));I=I.redMul(U),b=U.redSqr(),P=P.redMul(b),R=z}return I},L.prototype.invm=function(s){var o=s._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},L.prototype.pow=function(s,o){if(o.isZero())return new n(1).toRed(this);if(o.cmpn(1)===0)return s.clone();var d=4,u=new Array(1<<d);u[0]=new n(1).toRed(this),u[1]=s;for(var p=2;p<u.length;p++)u[p]=this.mul(u[p-1],s);var y=u[0],M=0,l=0,f=o.bitLength()%26;for(f===0&&(f=26),p=o.length-1;p>=0;p--){for(var b=o.words[p],I=f-1;I>=0;I--){var P=b>>I&1;if(y!==u[0]&&(y=this.sqr(y)),P===0&&M===0){l=0;continue}M<<=1,M|=P,l++,!(l!==d&&(p!==0||I!==0))&&(y=this.mul(y,u[M]),l=0,M=0)}f=26}return y},L.prototype.convertTo=function(s){var o=s.umod(this.m);return o===s?o.clone():o},L.prototype.convertFrom=function(s){var o=s.clone();return o.red=null,o},n.mont=function(s){return new Ge(s)};function Ge(m){L.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Ge,L),Ge.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Ge.prototype.convertFrom=function(s){var o=this.imod(s.mul(this.rinv));return o.red=null,o},Ge.prototype.imul=function(s,o){if(s.isZero()||o.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(o),u=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=d.isub(u).iushrn(this.shift),y=p;return p.cmp(this.m)>=0?y=p.isub(this.m):p.cmpn(0)<0&&(y=p.iadd(this.m)),y._forceRed(this)},Ge.prototype.mul=function(s,o){if(s.isZero()||o.isZero())return new n(0)._forceRed(this);var d=s.mul(o),u=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=d.isub(u).iushrn(this.shift),y=p;return p.cmp(this.m)>=0?y=p.isub(this.m):p.cmpn(0)<0&&(y=p.iadd(this.m)),y._forceRed(this)},Ge.prototype.invm=function(s){var o=this.imod(s._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,Ks)})(Oi);var ut=Oi.exports,Pt=Un;function Un(r,e){if(!r)throw new Error(e||"Assertion failed")}Un.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var ki={};(function(r){var e=r;function t(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var h=[];if(typeof n!="string"){for(var v=0;v<n.length;v++)h[v]=n[v]|0;return h}if(c==="hex"){n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n);for(var v=0;v<n.length;v+=2)h.push(parseInt(n[v]+n[v+1],16))}else for(var v=0;v<n.length;v++){var w=n.charCodeAt(v),g=w>>8,x=w&255;g?h.push(g,x):h.push(x)}return h}e.toArray=t;function i(n){return n.length===1?"0"+n:n}e.zero2=i;function a(n){for(var c="",h=0;h<n.length;h++)c+=i(n[h].toString(16));return c}e.toHex=a,e.encode=function(c,h){return h==="hex"?a(c):c}})(ki);(function(r){var e=r,t=ut,i=Pt,a=ki;e.assert=i,e.toArray=a.toArray,e.zero2=a.zero2,e.toHex=a.toHex,e.encode=a.encode;function n(g,x,A){var S=new Array(Math.max(g.bitLength(),A)+1);S.fill(0);for(var _=1<<x+1,E=g.clone(),O=0;O<S.length;O++){var N,k=E.andln(_-1);E.isOdd()?(k>(_>>1)-1?N=(_>>1)-k:N=k,E.isubn(N)):N=0,S[O]=N,E.iushrn(1)}return S}e.getNAF=n;function c(g,x){var A=[[],[]];g=g.clone(),x=x.clone();for(var S=0,_=0,E;g.cmpn(-S)>0||x.cmpn(-_)>0;){var O=g.andln(3)+S&3,N=x.andln(3)+_&3;O===3&&(O=-1),N===3&&(N=-1);var k;O&1?(E=g.andln(7)+S&7,(E===3||E===5)&&N===2?k=-O:k=O):k=0,A[0].push(k);var K;N&1?(E=x.andln(7)+_&7,(E===3||E===5)&&O===2?K=-N:K=N):K=0,A[1].push(K),2*S===k+1&&(S=1-S),2*_===K+1&&(_=1-_),g.iushrn(1),x.iushrn(1)}return A}e.getJSF=c;function h(g,x,A){var S="_"+x;g.prototype[x]=function(){return this[S]!==void 0?this[S]:this[S]=A.call(this)}}e.cachedProperty=h;function v(g){return typeof g=="string"?e.toArray(g,"hex"):g}e.parseBytes=v;function w(g){return new t(g,"hex","le")}e.intFromLE=w})(Ke);var Bi={exports:{}},ii;Bi.exports=function(e){return ii||(ii=new vt(null)),ii.generate(e)};function vt(r){this.rand=r}Bi.exports.Rand=vt;vt.prototype.generate=function(e){return this._rand(e)};vt.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?vt.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?vt.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(vt.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var pn=$s;if(typeof pn.randomBytes!="function")throw new Error("Not supported");vt.prototype._rand=function(e){return pn.randomBytes(e)}}catch{}var Fn=Bi.exports,Ci={},St=ut,tr=Ke,pr=tr.getNAF,Ja=tr.getJSF,vr=tr.assert;function xt(r,e){this.type=r,this.p=new St(e.p,16),this.red=e.prime?St.red(e.prime):St.mont(this.p),this.zero=new St(0).toRed(this.red),this.one=new St(1).toRed(this.red),this.two=new St(2).toRed(this.red),this.n=e.n&&new St(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Mr=xt;xt.prototype.point=function(){throw new Error("Not implemented")};xt.prototype.validate=function(){throw new Error("Not implemented")};xt.prototype._fixedNafMul=function(e,t){vr(e.precomputed);var i=e._getDoubles(),a=pr(t,1,this._bitLength),n=(1<<i.step+1)-(i.step%2===0?2:1);n/=3;var c=[],h,v;for(h=0;h<a.length;h+=i.step){v=0;for(var w=h+i.step-1;w>=h;w--)v=(v<<1)+a[w];c.push(v)}for(var g=this.jpoint(null,null,null),x=this.jpoint(null,null,null),A=n;A>0;A--){for(h=0;h<c.length;h++)v=c[h],v===A?x=x.mixedAdd(i.points[h]):v===-A&&(x=x.mixedAdd(i.points[h].neg()));g=g.add(x)}return g.toP()};xt.prototype._wnafMul=function(e,t){var i=4,a=e._getNAFPoints(i);i=a.wnd;for(var n=a.points,c=pr(t,i,this._bitLength),h=this.jpoint(null,null,null),v=c.length-1;v>=0;v--){for(var w=0;v>=0&&c[v]===0;v--)w++;if(v>=0&&w++,h=h.dblp(w),v<0)break;var g=c[v];vr(g!==0),e.type==="affine"?g>0?h=h.mixedAdd(n[g-1>>1]):h=h.mixedAdd(n[-g-1>>1].neg()):g>0?h=h.add(n[g-1>>1]):h=h.add(n[-g-1>>1].neg())}return e.type==="affine"?h.toP():h};xt.prototype._wnafMulAdd=function(e,t,i,a,n){var c=this._wnafT1,h=this._wnafT2,v=this._wnafT3,w=0,g,x,A;for(g=0;g<a;g++){A=t[g];var S=A._getNAFPoints(e);c[g]=S.wnd,h[g]=S.points}for(g=a-1;g>=1;g-=2){var _=g-1,E=g;if(c[_]!==1||c[E]!==1){v[_]=pr(i[_],c[_],this._bitLength),v[E]=pr(i[E],c[E],this._bitLength),w=Math.max(v[_].length,w),w=Math.max(v[E].length,w);continue}var O=[t[_],null,null,t[E]];t[_].y.cmp(t[E].y)===0?(O[1]=t[_].add(t[E]),O[2]=t[_].toJ().mixedAdd(t[E].neg())):t[_].y.cmp(t[E].y.redNeg())===0?(O[1]=t[_].toJ().mixedAdd(t[E]),O[2]=t[_].add(t[E].neg())):(O[1]=t[_].toJ().mixedAdd(t[E]),O[2]=t[_].toJ().mixedAdd(t[E].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],k=Ja(i[_],i[E]);for(w=Math.max(k[0].length,w),v[_]=new Array(w),v[E]=new Array(w),x=0;x<w;x++){var K=k[0][x]|0,D=k[1][x]|0;v[_][x]=N[(K+1)*3+(D+1)],v[E][x]=0,h[_]=O}}var $=this.jpoint(null,null,null),Le=this._wnafT4;for(g=w;g>=0;g--){for(var De=0;g>=0;){var Ue=!0;for(x=0;x<a;x++)Le[x]=v[x][g]|0,Le[x]!==0&&(Ue=!1);if(!Ue)break;De++,g--}if(g>=0&&De++,$=$.dblp(De),g<0)break;for(x=0;x<a;x++){var L=Le[x];L!==0&&(L>0?A=h[x][L-1>>1]:L<0&&(A=h[x][-L-1>>1].neg()),A.type==="affine"?$=$.mixedAdd(A):$=$.add(A))}}for(g=0;g<a;g++)h[g]=null;return n?$:$.toP()};function Ve(r,e){this.curve=r,this.type=e,this.precomputed=null}xt.BasePoint=Ve;Ve.prototype.eq=function(){throw new Error("Not implemented")};Ve.prototype.validate=function(){return this.curve.validate(this)};xt.prototype.decodePoint=function(e,t){e=tr.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?vr(e[e.length-1]%2===0):e[0]===7&&vr(e[e.length-1]%2===1);var a=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return a}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Ve.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ve.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};Ve.prototype.encode=function(e,t){return tr.encode(this._encode(t),e)};Ve.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Ve.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Ve.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],a=this,n=0;n<t;n+=e){for(var c=0;c<e;c++)a=a.dbl();i.push(a)}return{step:e,points:i}};Ve.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,a=i===1?null:this.dbl(),n=1;n<i;n++)t[n]=t[n-1].add(a);return{wnd:e,points:t}};Ve.prototype._getBeta=function(){return null};Ve.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t};var Wa=Ke,W=ut,Ti=wr,$t=Mr,Ya=Wa.assert;function Je(r){$t.call(this,"short",r),this.a=new W(r.a,16).toRed(this.red),this.b=new W(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ti(Je,$t);var Xa=Je;Je.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new W(e.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);t=a[0].cmp(a[1])<0?a[0]:a[1],t=t.toRed(this.red)}if(e.lambda)i=new W(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?i=n[0]:(i=n[1],Ya(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var c;return e.basis?c=e.basis.map(function(h){return{a:new W(h.a,16),b:new W(h.b,16)}}):c=this._getEndoBasis(i),{beta:t,lambda:i,basis:c}}};Je.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:W.mont(e),i=new W(2).toRed(t).redInvm(),a=i.redNeg(),n=new W(3).toRed(t).redNeg().redSqrt().redMul(i),c=a.redAdd(n).fromRed(),h=a.redSub(n).fromRed();return[c,h]};Je.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,a=this.n.clone(),n=new W(1),c=new W(0),h=new W(0),v=new W(1),w,g,x,A,S,_,E,O=0,N,k;i.cmpn(0)!==0;){var K=a.div(i);N=a.sub(K.mul(i)),k=h.sub(K.mul(n));var D=v.sub(K.mul(c));if(!x&&N.cmp(t)<0)w=E.neg(),g=n,x=N.neg(),A=k;else if(x&&++O===2)break;E=N,a=i,i=N,h=n,n=k,v=c,c=D}S=N.neg(),_=k;var $=x.sqr().add(A.sqr()),Le=S.sqr().add(_.sqr());return Le.cmp($)>=0&&(S=w,_=g),x.negative&&(x=x.neg(),A=A.neg()),S.negative&&(S=S.neg(),_=_.neg()),[{a:x,b:A},{a:S,b:_}]};Je.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],a=t[1],n=a.b.mul(e).divRound(this.n),c=i.b.neg().mul(e).divRound(this.n),h=n.mul(i.a),v=c.mul(a.a),w=n.mul(i.b),g=c.mul(a.b),x=e.sub(h).sub(v),A=w.add(g).neg();return{k1:x,k2:A}};Je.prototype.pointFromX=function(e,t){e=new W(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),a=i.redSqrt();if(a.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var n=a.fromRed().isOdd();return(t&&!n||!t&&n)&&(a=a.redNeg()),this.point(e,a)};Je.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,a=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(a).redIAdd(this.b);return i.redSqr().redISub(n).cmpn(0)===0};Je.prototype._endoWnafMulAdd=function(e,t,i){for(var a=this._endoWnafT1,n=this._endoWnafT2,c=0;c<e.length;c++){var h=this._endoSplit(t[c]),v=e[c],w=v._getBeta();h.k1.negative&&(h.k1.ineg(),v=v.neg(!0)),h.k2.negative&&(h.k2.ineg(),w=w.neg(!0)),a[c*2]=v,a[c*2+1]=w,n[c*2]=h.k1,n[c*2+1]=h.k2}for(var g=this._wnafMulAdd(1,a,n,c*2,i),x=0;x<c*2;x++)a[x]=null,n[x]=null;return g};function ke(r,e,t,i){$t.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new W(e,16),this.y=new W(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ti(ke,$t.BasePoint);Je.prototype.point=function(e,t,i){return new ke(this,e,t,i)};Je.prototype.pointFromJSON=function(e,t){return ke.fromJSON(this,e,t)};ke.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,a=function(n){return i.point(n.x.redMul(i.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(a)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(a)}}}return t}};ke.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ke.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var a=e.point(t[0],t[1],i);if(!t[2])return a;function n(h){return e.point(h[0],h[1],i)}var c=t[2];return a.precomputed={beta:null,doubles:c.doubles&&{step:c.doubles.step,points:[a].concat(c.doubles.points.map(n))},naf:c.naf&&{wnd:c.naf.wnd,points:[a].concat(c.naf.points.map(n))}},a};ke.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ke.prototype.isInfinity=function(){return this.inf};ke.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),a=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,a)};ke.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),a=e.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(a),c=n.redSqr().redISub(this.x.redAdd(this.x)),h=n.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,h)};ke.prototype.getX=function(){return this.x.fromRed()};ke.prototype.getY=function(){return this.y.fromRed()};ke.prototype.mul=function(e){return e=new W(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ke.prototype.mulAdd=function(e,t,i){var a=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(a,n):this.curve._wnafMulAdd(1,a,n,2)};ke.prototype.jmulAdd=function(e,t,i){var a=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(a,n,!0):this.curve._wnafMulAdd(1,a,n,2,!0)};ke.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ke.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,a=function(n){return n.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(a)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(a)}}}return t};ke.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Be(r,e,t,i){$t.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new W(0)):(this.x=new W(e,16),this.y=new W(t,16),this.z=new W(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ti(Be,$t.BasePoint);Je.prototype.jpoint=function(e,t,i){return new Be(this,e,t,i)};Be.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),a=this.y.redMul(t).redMul(e);return this.curve.point(i,a)};Be.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Be.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),a=this.x.redMul(t),n=e.x.redMul(i),c=this.y.redMul(t.redMul(e.z)),h=e.y.redMul(i.redMul(this.z)),v=a.redSub(n),w=c.redSub(h);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=v.redSqr(),x=g.redMul(v),A=a.redMul(g),S=w.redSqr().redIAdd(x).redISub(A).redISub(A),_=w.redMul(A.redISub(S)).redISub(c.redMul(x)),E=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(S,_,E)};Be.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,a=e.x.redMul(t),n=this.y,c=e.y.redMul(t).redMul(this.z),h=i.redSub(a),v=n.redSub(c);if(h.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=h.redSqr(),g=w.redMul(h),x=i.redMul(w),A=v.redSqr().redIAdd(g).redISub(x).redISub(x),S=v.redMul(x.redISub(A)).redISub(n.redMul(g)),_=this.z.redMul(h);return this.curve.jpoint(A,S,_)};Be.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var a=this.curve.a,n=this.curve.tinv,c=this.x,h=this.y,v=this.z,w=v.redSqr().redSqr(),g=h.redAdd(h);for(t=0;t<e;t++){var x=c.redSqr(),A=g.redSqr(),S=A.redSqr(),_=x.redAdd(x).redIAdd(x).redIAdd(a.redMul(w)),E=c.redMul(A),O=_.redSqr().redISub(E.redAdd(E)),N=E.redISub(O),k=_.redMul(N);k=k.redIAdd(k).redISub(S);var K=g.redMul(v);t+1<e&&(w=w.redMul(S)),c=O,v=K,g=k}return this.curve.jpoint(c,g.redMul(n),v)};Be.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Be.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var a=this.x.redSqr(),n=this.y.redSqr(),c=n.redSqr(),h=this.x.redAdd(n).redSqr().redISub(a).redISub(c);h=h.redIAdd(h);var v=a.redAdd(a).redIAdd(a),w=v.redSqr().redISub(h).redISub(h),g=c.redIAdd(c);g=g.redIAdd(g),g=g.redIAdd(g),e=w,t=v.redMul(h.redISub(w)).redISub(g),i=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),A=this.y.redSqr(),S=A.redSqr(),_=this.x.redAdd(A).redSqr().redISub(x).redISub(S);_=_.redIAdd(_);var E=x.redAdd(x).redIAdd(x),O=E.redSqr(),N=S.redIAdd(S);N=N.redIAdd(N),N=N.redIAdd(N),e=O.redISub(_).redISub(_),t=E.redMul(_.redISub(e)).redISub(N),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};Be.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var a=this.x.redSqr(),n=this.y.redSqr(),c=n.redSqr(),h=this.x.redAdd(n).redSqr().redISub(a).redISub(c);h=h.redIAdd(h);var v=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),w=v.redSqr().redISub(h).redISub(h);e=w;var g=c.redIAdd(c);g=g.redIAdd(g),g=g.redIAdd(g),t=v.redMul(h.redISub(w)).redISub(g),i=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),A=this.y.redSqr(),S=this.x.redMul(A),_=this.x.redSub(x).redMul(this.x.redAdd(x));_=_.redAdd(_).redIAdd(_);var E=S.redIAdd(S);E=E.redIAdd(E);var O=E.redAdd(E);e=_.redSqr().redISub(O),i=this.y.redAdd(this.z).redSqr().redISub(A).redISub(x);var N=A.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N),t=_.redMul(E.redISub(e)).redISub(N)}return this.curve.jpoint(e,t,i)};Be.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,a=this.z,n=a.redSqr().redSqr(),c=t.redSqr(),h=i.redSqr(),v=c.redAdd(c).redIAdd(c).redIAdd(e.redMul(n)),w=t.redAdd(t);w=w.redIAdd(w);var g=w.redMul(h),x=v.redSqr().redISub(g.redAdd(g)),A=g.redISub(x),S=h.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var _=v.redMul(A).redISub(S),E=i.redAdd(i).redMul(a);return this.curve.jpoint(x,_,E)};Be.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),a=t.redSqr(),n=e.redAdd(e).redIAdd(e),c=n.redSqr(),h=this.x.redAdd(t).redSqr().redISub(e).redISub(a);h=h.redIAdd(h),h=h.redAdd(h).redIAdd(h),h=h.redISub(c);var v=h.redSqr(),w=a.redIAdd(a);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var g=n.redIAdd(h).redSqr().redISub(c).redISub(v).redISub(w),x=t.redMul(g);x=x.redIAdd(x),x=x.redIAdd(x);var A=this.x.redMul(v).redISub(x);A=A.redIAdd(A),A=A.redIAdd(A);var S=this.y.redMul(g.redMul(w.redISub(g)).redISub(h.redMul(v)));S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S);var _=this.z.redAdd(h).redSqr().redISub(i).redISub(v);return this.curve.jpoint(A,S,_)};Be.prototype.mul=function(e,t){return e=new W(e,t),this.curve._wnafMul(this,e)};Be.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var a=t.redMul(this.z),n=i.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(a)).cmpn(0)===0};Be.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var a=e.clone(),n=this.curve.redN.redMul(t);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),this.x.cmp(i)===0)return!0}};Be.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Be.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ot=ut,Hn=wr,Sr=Mr,ja=Ke;function Kt(r){Sr.call(this,"mont",r),this.a=new Ot(r.a,16).toRed(this.red),this.b=new Ot(r.b,16).toRed(this.red),this.i4=new Ot(4).toRed(this.red).redInvm(),this.two=new Ot(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Hn(Kt,Sr);var Ga=Kt;Kt.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),a=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),n=a.redSqrt();return n.redSqr().cmp(a)===0};function Oe(r,e,t){Sr.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ot(e,16),this.z=new Ot(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Hn(Oe,Sr.BasePoint);Kt.prototype.decodePoint=function(e,t){return this.point(ja.toArray(e,t),1)};Kt.prototype.point=function(e,t){return new Oe(this,e,t)};Kt.prototype.pointFromJSON=function(e){return Oe.fromJSON(this,e)};Oe.prototype.precompute=function(){};Oe.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Oe.fromJSON=function(e,t){return new Oe(e,t[0],t[1]||e.one)};Oe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Oe.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Oe.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),a=i.redSqr(),n=t.redSub(a),c=t.redMul(a),h=n.redMul(a.redAdd(this.curve.a24.redMul(n)));return this.curve.point(c,h)};Oe.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Oe.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),a=this.x.redSub(this.z),n=e.x.redAdd(e.z),c=e.x.redSub(e.z),h=c.redMul(i),v=n.redMul(a),w=t.z.redMul(h.redAdd(v).redSqr()),g=t.x.redMul(h.redISub(v).redSqr());return this.curve.point(w,g)};Oe.prototype.mul=function(e){for(var t=e.clone(),i=this,a=this.curve.point(null,null),n=this,c=[];t.cmpn(0)!==0;t.iushrn(1))c.push(t.andln(1));for(var h=c.length-1;h>=0;h--)c[h]===0?(i=i.diffAdd(a,n),a=a.dbl()):(a=i.diffAdd(a,n),i=i.dbl());return a};Oe.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Oe.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Oe.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Oe.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Oe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Za=Ke,dt=ut,Vn=wr,_r=Mr,Qa=Za.assert;function ft(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,_r.call(this,"edwards",r),this.a=new dt(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new dt(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new dt(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Qa(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}Vn(ft,_r);var ef=ft;ft.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ft.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ft.prototype.jpoint=function(e,t,i,a){return this.point(e,t,i,a)};ft.prototype.pointFromX=function(e,t){e=new dt(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),a=this.c2.redSub(this.a.redMul(i)),n=this.one.redSub(this.c2.redMul(this.d).redMul(i)),c=a.redMul(n.redInvm()),h=c.redSqrt();if(h.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");var v=h.fromRed().isOdd();return(t&&!v||!t&&v)&&(h=h.redNeg()),this.point(e,h)};ft.prototype.pointFromY=function(e,t){e=new dt(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),a=i.redSub(this.c2),n=i.redMul(this.d).redMul(this.c2).redSub(this.a),c=a.redMul(n.redInvm());if(c.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var h=c.redSqrt();if(h.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");return h.fromRed().isOdd()!==t&&(h=h.redNeg()),this.point(h,e)};ft.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),a=t.redMul(this.a).redAdd(i),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return a.cmp(n)===0};function H(r,e,t,i,a){_r.BasePoint.call(this,r,"projective"),e===null&&t===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new dt(e,16),this.y=new dt(t,16),this.z=i?new dt(i,16):this.curve.one,this.t=a&&new dt(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Vn(H,_r.BasePoint);ft.prototype.pointFromJSON=function(e){return H.fromJSON(this,e)};ft.prototype.point=function(e,t,i,a){return new H(this,e,t,i,a)};H.fromJSON=function(e,t){return new H(e,t[0],t[1],t[2])};H.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};H.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};H.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var a=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),c=a.redAdd(t),h=c.redSub(i),v=a.redSub(t),w=n.redMul(h),g=c.redMul(v),x=n.redMul(v),A=h.redMul(c);return this.curve.point(w,g,A,x)};H.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),i=this.y.redSqr(),a,n,c,h,v,w;if(this.curve.twisted){h=this.curve._mulA(t);var g=h.redAdd(i);this.zOne?(a=e.redSub(t).redSub(i).redMul(g.redSub(this.curve.two)),n=g.redMul(h.redSub(i)),c=g.redSqr().redSub(g).redSub(g)):(v=this.z.redSqr(),w=g.redSub(v).redISub(v),a=e.redSub(t).redISub(i).redMul(w),n=g.redMul(h.redSub(i)),c=g.redMul(w))}else h=t.redAdd(i),v=this.curve._mulC(this.z).redSqr(),w=h.redSub(v).redSub(v),a=this.curve._mulC(e.redISub(h)).redMul(w),n=this.curve._mulC(h).redMul(t.redISub(i)),c=h.redMul(w);return this.curve.point(a,n,c)};H.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};H.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),a=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),c=i.redSub(t),h=n.redSub(a),v=n.redAdd(a),w=i.redAdd(t),g=c.redMul(h),x=v.redMul(w),A=c.redMul(w),S=h.redMul(v);return this.curve.point(g,x,S,A)};H.prototype._projAdd=function(e){var t=this.z.redMul(e.z),i=t.redSqr(),a=this.x.redMul(e.x),n=this.y.redMul(e.y),c=this.curve.d.redMul(a).redMul(n),h=i.redSub(c),v=i.redAdd(c),w=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(n),g=t.redMul(h).redMul(w),x,A;return this.curve.twisted?(x=t.redMul(v).redMul(n.redSub(this.curve._mulA(a))),A=h.redMul(v)):(x=t.redMul(v).redMul(n.redSub(a)),A=this.curve._mulC(h).redMul(v)),this.curve.point(g,x,A)};H.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};H.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};H.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)};H.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)};H.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};H.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};H.prototype.getX=function(){return this.normalize(),this.x.fromRed()};H.prototype.getY=function(){return this.normalize(),this.y.fromRed()};H.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};H.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(a),this.x.cmp(t)===0)return!0}};H.prototype.toP=H.prototype.normalize;H.prototype.mixedAdd=H.prototype.add;(function(r){var e=r;e.base=Mr,e.short=Xa,e.mont=Ga,e.edwards=ef})(Ci);var Ar={},Er={},C={},tf=Pt,rf=wr;C.inherits=rf;function nf(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function sf(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),a=0;a<r.length;a+=2)t.push(parseInt(r[a]+r[a+1],16))}else for(var i=0,a=0;a<r.length;a++){var n=r.charCodeAt(a);n<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=n&63|128):nf(r,a)?(n=65536+((n&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=n&63|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=n&63|128)}else for(a=0;a<r.length;a++)t[a]=r[a]|0;return t}C.toArray=sf;function af(r){for(var e="",t=0;t<r.length;t++)e+=Wn(r[t].toString(16));return e}C.toHex=af;function Jn(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}C.htonl=Jn;function ff(r,e){for(var t="",i=0;i<r.length;i++){var a=r[i];e==="little"&&(a=Jn(a)),t+=Yn(a.toString(16))}return t}C.toHex32=ff;function Wn(r){return r.length===1?"0"+r:r}C.zero2=Wn;function Yn(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}C.zero8=Yn;function of(r,e,t,i){var a=t-e;tf(a%4===0);for(var n=new Array(a/4),c=0,h=e;c<n.length;c++,h+=4){var v;i==="big"?v=r[h]<<24|r[h+1]<<16|r[h+2]<<8|r[h+3]:v=r[h+3]<<24|r[h+2]<<16|r[h+1]<<8|r[h],n[c]=v>>>0}return n}C.join32=of;function df(r,e){for(var t=new Array(r.length*4),i=0,a=0;i<r.length;i++,a+=4){var n=r[i];e==="big"?(t[a]=n>>>24,t[a+1]=n>>>16&255,t[a+2]=n>>>8&255,t[a+3]=n&255):(t[a+3]=n>>>24,t[a+2]=n>>>16&255,t[a+1]=n>>>8&255,t[a]=n&255)}return t}C.split32=df;function cf(r,e){return r>>>e|r<<32-e}C.rotr32=cf;function hf(r,e){return r<<e|r>>>32-e}C.rotl32=hf;function uf(r,e){return r+e>>>0}C.sum32=uf;function lf(r,e,t){return r+e+t>>>0}C.sum32_3=lf;function bf(r,e,t,i){return r+e+t+i>>>0}C.sum32_4=bf;function pf(r,e,t,i,a){return r+e+t+i+a>>>0}C.sum32_5=pf;function vf(r,e,t,i){var a=r[e],n=r[e+1],c=i+n>>>0,h=(c<i?1:0)+t+a;r[e]=h>>>0,r[e+1]=c}C.sum64=vf;function mf(r,e,t,i){var a=e+i>>>0,n=(a<e?1:0)+r+t;return n>>>0}C.sum64_hi=mf;function gf(r,e,t,i){var a=e+i;return a>>>0}C.sum64_lo=gf;function yf(r,e,t,i,a,n,c,h){var v=0,w=e;w=w+i>>>0,v+=w<e?1:0,w=w+n>>>0,v+=w<n?1:0,w=w+h>>>0,v+=w<h?1:0;var g=r+t+a+c+v;return g>>>0}C.sum64_4_hi=yf;function wf(r,e,t,i,a,n,c,h){var v=e+i+n+h;return v>>>0}C.sum64_4_lo=wf;function xf(r,e,t,i,a,n,c,h,v,w){var g=0,x=e;x=x+i>>>0,g+=x<e?1:0,x=x+n>>>0,g+=x<n?1:0,x=x+h>>>0,g+=x<h?1:0,x=x+w>>>0,g+=x<w?1:0;var A=r+t+a+c+v+g;return A>>>0}C.sum64_5_hi=xf;function Mf(r,e,t,i,a,n,c,h,v,w){var g=e+i+n+h+w;return g>>>0}C.sum64_5_lo=Mf;function Sf(r,e,t){var i=e<<32-t|r>>>t;return i>>>0}C.rotr64_hi=Sf;function _f(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}C.rotr64_lo=_f;function Af(r,e,t){return r>>>t}C.shr64_hi=Af;function Ef(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}C.shr64_lo=Ef;var Dt={},vn=C,If=Pt;function Ir(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Dt.BlockHash=Ir;Ir.prototype.update=function(e,t){if(e=vn.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=vn.join32(e,0,e.length-i,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this};Ir.prototype.digest=function(e){return this.update(this._pad()),If(this.pending===null),this._digest(e)};Ir.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,a=new Array(i+this.padLength);a[0]=128;for(var n=1;n<i;n++)a[n]=0;if(e<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)a[n++]=0;a[n++]=0,a[n++]=0,a[n++]=0,a[n++]=0,a[n++]=e>>>24&255,a[n++]=e>>>16&255,a[n++]=e>>>8&255,a[n++]=e&255}else for(a[n++]=e&255,a[n++]=e>>>8&255,a[n++]=e>>>16&255,a[n++]=e>>>24&255,a[n++]=0,a[n++]=0,a[n++]=0,a[n++]=0,c=8;c<this.padLength;c++)a[n++]=0;return a};var Ut={},ot={},Pf=C,et=Pf.rotr32;function Rf(r,e,t,i){if(r===0)return Xn(e,t,i);if(r===1||r===3)return Gn(e,t,i);if(r===2)return jn(e,t,i)}ot.ft_1=Rf;function Xn(r,e,t){return r&e^~r&t}ot.ch32=Xn;function jn(r,e,t){return r&e^r&t^e&t}ot.maj32=jn;function Gn(r,e,t){return r^e^t}ot.p32=Gn;function Nf(r){return et(r,2)^et(r,13)^et(r,22)}ot.s0_256=Nf;function Of(r){return et(r,6)^et(r,11)^et(r,25)}ot.s1_256=Of;function kf(r){return et(r,7)^et(r,18)^r>>>3}ot.g0_256=kf;function Bf(r){return et(r,17)^et(r,19)^r>>>10}ot.g1_256=Bf;var Bt=C,Cf=Dt,Tf=ot,ni=Bt.rotl32,Xt=Bt.sum32,qf=Bt.sum32_5,Lf=Tf.ft_1,Zn=Cf.BlockHash,zf=[1518500249,1859775393,2400959708,3395469782];function nt(){if(!(this instanceof nt))return new nt;Zn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Bt.inherits(nt,Zn);var $f=nt;nt.blockSize=512;nt.outSize=160;nt.hmacStrength=80;nt.padLength=64;nt.prototype._update=function(e,t){for(var i=this.W,a=0;a<16;a++)i[a]=e[t+a];for(;a<i.length;a++)i[a]=ni(i[a-3]^i[a-8]^i[a-14]^i[a-16],1);var n=this.h[0],c=this.h[1],h=this.h[2],v=this.h[3],w=this.h[4];for(a=0;a<i.length;a++){var g=~~(a/20),x=qf(ni(n,5),Lf(g,c,h,v),w,i[a],zf[g]);w=v,v=h,h=ni(c,30),c=n,n=x}this.h[0]=Xt(this.h[0],n),this.h[1]=Xt(this.h[1],c),this.h[2]=Xt(this.h[2],h),this.h[3]=Xt(this.h[3],v),this.h[4]=Xt(this.h[4],w)};nt.prototype._digest=function(e){return e==="hex"?Bt.toHex32(this.h,"big"):Bt.split32(this.h,"big")};var Ct=C,Kf=Dt,Ft=ot,Df=Pt,Ye=Ct.sum32,Uf=Ct.sum32_4,Ff=Ct.sum32_5,Hf=Ft.ch32,Vf=Ft.maj32,Jf=Ft.s0_256,Wf=Ft.s1_256,Yf=Ft.g0_256,Xf=Ft.g1_256,Qn=Kf.BlockHash,jf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function st(){if(!(this instanceof st))return new st;Qn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=jf,this.W=new Array(64)}Ct.inherits(st,Qn);var es=st;st.blockSize=512;st.outSize=256;st.hmacStrength=192;st.padLength=64;st.prototype._update=function(e,t){for(var i=this.W,a=0;a<16;a++)i[a]=e[t+a];for(;a<i.length;a++)i[a]=Uf(Xf(i[a-2]),i[a-7],Yf(i[a-15]),i[a-16]);var n=this.h[0],c=this.h[1],h=this.h[2],v=this.h[3],w=this.h[4],g=this.h[5],x=this.h[6],A=this.h[7];for(Df(this.k.length===i.length),a=0;a<i.length;a++){var S=Ff(A,Wf(w),Hf(w,g,x),this.k[a],i[a]),_=Ye(Jf(n),Vf(n,c,h));A=x,x=g,g=w,w=Ye(v,S),v=h,h=c,c=n,n=Ye(S,_)}this.h[0]=Ye(this.h[0],n),this.h[1]=Ye(this.h[1],c),this.h[2]=Ye(this.h[2],h),this.h[3]=Ye(this.h[3],v),this.h[4]=Ye(this.h[4],w),this.h[5]=Ye(this.h[5],g),this.h[6]=Ye(this.h[6],x),this.h[7]=Ye(this.h[7],A)};st.prototype._digest=function(e){return e==="hex"?Ct.toHex32(this.h,"big"):Ct.split32(this.h,"big")};var wi=C,ts=es;function ct(){if(!(this instanceof ct))return new ct;ts.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}wi.inherits(ct,ts);var Gf=ct;ct.blockSize=512;ct.outSize=224;ct.hmacStrength=192;ct.padLength=64;ct.prototype._digest=function(e){return e==="hex"?wi.toHex32(this.h.slice(0,7),"big"):wi.split32(this.h.slice(0,7),"big")};var ze=C,Zf=Dt,Qf=Pt,tt=ze.rotr64_hi,rt=ze.rotr64_lo,rs=ze.shr64_hi,is=ze.shr64_lo,pt=ze.sum64,si=ze.sum64_hi,ai=ze.sum64_lo,eo=ze.sum64_4_hi,to=ze.sum64_4_lo,ro=ze.sum64_5_hi,io=ze.sum64_5_lo,ns=Zf.BlockHash,no=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function je(){if(!(this instanceof je))return new je;ns.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=no,this.W=new Array(160)}ze.inherits(je,ns);var ss=je;je.blockSize=1024;je.outSize=512;je.hmacStrength=192;je.padLength=128;je.prototype._prepareBlock=function(e,t){for(var i=this.W,a=0;a<32;a++)i[a]=e[t+a];for(;a<i.length;a+=2){var n=vo(i[a-4],i[a-3]),c=mo(i[a-4],i[a-3]),h=i[a-14],v=i[a-13],w=bo(i[a-30],i[a-29]),g=po(i[a-30],i[a-29]),x=i[a-32],A=i[a-31];i[a]=eo(n,c,h,v,w,g,x,A),i[a+1]=to(n,c,h,v,w,g,x,A)}};je.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,a=this.h[0],n=this.h[1],c=this.h[2],h=this.h[3],v=this.h[4],w=this.h[5],g=this.h[6],x=this.h[7],A=this.h[8],S=this.h[9],_=this.h[10],E=this.h[11],O=this.h[12],N=this.h[13],k=this.h[14],K=this.h[15];Qf(this.k.length===i.length);for(var D=0;D<i.length;D+=2){var $=k,Le=K,De=uo(A,S),Ue=lo(A,S),L=so(A,S,_,E,O),Ge=ao(A,S,_,E,O,N),m=this.k[D],s=this.k[D+1],o=i[D],d=i[D+1],u=ro($,Le,De,Ue,L,Ge,m,s,o,d),p=io($,Le,De,Ue,L,Ge,m,s,o,d);$=co(a,n),Le=ho(a,n),De=fo(a,n,c,h,v),Ue=oo(a,n,c,h,v,w);var y=si($,Le,De,Ue),M=ai($,Le,De,Ue);k=O,K=N,O=_,N=E,_=A,E=S,A=si(g,x,u,p),S=ai(x,x,u,p),g=v,x=w,v=c,w=h,c=a,h=n,a=si(u,p,y,M),n=ai(u,p,y,M)}pt(this.h,0,a,n),pt(this.h,2,c,h),pt(this.h,4,v,w),pt(this.h,6,g,x),pt(this.h,8,A,S),pt(this.h,10,_,E),pt(this.h,12,O,N),pt(this.h,14,k,K)};je.prototype._digest=function(e){return e==="hex"?ze.toHex32(this.h,"big"):ze.split32(this.h,"big")};function so(r,e,t,i,a){var n=r&t^~r&a;return n<0&&(n+=4294967296),n}function ao(r,e,t,i,a,n){var c=e&i^~e&n;return c<0&&(c+=4294967296),c}function fo(r,e,t,i,a){var n=r&t^r&a^t&a;return n<0&&(n+=4294967296),n}function oo(r,e,t,i,a,n){var c=e&i^e&n^i&n;return c<0&&(c+=4294967296),c}function co(r,e){var t=tt(r,e,28),i=tt(e,r,2),a=tt(e,r,7),n=t^i^a;return n<0&&(n+=4294967296),n}function ho(r,e){var t=rt(r,e,28),i=rt(e,r,2),a=rt(e,r,7),n=t^i^a;return n<0&&(n+=4294967296),n}function uo(r,e){var t=tt(r,e,14),i=tt(r,e,18),a=tt(e,r,9),n=t^i^a;return n<0&&(n+=4294967296),n}function lo(r,e){var t=rt(r,e,14),i=rt(r,e,18),a=rt(e,r,9),n=t^i^a;return n<0&&(n+=4294967296),n}function bo(r,e){var t=tt(r,e,1),i=tt(r,e,8),a=rs(r,e,7),n=t^i^a;return n<0&&(n+=4294967296),n}function po(r,e){var t=rt(r,e,1),i=rt(r,e,8),a=is(r,e,7),n=t^i^a;return n<0&&(n+=4294967296),n}function vo(r,e){var t=tt(r,e,19),i=tt(e,r,29),a=rs(r,e,6),n=t^i^a;return n<0&&(n+=4294967296),n}function mo(r,e){var t=rt(r,e,19),i=rt(e,r,29),a=is(r,e,6),n=t^i^a;return n<0&&(n+=4294967296),n}var xi=C,as=ss;function ht(){if(!(this instanceof ht))return new ht;as.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}xi.inherits(ht,as);var go=ht;ht.blockSize=1024;ht.outSize=384;ht.hmacStrength=192;ht.padLength=128;ht.prototype._digest=function(e){return e==="hex"?xi.toHex32(this.h.slice(0,12),"big"):xi.split32(this.h.slice(0,12),"big")};Ut.sha1=$f;Ut.sha224=Gf;Ut.sha256=es;Ut.sha384=go;Ut.sha512=ss;var fs={},It=C,yo=Dt,or=It.rotl32,mn=It.sum32,jt=It.sum32_3,gn=It.sum32_4,os=yo.BlockHash;function at(){if(!(this instanceof at))return new at;os.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}It.inherits(at,os);fs.ripemd160=at;at.blockSize=512;at.outSize=160;at.hmacStrength=192;at.padLength=64;at.prototype._update=function(e,t){for(var i=this.h[0],a=this.h[1],n=this.h[2],c=this.h[3],h=this.h[4],v=i,w=a,g=n,x=c,A=h,S=0;S<80;S++){var _=mn(or(gn(i,yn(S,a,n,c),e[Mo[S]+t],wo(S)),_o[S]),h);i=h,h=c,c=or(n,10),n=a,a=_,_=mn(or(gn(v,yn(79-S,w,g,x),e[So[S]+t],xo(S)),Ao[S]),A),v=A,A=x,x=or(g,10),g=w,w=_}_=jt(this.h[1],n,x),this.h[1]=jt(this.h[2],c,A),this.h[2]=jt(this.h[3],h,v),this.h[3]=jt(this.h[4],i,w),this.h[4]=jt(this.h[0],a,g),this.h[0]=_};at.prototype._digest=function(e){return e==="hex"?It.toHex32(this.h,"little"):It.split32(this.h,"little")};function yn(r,e,t,i){return r<=15?e^t^i:r<=31?e&t|~e&i:r<=47?(e|~t)^i:r<=63?e&i|t&~i:e^(t|~i)}function wo(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function xo(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var Mo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],So=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ao=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Eo=C,Io=Pt;function Tt(r,e,t){if(!(this instanceof Tt))return new Tt(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Eo.toArray(e,t))}var Po=Tt;Tt.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Io(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Tt.prototype.update=function(e,t){return this.inner.update(e,t),this};Tt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=C,e.common=Dt,e.sha=Ut,e.ripemd=fs,e.hmac=Po,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Er);var fi,wn;function Ro(){return wn||(wn=1,fi={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),fi}(function(r){var e=r,t=Er,i=Ci,a=Ke,n=a.assert;function c(w){w.type==="short"?this.curve=new i.short(w):w.type==="edwards"?this.curve=new i.edwards(w):this.curve=new i.mont(w),this.g=this.curve.g,this.n=this.curve.n,this.hash=w.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=c;function h(w,g){Object.defineProperty(e,w,{configurable:!0,enumerable:!0,get:function(){var x=new c(g);return Object.defineProperty(e,w,{configurable:!0,enumerable:!0,value:x}),x}})}h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var v;try{v=Ro()}catch{v=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",v]})})(Ar);var No=Er,At=ki,ds=Pt;function wt(r){if(!(this instanceof wt))return new wt(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=At.toArray(r.entropy,r.entropyEnc||"hex"),t=At.toArray(r.nonce,r.nonceEnc||"hex"),i=At.toArray(r.pers,r.persEnc||"hex");ds(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}var Oo=wt;wt.prototype._init=function(e,t,i){var a=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656};wt.prototype._hmac=function(){return new No.hmac(this.hash,this.K)};wt.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wt.prototype.reseed=function(e,t,i,a){typeof t!="string"&&(a=i,i=t,t=null),e=At.toArray(e,t),i=At.toArray(i,a),ds(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};wt.prototype.generate=function(e,t,i,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(a=i,i=t,t=null),i&&(i=At.toArray(i,a||"hex"),this._update(i));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var c=n.slice(0,e);return this._update(i),this._reseed++,At.encode(c,t)};var ko=ut,Bo=Ke,Mi=Bo.assert;function qe(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Co=qe;qe.fromPublic=function(e,t,i){return t instanceof qe?t:new qe(e,{pub:t,pubEnc:i})};qe.fromPrivate=function(e,t,i){return t instanceof qe?t:new qe(e,{priv:t,privEnc:i})};qe.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};qe.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};qe.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};qe.prototype._importPrivate=function(e,t){this.priv=new ko(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};qe.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Mi(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Mi(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};qe.prototype.derive=function(e){return e.validate()||Mi(e.validate(),"public point not validated"),e.mul(this.priv).getX()};qe.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};qe.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};qe.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var mr=ut,qi=Ke,To=qi.assert;function Pr(r,e){if(r instanceof Pr)return r;this._importDER(r,e)||(To(r.r&&r.s,"Signature without r or s"),this.r=new mr(r.r,16),this.s=new mr(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var qo=Pr;function Lo(){this.place=0}function oi(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4)return!1;for(var a=0,n=0,c=e.place;n<i;n++,c++)a<<=8,a|=r[c],a>>>=0;return a<=127?!1:(e.place=c,a)}function xn(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Pr.prototype._importDER=function(e,t){e=qi.toArray(e,t);var i=new Lo;if(e[i.place++]!==48)return!1;var a=oi(e,i);if(a===!1||a+i.place!==e.length||e[i.place++]!==2)return!1;var n=oi(e,i);if(n===!1)return!1;var c=e.slice(i.place,n+i.place);if(i.place+=n,e[i.place++]!==2)return!1;var h=oi(e,i);if(h===!1||e.length!==h+i.place)return!1;var v=e.slice(i.place,h+i.place);if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new mr(c),this.s=new mr(v),this.recoveryParam=null,!0};function di(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Pr.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=xn(t),i=xn(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var a=[2];di(a,t.length),a=a.concat(t),a.push(2),di(a,i.length);var n=a.concat(i),c=[48];return di(c,n.length),c=c.concat(n),qi.encode(c,e)};var Et=ut,cs=Oo,zo=Ke,ci=Ar,$o=Fn,hs=zo.assert,Li=Co,Rr=qo;function He(r){if(!(this instanceof He))return new He(r);typeof r=="string"&&(hs(Object.prototype.hasOwnProperty.call(ci,r),"Unknown curve "+r),r=ci[r]),r instanceof ci.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Ko=He;He.prototype.keyPair=function(e){return new Li(this,e)};He.prototype.keyFromPrivate=function(e,t){return Li.fromPrivate(this,e,t)};He.prototype.keyFromPublic=function(e,t){return Li.fromPublic(this,e,t)};He.prototype.genKeyPair=function(e){e||(e={});for(var t=new cs({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new Et(2));;){var n=new Et(t.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}};He.prototype._truncateToN=function(e,t){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};He.prototype.sign=function(e,t,i,a){typeof i=="object"&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new Et(e,16));for(var n=this.n.byteLength(),c=t.getPrivate().toArray("be",n),h=e.toArray("be",n),v=new cs({hash:this.hash,entropy:c,nonce:h,pers:a.pers,persEnc:a.persEnc||"utf8"}),w=this.n.sub(new Et(1)),g=0;;g++){var x=a.k?a.k(g):new Et(v.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(w)>=0)){var A=this.g.mul(x);if(!A.isInfinity()){var S=A.getX(),_=S.umod(this.n);if(_.cmpn(0)!==0){var E=x.invm(this.n).mul(_.mul(t.getPrivate()).iadd(e));if(E=E.umod(this.n),E.cmpn(0)!==0){var O=(A.getY().isOdd()?1:0)|(S.cmp(_)!==0?2:0);return a.canonical&&E.cmp(this.nh)>0&&(E=this.n.sub(E),O^=1),new Rr({r:_,s:E,recoveryParam:O})}}}}}};He.prototype.verify=function(e,t,i,a){e=this._truncateToN(new Et(e,16)),i=this.keyFromPublic(i,a),t=new Rr(t,"hex");var n=t.r,c=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||c.cmpn(1)<0||c.cmp(this.n)>=0)return!1;var h=c.invm(this.n),v=h.mul(e).umod(this.n),w=h.mul(n).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(v,i.getPublic(),w),g.isInfinity()?!1:g.eqXToP(n)):(g=this.g.mulAdd(v,i.getPublic(),w),g.isInfinity()?!1:g.getX().umod(this.n).cmp(n)===0)};He.prototype.recoverPubKey=function(r,e,t,i){hs((3&t)===t,"The recovery param is more than two bits"),e=new Rr(e,i);var a=this.n,n=new Et(r),c=e.r,h=e.s,v=t&1,w=t>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&w)throw new Error("Unable to find sencond key candinate");w?c=this.curve.pointFromX(c.add(this.curve.n),v):c=this.curve.pointFromX(c,v);var g=e.r.invm(a),x=a.sub(n).mul(g).umod(a),A=h.mul(g).umod(a);return this.g.mulAdd(x,c,A)};He.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new Rr(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var a=0;a<4;a++){var n;try{n=this.recoverPubKey(r,e,a)}catch{continue}if(n.eq(t))return a}throw new Error("Unable to find valid recovery factor")};var rr=Ke,us=rr.assert,Mn=rr.parseBytes,Ht=rr.cachedProperty;function Ne(r,e){this.eddsa=r,this._secret=Mn(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Mn(e.pub)}Ne.fromPublic=function(e,t){return t instanceof Ne?t:new Ne(e,{pub:t})};Ne.fromSecret=function(e,t){return t instanceof Ne?t:new Ne(e,{secret:t})};Ne.prototype.secret=function(){return this._secret};Ht(Ne,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Ht(Ne,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Ht(Ne,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,a=t.slice(0,e.encodingLength);return a[0]&=248,a[i]&=127,a[i]|=64,a});Ht(Ne,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Ht(Ne,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Ht(Ne,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ne.prototype.sign=function(e){return us(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ne.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};Ne.prototype.getSecret=function(e){return us(this._secret,"KeyPair is public only"),rr.encode(this.secret(),e)};Ne.prototype.getPublic=function(e){return rr.encode(this.pubBytes(),e)};var Do=Ne,Uo=ut,Nr=Ke,Fo=Nr.assert,Or=Nr.cachedProperty,Ho=Nr.parseBytes;function Rt(r,e){this.eddsa=r,typeof e!="object"&&(e=Ho(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),Fo(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof Uo&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Or(Rt,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Or(Rt,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Or(Rt,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Or(Rt,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Rt.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Rt.prototype.toHex=function(){return Nr.encode(this.toBytes(),"hex").toUpperCase()};var Vo=Rt,Jo=Er,Wo=Ar,qt=Ke,Yo=qt.assert,ls=qt.parseBytes,bs=Do,Sn=Vo;function $e(r){if(Yo(r==="ed25519","only tested with ed25519 so far"),!(this instanceof $e))return new $e(r);r=Wo[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=Jo.sha512}var Xo=$e;$e.prototype.sign=function(e,t){e=ls(e);var i=this.keyFromSecret(t),a=this.hashInt(i.messagePrefix(),e),n=this.g.mul(a),c=this.encodePoint(n),h=this.hashInt(c,i.pubBytes(),e).mul(i.priv()),v=a.add(h).umod(this.curve.n);return this.makeSignature({R:n,S:v,Rencoded:c})};$e.prototype.verify=function(e,t,i){e=ls(e),t=this.makeSignature(t);var a=this.keyFromPublic(i),n=this.hashInt(t.Rencoded(),a.pubBytes(),e),c=this.g.mul(t.S()),h=t.R().add(a.pub().mul(n));return h.eq(c)};$e.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return qt.intFromLE(e.digest()).umod(this.curve.n)};$e.prototype.keyFromPublic=function(e){return bs.fromPublic(this,e)};$e.prototype.keyFromSecret=function(e){return bs.fromSecret(this,e)};$e.prototype.makeSignature=function(e){return e instanceof Sn?e:new Sn(this,e)};$e.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};$e.prototype.decodePoint=function(e){e=qt.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(e[t]&-129),a=(e[t]&128)!==0,n=qt.intFromLE(i);return this.curve.pointFromY(n,a)};$e.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};$e.prototype.decodeInt=function(e){return qt.intFromLE(e)};$e.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(r){var e=r;e.version=Va.version,e.utils=Ke,e.rand=Fn,e.curve=Ci,e.curves=Ar,e.ec=Ko,e.eddsa=Xo})(Ni);const Lt=new Ni.ec("secp256k1"),gr=globalThis.crypto||globalThis.msCrypto||{},yt=gr.subtle||gr.webkitSubtle,jo=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Go=Buffer.alloc(32,0);function Pe(r,e){if(!r)throw new Error(e||"Assertion failed")}function Zo(r){return Buffer.isBuffer(r)&&r.length===32}function Vt(r){return Zo(r)?r.compare(Go)>0&&r.compare(jo)<0:!1}function Qo(r,e){if(r.length!==e.length)return!1;let t=0;for(let i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}function Qt(r){const e=new Uint8Array(r);return typeof gr.getRandomValues>"u"?Buffer.from(er.randomBytes(r)):(gr.getRandomValues(e),Buffer.from(e))}async function ps(r){if(yt){const i=await yt.digest("SHA-512",r);return new Uint8Array(i)}const t=er.createHash("sha512").update(r).digest();return new Uint8Array(t)}function vs(r){return async function(e,t,i){if(yt){const a={name:"AES-CBC"},n=await yt.importKey("raw",t,a,!1,[r]),c={name:"AES-CBC",iv:e},h=await yt[r](c,n,i);return Buffer.from(new Uint8Array(h))}else if(r==="encrypt"){const a=er.createCipheriv("aes-256-cbc",t,e),n=a.update(i),c=a.final();return Buffer.concat([n,c])}else if(r==="decrypt"){const a=er.createDecipheriv("aes-256-cbc",t,e),n=a.update(i),c=a.final();return Buffer.concat([n,c])}throw new Error(`Unsupported operation: ${r}`)}}const ed=vs("encrypt"),td=vs("decrypt");async function ms(r,e){if(yt){const a={name:"HMAC",hash:{name:"SHA-256"}},n=await yt.importKey("raw",new Uint8Array(r),a,!1,["sign","verify"]),c=await yt.sign("HMAC",n,e);return Buffer.from(new Uint8Array(c))}const t=er.createHmac("sha256",Buffer.from(r));return t.update(e),t.digest()}async function rd(r,e,t){const i=await ms(r,e);return Qo(i,t)}const id=function(){let r=Qt(32);for(;!Vt(r);)r=Qt(32);return r},mt=function(r){return Pe(r.length===32,"Bad private key"),Pe(Vt(r),"Bad private key"),Buffer.from(Lt.keyFromPrivate(r).getPublic("array"))},lr=async function(r,e){return Pe(r.length===32,"Bad private key"),Pe(Vt(r),"Bad private key"),Pe(e.length>0,"Message should not be empty"),Pe(e.length<=32,"Message is too long"),Buffer.from(Lt.sign(e,r,{canonical:!0}).toDER())},nd=async function(r,e){Pe(Buffer.isBuffer(r),"Bad private key"),Pe(Buffer.isBuffer(e),"Bad public key"),Pe(r.length===32,"Bad private key"),Pe(Vt(r),"Bad private key"),Pe(e.length===65||e.length===33,"Bad public key"),e.length===65&&Pe(e[0]===4,"Bad public key"),e.length===33&&Pe(e[0]===2||e[0]===3,"Bad public key");const t=Lt.keyFromPrivate(r),i=Lt.keyFromPublic(e),a=t.derive(i.getPublic());return Buffer.from(a.toArray())},gs=nd,sd=async function(r,e){Pe(Buffer.isBuffer(r),"Bad private key"),Pe(Buffer.isBuffer(e),"Bad public key"),Pe(r.length===32,"Bad private key"),Pe(Vt(r),"Bad private key"),Pe(e.length===65||e.length===33,"Bad public key"),e.length===65&&Pe(e[0]===4,"Bad public key"),e.length===33&&Pe(e[0]===2||e[0]===3,"Bad public key");const t=Lt.keyFromPrivate(r),i=Lt.keyFromPublic(e),a=t.derive(i.getPublic());return Buffer.from(a.toString(16,64),"hex")},ad=async function(r,e,t){t=t||{};let i=t.ephemPrivateKey||Qt(32);for(;!Vt(i);)i=t.ephemPrivateKey||Qt(32);const a=mt(i),n=await gs(i,r),c=await ps(n),h=t.iv||Qt(16),v=c.slice(0,32),w=c.slice(32),x=await ed(h,Buffer.from(v),e),A=Buffer.concat([h,a,x]),S=await ms(Buffer.from(w),A);return{iv:h,ephemPublicKey:a,ciphertext:x,mac:S}},ys=async function(r,e,t){const i=t??!1,n=await(i?sd:gs)(r,e.ephemPublicKey),c=await ps(n),h=c.slice(0,32),v=c.slice(32),w=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),g=await rd(Buffer.from(v),w,e.mac);if(!g&&i===!1)return ys(r,e,!0);if(!g&&i===!0)throw new Error("bad MAC after trying padded");const x=await td(e.iv,Buffer.from(h),e.ciphertext);return Buffer.from(new Uint8Array(x))};var dr={},hi,_n;function fd(){if(_n)return hi;_n=1;var r,e,t={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},i;function a(S){throw{name:"SyntaxError",message:S,at:r,text:i}}function n(S){return S&&S!==e&&a("Expected '"+S+"' instead of '"+e+"'"),e=i.charAt(r),r+=1,e}function c(){var S,_="";for(e==="-"&&(_="-",n("-"));e>="0"&&e<="9";)_+=e,n();if(e===".")for(_+=".";n()&&e>="0"&&e<="9";)_+=e;if(e==="e"||e==="E")for(_+=e,n(),(e==="-"||e==="+")&&(_+=e,n());e>="0"&&e<="9";)_+=e,n();return S=Number(_),isFinite(S)||a("Bad number"),S}function h(){var S,_,E="",O;if(e==='"')for(;n();){if(e==='"')return n(),E;if(e==="\\")if(n(),e==="u"){for(O=0,_=0;_<4&&(S=parseInt(n(),16),!!isFinite(S));_+=1)O=O*16+S;E+=String.fromCharCode(O)}else if(typeof t[e]=="string")E+=t[e];else break;else E+=e}a("Bad string")}function v(){for(;e&&e<=" ";)n()}function w(){switch(e){case"t":return n("t"),n("r"),n("u"),n("e"),!0;case"f":return n("f"),n("a"),n("l"),n("s"),n("e"),!1;case"n":return n("n"),n("u"),n("l"),n("l"),null;default:a("Unexpected '"+e+"'")}}function g(){var S=[];if(e==="["){if(n("["),v(),e==="]")return n("]"),S;for(;e;){if(S.push(A()),v(),e==="]")return n("]"),S;n(","),v()}}a("Bad array")}function x(){var S,_={};if(e==="{"){if(n("{"),v(),e==="}")return n("}"),_;for(;e;){if(S=h(),v(),n(":"),Object.prototype.hasOwnProperty.call(_,S)&&a('Duplicate key "'+S+'"'),_[S]=A(),v(),e==="}")return n("}"),_;n(","),v()}}a("Bad object")}function A(){switch(v(),e){case"{":return x();case"[":return g();case'"':return h();case"-":return c();default:return e>="0"&&e<="9"?c():w()}}return hi=function(S,_){var E;return i=S,r=0,e=" ",E=A(),v(),e&&a("Syntax error"),typeof _=="function"?function O(N,k){var K,D,$=N[k];if($&&typeof $=="object")for(K in A)Object.prototype.hasOwnProperty.call($,K)&&(D=O($,K),typeof D>"u"?delete $[K]:$[K]=D);return _.call(N,k,$)}({"":E},""):E},hi}var ui,An;function od(){if(An)return ui;An=1;var r=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,t,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function n(h){return r.lastIndex=0,r.test(h)?'"'+h.replace(r,function(v){var w=i[v];return typeof w=="string"?w:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+h+'"'}function c(h,v){var w,g,x,A,S=e,_,E=v[h];switch(E&&typeof E=="object"&&typeof E.toJSON=="function"&&(E=E.toJSON(h)),typeof a=="function"&&(E=a.call(v,h,E)),typeof E){case"string":return n(E);case"number":return isFinite(E)?String(E):"null";case"boolean":case"null":return String(E);case"object":if(!E)return"null";if(e+=t,_=[],Object.prototype.toString.apply(E)==="[object Array]"){for(A=E.length,w=0;w<A;w+=1)_[w]=c(w,E)||"null";return x=_.length===0?"[]":e?`[
`+e+_.join(`,
`+e)+`
`+S+"]":"["+_.join(",")+"]",e=S,x}if(a&&typeof a=="object")for(A=a.length,w=0;w<A;w+=1)g=a[w],typeof g=="string"&&(x=c(g,E),x&&_.push(n(g)+(e?": ":":")+x));else for(g in E)Object.prototype.hasOwnProperty.call(E,g)&&(x=c(g,E),x&&_.push(n(g)+(e?": ":":")+x));return x=_.length===0?"{}":e?`{
`+e+_.join(`,
`+e)+`
`+S+"}":"{"+_.join(",")+"}",e=S,x}}return ui=function(h,v,w){var g;if(e="",t="",typeof w=="number")for(g=0;g<w;g+=1)t+=" ";else typeof w=="string"&&(t=w);if(a=v,v&&typeof v!="function"&&(typeof v!="object"||typeof v.length!="number"))throw new Error("JSON.stringify");return c("",{"":h})},ui}var En;function dd(){return En||(En=1,dr.parse=fd(),dr.stringify=od()),dr}typeof JSON<"u"||dd();class cd{constructor(){q(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=this.sessionId.padStart(64,"0")}request(e){let{method:t="GET",url:i,data:a={},headers:n={}}=e;const c={headers:n};switch(t){case"GET":return As(i,c);case"POST":return In(i,a,c);case"PUT":return _s(i,a,c);case"PATCH":return Ss(i,a,c)}throw new Error("Invalid method type")}}function kt(r){return Buffer.from(Ds(r))}const hd=new Ni.ec("secp256k1");function ud(r){return{iv:Buffer.from(r.iv,"hex"),ephemPublicKey:Buffer.from(r.ephemPublicKey,"hex"),ciphertext:Buffer.from(r.ciphertext,"hex"),mac:Buffer.from(r.mac,"hex")}}function ld(r){return{iv:Buffer.from(r.iv).toString("hex"),ephemPublicKey:Buffer.from(r.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(r.ciphertext).toString("hex"),mac:Buffer.from(r.mac).toString("hex")}}async function br(r,e){const t=JSON.stringify(e),i=Buffer.from(t,"utf-8"),a=await ad(mt(Buffer.from(r,"hex")),i),n=ld(a);return JSON.stringify(n)}async function ws(r,e){const t=JSON.parse(e),i=ud(t),a=hd.keyFromPrivate(r),c=(await ys(Buffer.from(a.getPrivate().toString("hex",64),"hex"),i)).toString("utf-8");return JSON.parse(c)}const bd=86400;class li extends cd{constructor(){let{sessionServerBaseUrl:e,sessionNamespace:t,sessionTime:i,sessionId:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),q(this,"sessionServerBaseUrl","https://broadcast-server.tor.us"),q(this,"sessionNamespace",void 0),q(this,"sessionTime",bd),q(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),t&&(this.sessionNamespace=t),i&&(this.sessionTime=i),a&&(this.sessionId=a.padStart(64,"0"))}static generateRandomSessionKey(){return id().toString("hex").padStart(64,"0")}async createSession(e){super.checkSessionParams();const t=Buffer.from(this.sessionId,"hex"),i=mt(t).toString("hex"),a=await br(this.sessionId,e),n=(await lr(t,kt(Buffer.from(a,"utf8")))).toString("hex"),c={key:i,data:a,signature:n,namespace:this.sessionNamespace,timeout:this.sessionTime};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/store/set`,data:c}),this.sessionId}async authorizeSession(){super.checkSessionParams();const e=mt(Buffer.from(this.sessionId,"hex")).toString("hex"),t=new URL(`${this.sessionServerBaseUrl}/store/get`);t.searchParams.append("key",e),this.sessionNamespace&&t.searchParams.append("namespace",this.sessionNamespace);const i=await super.request({url:t.toString()});if(!i.message)throw new Error("Session Expired or Invalid public key");const a=await ws(this.sessionId,i.message);if(a.error)throw new Error("There was an error decrypting data.");return a}async updateSession(e){super.checkSessionParams();const t=Buffer.from(this.sessionId,"hex"),i=mt(t).toString("hex"),a=await br(this.sessionId,e),n=(await lr(t,kt(Buffer.from(a,"utf8")))).toString("hex"),c={key:i,data:a,signature:n,namespace:this.sessionNamespace};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/store/update`,data:c})}async invalidateSession(){super.checkSessionParams();const e=Buffer.from(this.sessionId,"hex"),t=mt(e).toString("hex"),i=await br(this.sessionId,{}),a=(await lr(e,kt(Buffer.from(i,"utf8")))).toString("hex"),n={key:t,data:i,signature:a,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/store/set`,data:n}),this.sessionId="",!0}}var Ce=Es.getLogger("SecurePubSub");class pd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};q(this,"options",void 0),q(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||"https://broadcast-server.tor.us",this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.enableLogging?Ce.enableAll():Ce.disableAll()}static setLogLevel(e){Ce.setLevel(e),Is(e)}async publish(e,t){const i=kt(Buffer.from(e,"utf8")),a=await br(i.toString("hex"),t),n=await lr(i,kt(Buffer.from(a,"utf8"))),c={key:mt(i).toString("hex"),data:a,signature:n.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace};return In(`${this.options.serverUrl}/channel/set`,c)}async subscribe(e){let t=!0;const i=kt(Buffer.from(e,"utf8")),a=mt(i).toString("hex"),n=this.getSocketConnection();n.connected?(Ce.debug("already connected with socket"),n.emit("check_auth_status",a,{namespace:this.options.namespace})):n.once("connect",()=>{Ce.debug("connected with socket"),n.emit("check_auth_status",a,{namespace:this.options.namespace})});const c=()=>{n.once("connect",async()=>{Ce.debug("connected with socket using reconnect"),t&&n.emit("check_auth_status",a,{namespace:this.options.namespace})})},h=()=>{t||document.removeEventListener("visibilitychange",h),!n.connected&&document.visibilityState==="visible"&&c()},v=()=>{Ce.debug("socket disconnected",t),t?(Ce.error("socket disconnected unexpectedly, reconnecting socket"),c()):n.removeListener("disconnect",v)};n.on("disconnect",v);const w=new Promise((g,x)=>{const A=async S=>{try{const _=await ws(i.toString("hex"),S);Ce.info("got data",_),g(_)}catch(_){Ce.error(_),x(_)}finally{t=!1,document.removeEventListener("visibilitychange",h)}};Ce.info("listening to",`${a}_success`),n.once(`${a}_success`,A)});return typeof document<"u"&&document.addEventListener("visibilitychange",h),w}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=ur(this.options.serverUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",t=>{e.io.opts.transports=["polling","websocket"],Ce.error("connect error",t)}),e.on("connect",async()=>{const{engine:t}=e.io;Ce.debug("initially connected to",t.transport.name),t.once("upgrade",()=>{Ce.debug("upgraded",t.transport.name)}),t.once("close",i=>{Ce.debug("connection closed",i)})}),e.on("error",t=>{Ce.error("socket errored",t),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}}class xs extends Os{constructor(e,t){super(t),q(this,"code",void 0),q(this,"message",void 0),this.code=e,this.message=t||"",Object.defineProperty(this,"name",{value:"OpenloginError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class gt extends xs{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new gt(e,`${gt.messages[e]}, ${t}`)}static invalidParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return gt.fromCode(5001,e)}static notInitialized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return gt.fromCode(5002,e)}}q(gt,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class Te extends xs{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Te(e,`${Te.messages[e]}, ${t}`)}static invalidLoginParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Te.fromCode(5111,e)}static userNotLoggedIn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Te.fromCode(5112,e)}static popupClosed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Te.fromCode(5113,e)}static loginFailed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Te.fromCode(5114,e)}}q(Te,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed"});const yr=Ps.getLogger("openlogin");yr.setLevel("error");const vd="6.0.0";function md(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const e={},t=new URL(window.location.href);t.searchParams.forEach((h,v)=>{v!=="result"&&(e[v]=h)});const i=t.searchParams.get("result");if(i)try{const h=JSON.parse(Zr(i));Object.keys(h).forEach(v=>{e[v]=h[v]})}catch(h){yr.error(h)}const a=t.hash.substring(1),n=new URL(`${window.location.origin}/?${a}`);n.searchParams.forEach((h,v)=>{v!=="result"&&(e[v]=h)});const c=n.searchParams.get("result");if(c)try{const h=JSON.parse(Zr(c));Object.keys(h).forEach(v=>{e[v]=h[v]})}catch(h){yr.error(h)}if(r){const h=new URL(window.location.origin+window.location.pathname);if(h.search=window.location.search,c){const v=JSON.parse(Zr(c));delete v.sessionId,delete v.sessionNamespace,delete v.error,h.hash=ks(JSON.stringify(v))}window.history.replaceState(J(J({},window.history.state),{},{as:h.href,url:h.href}),"",h.href)}return e}function Si(r){const{baseURL:e,query:t,hash:i}=r,a=new URL(e);if(t&&Object.keys(t).forEach(n=>{a.searchParams.append(n,t[n])}),i){const n=new URL(Si({baseURL:e,query:i})).searchParams.toString();a.hash=n}return a.toString()}function gd(){if(typeof window>"u")return"";const r=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,t=1200,i=700,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,c=1,h=Math.abs((a-t)/2/c+r),v=Math.abs((n-i)/2/c+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${i/c},width=${t/c},top=${v},left=${h}`}function yd(){if(typeof window>"u")return!1;const e=Qr.getParser(window.navigator.userAgent).getPlatform();return e.type===Qr.PLATFORMS_MAP.tablet||e.type===Qr.PLATFORMS_MAP.mobile}function wd(r){return(r===rn.FACEBOOK||r===rn.LINE)&&yd()?1e3*60*5:1e3*10}class xd extends Bs.EventEmitter{constructor(e){let{url:t,target:i,features:a,timeout:n=3e4}=e;super(),q(this,"url",void 0),q(this,"target",void 0),q(this,"features",void 0),q(this,"window",void 0),q(this,"windowTimer",void 0),q(this,"iClosedWindow",void 0),q(this,"timeout",void 0),this.url=t,this.target=i||"_blank",this.features=a||gd(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=n,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;this.window=window.open(this.url,this.target,this.features),(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const t=new pd,i=await t.subscribe(e);this.close(),t.cleanup();const a=JSON.parse(i);return a.error?{error:a.error,state:a.state}:a.data}}class Md{constructor(e){if(q(this,"state",{}),q(this,"options",void 0),q(this,"sessionManager",void 0),q(this,"currentStorage",void 0),q(this,"_storageBaseKey","openlogin_store"),q(this,"dappState",void 0),q(this,"addVersionInUrls",!0),!e.clientId)throw gt.invalidParams("clientId is required");if(e.network||(e.network=Zt.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=Ze.PRODUCTION),(e.buildEnv===Ze.DEVELOPMENT||e.buildEnv===Ze.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===Ze.DEVELOPMENT?e.sdkUrl="http://localhost:3000":e.buildEnv===Ze.STAGING?e.sdkUrl="https://staging-auth.web3auth.io":e.buildEnv===Ze.TESTING?e.sdkUrl="https://develop-auth.web3auth.io":e.sdkUrl="https://auth.web3auth.io"),e.useMpc&&!e.sdkUrl){if(Object.values(Rs).includes(e.network))throw new Error("MPC is not supported on legacy networks");e.buildEnv===Ze.DEVELOPMENT?e.sdkUrl="http://localhost:3000":e.buildEnv===Ze.STAGING?e.sdkUrl="https://staging-mpc-auth.web3auth.io":e.buildEnv===Ze.TESTING?e.sdkUrl="https://develop-mpc-auth.web3auth.io":e.sdkUrl="https://mpc-auth.web3auth.io"}!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=_t.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.loginConfig||(e.loginConfig={}),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl="https://broadcast-server.tor.us"),e.storageKey||(e.storageKey="local"),e.webauthnTransports||(e.webauthnTransports=["internal"]),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${vd.split(".")[0]}`:`${this.options.sdkUrl}`}async init(){const e=md(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const t=this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey;this.currentStorage=Ns.getInstance(t,this.options.storageKey);const i=this.currentStorage.get("sessionId");if(this.sessionManager=new li({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:i}),(this.options.network===Zt.TESTNET||this.options.network===Zt.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==Ze.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Te.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const a=await this._authorizeSession();this.updateState(a),Object.keys(a).length===0&&this.currentStorage.set("sessionId","")}}async login(e){if(!e.loginProvider)throw Te.invalidLoginParams("loginProvider is required");const t={redirectUrl:this.options.redirectUrl},i=J(J({loginProvider:e.loginProvider},t),e),a={actionType:Gr.LOGIN,options:this.options,params:i},n=await this.openloginHandler(`${this.baseUrl}/start`,a,wd(e.loginProvider));if(this.options.uxMode===_t.REDIRECT)return null;if(n.error)throw this.dappState=n.state,Te.loginFailed(n.error);return this.sessionManager.sessionId=n.sessionId,this.options.sessionNamespace=n.sessionNamespace,this.currentStorage.set("sessionId",n.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async logout(){if(!this.sessionManager.sessionId)throw Te.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",verifier:"",verifierId:"",aggregateVerifier:"",typeOfLogin:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async setupMFA(e){if(!this.sessionId)throw Te.userNotLoggedIn();const t={redirectUrl:this.options.redirectUrl},i={actionType:Gr.ENABLE_MFA,options:this.options,params:J(J({},t),e),sessionId:this.sessionId},a=await this.openloginHandler(`${this.baseUrl}/start`,i);if(this.options.uxMode!==_t.REDIRECT)return this.sessionManager.sessionId=a.sessionId,this.options.sessionNamespace=a.sessionNamespace,this.currentStorage.set("sessionId",a.sessionId),await this.rehydrateSession(),!0}async changeSocialFactor(e){if(!this.sessionId)throw Te.userNotLoggedIn();const t={redirectUrl:this.options.redirectUrl},i={actionType:Gr.MODIFY_MFA,options:this.options,params:J(J({},t),e),sessionId:this.sessionId},a=await this.openloginHandler(`${this.baseUrl}/start`,i);if(this.options.uxMode!==_t.REDIRECT)return this.sessionManager.sessionId=a.sessionId,this.options.sessionNamespace=a.sessionNamespace,this.currentStorage.set("sessionId",a.sessionId),await this.rehydrateSession(),!0}getUserInfo(){if(!this.sessionManager.sessionId)throw Te.userNotLoggedIn();return this.state.userInfo}async getLoginId(e){if(!this.sessionManager)throw gt.notInitialized();const t=li.generateRandomSessionKey();return await new li({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:600,sessionId:t}).createSession(JSON.parse(JSON.stringify(e))),t}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return yr.error("authorization failed",e),{}}}updateState(e){this.state=J(J({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async openloginHandler(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e4;const a=await this.getLoginId(t),n={loginId:a,sessionNamespace:this.options.sessionNamespace};if(this.options.uxMode===_t.REDIRECT){const c=Si({baseURL:e,hash:{b64Params:tn(n)}});window.location.href=c;return}return new Promise((c,h)=>{const v=Si({baseURL:e,hash:{b64Params:tn(n)}}),w=new xd({url:v,timeout:i});w.on("close",()=>{h(Te.popupClosed())}),w.listenOnChannel(a).then(c).catch(h),w.open()})}}const Sd=()=>({adapterSettings:{network:Zt.SAPPHIRE_MAINNET,clientId:"",uxMode:_t.POPUP},loginSettings:{},privateKeyProvider:void 0});class Pd extends Cs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),q(this,"name",ir.OPENLOGIN),q(this,"adapterNamespace",Ts.MULTICHAIN),q(this,"type",qs.IN_APP),q(this,"openloginInstance",null),q(this,"status",We.NOT_READY),q(this,"currentChainNamespace",ei.EIP155),q(this,"privateKeyProvider",null),q(this,"openloginOptions",void 0),q(this,"loginSettings",{loginProvider:""}),this.setAdapterSettings(J(J({},e.adapterSettings),{},{chainConfig:e.chainConfig,clientId:e.clientId||"",sessionTime:e.sessionTime,web3AuthNetwork:e.web3AuthNetwork,useCoreKitKey:e.useCoreKitKey,privateKeyProvider:e.privateKeyProvider})),this.loginSettings=e.loginSettings||{loginProvider:""},this.privateKeyProvider=e.privateKeyProvider||null}get chainConfigProxy(){return this.chainConfig?J({},this.chainConfig):null}get provider(){return this.status!==We.NOT_READY&&this.privateKeyProvider?this.privateKeyProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){if(super.checkInitializationRequirements(),!this.clientId)throw bt.invalidParams("clientId is required before openlogin's initialization");if(!this.openloginOptions)throw bt.invalidParams("openloginOptions is required before openlogin's initialization");const t=this.openloginOptions.uxMode===_t.REDIRECT;if(this.openloginOptions=J(J({},this.openloginOptions),{},{replaceUrlOnRedirect:t}),this.openloginInstance=new Md(J(J({},this.openloginOptions),{},{clientId:this.clientId,network:this.openloginOptions.network||this.web3AuthNetwork||Zt.SAPPHIRE_MAINNET})),Jt.debug("initializing openlogin adapter init"),await this.openloginInstance.init(),!this.chainConfig)throw bt.invalidParams("chainConfig is required before initialization");this.status=We.READY,this.emit(Wt.READY,ir.OPENLOGIN);try{Jt.debug("initializing openlogin adapter"),this._getFinalPrivKey()&&(e.autoConnect||t)&&(this.rehydrated=!0,await this.connect())}catch(i){Jt.error("Failed to connect with cached openlogin provider",i),this.emit("ERRORED",i)}}async connect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{loginProvider:""};super.checkConnectionRequirements(),this.status=We.CONNECTING,this.emit(Wt.CONNECTING,J(J({},e),{},{adapter:ir.OPENLOGIN}));try{return await this.connectWithProvider(e),this.provider}catch(t){throw Jt.error("Failed to connect with openlogin provider",t),this.status=We.READY,this.emit(Wt.ERRORED,t),t!=null&&t.message.includes("user closed popup")?Mt.popupClosed():t instanceof Ls?t:Mt.connectionError("Failed to login with openlogin")}}async disconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cleanup:!1};if(this.status!==We.CONNECTED)throw Mt.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw bt.notReady("openloginInstance is not ready");await this.openloginInstance.logout(),e.cleanup?(this.status=We.NOT_READY,this.openloginInstance=null,this.privateKeyProvider=null):this.status=We.READY,this.rehydrated=!1,this.emit(Wt.DISCONNECTED)}async authenticateUser(){if(this.status!==We.CONNECTED)throw Mt.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==We.CONNECTED)throw Mt.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw bt.notReady("openloginInstance is not ready");return this.openloginInstance.getUserInfo()}setAdapterSettings(e){super.setAdapterSettings(e);const t=Sd();Jt.info("setting adapter settings",e),this.openloginOptions=J(J(J({},t.adapterSettings),this.openloginOptions),e),e.web3AuthNetwork&&(this.openloginOptions.network=e.web3AuthNetwork),e.useCoreKitKey!==void 0&&(this.openloginOptions.useCoreKitKey=e.useCoreKitKey),e.privateKeyProvider&&(this.privateKeyProvider=e.privateKeyProvider)}async addChain(e){var t;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.checkAddChainRequirements(e,i),(t=this.privateKeyProvider)===null||t===void 0||t.addChain(e),this.addChainConfig(e)}async switchChain(e){var t;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.checkSwitchChainRequirements(e,i),await((t=this.privateKeyProvider)===null||t===void 0?void 0:t.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}_getFinalPrivKey(){var e;if(!this.openloginInstance)return"";let t=this.openloginInstance.privKey;if((e=this.openloginOptions)!==null&&e!==void 0&&e.useCoreKitKey){if(this.openloginInstance.privKey&&!this.openloginInstance.coreKitKey)throw Mt.coreKitKeyNotFound();t=this.openloginInstance.coreKitKey}return t}_getFinalEd25519PrivKey(){var e;if(!this.openloginInstance)return"";let t=this.openloginInstance.ed25519PrivKey;if((e=this.openloginOptions)!==null&&e!==void 0&&e.useCoreKitKey){if(this.openloginInstance.ed25519PrivKey&&!this.openloginInstance.coreKitEd25519Key)throw Mt.coreKitKeyNotFound();t=this.openloginInstance.coreKitEd25519Key}return t}async connectWithProvider(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{loginProvider:""};if(!this.privateKeyProvider)throw bt.invalidParams("PrivateKey Provider is required before initialization");if(!this.openloginInstance)throw bt.notReady("openloginInstance is not ready");if(!this._getFinalPrivKey()||(e=t.extraLoginOptions)!==null&&e!==void 0&&e.id_token){var a;if(this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===ei.SOLANA?nn.ED25519:nn.SECP256K1),!t.loginProvider&&!this.loginSettings.loginProvider)throw bt.invalidParams("loginProvider is required for login");await this.openloginInstance.login(zs(this.loginSettings,t,{extraLoginOptions:J(J({},t.extraLoginOptions||{}),{},{login_hint:t.login_hint||((a=t.extraLoginOptions)===null||a===void 0?void 0:a.login_hint)})}))}let n=this._getFinalPrivKey();n&&(this.currentChainNamespace===ei.SOLANA&&(n=this._getFinalEd25519PrivKey()),await this.privateKeyProvider.setupProvider(n),this.status=We.CONNECTED,this.emit(Wt.CONNECTED,{adapter:ir.OPENLOGIN,reconnected:this.rehydrated}))}}export{Ze as BUILD_ENV,Ns as BrowserStorage,Od as LANGUAGES,rn as LOGIN_PROVIDER,kd as MFA_FACTOR,Bd as MFA_LEVELS,Cd as MemoryStore,Gr as OPENLOGIN_ACTIONS,Zt as OPENLOGIN_NETWORK,Pd as OpenloginAdapter,nn as SUPPORTED_KEY_CURVES,Td as THEME_MODES,Rs as TORUS_LEGACY_NETWORK,qd as TORUS_SAPPHIRE_NETWORK,_t as UX_MODE,Ld as base64toJSON,zd as base64url,Sd as getOpenloginDefaultOptions,tn as jsonToBase64,Zr as safeatob,ks as safebtoa,$d as storageAvailable,Kd as storeKey};
