import{g as Nr,l as mo,c as jt,k as Ce}from"./index-c463d612.js";import{aw as Ni,ax as Mi,ay as Te,az as zi,aA as qi,aB as rr,aC as zn,aD as zs,aE as Di,aF as Ki,aG as qs,aH as Zt,aI as ji,aJ as Gi,aK as Wi,aL as Hi,aM as Dt,aN as $i,aO as Vi,z as Yi,aP as vo,aQ as Ds}from"./provider-browser-5807d46b.js";import{b as Zi,B as Ks,c as Ji}from"./bn-07c2e7c8.js";import{e as Xi}from"./index-8fffa698.js";const[Qi,ea]=(()=>Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),nr=new Uint32Array(80),sr=new Uint32Array(80);class ta extends Mi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:o,Cl:a,Dh:l,Dl:h,Eh:y,El:g,Fh:B,Fl:U,Gh:_,Gl:E,Hh:A,Hl:b}=this;return[e,t,r,s,o,a,l,h,y,g,B,U,_,E,A,b]}set(e,t,r,s,o,a,l,h,y,g,B,U,_,E,A,b){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=h|0,this.Eh=y|0,this.El=g|0,this.Fh=B|0,this.Fl=U|0,this.Gh=_|0,this.Gl=E|0,this.Hh=A|0,this.Hl=b|0}process(e,t){for(let w=0;w<16;w++,t+=4)nr[w]=e.getUint32(t),sr[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const Y=nr[w-15]|0,L=sr[w-15]|0,j=Te.rotrSH(Y,L,1)^Te.rotrSH(Y,L,8)^Te.shrSH(Y,L,7),W=Te.rotrSL(Y,L,1)^Te.rotrSL(Y,L,8)^Te.shrSL(Y,L,7),se=nr[w-2]|0,Oe=sr[w-2]|0,$e=Te.rotrSH(se,Oe,19)^Te.rotrBH(se,Oe,61)^Te.shrSH(se,Oe,6),nt=Te.rotrSL(se,Oe,19)^Te.rotrBL(se,Oe,61)^Te.shrSL(se,Oe,6),ot=Te.add4L(W,nt,sr[w-7],sr[w-16]),vt=Te.add4H(ot,j,$e,nr[w-7],nr[w-16]);nr[w]=vt|0,sr[w]=ot|0}let{Ah:r,Al:s,Bh:o,Bl:a,Ch:l,Cl:h,Dh:y,Dl:g,Eh:B,El:U,Fh:_,Fl:E,Gh:A,Gl:b,Hh:M,Hl:N}=this;for(let w=0;w<80;w++){const Y=Te.rotrSH(B,U,14)^Te.rotrSH(B,U,18)^Te.rotrBH(B,U,41),L=Te.rotrSL(B,U,14)^Te.rotrSL(B,U,18)^Te.rotrBL(B,U,41),j=B&_^~B&A,W=U&E^~U&b,se=Te.add5L(N,L,W,ea[w],sr[w]),Oe=Te.add5H(se,M,Y,j,Qi[w],nr[w]),$e=se|0,nt=Te.rotrSH(r,s,28)^Te.rotrBH(r,s,34)^Te.rotrBH(r,s,39),ot=Te.rotrSL(r,s,28)^Te.rotrBL(r,s,34)^Te.rotrBL(r,s,39),vt=r&o^r&l^o&l,Ut=s&a^s&h^a&h;M=A|0,N=b|0,A=_|0,b=E|0,_=B|0,E=U|0,{h:B,l:U}=Te.add(y|0,g|0,Oe|0,$e|0),y=l|0,g=h|0,l=o|0,h=a|0,o=r|0,a=s|0;const Pt=Te.add3L($e,ot,Ut);r=Te.add3H(Pt,Oe,nt,vt),s=Pt|0}({h:r,l:s}=Te.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:a}=Te.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:h}=Te.add(this.Ch|0,this.Cl|0,l|0,h|0),{h:y,l:g}=Te.add(this.Dh|0,this.Dl|0,y|0,g|0),{h:B,l:U}=Te.add(this.Eh|0,this.El|0,B|0,U|0),{h:_,l:E}=Te.add(this.Fh|0,this.Fl|0,_|0,E|0),{h:A,l:b}=Te.add(this.Gh|0,this.Gl|0,A|0,b|0),{h:M,l:N}=Te.add(this.Hh|0,this.Hl|0,M|0,N|0),this.set(r,s,o,a,l,h,y,g,B,U,_,E,A,b,M,N)}roundClean(){nr.fill(0),sr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const _o=Ni(()=>new ta);function ra(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var a=n.length,l=n.charAt(0),h=Math.log(a)/Math.log(256),y=Math.log(256)/Math.log(a);function g(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var E=0,A=0,b=0,M=_.length;b!==M&&_[b]===0;)b++,E++;for(var N=(M-b)*y+1>>>0,w=new Uint8Array(N);b!==M;){for(var Y=_[b],L=0,j=N-1;(Y!==0||L<A)&&j!==-1;j--,L++)Y+=256*w[j]>>>0,w[j]=Y%a>>>0,Y=Y/a>>>0;if(Y!==0)throw new Error("Non-zero carry");A=L,b++}for(var W=N-A;W!==N&&w[W]===0;)W++;for(var se=l.repeat(E);W<N;++W)se+=n.charAt(w[W]);return se}function B(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var E=0,A=0,b=0;_[E]===l;)A++,E++;for(var M=(_.length-E)*h+1>>>0,N=new Uint8Array(M);_[E];){var w=e[_.charCodeAt(E)];if(w===255)return;for(var Y=0,L=M-1;(w!==0||Y<b)&&L!==-1;L--,Y++)w+=a*N[L]>>>0,N[L]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=Y,E++}for(var j=M-b;j!==M&&N[j]===0;)j++;for(var W=new Uint8Array(A+(M-j)),se=A;j!==M;)W[se++]=N[j++];return W}function U(_){var E=B(_);if(E)return E;throw new Error("Non-base"+a+" character")}return{encode:g,decodeUnsafe:B,decode:U}}var na=ra;const sa=na,oa="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var ia=sa(oa);const Pu=Nr(ia);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mt=BigInt(0),Rt=BigInt(1),dn=BigInt(2),aa=BigInt(8),ca={zip215:!0};function fa(n){const e=zi(n);return qi(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function ys(n){const e=fa(n),{Fp:t,n:r,prehash:s,hash:o,randomBytes:a,nByteLength:l,h}=e,y=dn<<BigInt(l*8)-Rt,g=t.create,B=e.uvRatio||((ae,S)=>{try{return{isValid:!0,value:t.sqrt(ae*t.inv(S))}}catch{return{isValid:!1,value:Mt}}}),U=e.adjustScalarBytes||(ae=>ae),_=e.domain||((ae,S,R)=>{if(S.length||R)throw new Error("Contexts/pre-hash are not supported");return ae}),E=ae=>typeof ae=="bigint"&&Mt<ae,A=(ae,S)=>E(ae)&&E(S)&&ae<S,b=ae=>ae===Mt||A(ae,y);function M(ae,S){if(A(ae,S))return ae;throw new Error(`Expected valid scalar < ${S}, got ${typeof ae} ${ae}`)}function N(ae){return ae===Mt?ae:M(ae,r)}const w=new Map;function Y(ae){if(!(ae instanceof L))throw new Error("ExtendedPoint expected")}class L{constructor(S,R,C,$){if(this.ex=S,this.ey=R,this.ez=C,this.et=$,!b(S))throw new Error("x required");if(!b(R))throw new Error("y required");if(!b(C))throw new Error("z required");if(!b($))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof L)throw new Error("extended point not allowed");const{x:R,y:C}=S||{};if(!b(R)||!b(C))throw new Error("invalid affine point");return new L(R,C,Rt,g(R*C))}static normalizeZ(S){const R=t.invertBatch(S.map(C=>C.ez));return S.map((C,$)=>C.toAffine(R[$])).map(L.fromAffine)}_setWindowSize(S){this._WINDOW_SIZE=S,w.delete(this)}assertValidity(){const{a:S,d:R}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:C,ey:$,ez:H,et:G}=this,Z=g(C*C),he=g($*$),Be=g(H*H),He=g(Be*Be),We=g(Z*S),Je=g(Be*g(We+he)),ct=g(He+g(R*g(Z*he)));if(Je!==ct)throw new Error("bad point: equation left != right (1)");const kt=g(C*$),Ot=g(H*G);if(kt!==Ot)throw new Error("bad point: equation left != right (2)")}equals(S){Y(S);const{ex:R,ey:C,ez:$}=this,{ex:H,ey:G,ez:Z}=S,he=g(R*Z),Be=g(H*$),He=g(C*Z),We=g(G*$);return he===Be&&He===We}is0(){return this.equals(L.ZERO)}negate(){return new L(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){const{a:S}=e,{ex:R,ey:C,ez:$}=this,H=g(R*R),G=g(C*C),Z=g(dn*g($*$)),he=g(S*H),Be=R+C,He=g(g(Be*Be)-H-G),We=he+G,Je=We-Z,ct=he-G,kt=g(He*Je),Ot=g(We*ct),mr=g(He*ct),vr=g(Je*We);return new L(kt,Ot,vr,mr)}add(S){Y(S);const{a:R,d:C}=e,{ex:$,ey:H,ez:G,et:Z}=this,{ex:he,ey:Be,ez:He,et:We}=S;if(R===BigInt(-1)){const ur=g((H-$)*(Be+he)),Sr=g((H+$)*(Be-he)),tr=g(Sr-ur);if(tr===Mt)return this.double();const Er=g(G*dn*We),lr=g(Z*dn*He),Ar=lr+Er,kr=Sr+ur,jr=lr-Er,On=g(Ar*tr),Gr=g(kr*jr),Wr=g(Ar*jr),Br=g(tr*kr);return new L(On,Gr,Br,Wr)}const Je=g($*he),ct=g(H*Be),kt=g(Z*C*We),Ot=g(G*He),mr=g(($+H)*(he+Be)-Je-ct),vr=Ot-kt,fn=Ot+kt,Kr=g(ct-R*Je),un=g(mr*vr),Vt=g(fn*Kr),_r=g(mr*Kr),ln=g(vr*fn);return new L(un,Vt,ln,_r)}subtract(S){return this.add(S.negate())}wNAF(S){return se.wNAFCached(this,w,S,L.normalizeZ)}multiply(S){const{p:R,f:C}=this.wNAF(M(S,r));return L.normalizeZ([R,C])[0]}multiplyUnsafe(S){let R=N(S);return R===Mt?W:this.equals(W)||R===Rt?this:this.equals(j)?this.wNAF(R).p:se.unsafeLadder(this,R)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return se.unsafeLadder(this,r).is0()}toAffine(S){const{ex:R,ey:C,ez:$}=this,H=this.is0();S==null&&(S=H?aa:t.inv($));const G=g(R*S),Z=g(C*S),he=g($*S);if(H)return{x:Mt,y:Rt};if(he!==Rt)throw new Error("invZ was invalid");return{x:G,y:Z}}clearCofactor(){const{h:S}=e;return S===Rt?this:this.multiplyUnsafe(S)}static fromHex(S,R=!1){const{d:C,a:$}=e,H=t.BYTES;S=rr("pointHex",S,H);const G=S.slice(),Z=S[H-1];G[H-1]=Z&-129;const he=zn(G);he===Mt||(R?M(he,y):M(he,t.ORDER));const Be=g(he*he),He=g(Be-Rt),We=g(C*Be-$);let{isValid:Je,value:ct}=B(He,We);if(!Je)throw new Error("Point.fromHex: invalid y coordinate");const kt=(ct&Rt)===Rt,Ot=(Z&128)!==0;if(!R&&ct===Mt&&Ot)throw new Error("Point.fromHex: x=0 and x_0=1");return Ot!==kt&&(ct=g(-ct)),L.fromAffine({x:ct,y:he})}static fromPrivateKey(S){return nt(S).point}toRawBytes(){const{x:S,y:R}=this.toAffine(),C=zs(R,t.BYTES);return C[C.length-1]|=S&Rt?128:0,C}toHex(){return Di(this.toRawBytes())}}L.BASE=new L(e.Gx,e.Gy,Rt,g(e.Gx*e.Gy)),L.ZERO=new L(Mt,Rt,Rt,Mt);const{BASE:j,ZERO:W}=L,se=Ki(L,l*8);function Oe(ae){return Zt(ae,r)}function $e(ae){return Oe(zn(ae))}function nt(ae){const S=l;ae=rr("private key",ae,S);const R=rr("hashed private key",o(ae),2*S),C=U(R.slice(0,S)),$=R.slice(S,2*S),H=$e(C),G=j.multiply(H),Z=G.toRawBytes();return{head:C,prefix:$,scalar:H,point:G,pointBytes:Z}}function ot(ae){return nt(ae).pointBytes}function vt(ae=new Uint8Array,...S){const R=qs(...S);return $e(o(_(R,rr("context",ae),!!s)))}function Ut(ae,S,R={}){ae=rr("message",ae),s&&(ae=s(ae));const{prefix:C,scalar:$,pointBytes:H}=nt(S),G=vt(R.context,C,ae),Z=j.multiply(G).toRawBytes(),he=vt(R.context,Z,H,ae),Be=Oe(G+he*$);N(Be);const He=qs(Z,zs(Be,t.BYTES));return rr("result",He,l*2)}const Pt=ca;function _t(ae,S,R,C=Pt){const{context:$,zip215:H}=C,G=t.BYTES;ae=rr("signature",ae,2*G),S=rr("message",S),s&&(S=s(S));const Z=zn(ae.slice(G,2*G));let he,Be,He;try{he=L.fromHex(R,H),Be=L.fromHex(ae.slice(0,G),H),He=j.multiplyUnsafe(Z)}catch{return!1}if(!H&&he.isSmallOrder())return!1;const We=vt($,Be.toRawBytes(),he.toRawBytes(),S);return Be.add(he.multiplyUnsafe(We)).subtract(He).clearCofactor().equals(L.ZERO)}return j._setWindowSize(8),{CURVE:e,getPublicKey:ot,sign:Ut,verify:_t,ExtendedPoint:L,utils:{getExtendedPublicKey:nt,randomPrivateKey:()=>a(t.BYTES),precompute(ae=8,S=L.BASE){return S._setWindowSize(ae),S.multiply(BigInt(3)),S}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xs=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),js=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const ua=BigInt(1),us=BigInt(2),la=BigInt(5),Gs=BigInt(10),ha=BigInt(20),da=BigInt(40),Ws=BigInt(80);function pa(n){const e=xs,r=n*n%e*n%e,s=Dt(r,us,e)*r%e,o=Dt(s,ua,e)*n%e,a=Dt(o,la,e)*o%e,l=Dt(a,Gs,e)*a%e,h=Dt(l,ha,e)*l%e,y=Dt(h,da,e)*h%e,g=Dt(y,Ws,e)*y%e,B=Dt(g,Ws,e)*y%e,U=Dt(B,Gs,e)*a%e;return{pow_p_5_8:Dt(U,us,e)*n%e,b2:r}}function ga(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function ya(n,e){const t=xs,r=Zt(e*e*e,t),s=Zt(r*r*e,t),o=pa(n*s).pow_p_5_8;let a=Zt(n*r*o,t);const l=Zt(e*a*a,t),h=a,y=Zt(a*js,t),g=l===n,B=l===Zt(-n,t),U=l===Zt(-n*js,t);return g&&(a=h),(B||U)&&(a=y),Hi(a,t)&&(a=Zt(-a,t)),{isValid:g||B,value:a}}const Xt=ji(xs,void 0,!0),bs={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Xt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:_o,randomBytes:Gi,adjustScalarBytes:ga,uvRatio:ya},Mr=ys(bs);function So(n,e,t){if(e.length>255)throw new Error("Context is too big");return $i(Vi("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...bs});({...bs});const xa=(Xt.ORDER+BigInt(3))/BigInt(8);Xt.pow(us,xa);Xt.sqrt(Xt.neg(Xt.ONE));(Xt.ORDER-BigInt(5))/BigInt(8);BigInt(486662);Wi(Xt,Xt.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pn=Yi.Buffer;function ba(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var a=n.length,l=n.charAt(0),h=Math.log(a)/Math.log(256),y=Math.log(256)/Math.log(a);function g(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=pn.from(_)),!pn.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,A=0,b=0,M=_.length;b!==M&&_[b]===0;)b++,E++;for(var N=(M-b)*y+1>>>0,w=new Uint8Array(N);b!==M;){for(var Y=_[b],L=0,j=N-1;(Y!==0||L<A)&&j!==-1;j--,L++)Y+=256*w[j]>>>0,w[j]=Y%a>>>0,Y=Y/a>>>0;if(Y!==0)throw new Error("Non-zero carry");A=L,b++}for(var W=N-A;W!==N&&w[W]===0;)W++;for(var se=l.repeat(E);W<N;++W)se+=n.charAt(w[W]);return se}function B(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return pn.alloc(0);for(var E=0,A=0,b=0;_[E]===l;)A++,E++;for(var M=(_.length-E)*h+1>>>0,N=new Uint8Array(M);_[E];){var w=e[_.charCodeAt(E)];if(w===255)return;for(var Y=0,L=M-1;(w!==0||Y<b)&&L!==-1;L--,Y++)w+=a*N[L]>>>0,N[L]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");b=Y,E++}for(var j=M-b;j!==M&&N[j]===0;)j++;var W=pn.allocUnsafe(A+(M-j));W.fill(0,0,A);for(var se=A;j!==M;)W[se++]=N[j++];return W}function U(_){var E=B(_);if(E)return E;throw new Error("Non-base"+a+" character")}return{encode:g,decodeUnsafe:B,decode:U}}var wa=ba,ma=wa,va="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Eo=ma(va);const ht=Nr(Eo);var lt={};function Jt(n,e,t){return e<=n&&n<=t}function kn(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function _a(n){for(var e=String(n),t=e.length,r=0,s=[];r<t;){var o=e.charCodeAt(r);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(r===t-1)s.push(65533);else{var a=n.charCodeAt(r+1);if(56320<=a&&a<=57343){var l=o&1023,h=a&1023;s.push(65536+(l<<10)+h),r+=1}else s.push(65533)}r+=1}return s}function Sa(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var wn=-1;function ws(n){this.tokens=[].slice.call(n)}ws.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():wn},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var Pr=-1;function qn(n,e){if(n)throw TypeError("Decoder error");return e||65533}var mn="utf-8";function vn(n,e){if(!(this instanceof vn))return new vn(n,e);if(n=n!==void 0?String(n).toLowerCase():mn,n!==mn)throw new Error("Encoding not supported. Only utf-8 is supported");e=kn(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}vn.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=kn(t),this._streaming||(this._decoder=new Ea({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new ws(r),o=[],a;!s.endOfStream()&&(a=this._decoder.handler(s,s.read()),a!==Pr);)a!==null&&(Array.isArray(a)?o.push.apply(o,a):o.push(a));if(!this._streaming){do{if(a=this._decoder.handler(s,s.read()),a===Pr)break;a!==null&&(Array.isArray(a)?o.push.apply(o,a):o.push(a))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Sa(o)}};function _n(n,e){if(!(this instanceof _n))return new _n(n,e);if(n=n!==void 0?String(n).toLowerCase():mn,n!==mn)throw new Error("Encoding not supported. Only utf-8 is supported");e=kn(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}_n.prototype={encode:function(e,t){e=e?String(e):"",t=kn(t),this._streaming||(this._encoder=new Aa(this._options)),this._streaming=!!t.stream;for(var r=[],s=new ws(_a(e)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==Pr);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==Pr;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function Ea(n){var e=n.fatal,t=0,r=0,s=0,o=128,a=191;this.handler=function(l,h){if(h===wn&&s!==0)return s=0,qn(e);if(h===wn)return Pr;if(s===0){if(Jt(h,0,127))return h;if(Jt(h,194,223))s=1,t=h-192;else if(Jt(h,224,239))h===224&&(o=160),h===237&&(a=159),s=2,t=h-224;else if(Jt(h,240,244))h===240&&(o=144),h===244&&(a=143),s=3,t=h-240;else return qn(e);return t=t<<6*s,null}if(!Jt(h,o,a))return t=s=r=0,o=128,a=191,l.prepend(h),qn(e);if(o=128,a=191,r+=1,t+=h-128<<6*(s-r),r!==s)return null;var y=t;return t=s=r=0,y}}function Aa(n){n.fatal,this.handler=function(e,t){if(t===wn)return Pr;if(Jt(t,0,127))return t;var r,s;Jt(t,128,2047)?(r=1,s=192):Jt(t,2048,65535)?(r=2,s=224):Jt(t,65536,1114111)&&(r=3,s=240);for(var o=[(t>>6*r)+s];r>0;){var a=t>>6*(r-1);o.push(128|a&63),r-=1}return o}}const ka=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:vn,TextEncoder:_n},Symbol.toStringTag,{value:"Module"})),Ba=mo(ka);var Ra=jt&&jt.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Ia=jt&&jt.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Wt=jt&&jt.__decorate||function(n,e,t,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(s<3?a(o):s>3?a(e,t,o):a(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ta=jt&&jt.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&Ra(e,n,t);return Ia(e,n),e},Ao=jt&&jt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lt,"__esModule",{value:!0});var ko=lt.deserializeUnchecked=Co=lt.deserialize=Lo=lt.serialize=lt.BinaryReader=lt.BinaryWriter=lt.BorshError=lt.baseDecode=lt.baseEncode=void 0;const ar=Ao(Zi),Bo=Ao(Eo),La=Ta(Ba),Ca=typeof TextDecoder!="function"?La.TextDecoder:TextDecoder,Ua=new Ca("utf-8",{fatal:!0});function Pa(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),Bo.default.encode(Buffer.from(n))}lt.baseEncode=Pa;function Oa(n){return Buffer.from(Bo.default.decode(n))}lt.baseDecode=Oa;const Dn=1024;class St extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lt.BorshError=St;class Ro{constructor(){this.buf=Buffer.alloc(Dn),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Dn)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ar.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ar.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ar.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ar.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Dn)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}lt.BinaryWriter=Ro;function Ht(n,e,t){const r=t.value;t.value=function(...s){try{return r.apply(this,s)}catch(o){if(o instanceof RangeError){const a=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new St("Reached the end of buffer when deserializing")}throw o}}}class Ct{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ar.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ar.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ar.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ar.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new St(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return Ua.decode(t)}catch(r){throw new St(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let s=0;s<t;++s)r.push(e());return r}}Wt([Ht],Ct.prototype,"readU8",null);Wt([Ht],Ct.prototype,"readU16",null);Wt([Ht],Ct.prototype,"readU32",null);Wt([Ht],Ct.prototype,"readU64",null);Wt([Ht],Ct.prototype,"readU128",null);Wt([Ht],Ct.prototype,"readU256",null);Wt([Ht],Ct.prototype,"readU512",null);Wt([Ht],Ct.prototype,"readString",null);Wt([Ht],Ct.prototype,"readFixedArray",null);Wt([Ht],Ct.prototype,"readArray",null);lt.BinaryReader=Ct;function Io(n){return n.charAt(0).toUpperCase()+n.slice(1)}function dr(n,e,t,r,s){try{if(typeof r=="string")s[`write${Io(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new St(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);s.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new St(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let o=0;o<r[1];o++)dr(n,null,t[o],r[0],s)}else s.writeArray(t,o=>{dr(n,e,o,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?s.writeU8(0):(s.writeU8(1),dr(n,e,t,r.type,s));break}case"map":{s.writeU32(t.size),t.forEach((o,a)=>{dr(n,e,a,r.key,s),dr(n,e,o,r.value,s)});break}default:throw new St(`FieldType ${r} unrecognized`)}else To(n,t,s)}catch(o){throw o instanceof St&&o.addToFieldPath(e),o}}function To(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new St(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,o])=>{dr(n,s,e[s],o,t)});else if(r.kind==="enum"){const s=e[r.field];for(let o=0;o<r.values.length;++o){const[a,l]=r.values[o];if(a===s){t.writeU8(o),dr(n,a,e[a],l,t);break}}}else throw new St(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Fa(n,e,t=Ro){const r=new t;return To(n,e,r),r.toArray()}var Lo=lt.serialize=Fa;function pr(n,e,t,r){try{if(typeof t=="string")return r[`read${Io(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const s=[];for(let o=0;o<t[1];o++)s.push(pr(n,null,t[0],r));return s}else return r.readArray(()=>pr(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?pr(n,e,t.type,r):void 0;if(t.kind==="map"){let s=new Map;const o=r.readU32();for(let a=0;a<o;a++){const l=pr(n,e,t.key,r),h=pr(n,e,t.value,r);s.set(l,h)}return s}return ms(n,t,r)}catch(s){throw s instanceof St&&s.addToFieldPath(e),s}}function ms(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new St(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[o,a]of n.get(e).fields)s[o]=pr(n,o,a,t);return new e(s)}if(r.kind==="enum"){const s=t.readU8();if(s>=r.values.length)throw new St(`Enum index: ${s} is out of range`);const[o,a]=r.values[s],l=pr(n,o,a,t);return new e({[o]:l})}throw new St(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Na(n,e,t,r=Ct){const s=new r(t),o=ms(n,e,s);if(s.offset<t.length)throw new St(`Unexpected ${t.length-s.offset} bytes after deserialized data`);return o}var Co=lt.deserialize=Na;function Ma(n,e,t,r=Ct){const s=new r(t);return ms(n,e,s)}ko=lt.deserializeUnchecked=Ma;var k={};Object.defineProperty(k,"__esModule",{value:!0});k.s16=k.s8=k.nu64be=k.u48be=k.u40be=k.u32be=k.u24be=k.u16be=ut=k.nu64=k.u48=k.u40=ge=k.u32=k.u24=Ft=k.u16=Ke=k.u8=gr=k.offset=k.greedy=k.Constant=k.UTF8=k.CString=k.Blob=k.Boolean=k.BitField=k.BitStructure=k.VariantLayout=k.Union=k.UnionLayoutDiscriminator=k.UnionDiscriminator=k.Structure=k.Sequence=k.DoubleBE=k.Double=k.FloatBE=k.Float=k.NearInt64BE=k.NearInt64=k.NearUInt64BE=k.NearUInt64=k.IntBE=k.Int=k.UIntBE=k.UInt=k.OffsetLayout=k.GreedyCount=k.ExternalLayout=k.bindConstructorLayout=k.nameWithProperty=k.Layout=k.uint8ArrayToBuffer=k.checkUint8Array=void 0;k.constant=k.utf8=k.cstr=Ve=k.blob=k.unionLayoutDiscriminator=k.union=mt=k.seq=k.bits=ue=k.struct=k.f64be=k.f64=k.f32be=k.f32=k.ns64be=k.s48be=k.s40be=k.s32be=k.s24be=k.s16be=It=k.ns64=k.s48=k.s40=k.s32=k.s24=void 0;const vs=Ce;function zr(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}k.checkUint8Array=zr;function De(n){return zr(n),vs.Buffer.from(n.buffer,n.byteOffset,n.length)}k.uint8ArrayToBuffer=De;class Ge{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}k.Layout=Ge;function _s(n,e){return e.property?n+"["+e.property+"]":n}k.nameWithProperty=_s;function za(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}k.bindConstructorLayout=za;class Et extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}}k.ExternalLayout=Et;class Uo extends Et{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){zr(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}k.GreedyCount=Uo;class Ss extends Et{constructor(e,t=0,r){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Nt||this.layout instanceof zt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}k.OffsetLayout=Ss;class Nt extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return De(e).readUIntLE(t,this.span)}encode(e,t,r=0){return De(t).writeUIntLE(e,r,this.span),this.span}}k.UInt=Nt;class zt extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return De(e).readUIntBE(t,this.span)}encode(e,t,r=0){return De(t).writeUIntBE(e,r,this.span),this.span}}k.UIntBE=zt;class yr extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return De(e).readIntLE(t,this.span)}encode(e,t,r=0){return De(t).writeIntLE(e,r,this.span),this.span}}k.Int=yr;class qr extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return De(e).readIntBE(t,this.span)}encode(e,t,r=0){return De(t).writeIntBE(e,r,this.span),this.span}}k.IntBE=qr;const ls=Math.pow(2,32);function Bn(n){const e=Math.floor(n/ls),t=n-e*ls;return{hi32:e,lo32:t}}function Rn(n,e){return n*ls+e}class Po extends Ge{constructor(e){super(8,e)}decode(e,t=0){const r=De(e),s=r.readUInt32LE(t),o=r.readUInt32LE(t+4);return Rn(o,s)}encode(e,t,r=0){const s=Bn(e),o=De(t);return o.writeUInt32LE(s.lo32,r),o.writeUInt32LE(s.hi32,r+4),8}}k.NearUInt64=Po;class Oo extends Ge{constructor(e){super(8,e)}decode(e,t=0){const r=De(e),s=r.readUInt32BE(t),o=r.readUInt32BE(t+4);return Rn(s,o)}encode(e,t,r=0){const s=Bn(e),o=De(t);return o.writeUInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}k.NearUInt64BE=Oo;class Fo extends Ge{constructor(e){super(8,e)}decode(e,t=0){const r=De(e),s=r.readUInt32LE(t),o=r.readInt32LE(t+4);return Rn(o,s)}encode(e,t,r=0){const s=Bn(e),o=De(t);return o.writeUInt32LE(s.lo32,r),o.writeInt32LE(s.hi32,r+4),8}}k.NearInt64=Fo;class No extends Ge{constructor(e){super(8,e)}decode(e,t=0){const r=De(e),s=r.readInt32BE(t),o=r.readUInt32BE(t+4);return Rn(s,o)}encode(e,t,r=0){const s=Bn(e),o=De(t);return o.writeInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}k.NearInt64BE=No;class Mo extends Ge{constructor(e){super(4,e)}decode(e,t=0){return De(e).readFloatLE(t)}encode(e,t,r=0){return De(t).writeFloatLE(e,r),4}}k.Float=Mo;class zo extends Ge{constructor(e){super(4,e)}decode(e,t=0){return De(e).readFloatBE(t)}encode(e,t,r=0){return De(t).writeFloatBE(e,r),4}}k.FloatBE=zo;class qo extends Ge{constructor(e){super(8,e)}decode(e,t=0){return De(e).readDoubleLE(t)}encode(e,t,r=0){return De(t).writeDoubleLE(e,r),8}}k.Double=qo;class Do extends Ge{constructor(e){super(8,e)}decode(e,t=0){return De(e).readDoubleBE(t)}encode(e,t,r=0){return De(t).writeDoubleBE(e,r),8}}k.DoubleBE=Do;class Ko extends Ge{constructor(e,t,r){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Et&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof Et)&&0<e.span&&(s=t*e.span),super(s,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof Et&&(s=s.decode(e,t)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let o=0;for(;o<s;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t=0){const r=[];let s=0,o=this.count;for(o instanceof Et&&(o=o.decode(e,t));s<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return r}encode(e,t,r=0){const s=this.elementLayout,o=e.reduce((a,l)=>a+s.encode(l,t,r+a),0);return this.count instanceof Et&&this.count.encode(e.length,t,r),o}}k.Sequence=Ko;class jo extends Ge{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((o,a)=>o&&a instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((o,a)=>o+a.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,o)=>{const a=o.getSpan(e,t);return t+=a,s+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){zr(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const s=r;let o=0,a=0;for(const l of this.fields){let h=l.span;if(a=0<h?h:0,l.property!==void 0){const y=e[l.property];y!==void 0&&(a=l.encode(y,t,r),0>h&&(h=l.getSpan(t,r)))}o=r,r+=h}return o+a-s}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}k.Structure=jo;class Es{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}k.UnionDiscriminator=Es;class Sn extends Es{constructor(e,t){if(!(e instanceof Et&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}k.UnionLayoutDiscriminator=Sn;class As extends Ge{constructor(e,t,r){let s;if(e instanceof Nt||e instanceof zt)s=new Sn(new Ss(e));else if(e instanceof Et&&e.isCount())s=new Sn(e);else if(e instanceof Es)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof Nt||e instanceof zt)&&(o+=s.layout.span)),super(o,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Nt||e instanceof zt,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return a(l)},this.configGetSourceVariant=function(l){a=l.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const s=this.discriminator,o=s.decode(e,t),a=this.registry[o];if(a===void 0){const l=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=s.layout.span),r=this.makeDestinationObject(),r[s.property]=o,r[l.property]=l.decode(e,t+h)}else r=a.decode(e,t);return r}encode(e,t,r=0){const s=this.getSourceVariant(e);if(s===void 0){const o=this.discriminator,a=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=o.layout.span),o.encode(e[o.property],t,r),l+a.encode(e[a.property],t,r+l)}return s.encode(e,t,r)}addVariant(e,t,r){const s=new Go(this,e,t,r);return this.registry[e]=s,s}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}}k.Union=As;class Go extends Ge{constructor(e,t,r,s){if(!(e instanceof As))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,s),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+r)),r+s}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=s;if(this.layout&&(this.layout.encode(e[this.property],t,r+s),o+=this.layout.getSpan(t,r+s),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}k.VariantLayout=Go;function Tr(n){return 0>n&&(n+=4294967296),n}class ks extends Ge{constructor(e,t,r){if(!(e instanceof Nt||e instanceof zt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(o){return s=Tr(o),this},this._packedGetValue=function(){return s}}decode(e,t=0){const r=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,t,r=0){const s=this.word.decode(t,r);this._packedSetValue(s);for(const o of this.fields)if(o.property!==void 0){const a=e[o.property];a!==void 0&&o.encode(a)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new Bs(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new Wo(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}k.BitStructure=ks;class Bs{constructor(e,t,r){if(!(e instanceof ks))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const s=8*e.span,o=e.fields.reduce((a,l)=>a+l.bits,0);if(t+o>s)throw new Error("bits too long for span remainder ("+(s-o)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=s-o-t),this.wordMask=Tr(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return Tr(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Tr(e&this.valueMask))throw new TypeError(_s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=Tr(e<<this.start);this.container._packedSetValue(Tr(t&~this.wordMask)|r)}}k.BitField=Bs;let Wo=class extends Bs{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};k.Boolean=Wo;class Ho extends Ge{constructor(e,t){if(!(e instanceof Et&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Et||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),De(e).slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof Et&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(_s("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>t.length)throw new RangeError("encoding overruns Uint8Array");const o=De(e);return De(t).write(o.toString("hex"),r,s,"hex"),this.length instanceof Et&&this.length.encode(s,t,r),s}}k.Blob=Ho;class $o extends Ge{constructor(e){super(-1,e)}getSpan(e,t=0){zr(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return De(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const s=vs.Buffer.from(e,"utf8"),o=s.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const a=De(t);return s.copy(a,r),a[r+o]=0,o+1}}k.CString=$o;class Vo extends Ge{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return zr(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return De(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const s=vs.Buffer.from(e,"utf8"),o=s.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(De(t),r),o}}k.UTF8=Vo;class Yo extends Ge{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}k.Constant=Yo;k.greedy=(n,e)=>new Uo(n,e);var gr=k.offset=(n,e,t)=>new Ss(n,e,t),Ke=k.u8=n=>new Nt(1,n),Ft=k.u16=n=>new Nt(2,n);k.u24=n=>new Nt(3,n);var ge=k.u32=n=>new Nt(4,n);k.u40=n=>new Nt(5,n);k.u48=n=>new Nt(6,n);var ut=k.nu64=n=>new Po(n);k.u16be=n=>new zt(2,n);k.u24be=n=>new zt(3,n);k.u32be=n=>new zt(4,n);k.u40be=n=>new zt(5,n);k.u48be=n=>new zt(6,n);k.nu64be=n=>new Oo(n);k.s8=n=>new yr(1,n);k.s16=n=>new yr(2,n);k.s24=n=>new yr(3,n);k.s32=n=>new yr(4,n);k.s40=n=>new yr(5,n);k.s48=n=>new yr(6,n);var It=k.ns64=n=>new Fo(n);k.s16be=n=>new qr(2,n);k.s24be=n=>new qr(3,n);k.s32be=n=>new qr(4,n);k.s40be=n=>new qr(5,n);k.s48be=n=>new qr(6,n);k.ns64be=n=>new No(n);k.f32=n=>new Mo(n);k.f32be=n=>new zo(n);k.f64=n=>new qo(n);k.f64be=n=>new Do(n);var ue=k.struct=(n,e,t)=>new jo(n,e,t);k.bits=(n,e,t)=>new ks(n,e,t);var mt=k.seq=(n,e,t)=>new Ko(n,e,t);k.union=(n,e,t)=>new As(n,e,t);k.unionLayoutDiscriminator=(n,e)=>new Sn(n,e);var Ve=k.blob=(n,e)=>new Ho(n,e);k.cstr=n=>new $o(n);k.utf8=(n,e)=>new Vo(n,e);k.constant=(n,e)=>new Yo(n,e);var nn={};Object.defineProperty(nn,"__esModule",{value:!0});function qa(n){{const e=Buffer.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Da=nn.toBigIntLE=qa;function Ka(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}nn.toBigIntBE=Ka;function ja(n,e){{const t=n.toString(16),r=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Ga=nn.toBufferLE=ja;function Wa(n,e){{const t=n.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}nn.toBufferBE=Wa;class Ha extends TypeError{constructor(e,t){let r;const{message:s,...o}=e,{path:a}=e,l=a.length===0?s:"At path: "+a.join(".")+" -- "+s;super(l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var h;return(h=r)!=null?h:r=[e,...t()]}}}function $a(n){return fr(n)&&typeof n[Symbol.iterator]=="function"}function fr(n){return typeof n=="object"&&n!=null}function qt(n){return typeof n=="string"?JSON.stringify(n):""+n}function Va(n){const{done:e,value:t}=n.next();return e?void 0:t}function Ya(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:o}=e,{type:a}=t,{refinement:l,message:h="Expected a value of type `"+a+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+qt(r)+"`"}=n;return{value:r,type:a,refinement:l,key:s[s.length-1],path:s,branch:o,...n,message:h}}function*Hs(n,e,t,r){$a(n)||(n=[n]);for(const s of n){const o=Ya(s,e,t,r);o&&(yield o)}}function*Rs(n,e,t={}){const{path:r=[],branch:s=[n],coerce:o=!1,mask:a=!1}=t,l={path:r,branch:s};if(o&&(n=e.coercer(n,l),a&&e.type!=="type"&&fr(e.schema)&&fr(n)&&!Array.isArray(n)))for(const y in n)e.schema[y]===void 0&&delete n[y];let h=!0;for(const y of e.validator(n,l))h=!1,yield[y,void 0];for(let[y,g,B]of e.entries(n,l)){const U=Rs(g,B,{path:y===void 0?r:[...r,y],branch:y===void 0?s:[...s,g],coerce:o,mask:a});for(const _ of U)_[0]?(h=!1,yield[_[0],void 0]):o&&(g=_[1],y===void 0?n=g:n instanceof Map?n.set(y,g):n instanceof Set?n.add(g):fr(n)&&(n[y]=g))}if(h)for(const y of e.refiner(n,l))h=!1,yield[y,void 0];h&&(yield[void 0,n])}let $t=class{constructor(e){const{type:t,schema:r,validator:s,refiner:o,coercer:a=h=>h,entries:l=function*(){}}=e;this.type=t,this.schema=r,this.entries=l,this.coercer=a,s?this.validator=(h,y)=>{const g=s(h,y);return Hs(g,y,this,h)}:this.validator=()=>[],o?this.refiner=(h,y)=>{const g=o(h,y);return Hs(g,y,this,h)}:this.refiner=()=>[]}assert(e){return Za(e,this)}create(e){return J(e,this)}is(e){return Zo(e,this)}mask(e){return Ja(e,this)}validate(e,t={}){return sn(e,this,t)}};function Za(n,e){const t=sn(n,e);if(t[0])throw t[0]}function J(n,e){const t=sn(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Ja(n,e){const t=sn(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function Zo(n,e){return!sn(n,e)[0]}function sn(n,e,t={}){const r=Rs(n,e,t),s=Va(r);return s[0]?[new Ha(s[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,s[1]]}function xr(n,e){return new $t({type:n,schema:null,validator:e})}function Xa(){return xr("any",()=>!0)}function ee(n){return new $t({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+qt(e)}})}function Gt(){return xr("boolean",n=>typeof n=="boolean")}function Is(n){return xr("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+qt(e))}function Xe(n){const e=qt(n),t=typeof n;return new $t({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+qt(r)}})}function Qa(){return xr("never",()=>!1)}function te(n){return new $t({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function v(){return xr("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+qt(n))}function ye(n){return new $t({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Jo(n,e){return new $t({type:"record",schema:null,*entries(t){if(fr(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return fr(t)||"Expected an object, but received: "+qt(t)}})}function V(){return xr("string",n=>typeof n=="string"||"Expected a string, but received: "+qt(n))}function Ts(n){const e=Qa();return new $t({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+qt(t)}})}function q(n){const e=Object.keys(n);return new $t({type:"type",schema:n,*entries(t){if(fr(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return fr(t)||"Expected an object, but received: "+qt(t)}})}function At(n){const e=n.map(t=>t.type).join(" | ");return new $t({type:"union",schema:null,validator(t,r){const s=[];for(const o of n){const[...a]=Rs(t,o,r),[l]=a;if(l[0])for(const[h]of a)h&&s.push(h);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+qt(t),...s]}})}function on(){return xr("unknown",()=>!0)}function an(n,e,t){return new $t({...n,coercer:(r,s)=>Zo(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}var gn,ec=new Uint8Array(16);function Xo(){if(!gn&&(gn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gn(ec)}const tc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function In(n){return typeof n=="string"&&tc.test(n)}var ft=[];for(var Kn=0;Kn<256;++Kn)ft.push((Kn+256).toString(16).substr(1));function Tn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(ft[n[e+0]]+ft[n[e+1]]+ft[n[e+2]]+ft[n[e+3]]+"-"+ft[n[e+4]]+ft[n[e+5]]+"-"+ft[n[e+6]]+ft[n[e+7]]+"-"+ft[n[e+8]]+ft[n[e+9]]+"-"+ft[n[e+10]]+ft[n[e+11]]+ft[n[e+12]]+ft[n[e+13]]+ft[n[e+14]]+ft[n[e+15]]).toLowerCase();if(!In(t))throw TypeError("Stringified UUID is invalid");return t}var $s,jn,Gn=0,Wn=0;function rc(n,e,t){var r=e&&t||0,s=e||new Array(16);n=n||{};var o=n.node||$s,a=n.clockseq!==void 0?n.clockseq:jn;if(o==null||a==null){var l=n.random||(n.rng||Xo)();o==null&&(o=$s=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),a==null&&(a=jn=(l[6]<<8|l[7])&16383)}var h=n.msecs!==void 0?n.msecs:Date.now(),y=n.nsecs!==void 0?n.nsecs:Wn+1,g=h-Gn+(y-Wn)/1e4;if(g<0&&n.clockseq===void 0&&(a=a+1&16383),(g<0||h>Gn)&&n.nsecs===void 0&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Gn=h,Wn=y,jn=a,h+=122192928e5;var B=((h&268435455)*1e4+y)%4294967296;s[r++]=B>>>24&255,s[r++]=B>>>16&255,s[r++]=B>>>8&255,s[r++]=B&255;var U=h/4294967296*1e4&268435455;s[r++]=U>>>8&255,s[r++]=U&255,s[r++]=U>>>24&15|16,s[r++]=U>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(var _=0;_<6;++_)s[r+_]=o[_];return e||Tn(s)}function Qo(n){if(!In(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function nc(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var sc="6ba7b810-9dad-11d1-80b4-00c04fd430c8",oc="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ei(n,e,t){function r(s,o,a,l){if(typeof s=="string"&&(s=nc(s)),typeof o=="string"&&(o=Qo(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+s.length);if(h.set(o),h.set(s,o.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){l=l||0;for(var y=0;y<16;++y)a[l+y]=h[y];return a}return Tn(h)}try{r.name=n}catch{}return r.DNS=sc,r.URL=oc,r}function ic(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return ac(cc(fc(n),n.length*8))}function ac(n){for(var e=[],t=n.length*32,r="0123456789abcdef",s=0;s<t;s+=8){var o=n[s>>5]>>>s%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(a)}return e}function ti(n){return(n+64>>>9<<4)+14+1}function cc(n,e){n[e>>5]|=128<<e%32,n[ti(e)-1]=e;for(var t=1732584193,r=-271733879,s=-1732584194,o=271733878,a=0;a<n.length;a+=16){var l=t,h=r,y=s,g=o;t=yt(t,r,s,o,n[a],7,-680876936),o=yt(o,t,r,s,n[a+1],12,-389564586),s=yt(s,o,t,r,n[a+2],17,606105819),r=yt(r,s,o,t,n[a+3],22,-1044525330),t=yt(t,r,s,o,n[a+4],7,-176418897),o=yt(o,t,r,s,n[a+5],12,1200080426),s=yt(s,o,t,r,n[a+6],17,-1473231341),r=yt(r,s,o,t,n[a+7],22,-45705983),t=yt(t,r,s,o,n[a+8],7,1770035416),o=yt(o,t,r,s,n[a+9],12,-1958414417),s=yt(s,o,t,r,n[a+10],17,-42063),r=yt(r,s,o,t,n[a+11],22,-1990404162),t=yt(t,r,s,o,n[a+12],7,1804603682),o=yt(o,t,r,s,n[a+13],12,-40341101),s=yt(s,o,t,r,n[a+14],17,-1502002290),r=yt(r,s,o,t,n[a+15],22,1236535329),t=xt(t,r,s,o,n[a+1],5,-165796510),o=xt(o,t,r,s,n[a+6],9,-1069501632),s=xt(s,o,t,r,n[a+11],14,643717713),r=xt(r,s,o,t,n[a],20,-373897302),t=xt(t,r,s,o,n[a+5],5,-701558691),o=xt(o,t,r,s,n[a+10],9,38016083),s=xt(s,o,t,r,n[a+15],14,-660478335),r=xt(r,s,o,t,n[a+4],20,-405537848),t=xt(t,r,s,o,n[a+9],5,568446438),o=xt(o,t,r,s,n[a+14],9,-1019803690),s=xt(s,o,t,r,n[a+3],14,-187363961),r=xt(r,s,o,t,n[a+8],20,1163531501),t=xt(t,r,s,o,n[a+13],5,-1444681467),o=xt(o,t,r,s,n[a+2],9,-51403784),s=xt(s,o,t,r,n[a+7],14,1735328473),r=xt(r,s,o,t,n[a+12],20,-1926607734),t=bt(t,r,s,o,n[a+5],4,-378558),o=bt(o,t,r,s,n[a+8],11,-2022574463),s=bt(s,o,t,r,n[a+11],16,1839030562),r=bt(r,s,o,t,n[a+14],23,-35309556),t=bt(t,r,s,o,n[a+1],4,-1530992060),o=bt(o,t,r,s,n[a+4],11,1272893353),s=bt(s,o,t,r,n[a+7],16,-155497632),r=bt(r,s,o,t,n[a+10],23,-1094730640),t=bt(t,r,s,o,n[a+13],4,681279174),o=bt(o,t,r,s,n[a],11,-358537222),s=bt(s,o,t,r,n[a+3],16,-722521979),r=bt(r,s,o,t,n[a+6],23,76029189),t=bt(t,r,s,o,n[a+9],4,-640364487),o=bt(o,t,r,s,n[a+12],11,-421815835),s=bt(s,o,t,r,n[a+15],16,530742520),r=bt(r,s,o,t,n[a+2],23,-995338651),t=wt(t,r,s,o,n[a],6,-198630844),o=wt(o,t,r,s,n[a+7],10,1126891415),s=wt(s,o,t,r,n[a+14],15,-1416354905),r=wt(r,s,o,t,n[a+5],21,-57434055),t=wt(t,r,s,o,n[a+12],6,1700485571),o=wt(o,t,r,s,n[a+3],10,-1894986606),s=wt(s,o,t,r,n[a+10],15,-1051523),r=wt(r,s,o,t,n[a+1],21,-2054922799),t=wt(t,r,s,o,n[a+8],6,1873313359),o=wt(o,t,r,s,n[a+15],10,-30611744),s=wt(s,o,t,r,n[a+6],15,-1560198380),r=wt(r,s,o,t,n[a+13],21,1309151649),t=wt(t,r,s,o,n[a+4],6,-145523070),o=wt(o,t,r,s,n[a+11],10,-1120210379),s=wt(s,o,t,r,n[a+2],15,718787259),r=wt(r,s,o,t,n[a+9],21,-343485551),t=cr(t,l),r=cr(r,h),s=cr(s,y),o=cr(o,g)}return[t,r,s,o]}function fc(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(ti(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function cr(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function uc(n,e){return n<<e|n>>>32-e}function Ln(n,e,t,r,s,o){return cr(uc(cr(cr(e,n),cr(r,o)),s),t)}function yt(n,e,t,r,s,o,a){return Ln(e&t|~e&r,n,e,s,o,a)}function xt(n,e,t,r,s,o,a){return Ln(e&r|t&~r,n,e,s,o,a)}function bt(n,e,t,r,s,o,a){return Ln(e^t^r,n,e,s,o,a)}function wt(n,e,t,r,s,o,a){return Ln(t^(e|~r),n,e,s,o,a)}var lc=ei("v3",48,ic);const hc=lc;function dc(n,e,t){n=n||{};var r=n.random||(n.rng||Xo)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return Tn(r)}function pc(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function Hn(n,e){return n<<e|n>>>32-e}function gc(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var o=n.length/4+2,a=Math.ceil(o/16),l=new Array(a),h=0;h<a;++h){for(var y=new Uint32Array(16),g=0;g<16;++g)y[g]=n[h*64+g*4]<<24|n[h*64+g*4+1]<<16|n[h*64+g*4+2]<<8|n[h*64+g*4+3];l[h]=y}l[a-1][14]=(n.length-1)*8/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=(n.length-1)*8&4294967295;for(var B=0;B<a;++B){for(var U=new Uint32Array(80),_=0;_<16;++_)U[_]=l[B][_];for(var E=16;E<80;++E)U[E]=Hn(U[E-3]^U[E-8]^U[E-14]^U[E-16],1);for(var A=t[0],b=t[1],M=t[2],N=t[3],w=t[4],Y=0;Y<80;++Y){var L=Math.floor(Y/20),j=Hn(A,5)+pc(L,b,M,N)+w+e[L]+U[Y]>>>0;w=N,N=M,M=Hn(b,30)>>>0,b=A,A=j}t[0]=t[0]+A>>>0,t[1]=t[1]+b>>>0,t[2]=t[2]+M>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+w>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var yc=ei("v5",80,gc);const xc=yc,bc="00000000-0000-0000-0000-000000000000";function wc(n){if(!In(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const mc=Object.freeze(Object.defineProperty({__proto__:null,NIL:bc,parse:Qo,stringify:Tn,v1:rc,v3:hc,v4:dc,v5:xc,validate:In,version:wc},Symbol.toStringTag,{value:"Module"})),ri=mo(mc),vc=ri.v4,_c=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const o={method:n};if(s===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof t>"u"){const a=typeof r.generator=="function"?r.generator:function(){return vc()};o.id=a(o,r)}else s===2&&t===null?r.notificationIdNull&&(o.id=null):o.id=t;return o};var Sc=_c;const Ec=ri.v4,Ac=Sc,Qr=function(n,e){if(!(this instanceof Qr))return new Qr(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Ec()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var kc=Qr;Qr.prototype.request=function(n,e,t,r){const s=this;let o=null;const a=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&n&&typeof n=="object"&&typeof e=="function")r=e,o=n;else{typeof t=="function"&&(r=t,t=void 0);const y=typeof r=="function";try{o=Ac(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(y)return r(g);throw g}if(!y)return o}let h;try{h=JSON.stringify(o,this.options.replacer)}catch(y){return r(y)}return this.callServer(h,function(y,g){s._parseResponse(y,g,r)}),o};Qr.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(a){return typeof a.error<"u"},o=function(a){return!s(a)};return t(null,r.filter(s),r.filter(o))}else return t(null,r.error,r.result);t(null,r)};const Bc=Nr(kc);var ni={},si={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(si);var oi=si.exports,$n={exports:{}},Vn={exports:{}},Vs;function cn(){return Vs||(Vs=1,function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Vn)),Vn.exports}var Ys;function Rc(){return Ys||(Ys=1,function(n){var e=cn().default;function t(){n.exports=t=function(){return s},n.exports.__esModule=!0,n.exports.default=n.exports;var r,s={},o=Object.prototype,a=o.hasOwnProperty,l=Object.defineProperty||function(S,R,C){S[R]=C.value},h=typeof Symbol=="function"?Symbol:{},y=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",B=h.toStringTag||"@@toStringTag";function U(S,R,C){return Object.defineProperty(S,R,{value:C,enumerable:!0,configurable:!0,writable:!0}),S[R]}try{U({},"")}catch{U=function(C,$,H){return C[$]=H}}function _(S,R,C,$){var H=R&&R.prototype instanceof Y?R:Y,G=Object.create(H.prototype),Z=new er($||[]);return l(G,"_invoke",{value:vt(S,C,Z)}),G}function E(S,R,C){try{return{type:"normal",arg:S.call(R,C)}}catch($){return{type:"throw",arg:$}}}s.wrap=_;var A="suspendedStart",b="suspendedYield",M="executing",N="completed",w={};function Y(){}function L(){}function j(){}var W={};U(W,y,function(){return this});var se=Object.getPrototypeOf,Oe=se&&se(se(ae([])));Oe&&Oe!==o&&a.call(Oe,y)&&(W=Oe);var $e=j.prototype=Y.prototype=Object.create(W);function nt(S){["next","throw","return"].forEach(function(R){U(S,R,function(C){return this._invoke(R,C)})})}function ot(S,R){function C(H,G,Z,he){var Be=E(S[H],S,G);if(Be.type!=="throw"){var He=Be.arg,We=He.value;return We&&e(We)=="object"&&a.call(We,"__await")?R.resolve(We.__await).then(function(Je){C("next",Je,Z,he)},function(Je){C("throw",Je,Z,he)}):R.resolve(We).then(function(Je){He.value=Je,Z(He)},function(Je){return C("throw",Je,Z,he)})}he(Be.arg)}var $;l(this,"_invoke",{value:function(G,Z){function he(){return new R(function(Be,He){C(G,Z,Be,He)})}return $=$?$.then(he,he):he()}})}function vt(S,R,C){var $=A;return function(H,G){if($===M)throw new Error("Generator is already running");if($===N){if(H==="throw")throw G;return{value:r,done:!0}}for(C.method=H,C.arg=G;;){var Z=C.delegate;if(Z){var he=Ut(Z,C);if(he){if(he===w)continue;return he}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if($===A)throw $=N,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);$=M;var Be=E(S,R,C);if(Be.type==="normal"){if($=C.done?N:b,Be.arg===w)continue;return{value:Be.arg,done:C.done}}Be.type==="throw"&&($=N,C.method="throw",C.arg=Be.arg)}}}function Ut(S,R){var C=R.method,$=S.iterator[C];if($===r)return R.delegate=null,C==="throw"&&S.iterator.return&&(R.method="return",R.arg=r,Ut(S,R),R.method==="throw")||C!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+C+"' method")),w;var H=E($,S.iterator,R.arg);if(H.type==="throw")return R.method="throw",R.arg=H.arg,R.delegate=null,w;var G=H.arg;return G?G.done?(R[S.resultName]=G.value,R.next=S.nextLoc,R.method!=="return"&&(R.method="next",R.arg=r),R.delegate=null,w):G:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,w)}function Pt(S){var R={tryLoc:S[0]};1 in S&&(R.catchLoc=S[1]),2 in S&&(R.finallyLoc=S[2],R.afterLoc=S[3]),this.tryEntries.push(R)}function _t(S){var R=S.completion||{};R.type="normal",delete R.arg,S.completion=R}function er(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(Pt,this),this.reset(!0)}function ae(S){if(S||S===""){var R=S[y];if(R)return R.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var C=-1,$=function H(){for(;++C<S.length;)if(a.call(S,C))return H.value=S[C],H.done=!1,H;return H.value=r,H.done=!0,H};return $.next=$}}throw new TypeError(e(S)+" is not iterable")}return L.prototype=j,l($e,"constructor",{value:j,configurable:!0}),l(j,"constructor",{value:L,configurable:!0}),L.displayName=U(j,B,"GeneratorFunction"),s.isGeneratorFunction=function(S){var R=typeof S=="function"&&S.constructor;return!!R&&(R===L||(R.displayName||R.name)==="GeneratorFunction")},s.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,j):(S.__proto__=j,U(S,B,"GeneratorFunction")),S.prototype=Object.create($e),S},s.awrap=function(S){return{__await:S}},nt(ot.prototype),U(ot.prototype,g,function(){return this}),s.AsyncIterator=ot,s.async=function(S,R,C,$,H){H===void 0&&(H=Promise);var G=new ot(_(S,R,C,$),H);return s.isGeneratorFunction(R)?G:G.next().then(function(Z){return Z.done?Z.value:G.next()})},nt($e),U($e,B,"Generator"),U($e,y,function(){return this}),U($e,"toString",function(){return"[object Generator]"}),s.keys=function(S){var R=Object(S),C=[];for(var $ in R)C.push($);return C.reverse(),function H(){for(;C.length;){var G=C.pop();if(G in R)return H.value=G,H.done=!1,H}return H.done=!0,H}},s.values=ae,er.prototype={constructor:er,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_t),!R)for(var C in this)C.charAt(0)==="t"&&a.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=r)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var C=this;function $(He,We){return Z.type="throw",Z.arg=R,C.next=He,We&&(C.method="next",C.arg=r),!!We}for(var H=this.tryEntries.length-1;H>=0;--H){var G=this.tryEntries[H],Z=G.completion;if(G.tryLoc==="root")return $("end");if(G.tryLoc<=this.prev){var he=a.call(G,"catchLoc"),Be=a.call(G,"finallyLoc");if(he&&Be){if(this.prev<G.catchLoc)return $(G.catchLoc,!0);if(this.prev<G.finallyLoc)return $(G.finallyLoc)}else if(he){if(this.prev<G.catchLoc)return $(G.catchLoc,!0)}else{if(!Be)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return $(G.finallyLoc)}}}},abrupt:function(R,C){for(var $=this.tryEntries.length-1;$>=0;--$){var H=this.tryEntries[$];if(H.tryLoc<=this.prev&&a.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var G=H;break}}G&&(R==="break"||R==="continue")&&G.tryLoc<=C&&C<=G.finallyLoc&&(G=null);var Z=G?G.completion:{};return Z.type=R,Z.arg=C,G?(this.method="next",this.next=G.finallyLoc,w):this.complete(Z)},complete:function(R,C){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&C&&(this.next=C),w},finish:function(R){for(var C=this.tryEntries.length-1;C>=0;--C){var $=this.tryEntries[C];if($.finallyLoc===R)return this.complete($.completion,$.afterLoc),_t($),w}},catch:function(R){for(var C=this.tryEntries.length-1;C>=0;--C){var $=this.tryEntries[C];if($.tryLoc===R){var H=$.completion;if(H.type==="throw"){var G=H.arg;_t($)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(R,C,$){return this.delegate={iterator:ae(R),resultName:C,nextLoc:$},this.method==="next"&&(this.arg=r),w}},s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}($n)),$n.exports}var Yn,Zs;function Ic(){if(Zs)return Yn;Zs=1;var n=Rc()();Yn=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}return Yn}var Zn={exports:{}},Js;function Tc(){return Js||(Js=1,function(n){function e(r,s,o,a,l,h,y){try{var g=r[h](y),B=g.value}catch(U){o(U);return}g.done?s(B):Promise.resolve(B).then(a,l)}function t(r){return function(){var s=this,o=arguments;return new Promise(function(a,l){var h=r.apply(s,o);function y(B){e(h,a,l,y,g,"next",B)}function g(B){e(h,a,l,y,g,"throw",B)}y(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(Zn)),Zn.exports}var Jn={exports:{}},Xs;function ii(){return Xs||(Xs=1,function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(Jn)),Jn.exports}var Xn={exports:{}},Qn={exports:{}},es={exports:{}},Qs;function Lc(){return Qs||(Qs=1,function(n){var e=cn().default;function t(r,s){if(e(r)!=="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var a=o.call(r,s||"default");if(e(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(es)),es.exports}var eo;function Cc(){return eo||(eo=1,function(n){var e=cn().default,t=Lc();function r(s){var o=t(s,"string");return e(o)==="symbol"?o:String(o)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Qn)),Qn.exports}var to;function ai(){return to||(to=1,function(n){var e=Cc();function t(s,o){for(var a=0;a<o.length;a++){var l=o[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,e(l.key),l)}}function r(s,o,a){return o&&t(s.prototype,o),a&&t(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(Xn)),Xn.exports}var ts={exports:{}},rs={exports:{}},ro;function Uc(){return ro||(ro=1,function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(rs)),rs.exports}var no;function ci(){return no||(no=1,function(n){var e=Uc();function t(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&e(r,s)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(ts)),ts.exports}var ns={exports:{}},ss={exports:{}},so;function Pc(){return so||(so=1,function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(ss)),ss.exports}var oo;function fi(){return oo||(oo=1,function(n){var e=cn().default,t=Pc();function r(s,o){if(o&&(e(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports}(ns)),ns.exports}var os={exports:{}},io;function ui(){return io||(io=1,function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(os)),os.exports}var is={exports:{}},ao;function li(){return ao||(ao=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(h,y,g){this.fn=h,this.context=y,this.once=g||!1}function o(h,y,g,B,U){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new s(g,B||h,U),E=t?t+y:y;return h._events[E]?h._events[E].fn?h._events[E]=[h._events[E],_]:h._events[E].push(_):(h._events[E]=_,h._eventsCount++),h}function a(h,y){--h._eventsCount===0?h._events=new r:delete h._events[y]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var y=[],g,B;if(this._eventsCount===0)return y;for(B in g=this._events)e.call(g,B)&&y.push(t?B.slice(1):B);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},l.prototype.listeners=function(y){var g=t?t+y:y,B=this._events[g];if(!B)return[];if(B.fn)return[B.fn];for(var U=0,_=B.length,E=new Array(_);U<_;U++)E[U]=B[U].fn;return E},l.prototype.listenerCount=function(y){var g=t?t+y:y,B=this._events[g];return B?B.fn?1:B.length:0},l.prototype.emit=function(y,g,B,U,_,E){var A=t?t+y:y;if(!this._events[A])return!1;var b=this._events[A],M=arguments.length,N,w;if(b.fn){switch(b.once&&this.removeListener(y,b.fn,void 0,!0),M){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,g),!0;case 3:return b.fn.call(b.context,g,B),!0;case 4:return b.fn.call(b.context,g,B,U),!0;case 5:return b.fn.call(b.context,g,B,U,_),!0;case 6:return b.fn.call(b.context,g,B,U,_,E),!0}for(w=1,N=new Array(M-1);w<M;w++)N[w-1]=arguments[w];b.fn.apply(b.context,N)}else{var Y=b.length,L;for(w=0;w<Y;w++)switch(b[w].once&&this.removeListener(y,b[w].fn,void 0,!0),M){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,g);break;case 3:b[w].fn.call(b[w].context,g,B);break;case 4:b[w].fn.call(b[w].context,g,B,U);break;default:if(!N)for(L=1,N=new Array(M-1);L<M;L++)N[L-1]=arguments[L];b[w].fn.apply(b[w].context,N)}}return!0},l.prototype.on=function(y,g,B){return o(this,y,g,B,!1)},l.prototype.once=function(y,g,B){return o(this,y,g,B,!0)},l.prototype.removeListener=function(y,g,B,U){var _=t?t+y:y;if(!this._events[_])return this;if(!g)return a(this,_),this;var E=this._events[_];if(E.fn)E.fn===g&&(!U||E.once)&&(!B||E.context===B)&&a(this,_);else{for(var A=0,b=[],M=E.length;A<M;A++)(E[A].fn!==g||U&&!E[A].once||B&&E[A].context!==B)&&b.push(E[A]);b.length?this._events[_]=b.length===1?b[0]:b:a(this,_)}return this},l.prototype.removeAllListeners=function(y){var g;return y?(g=t?t+y:y,this._events[g]&&a(this,g)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l}(is)),is.exports}(function(n){var e=oi;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(Ic()),r=e(Tc()),s=e(cn()),o=e(ii()),a=e(ai()),l=e(ci()),h=e(fi()),y=e(ui()),g=li();function B(A){var b=U();return function(){var N=(0,y.default)(A),w;if(b){var Y=(0,y.default)(this).constructor;w=Reflect.construct(N,arguments,Y)}else w=N.apply(this,arguments);return(0,h.default)(this,w)}}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(A,b){var M={};for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&b.indexOf(N)<0&&(M[N]=A[N]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,N=Object.getOwnPropertySymbols(A);w<N.length;w++)b.indexOf(N[w])<0&&Object.prototype.propertyIsEnumerable.call(A,N[w])&&(M[N[w]]=A[N[w]]);return M},E=function(A){(0,l.default)(M,A);var b=B(M);function M(N){var w,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3?arguments[3]:void 0;(0,o.default)(this,M);var W=L.autoconnect,se=W===void 0?!0:W,Oe=L.reconnect,$e=Oe===void 0?!0:Oe,nt=L.reconnect_interval,ot=nt===void 0?1e3:nt,vt=L.max_reconnects,Ut=vt===void 0?5:vt,Pt=_(L,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return w=b.call(this),w.webSocketFactory=N,w.queue={},w.rpc_id=0,w.address=Y,w.autoconnect=se,w.ready=!1,w.reconnect=$e,w.reconnect_timer_id=void 0,w.reconnect_interval=ot,w.max_reconnects=Ut,w.rest_options=Pt,w.current_reconnects=0,w.generate_request_id=j||function(){return++w.rpc_id},w.autoconnect&&w._connect(w.address,Object.assign({autoconnect:w.autoconnect,reconnect:w.reconnect,reconnect_interval:w.reconnect_interval,max_reconnects:w.max_reconnects},w.rest_options)),w}return(0,a.default)(M,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(w,Y,L,j){var W=this;return!j&&(0,s.default)(L)==="object"&&(j=L,L=null),new Promise(function(se,Oe){if(!W.ready)return Oe(new Error("socket not ready"));var $e=W.generate_request_id(w,Y),nt={jsonrpc:"2.0",method:w,params:Y||null,id:$e};W.socket.send(JSON.stringify(nt),j,function(ot){if(ot)return Oe(ot);W.queue[$e]={promise:[se,Oe]},L&&(W.queue[$e].timeout=setTimeout(function(){delete W.queue[$e],Oe(new Error("reply timeout"))},L))})})}},{key:"login",value:function(){var N=(0,r.default)(t.default.mark(function Y(L){var j;return t.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,this.call("rpc.login",L);case 2:if(j=se.sent,j){se.next=5;break}throw new Error("authentication failed");case 5:return se.abrupt("return",j);case 6:case"end":return se.stop()}},Y,this)}));function w(Y){return N.apply(this,arguments)}return w}()},{key:"listMethods",value:function(){var N=(0,r.default)(t.default.mark(function Y(){return t.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,this.call("__listMethods");case 2:return j.abrupt("return",j.sent);case 3:case"end":return j.stop()}},Y,this)}));function w(){return N.apply(this,arguments)}return w}()},{key:"notify",value:function(w,Y){var L=this;return new Promise(function(j,W){if(!L.ready)return W(new Error("socket not ready"));var se={jsonrpc:"2.0",method:w,params:Y||null};L.socket.send(JSON.stringify(se),function(Oe){if(Oe)return W(Oe);j()})})}},{key:"subscribe",value:function(){var N=(0,r.default)(t.default.mark(function Y(L){var j;return t.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return typeof L=="string"&&(L=[L]),se.next=3,this.call("rpc.on",L);case 3:if(j=se.sent,!(typeof L=="string"&&j[L]!=="ok")){se.next=6;break}throw new Error("Failed subscribing to an event '"+L+"' with: "+j[L]);case 6:return se.abrupt("return",j);case 7:case"end":return se.stop()}},Y,this)}));function w(Y){return N.apply(this,arguments)}return w}()},{key:"unsubscribe",value:function(){var N=(0,r.default)(t.default.mark(function Y(L){var j;return t.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return typeof L=="string"&&(L=[L]),se.next=3,this.call("rpc.off",L);case 3:if(j=se.sent,!(typeof L=="string"&&j[L]!=="ok")){se.next=6;break}throw new Error("Failed unsubscribing from an event with: "+j);case 6:return se.abrupt("return",j);case 7:case"end":return se.stop()}},Y,this)}));function w(Y){return N.apply(this,arguments)}return w}()},{key:"close",value:function(w,Y){this.socket.close(w||1e3,Y)}},{key:"_connect",value:function(w,Y){var L=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(w,Y),this.socket.addEventListener("open",function(){L.ready=!0,L.emit("open"),L.current_reconnects=0}),this.socket.addEventListener("message",function(j){var W=j.data;W instanceof ArrayBuffer&&(W=Buffer.from(W).toString());try{W=JSON.parse(W)}catch{return}if(W.notification&&L.listeners(W.notification).length){if(!Object.keys(W.params).length)return L.emit(W.notification);var se=[W.notification];if(W.params.constructor===Object)se.push(W.params);else for(var Oe=0;Oe<W.params.length;Oe++)se.push(W.params[Oe]);return Promise.resolve().then(function(){L.emit.apply(L,se)})}if(!L.queue[W.id])return W.method&&W.params?Promise.resolve().then(function(){L.emit(W.method,W.params)}):void 0;"error"in W=="result"in W&&L.queue[W.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),L.queue[W.id].timeout&&clearTimeout(L.queue[W.id].timeout),W.error?L.queue[W.id].promise[1](W.error):L.queue[W.id].promise[0](W.result),delete L.queue[W.id]}),this.socket.addEventListener("error",function(j){return L.emit("error",j)}),this.socket.addEventListener("close",function(j){var W=j.code,se=j.reason;L.ready&&setTimeout(function(){return L.emit("close",W,se)},0),L.ready=!1,L.socket=void 0,W!==1e3&&(L.current_reconnects++,L.reconnect&&(L.max_reconnects>L.current_reconnects||L.max_reconnects===0)&&(L.reconnect_timer_id=setTimeout(function(){return L._connect(w,Y)},L.reconnect_interval)))})}}]),M}(g.EventEmitter);n.default=E})(ni);const Oc=Nr(ni);var hi={};(function(n){var e=oi;Object.defineProperty(n,"__esModule",{value:!0}),n.default=B;var t=e(ii()),r=e(ai()),s=e(ci()),o=e(fi()),a=e(ui()),l=li();function h(U){var _=y();return function(){var A=(0,a.default)(U),b;if(_){var M=(0,a.default)(this).constructor;b=Reflect.construct(A,arguments,M)}else b=A.apply(this,arguments);return(0,o.default)(this,b)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var g=function(U){(0,s.default)(E,U);var _=h(E);function E(A,b,M){var N;return(0,t.default)(this,E),N=_.call(this),N.socket=new window.WebSocket(A,M),N.socket.onopen=function(){return N.emit("open")},N.socket.onmessage=function(w){return N.emit("message",w.data)},N.socket.onerror=function(w){return N.emit("error",w)},N.socket.onclose=function(w){N.emit("close",w.code,w.reason)},N}return(0,r.default)(E,[{key:"send",value:function(b,M,N){var w=N||M;try{this.socket.send(b),w()}catch(Y){w(Y)}}},{key:"close",value:function(b,M){this.socket.close(b,M)}},{key:"addEventListener",value:function(b,M,N){this.socket.addEventListener(b,M,N)}}]),E}(l.EventEmitter);function B(U,_){return new g(U,_)}})(hi);const Fc=Nr(hi);Mr.utils.randomPrivateKey;const co=()=>{const n=Mr.utils.randomPrivateKey(),e=hs(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},hs=Mr.getPublicKey;function fo(n){try{return Mr.ExtendedPoint.fromHex(n),!0}catch{return!1}}const di=(n,e)=>Mr.sign(n,e.slice(0,32)),Nc=Mr.verify,Or=n=>Ce.Buffer.isBuffer(n)?n:n instanceof Uint8Array?Ce.Buffer.from(n.buffer,n.byteOffset,n.byteLength):Ce.Buffer.from(n);class Mc{constructor(e){Object.assign(this,e)}encode(){return Ce.Buffer.from(Lo(xn,this))}static decode(e){return Co(xn,this,e)}static decodeUnchecked(e){return ko(xn,this,e)}}const xn=new Map;var pi;let gi;const zc=32,Kt=32;function qc(n){return n._bn!==void 0}let uo=1;gi=Symbol.toStringTag;class xe extends Mc{constructor(e){if(super({}),this._bn=void 0,qc(e))this._bn=e._bn;else{if(typeof e=="string"){const t=ht.decode(e);if(t.length!=Kt)throw new Error("Invalid public key input");this._bn=new Ks(t)}else this._bn=new Ks(e);if(this._bn.byteLength()>Kt)throw new Error("Invalid public key input")}}static unique(){const e=new xe(uo);return uo+=1,new xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ht.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ce.Buffer);if(e.length===Kt)return e;const t=Ce.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[gi](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=Ce.Buffer.concat([e.toBuffer(),Ce.Buffer.from(t),r.toBuffer()]),o=Ds(s);return new xe(o)}static createProgramAddressSync(e,t){let r=Ce.Buffer.alloc(0);e.forEach(function(o){if(o.length>zc)throw new TypeError("Max seed length exceeded");r=Ce.Buffer.concat([r,Or(o)])}),r=Ce.Buffer.concat([r,t.toBuffer(),Ce.Buffer.from("ProgramDerivedAddress")]);const s=Ds(r);if(fo(s))throw new Error("Invalid seeds, address must fall off the curve");return new xe(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const o=e.concat(Ce.Buffer.from([r]));s=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new xe(e);return fo(t.toBytes())}}pi=xe;xe.default=new pi("11111111111111111111111111111111");xn.set(xe,{kind:"struct",fields:[["_bn","u256"]]});new xe("BPFLoader1111111111111111111111111111111111");const Ur=1280-40-8,Ls=127,en=64;class yi extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(yi.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class xi extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xi.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Jr extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Jr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class En{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,a)=>{r.set(o.toBase58(),a)});const s=o=>{const a=r.get(o.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(a=>s(a.pubkey)),data:o.data}))}}const Pe=(n="publicKey")=>Ve(32,n),Dc=(n="signature")=>Ve(64,n),Cr=(n="string")=>{const e=ue([ge("length"),ge("lengthPadding"),Ve(gr(ge(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(o,a)=>t(o,a).chars.toString(),s.encode=(o,a,l)=>{const h={chars:Ce.Buffer.from(o,"utf8")};return r(h,a,l)},s.alloc=o=>ge().span+ge().span+Ce.Buffer.from(o,"utf8").length,s},Kc=(n="authorized")=>ue([Pe("staker"),Pe("withdrawer")],n),jc=(n="lockup")=>ue([It("unixTimestamp"),It("epoch"),Pe("custodian")],n),Gc=(n="voteInit")=>ue([Pe("nodePubkey"),Pe("authorizedVoter"),Pe("authorizedWithdrawer"),Ke("commission")],n),Wc=(n="voteAuthorizeWithSeedArgs")=>ue([ge("voteAuthorizationType"),Pe("currentAuthorityDerivedKeyOwnerPubkey"),Cr("currentAuthorityDerivedKeySeed"),Pe("newAuthorized")],n);function Tt(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function Lt(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Ze(n,e){if(!n)throw new Error(e||"Assertion failed")}class Cn{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=a=>{const l=a.toBase58();let h=r.get(l);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(l,h)),h},o=s(t);o.isSigner=!0,o.isWritable=!0;for(const a of e){s(a.programId).isInvoked=!0;for(const l of a.keys){const h=s(l.pubkey);h.isSigner||(h.isSigner=l.isSigner),h.isWritable||(h.isWritable=l.isWritable)}}return new Cn(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ze(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),r=e.filter(([,h])=>h.isSigner&&!h.isWritable),s=e.filter(([,h])=>!h.isSigner&&h.isWritable),o=e.filter(([,h])=>!h.isSigner&&!h.isWritable),a={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Ze(t.length>0,"Expected at least one writable signer key");const[h]=t[0];Ze(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const l=[...t.map(([h])=>new xe(h)),...r.map(([h])=>new xe(h)),...s.map(([h])=>new xe(h)),...o.map(([h])=>new xe(h))];return[a,l]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[s,o]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[o,a]of this.keyMetaMap.entries())if(t(a)){const l=new xe(o),h=e.findIndex(y=>y.equals(l));h>=0&&(Ze(h<256,"Max lookup table index exceeded"),r.push(h),s.push(l),this.keyMetaMap.delete(o))}return[r,s]}}class Qt{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new xe(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ht.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new En(this.staticAccountKeys)}static compile(e){const t=Cn.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),a=new En(s).compileInstructions(e.instructions).map(l=>({programIdIndex:l.programIdIndex,accounts:l.accountKeyIndexes,data:ht.encode(l.data)}));return new Qt({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Lt(t,e);const r=this.instructions.map(B=>{const{accounts:U,programIdIndex:_}=B,E=Array.from(ht.decode(B.data));let A=[];Lt(A,U.length);let b=[];return Lt(b,E.length),{programIdIndex:_,keyIndicesCount:Ce.Buffer.from(A),keyIndices:U,dataLength:Ce.Buffer.from(b),data:E}});let s=[];Lt(s,r.length);let o=Ce.Buffer.alloc(Ur);Ce.Buffer.from(s).copy(o);let a=s.length;r.forEach(B=>{const _=ue([Ke("programIdIndex"),Ve(B.keyIndicesCount.length,"keyIndicesCount"),mt(Ke("keyIndex"),B.keyIndices.length,"keyIndices"),Ve(B.dataLength.length,"dataLength"),mt(Ke("userdatum"),B.data.length,"data")]).encode(B,o,a);a+=_}),o=o.slice(0,a);const l=ue([Ve(1,"numRequiredSignatures"),Ve(1,"numReadonlySignedAccounts"),Ve(1,"numReadonlyUnsignedAccounts"),Ve(t.length,"keyCount"),mt(Pe("key"),e,"keys"),Pe("recentBlockhash")]),h={numRequiredSignatures:Ce.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ce.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ce.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ce.Buffer.from(t),keys:this.accountKeys.map(B=>Or(B.toBytes())),recentBlockhash:ht.decode(this.recentBlockhash)};let y=Ce.Buffer.alloc(2048);const g=l.encode(h,y);return o.copy(y,g),y.slice(0,g+o.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&Ls))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),o=t.shift(),a=Tt(t);let l=[];for(let U=0;U<a;U++){const _=t.slice(0,Kt);t=t.slice(Kt),l.push(new xe(Ce.Buffer.from(_)))}const h=t.slice(0,Kt);t=t.slice(Kt);const y=Tt(t);let g=[];for(let U=0;U<y;U++){const _=t.shift(),E=Tt(t),A=t.slice(0,E);t=t.slice(E);const b=Tt(t),M=t.slice(0,b),N=ht.encode(Ce.Buffer.from(M));t=t.slice(b),g.push({programIdIndex:_,accounts:A,data:N})}const B={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:ht.encode(Ce.Buffer.from(h)),accountKeys:l,instructions:g};return new Qt(B)}}class tn{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new En(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,o=this.addressTableLookups.reduce((a,l)=>a+l.writableIndexes.length,0);return s<o}else if(e>=this.header.numRequiredSignatures){const s=e-t,a=r-t-this.header.numReadonlyUnsignedAccounts;return s<a}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(o=>o.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<s.state.addresses.length)t.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<s.state.addresses.length)t.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Cn.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const g of o){const B=t.extractTableLookup(g);if(B!==void 0){const[U,{writable:_,readonly:E}]=B;r.push(U),s.writable.push(..._),s.readonly.push(...E)}}const[a,l]=t.getMessageComponents(),y=new En(l,s).compileInstructions(e.instructions);return new tn({header:a,staticAccountKeys:l,recentBlockhash:e.recentBlockhash,compiledInstructions:y,addressTableLookups:r})}serialize(){const e=Array();Lt(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Lt(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();Lt(o,this.addressTableLookups.length);const a=ue([Ke("prefix"),ue([Ke("numRequiredSignatures"),Ke("numReadonlySignedAccounts"),Ke("numReadonlyUnsignedAccounts")],"header"),Ve(e.length,"staticAccountKeysLength"),mt(Pe(),this.staticAccountKeys.length,"staticAccountKeys"),Pe("recentBlockhash"),Ve(r.length,"instructionsLength"),Ve(t.length,"serializedInstructions"),Ve(o.length,"addressTableLookupsLength"),Ve(s.length,"serializedAddressTableLookups")]),l=new Uint8Array(Ur),h=128,y=a.encode({prefix:h,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:ht.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},l);return l.slice(0,y)}serializeInstructions(){let e=0;const t=new Uint8Array(Ur);for(const r of this.compiledInstructions){const s=Array();Lt(s,r.accountKeyIndexes.length);const o=Array();Lt(o,r.data.length);const a=ue([Ke("programIdIndex"),Ve(s.length,"encodedAccountKeyIndexesLength"),mt(Ke(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ve(o.length,"encodedDataLength"),Ve(r.data.length,"data")]);e+=a.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ur);for(const r of this.addressTableLookups){const s=Array();Lt(s,r.writableIndexes.length);const o=Array();Lt(o,r.readonlyIndexes.length);const a=ue([Pe("accountKey"),Ve(s.length,"encodedWritableIndexesLength"),mt(Ke(),r.writableIndexes.length,"writableIndexes"),Ve(o.length,"encodedReadonlyIndexesLength"),mt(Ke(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=a.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),s=r&Ls;Ze(r!==s,"Expected versioned message but received legacy message");const o=s;Ze(o===0,`Expected versioned message with version 0 but found version ${o}`);const a={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},l=[],h=Tt(t);for(let E=0;E<h;E++)l.push(new xe(t.splice(0,Kt)));const y=ht.encode(t.splice(0,Kt)),g=Tt(t),B=[];for(let E=0;E<g;E++){const A=t.shift(),b=Tt(t),M=t.splice(0,b),N=Tt(t),w=new Uint8Array(t.splice(0,N));B.push({programIdIndex:A,accountKeyIndexes:M,data:w})}const U=Tt(t),_=[];for(let E=0;E<U;E++){const A=new xe(t.splice(0,Kt)),b=Tt(t),M=t.splice(0,b),N=Tt(t),w=t.splice(0,N);_.push({accountKey:A,writableIndexes:M,readonlyIndexes:w})}return new tn({header:a,staticAccountKeys:l,recentBlockhash:y,compiledInstructions:B,addressTableLookups:_})}}const bi={deserializeMessageVersion(n){const e=n[0],t=e&Ls;return t===e?"legacy":t},deserialize:n=>{const e=bi.deserializeMessageVersion(n);if(e==="legacy")return Qt.from(n);if(e===0)return tn.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let or=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Hc=Ce.Buffer.alloc(en).fill(0);class lo{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ce.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ir{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new lo(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<t.length;A++)if(t[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);const s=[],o=[];t.forEach(A=>{A.keys.forEach(M=>{o.push({...M})});const b=A.programId.toString();s.includes(b)||s.push(b)}),s.forEach(A=>{o.push({pubkey:new xe(A),isSigner:!1,isWritable:!1})});const a=[];o.forEach(A=>{const b=A.pubkey.toString(),M=a.findIndex(N=>N.pubkey.toString()===b);M>-1?(a[M].isWritable=a[M].isWritable||A.isWritable,a[M].isSigner=a[M].isSigner||A.isSigner):a.push(A)}),a.sort(function(A,b){if(A.isSigner!==b.isSigner)return A.isSigner?-1:1;if(A.isWritable!==b.isWritable)return A.isWritable?-1:1;const M={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return A.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",M)});const l=a.findIndex(A=>A.pubkey.equals(r));if(l>-1){const[A]=a.splice(l,1);A.isSigner=!0,A.isWritable=!0,a.unshift(A)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const A of this.signatures){const b=a.findIndex(M=>M.pubkey.equals(A.publicKey));if(b>-1)a[b].isSigner||(a[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let h=0,y=0,g=0;const B=[],U=[];a.forEach(({pubkey:A,isSigner:b,isWritable:M})=>{b?(B.push(A.toString()),h+=1,M||(y+=1)):(U.push(A.toString()),M||(g+=1))});const _=B.concat(U),E=t.map(A=>{const{data:b,programId:M}=A;return{programIdIndex:_.indexOf(M.toString()),accounts:A.keys.map(N=>_.indexOf(N.pubkey.toString())),data:ht.encode(b)}});return E.forEach(A=>{Ze(A.programIdIndex>=0),A.accounts.forEach(b=>Ze(b>=0))}),new Qt({header:{numRequiredSignatures:h,numReadonlySignedAccounts:y,numReadonlyUnsignedAccounts:g},accountKeys:_,recentBlockhash:e,instructions:E})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,o)=>t[o].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const a=o.publicKey.toString();t.has(a)||(t.add(a),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const o of e){const a=o.publicKey.toString();t.has(a)||(t.add(a),r.push(o))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const o=di(r,s.secretKey);this._addSignature(s.publicKey,Or(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ze(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ce.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(t)return!1}else if(!Nc(r,e,s.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r&&!this._verifySignatures(s,t))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Lt(r,t.length);const s=r.length+t.length*64+e.length,o=Ce.Buffer.alloc(s);return Ze(t.length<256),Ce.Buffer.from(r).copy(o,0),t.forEach(({signature:a},l)=>{a!==null&&(Ze(a.length===64,"signature has invalid length"),Ce.Buffer.from(a).copy(o,r.length+l*64))}),e.copy(o,r.length+t.length*64),Ze(o.length<=Ur,`Transaction too large: ${o.length} > ${Ur}`),o}get keys(){return Ze(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ze(this.instructions.length===1),this.instructions[0].programId}get data(){return Ze(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Tt(t);let s=[];for(let o=0;o<r;o++){const a=t.slice(0,en);t=t.slice(en),s.push(ht.encode(Ce.Buffer.from(a)))}return ir.populate(Qt.from(t),s)}static populate(e,t=[]){const r=new ir;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,o)=>{const a={signature:s==ht.encode(Hc)?null:ht.decode(s),publicKey:e.accountKeys[o]};r.signatures.push(a)}),e.instructions.forEach(s=>{const o=s.accounts.map(a=>{const l=e.accountKeys[a];return{pubkey:l,isSigner:r.signatures.some(h=>h.publicKey.toString()===l.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});r.instructions.push(new lo({keys:o,programId:e.accountKeys[s.programIdIndex],data:ht.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class wi{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ze(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(en));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Lt(t,this.signatures.length);const r=ue([Ve(t.length,"encodedSignaturesLength"),mt(Dc(),this.signatures.length,"signatures"),Ve(e.length,"serializedMessage")]),s=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,o)}static deserialize(e){let t=[...e];const r=[],s=Tt(t);for(let a=0;a<s;a++)r.push(new Uint8Array(t.splice(0,en)));const o=bi.deserialize(new Uint8Array(t));return new wi(o,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const o=r.findIndex(a=>a.equals(s.publicKey));Ze(o>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[o]=di(t,s.secretKey)}}addSignature(e,t){Ze(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Ze(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const $c=160,Vc=64,Yc=$c/Vc,Zc=1e3/Yc;new xe("SysvarC1ock11111111111111111111111111111111");new xe("SysvarEpochSchedu1e111111111111111111111111");new xe("Sysvar1nstructions1111111111111111111111111");new xe("SysvarRecentB1ockHashes11111111111111111111");new xe("SysvarRent111111111111111111111111111111111");new xe("SysvarRewards111111111111111111111111111111");new xe("SysvarS1otHashes111111111111111111111111111");new xe("SysvarS1otHistory11111111111111111111111111");new xe("SysvarStakeHistory1111111111111111111111111");function Lr(n){return new Promise(e=>setTimeout(e,n))}const Jc=ut("lamportsPerSignature"),mi=ue([ge("version"),ge("state"),Pe("authorizedPubkey"),Pe("nonce"),ue([Jc],"feeCalculator")]);mi.span;class Cs{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=mi.decode(Or(e),0);return new Cs({authorizedPubkey:new xe(t.authorizedPubkey),nonce:new xe(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Xc=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Qc=n=>e=>{const t=Ve(n,e),{encode:r,decode:s}=Xc(t),o=t;return o.decode=(a,l)=>{const h=s(a,l);return Da(Ce.Buffer.from(h))},o.encode=(a,l,h)=>{const y=Ga(a,n);return r(y,l,h)},o},Fr=Qc(8);Object.freeze({Create:{index:0,layout:ue([ge("instruction"),It("lamports"),It("space"),Pe("programId")])},Assign:{index:1,layout:ue([ge("instruction"),Pe("programId")])},Transfer:{index:2,layout:ue([ge("instruction"),Fr("lamports")])},CreateWithSeed:{index:3,layout:ue([ge("instruction"),Pe("base"),Cr("seed"),It("lamports"),It("space"),Pe("programId")])},AdvanceNonceAccount:{index:4,layout:ue([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:ue([ge("instruction"),It("lamports")])},InitializeNonceAccount:{index:6,layout:ue([ge("instruction"),Pe("authorized")])},AuthorizeNonceAccount:{index:7,layout:ue([ge("instruction"),Pe("authorized")])},Allocate:{index:8,layout:ue([ge("instruction"),It("space")])},AllocateWithSeed:{index:9,layout:ue([ge("instruction"),Pe("base"),Cr("seed"),It("space"),Pe("programId")])},AssignWithSeed:{index:10,layout:ue([ge("instruction"),Pe("base"),Cr("seed"),Pe("programId")])},TransferWithSeed:{index:11,layout:ue([ge("instruction"),Fr("lamports"),Cr("seed"),Pe("programId")])},UpgradeNonceAccount:{index:12,layout:ue([ge("instruction")])}});new xe("11111111111111111111111111111111");new xe("BPFLoader2111111111111111111111111111111111");function ef(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tf=Object.prototype.toString,rf=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Xr(n,e){var t,r,s,o,a,l,h;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Xr(n.toJSON(),e);if(h=tf.call(n),h==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=Xr(n[t],!0)+",";return r>-1&&(s+=Xr(n[t],!0)),s+"]"}else if(h==="[object Object]"){for(o=rf(n).sort(),r=o.length,s="",t=0;t<r;)a=o[t],l=Xr(n[a],!1),l!==void 0&&(s&&(s+=","),s+=JSON.stringify(a)+":"+l),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var nf=function(n){var e=Xr(n,!1);if(e!==void 0)return""+e},ho=ef(nf);const Zr=32;function as(n){let e=0;for(;n>1;)n/=2,e++;return e}function sf(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class of{constructor(e,t,r,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=as(sf(e+Zr+1))-as(Zr)-1,r=this.getSlotsInEpoch(t),s=e-(r-Zr);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,o=t%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Zr:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+as(Zr)):this.slotsPerEpoch}}class po extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}class le extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var af=globalThis.fetch;class cf extends Oc{constructor(e,t,r){const s=o=>{const a=Fc(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in a?this.underlyingSocket=a.socket:this.underlyingSocket=a,a};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function ff(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const go=56;class yo{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=ff(uf,e),r=e.length-go;Ze(r>=0,"lookup table is invalid"),Ze(r%32===0,"lookup table is invalid");const s=r/32,{addresses:o}=ue([mt(Pe(),s,"addresses")]).decode(e.slice(go));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new xe(t.authority[0]):void 0,addresses:o.map(a=>new xe(a))}}}const uf={index:1,layout:ue([ge("typeIndex"),Fr("deactivationSlot"),ut("lastExtendedSlot"),Ke("lastExtendedStartIndex"),Ke(),mt(Pe(),gr(Ke(),-1),"authority")])},lf=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function hf(n){const e=n.match(lf);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,o]=e,a=n.startsWith("https:")?"wss:":"ws:",l=s==null?null:parseInt(s.slice(1),10),h=l==null?"":`:${l+1}`;return`${a}//${r}${h}${o}`}const it=an(Is(xe),V(),n=>new xe(n)),vi=Ts([V(),Xe("base64")]),Us=an(Is(Ce.Buffer),vi,n=>Ce.Buffer.from(n[0],"base64")),df=30*1e3;function pf(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ye(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function _i(n){return At([q({jsonrpc:Xe("2.0"),id:V(),result:n}),q({jsonrpc:Xe("2.0"),id:V(),error:q({code:on(),message:V(),data:ye(Xa())})})])}const gf=_i(on());function Le(n){return an(_i(n),gf,e=>"error"in e?e:{...e,result:J(e.result,n)})}function rt(n){return Le(q({context:q({slot:v()}),value:n}))}function Un(n){return q({context:q({slot:v()}),value:n})}function cs(n,e){return n===0?new tn({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new xe(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ht.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Qt(e)}const yf=q({foundation:v(),foundationTerm:v(),initial:v(),taper:v(),terminal:v()}),xf=Le(ee(te(q({epoch:v(),effectiveSlot:v(),amount:v(),postBalance:v(),commission:ye(te(v()))})))),bf=ee(q({slot:v(),prioritizationFee:v()})),wf=q({total:v(),validator:v(),foundation:v(),epoch:v()}),mf=q({epoch:v(),slotIndex:v(),slotsInEpoch:v(),absoluteSlot:v(),blockHeight:ye(v()),transactionCount:ye(v())}),vf=q({slotsPerEpoch:v(),leaderScheduleSlotOffset:v(),warmup:Gt(),firstNormalEpoch:v(),firstNormalSlot:v()}),_f=Jo(V(),ee(v())),br=te(At([q({}),V()])),Sf=q({err:br}),Ef=Xe("receivedSignature"),Af=q({"solana-core":V(),"feature-set":ye(v())}),xo=rt(q({err:te(At([q({}),V()])),logs:te(ee(V())),accounts:ye(te(ee(te(q({executable:Gt(),owner:V(),lamports:v(),data:ee(V()),rentEpoch:ye(v())}))))),unitsConsumed:ye(v()),returnData:ye(te(q({programId:V(),data:Ts([V(),Xe("base64")])})))})),kf=rt(q({byIdentity:Jo(V(),ee(v())),range:q({firstSlot:v(),lastSlot:v()})}));function Bf(n,e,t,r,s,o){const a=t||af;let l;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let h;return r&&(h=async(g,B)=>{const U=await new Promise((_,E)=>{try{r(g,B,(A,b)=>_([A,b]))}catch(A){E(A)}});return await a(...U)}),new Bc(async(g,B)=>{const U={method:"POST",body:g,agent:l,headers:Object.assign({"Content-Type":"application/json"},e||{},Ru)};try{let _=5,E,A=500;for(;h?E=await h(n,U):E=await a(n,U),!(E.status!==429||s===!0||(_-=1,_===0));)console.log(`Server responded with ${E.status} ${E.statusText}.  Retrying after ${A}ms delay...`),await Lr(A),A*=2;const b=await E.text();E.ok?B(null,b):B(new Error(`${E.status} ${E.statusText}: ${b}`))}catch(_){_ instanceof Error&&B(_)}},{})}function Rf(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(o,a)=>{if(o){s(o);return}r(a)})})}function If(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(o=>n.request(o.methodName,o.args));n.request(s,(o,a)=>{if(o){r(o);return}t(a)})})}const Tf=Le(yf),Lf=Le(wf),Cf=Le(bf),Uf=Le(mf),Pf=Le(vf),Of=Le(_f),Ff=Le(v()),Nf=rt(q({total:v(),circulating:v(),nonCirculating:v(),nonCirculatingAccounts:ee(it)})),ds=q({amount:V(),uiAmount:te(v()),decimals:v(),uiAmountString:ye(V())}),Mf=rt(ee(q({address:it,amount:V(),uiAmount:te(v()),decimals:v(),uiAmountString:ye(V())}))),zf=rt(ee(q({pubkey:it,account:q({executable:Gt(),owner:it,lamports:v(),data:Us,rentEpoch:v()})}))),ps=q({program:V(),parsed:on(),space:v()}),qf=rt(ee(q({pubkey:it,account:q({executable:Gt(),owner:it,lamports:v(),data:ps,rentEpoch:v()})}))),Df=rt(ee(q({lamports:v(),address:it}))),rn=q({executable:Gt(),owner:it,lamports:v(),data:Us,rentEpoch:v()}),Kf=q({pubkey:it,account:rn}),jf=an(At([Is(Ce.Buffer),ps]),At([vi,ps]),n=>Array.isArray(n)?J(n,Us):n),gs=q({executable:Gt(),owner:it,lamports:v(),data:jf,rentEpoch:v()}),Gf=q({pubkey:it,account:gs}),Wf=q({state:At([Xe("active"),Xe("inactive"),Xe("activating"),Xe("deactivating")]),active:v(),inactive:v()}),Hf=Le(ee(q({signature:V(),slot:v(),err:br,memo:te(V()),blockTime:ye(te(v()))}))),$f=Le(ee(q({signature:V(),slot:v(),err:br,memo:te(V()),blockTime:ye(te(v()))}))),Vf=q({subscription:v(),result:Un(rn)}),Yf=q({pubkey:it,account:rn}),Zf=q({subscription:v(),result:Un(Yf)}),Jf=q({parent:v(),slot:v(),root:v()}),Xf=q({subscription:v(),result:Jf}),Qf=At([q({type:At([Xe("firstShredReceived"),Xe("completed"),Xe("optimisticConfirmation"),Xe("root")]),slot:v(),timestamp:v()}),q({type:Xe("createdBank"),parent:v(),slot:v(),timestamp:v()}),q({type:Xe("frozen"),slot:v(),timestamp:v(),stats:q({numTransactionEntries:v(),numSuccessfulTransactions:v(),numFailedTransactions:v(),maxTransactionsPerEntry:v()})}),q({type:Xe("dead"),slot:v(),timestamp:v(),err:V()})]),eu=q({subscription:v(),result:Qf}),tu=q({subscription:v(),result:Un(At([Sf,Ef]))}),ru=q({subscription:v(),result:v()}),nu=q({pubkey:V(),gossip:te(V()),tpu:te(V()),rpc:te(V()),version:te(V())}),bo=q({votePubkey:V(),nodePubkey:V(),activatedStake:v(),epochVoteAccount:Gt(),epochCredits:ee(Ts([v(),v(),v()])),commission:v(),lastVote:v(),rootSlot:te(v())}),su=Le(q({current:ee(bo),delinquent:ee(bo)})),ou=At([Xe("processed"),Xe("confirmed"),Xe("finalized")]),iu=q({slot:v(),confirmations:te(v()),err:br,confirmationStatus:ye(ou)}),au=rt(ee(te(iu))),cu=Le(v()),Si=q({accountKey:it,writableIndexes:ee(v()),readonlyIndexes:ee(v())}),Ps=q({signatures:ee(V()),message:q({accountKeys:ee(V()),header:q({numRequiredSignatures:v(),numReadonlySignedAccounts:v(),numReadonlyUnsignedAccounts:v()}),instructions:ee(q({accounts:ee(v()),data:V(),programIdIndex:v()})),recentBlockhash:V(),addressTableLookups:ye(ee(Si))})}),Ei=q({pubkey:it,signer:Gt(),writable:Gt(),source:ye(At([Xe("transaction"),Xe("lookupTable")]))}),Ai=q({accountKeys:ee(Ei),signatures:ee(V())}),ki=q({parsed:on(),program:V(),programId:it}),Bi=q({accounts:ee(it),data:V(),programId:it}),fu=At([Bi,ki]),uu=At([q({parsed:on(),program:V(),programId:V()}),q({accounts:ee(V()),data:V(),programId:V()})]),Ri=an(fu,uu,n=>"accounts"in n?J(n,Bi):J(n,ki)),Ii=q({signatures:ee(V()),message:q({accountKeys:ee(Ei),instructions:ee(Ri),recentBlockhash:V(),addressTableLookups:ye(te(ee(Si)))})}),An=q({accountIndex:v(),mint:V(),owner:ye(V()),uiTokenAmount:ds}),Ti=q({writable:ee(it),readonly:ee(it)}),Pn=q({err:br,fee:v(),innerInstructions:ye(te(ee(q({index:v(),instructions:ee(q({accounts:ee(v()),data:V(),programIdIndex:v()}))})))),preBalances:ee(v()),postBalances:ee(v()),logMessages:ye(te(ee(V()))),preTokenBalances:ye(te(ee(An))),postTokenBalances:ye(te(ee(An))),loadedAddresses:ye(Ti),computeUnitsConsumed:ye(v())}),Os=q({err:br,fee:v(),innerInstructions:ye(te(ee(q({index:v(),instructions:ee(Ri)})))),preBalances:ee(v()),postBalances:ee(v()),logMessages:ye(te(ee(V()))),preTokenBalances:ye(te(ee(An))),postTokenBalances:ye(te(ee(An))),loadedAddresses:ye(Ti),computeUnitsConsumed:ye(v())}),Dr=At([Xe(0),Xe("legacy")]),wr=q({pubkey:V(),lamports:v(),postBalance:te(v()),rewardType:te(V()),commission:ye(te(v()))}),lu=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),transactions:ee(q({transaction:Ps,meta:te(Pn),version:ye(Dr)})),rewards:ye(ee(wr)),blockTime:te(v()),blockHeight:te(v())}))),hu=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),rewards:ye(ee(wr)),blockTime:te(v()),blockHeight:te(v())}))),du=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),transactions:ee(q({transaction:Ai,meta:te(Pn),version:ye(Dr)})),rewards:ye(ee(wr)),blockTime:te(v()),blockHeight:te(v())}))),pu=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),transactions:ee(q({transaction:Ii,meta:te(Os),version:ye(Dr)})),rewards:ye(ee(wr)),blockTime:te(v()),blockHeight:te(v())}))),gu=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),transactions:ee(q({transaction:Ai,meta:te(Os),version:ye(Dr)})),rewards:ye(ee(wr)),blockTime:te(v()),blockHeight:te(v())}))),yu=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),rewards:ye(ee(wr)),blockTime:te(v()),blockHeight:te(v())}))),xu=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),transactions:ee(q({transaction:Ps,meta:te(Pn)})),rewards:ye(ee(wr)),blockTime:te(v())}))),wo=Le(te(q({blockhash:V(),previousBlockhash:V(),parentSlot:v(),signatures:ee(V()),blockTime:te(v())}))),fs=Le(te(q({slot:v(),meta:Pn,blockTime:ye(te(v())),transaction:Ps,version:ye(Dr)}))),yn=Le(te(q({slot:v(),transaction:Ii,meta:te(Os),blockTime:ye(te(v())),version:ye(Dr)}))),bu=rt(q({blockhash:V(),feeCalculator:q({lamportsPerSignature:v()})})),wu=rt(q({blockhash:V(),lastValidBlockHeight:v()})),mu=rt(Gt()),vu=q({slot:v(),numTransactions:v(),numSlots:v(),samplePeriodSecs:v()}),_u=Le(ee(vu)),Su=rt(te(q({feeCalculator:q({lamportsPerSignature:v()})}))),Eu=Le(V()),Au=Le(V()),ku=q({err:br,logs:ee(V()),signature:V()}),Bu=q({result:Un(ku),subscription:v()}),Ru={"solana-client":"js/0.0.0-development"};class Nu{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const y={};return async g=>{const{commitment:B,config:U}=Ye(g),_=this._buildArgs([],B,void 0,U),E=ho(_);return y[E]=y[E]??(async()=>{try{const A=await this._rpcRequest("getBlockHeight",_),b=J(A,Le(v()));if("error"in b)throw new le(b.error,"failed to get block height information");return b.result}finally{delete y[E]}})(),await y[E]}})();let r,s,o,a,l,h;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,o=t.fetch,a=t.fetchMiddleware,l=t.disableRetryOnRateLimit,h=t.httpAgent),this._rpcEndpoint=pf(e),this._rpcWsEndpoint=r||hf(e),this._rpcClient=Bf(e,s,o,a,l,h),this._rpcRequest=Rf(this._rpcClient),this._rpcBatchRequest=If(this._rpcClient),this._rpcWebSocket=new cf(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgs([e.toBase58()],r,void 0,s),a=await this._rpcRequest("getBalance",o),l=J(a,rt(v()));if("error"in l)throw new le(l.error,`failed to get balance for ${e.toBase58()}`);return l.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=J(t,Le(te(v())));if("error"in r)throw new le(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=J(e,Le(v()));if("error"in t)throw new le(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=J(e,Ff);if("error"in t)throw new le(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=J(r,Nf);if("error"in s)throw new le(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),o=J(s,rt(ds));if("error"in o)throw new le(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),o=J(s,rt(ds));if("error"in o)throw new le(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:o}=Ye(r);let a=[e.toBase58()];"mint"in t?a.push({mint:t.mint.toBase58()}):a.push({programId:t.programId.toBase58()});const l=this._buildArgs(a,s,"base64",o),h=await this._rpcRequest("getTokenAccountsByOwner",l),y=J(h,zf);if("error"in y)throw new le(y.error,`failed to get token accounts owned by account ${e.toBase58()}`);return y.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,r,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",o),l=J(a,qf);if("error"in l)throw new le(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),o=J(s,Df);if("error"in o)throw new le(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),o=J(s,Mf);if("error"in o)throw new le(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgs([e.toBase58()],r,"base64",s),a=await this._rpcRequest("getAccountInfo",o),l=J(a,rt(te(rn)));if("error"in l)throw new le(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getAccountInfo",o),l=J(a,rt(te(gs)));if("error"in l)throw new le(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ye(t),o=e.map(y=>y.toBase58()),a=this._buildArgs([o],r,"jsonParsed",s),l=await this._rpcRequest("getMultipleAccounts",a),h=J(l,rt(ee(te(gs))));if("error"in h)throw new le(h.error,`failed to get info for accounts ${o}`);return h.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ye(t),o=e.map(y=>y.toBase58()),a=this._buildArgs([o],r,"base64",s),l=await this._rpcRequest("getMultipleAccounts",a),h=J(l,rt(ee(te(rn))));if("error"in h)throw new le(h.error,`failed to get info for accounts ${o}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:o}=Ye(t),a=this._buildArgs([e.toBase58()],s,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),l=await this._rpcRequest("getStakeActivation",a),h=J(l,Le(Wf));if("error"in h)throw new le(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ye(t),{encoding:o,...a}=s||{},l=this._buildArgs([e.toBase58()],r,o||"base64",a),h=await this._rpcRequest("getProgramAccounts",l),y=ee(Kf),g=a.withContext===!0?J(h,rt(y)):J(h,Le(y));if("error"in g)throw new le(g.error,`failed to get accounts owned by program ${e.toBase58()}`);return g.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),a=await this._rpcRequest("getProgramAccounts",o),l=J(a,Le(ee(Gf)));if("error"in l)throw new le(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async confirmTransaction(e,t){var o;let r;if(typeof e=="string")r=e;else{const a=e;if((o=a.abortSignal)!=null&&o.aborted)return Promise.reject(a.abortSignal.reason);r=a.signature}let s;try{s=ht.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ze(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,o=!1;const a=new Promise((h,y)=>{try{r=this.onSignature(t,(B,U)=>{r=void 0;const _={context:U,value:B};h({__type:or.PROCESSED,response:_})},e);const g=new Promise(B=>{r==null?B():s=this._onSubscriptionStateChange(r,U=>{U==="subscribed"&&B()})});(async()=>{if(await g,o)return;const B=await this.getSignatureStatus(t);if(o||B==null)return;const{context:U,value:_}=B;if(_!=null)if(_!=null&&_.err)y(_.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(_.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(_.confirmationStatus==="processed"||_.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,h({__type:or.PROCESSED,response:{context:U,value:_}})}})()}catch(g){y(g)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:a}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let o=!1;const a=new Promise(B=>{const U=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let _=await U();if(!o){for(;_<=r;)if(await Lr(1e3),o||(_=await U(),o))return;B({__type:or.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:l,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),y=this.getCancellationPromise(t);let g;try{const B=await Promise.race([y,h,a]);if(B.__type===or.PROCESSED)g=B.response;else throw new yi(s)}finally{o=!0,l()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:o,signature:a}}){let l=!1;const h=new Promise(_=>{let E=o,A=null;const b=async()=>{try{const{context:M,value:N}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return A=M.slot,N==null?void 0:N.nonce}catch{return E}};(async()=>{if(E=await b(),!l)for(;;){if(o!==E){_({__type:or.NONCE_INVALID,slotInWhichNonceDidAdvance:A});return}if(await Lr(2e3),l||(E=await b(),l))return}})()}),{abortConfirmation:y,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),B=this.getCancellationPromise(t);let U;try{const _=await Promise.race([B,g,h]);if(_.__type===or.PROCESSED)U=_.response;else{let E;for(;;){const A=await this.getSignatureStatus(a);if(A==null)break;if(A.context.slot<(_.slotInWhichNonceDidAdvance??r)){await Lr(400);continue}E=A;break}if(E!=null&&E.value){const A=e||"finalized",{confirmationStatus:b}=E.value;switch(A){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new Jr(a);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new Jr(a);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new Jr(a);break;default:}U={context:E.context,value:{err:E.value.err}}}else throw new Jr(a)}}finally{l=!0,y()}return U}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(h=>{let y=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{y=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>h({__type:or.TIMED_OUT,timeoutMs:y}),y)}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let l;try{const h=await Promise.race([a,s]);if(h.__type===or.PROCESSED)l=h.response;else throw new xi(t,h.timeoutMs/1e3)}finally{clearTimeout(r),o()}return l}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=J(e,Le(ee(nu)));if("error"in t)throw new le(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=J(r,su);if("error"in s)throw new le(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ye(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlot",s),a=J(o,Le(v()));if("error"in a)throw new le(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:t,config:r}=Ye(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getSlotLeader",s),a=J(o,Le(V()));if("error"in a)throw new le(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),o=J(s,Le(ee(it)));if("error"in o)throw new le(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Ze(s.length===1);const o=s[0];return{context:r,value:o}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),o=J(s,au);if("error"in o)throw new le(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:r}=Ye(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getTransactionCount",s),a=J(o,Le(v()));if("error"in a)throw new le(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=J(r,Tf);if("error"in s)throw new le(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:o}=Ye(r),a=this._buildArgs([e.map(y=>y.toBase58())],s,void 0,{...o,epoch:t??(o==null?void 0:o.epoch)}),l=await this._rpcRequest("getInflationReward",a),h=J(l,xf);if("error"in h)throw new le(h.error,"failed to get inflation reward");return h.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=J(e,Lf);if("error"in t)throw new le(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ye(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getEpochInfo",s),a=J(o,Uf);if("error"in a)throw new le(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=J(e,Pf);if("error"in t)throw new le(t.error,"failed to get epoch schedule");const r=t.result;return new of(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=J(e,Of);if("error"in t)throw new le(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=J(s,cu);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=J(r,bu);if("error"in s)throw new le(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=J(t,_u);if("error"in r)throw new le(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=J(s,Su);if("error"in o)throw new le(o.error,"failed to get fee calculator");const{context:a,value:l}=o.result;return{context:a,value:l!==null?l.feeCalculator:null}}async getFeeForMessage(e,t){const r=Or(e.serialize()).toString("base64"),s=this._buildArgs([r],t),o=await this._rpcRequest("getFeeForMessage",s),a=J(o,rt(te(v())));if("error"in a)throw new le(a.error,"failed to get fee for message");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){var a;const t=(a=e==null?void 0:e.lockedWritableAccounts)==null?void 0:a.map(l=>l.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),o=J(s,Cf);if("error"in o)throw new le(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ye(e),s=this._buildArgs([],t,void 0,r),o=await this._rpcRequest("getLatestBlockhash",s),a=J(o,wu);if("error"in a)throw new le(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgs([e],r,void 0,s),a=await this._rpcRequest("isBlockhashValid",o),l=J(a,mu);if("error"in l)throw new le(l.error,"failed to determine if the blockhash `"+e+"`is valid");return l.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=J(e,Le(Af));if("error"in t)throw new le(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=J(e,Le(V()));if("error"in t)throw new le(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const l=J(a,du);if("error"in l)throw l.error;return l.result}case"none":{const l=J(a,hu);if("error"in l)throw l.error;return l.result}default:{const l=J(a,lu);if("error"in l)throw l.error;const{result:h}=l;return h?{...h,transactions:h.transactions.map(({transaction:y,meta:g,version:B})=>({meta:g,transaction:{...y,message:cs(B,y.message)},version:B}))}:null}}}catch(l){throw new le(l,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const l=J(a,gu);if("error"in l)throw l.error;return l.result}case"none":{const l=J(a,yu);if("error"in l)throw l.error;return l.result}default:{const l=J(a,pu);if("error"in l)throw l.error;return l.result}}}catch(l){throw new le(l,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:l,...h}=e;r=l,t=h}const s=this._buildArgs([],r,"base64",t),o=await this._rpcRequest("getBlockProduction",s),a=J(o,kf);if("error"in a)throw new le(a.error,"failed to get block production information");return a.result}async getTransaction(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),a=await this._rpcRequest("getTransaction",o),l=J(a,fs);if("error"in l)throw new le(l.error,"failed to get transaction");const h=l.result;return h&&{...h,transaction:{...h.transaction,message:cs(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ye(t),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),a=await this._rpcRequest("getTransaction",o),l=J(a,yn);if("error"in l)throw new le(l.error,"failed to get transaction");return l.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ye(t),o=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(h=>{const y=J(h,yn);if("error"in y)throw new le(y.error,"failed to get transactions");return y.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ye(t),o=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,void 0,s)}));return(await this._rpcBatchRequest(o)).map(h=>{const y=J(h,fs);if("error"in y)throw new le(y.error,"failed to get transactions");const g=y.result;return g&&{...g,transaction:{...g.transaction,message:cs(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),o=J(s,xu);if("error"in o)throw new le(o.error,"failed to get confirmed block");const a=o.result;if(!a)throw new Error("Confirmed block "+e+" not found");const l={...a,transactions:a.transactions.map(({transaction:h,meta:y})=>{const g=new Qt(h.message);return{meta:y,transaction:{...h,message:g}}})};return{...l,transactions:l.transactions.map(({transaction:h,meta:y})=>({meta:y,transaction:ir.populate(h.message,h.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),o=await this._rpcRequest("getBlocks",s),a=J(o,Le(ee(v())));if("error"in a)throw new le(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=J(s,wo);if("error"in o)throw new le(o.error,"failed to get block");const a=o.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),o=J(s,wo);if("error"in o)throw new le(o.error,"failed to get confirmed block");const a=o.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),o=J(s,fs);if("error"in o)throw new le(o.error,"failed to get transaction");const a=o.result;if(!a)return a;const l=new Qt(a.transaction.message),h=a.transaction.signatures;return{...a,transaction:ir.populate(l,h)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),o=J(s,yn);if("error"in o)throw new le(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const r=e.map(a=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([a],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(a=>{const l=J(a,yn);if("error"in l)throw new le(l.error,"failed to get confirmed transactions");return l.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<o));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(s.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let a=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>a));)try{const h=await this.getConfirmedBlockSignatures(r);h.signatures.length>0&&(s.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),a=J(o,Hf);if("error"in a)throw new le(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",s),a=J(o,$f);if("error"in a)throw new le(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let o=null;return s!==null&&(o=new yo({key:e,state:yo.deserialize(s.data)})),{context:r,value:o}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let o=null;return s!==null&&(o=Cs.fromAccountData(s.data)),{context:r,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=J(r,Eu);if("error"in s)throw new le(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Lr(100);const r=Date.now()-this._blockhashInfo.lastFetch>=df;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Lr(Zc/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ye(e),s=this._buildArgs([],t,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",s),a=J(o,rt(v()));if("error"in a)throw new le(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,t,r){if("message"in e){const A=e.serialize(),b=Ce.Buffer.from(A).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const M=t||{};M.encoding="base64","commitment"in M||(M.commitment=this.commitment);const N=[b,M],w=await this._rpcRequest("simulateTransaction",N),Y=J(w,xo);if("error"in Y)throw new Error("failed to simulate transaction: "+Y.error.message);return Y.result}let s;if(e instanceof ir){let E=e;s=new ir,s.feePayer=E.feePayer,s.instructions=e.instructions,s.nonceInfo=E.nonceInfo,s.signatures=E.signatures}else s=ir.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(s.nonceInfo&&o)s.sign(...o);else{let E=this._disableBlockhashCaching;for(;;){const A=await this._blockhashWithExpiryBlockHeight(E);if(s.lastValidBlockHeight=A.lastValidBlockHeight,s.recentBlockhash=A.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const b=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else E=!0}}const a=s._compile(),l=a.serialize(),y=s._serialize(l).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(r){const E=(Array.isArray(r)?r:a.nonProgramIds()).map(A=>A.toBase58());g.accounts={encoding:"base64",addresses:E}}o&&(g.sigVerify=!0);const B=[y,g],U=await this._rpcRequest("simulateTransaction",B),_=J(U,xo);if("error"in _){let E;if("data"in _.error&&(E=_.error.data.logs,E&&Array.isArray(E))){const A=`
    `,b=A+E.join(A);console.error(_.error.message,b)}throw new po("failed to simulate transaction: "+_.error.message,E)}return _.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let a=this._disableBlockhashCaching;for(;;){const l=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=l.lastValidBlockHeight,e.recentBlockhash=l.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))a=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,t){const r=Or(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,o=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),o&&(r.preflightCommitment=o);const a=[e,r],l=await this._rpcRequest("sendTransaction",a),h=J(l,Au);if("error"in h){let y;throw"data"in h.error&&(y=h.error.data.logs),new po("failed to send transaction: "+h.error.message,y)}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(a=>{try{a(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:a}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const l=await this._rpcWebSocket.call(a,o);this._setSubscription(r,{...s,serverSubscriptionId:l,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[l]=s.callbacks,await this._updateSubscriptions()}catch(l){if(l instanceof Error&&console.error(`${a} error for argument`,o,l.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:a}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(a,[o])}catch(l){if(l instanceof Error&&console.error(`${a} error:`,l.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=J(e,Vf);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=ho([e.method,t],!0),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const a=this._subscriptionsByHash[s];Ze(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=J(e,Zf);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=J(e,Bu);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=J(e,Xf);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=J(e,eu);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const o=t||this._commitment;if(o||r||s){let a={};r&&(a.encoding=r),o&&(a.commitment=o),s&&(a=Object.assign(a,s)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=J(e,tu);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(a,l)=>{if(a.type==="status"){t(a.result,l);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(e,t,r){const{commitment:s,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},a=this._buildArgs([e],s,void 0,o),l=this._makeSubscription({callback:(h,y)=>{t(h,y);try{this.removeSignatureListener(l)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return l}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=J(e,ru);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class bn{constructor(e){this._keypair=void 0,this._keypair=e??co()}static generate(){return new bn(co())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),o=hs(s);for(let a=0;a<32;a++)if(r[a]!==o[a])throw new Error("provided secretKey is invalid")}return new bn({publicKey:r,secretKey:e})}static fromSeed(e){const t=hs(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new bn({publicKey:t,secretKey:r})}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ue([ge("instruction"),Fr("recentSlot"),Ke("bumpSeed")])},FreezeLookupTable:{index:1,layout:ue([ge("instruction")])},ExtendLookupTable:{index:2,layout:ue([ge("instruction"),Fr(),mt(Pe(),gr(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ue([ge("instruction")])},CloseLookupTable:{index:4,layout:ue([ge("instruction")])}});new xe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ue([Ke("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:ue([Ke("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:ue([Ke("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:ue([Ke("instruction"),Fr("microLamports")])}});new xe("ComputeBudget111111111111111111111111111111");ue([Ke("numSignatures"),Ke("padding"),Ft("signatureOffset"),Ft("signatureInstructionIndex"),Ft("publicKeyOffset"),Ft("publicKeyInstructionIndex"),Ft("messageDataOffset"),Ft("messageDataSize"),Ft("messageInstructionIndex")]);new xe("Ed25519SigVerify111111111111111111111111111");vo.utils.isValidPrivateKey;vo.getPublicKey;ue([Ke("numSignatures"),Ft("signatureOffset"),Ke("signatureInstructionIndex"),Ft("ethAddressOffset"),Ke("ethAddressInstructionIndex"),Ft("messageDataOffset"),Ft("messageDataSize"),Ke("messageInstructionIndex"),Ve(20,"ethAddress"),Ve(64,"signature"),Ke("recoveryId")]);new xe("KeccakSecp256k11111111111111111111111111111");var Li;new xe("StakeConfig11111111111111111111111111111111");class Ci{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Li=Ci;Ci.default=new Li(0,0,xe.default);Object.freeze({Initialize:{index:0,layout:ue([ge("instruction"),Kc(),jc()])},Authorize:{index:1,layout:ue([ge("instruction"),Pe("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:ue([ge("instruction")])},Split:{index:3,layout:ue([ge("instruction"),It("lamports")])},Withdraw:{index:4,layout:ue([ge("instruction"),It("lamports")])},Deactivate:{index:5,layout:ue([ge("instruction")])},Merge:{index:7,layout:ue([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:ue([ge("instruction"),Pe("newAuthorized"),ge("stakeAuthorizationType"),Cr("authoritySeed"),Pe("authorityOwner")])}});new xe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ue([ge("instruction"),Gc()])},Authorize:{index:1,layout:ue([ge("instruction"),Pe("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:ue([ge("instruction"),It("lamports")])},AuthorizeWithSeed:{index:10,layout:ue([ge("instruction"),Wc()])}});new xe("Vote111111111111111111111111111111111111111");new xe("Va1idator1nfo111111111111111111111111111111");q({name:V(),website:ye(V()),details:ye(V()),keybaseUsername:ye(V())});new xe("Vote111111111111111111111111111111111111111");ue([Pe("nodePubkey"),Pe("authorizedWithdrawer"),Ke("commission"),ut(),mt(ue([ut("slot"),ge("confirmationCount")]),gr(ge(),-8),"votes"),Ke("rootSlotValid"),ut("rootSlot"),ut(),mt(ue([ut("epoch"),Pe("authorizedVoter")]),gr(ge(),-8),"authorizedVoters"),ue([mt(ue([Pe("authorizedPubkey"),ut("epochOfLastAuthorizedSwitch"),ut("targetEpoch")]),32,"buf"),ut("idx"),Ke("isEmpty")],"priorVoters"),ut(),mt(ue([ut("epoch"),ut("credits"),ut("prevCredits")]),gr(ge(),-8),"epochCredits"),ue([ut("slot"),ut("timestamp")],"lastTimestamp")]);var Ui={exports:{}};(function(n){(function(e){var t=function(c){var u,f=new Float64Array(16);if(c)for(u=0;u<c.length;u++)f[u]=c[u];return f},r=function(){throw new Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),l=t([1]),h=t([56129,1]),y=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),B=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),U=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(c,u,f,i){c[u]=f>>24&255,c[u+1]=f>>16&255,c[u+2]=f>>8&255,c[u+3]=f&255,c[u+4]=i>>24&255,c[u+5]=i>>16&255,c[u+6]=i>>8&255,c[u+7]=i&255}function A(c,u,f,i,d){var x,m=0;for(x=0;x<d;x++)m|=c[u+x]^f[i+x];return(1&m-1>>>8)-1}function b(c,u,f,i){return A(c,u,f,i,16)}function M(c,u,f,i){return A(c,u,f,i,32)}function N(c,u,f,i){for(var d=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,x=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,m=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,O=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,K=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,fe=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,Q=u[0]&255|(u[1]&255)<<8|(u[2]&255)<<16|(u[3]&255)<<24,Me=u[4]&255|(u[5]&255)<<8|(u[6]&255)<<16|(u[7]&255)<<24,ne=u[8]&255|(u[9]&255)<<8|(u[10]&255)<<16|(u[11]&255)<<24,be=u[12]&255|(u[13]&255)<<8|(u[14]&255)<<16|(u[15]&255)<<24,we=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,Ee=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,Se=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,me=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,_e=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,ve=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,oe=d,de=x,re=m,ie=O,ce=K,X=fe,I=Q,T=Me,z=ne,P=be,F=we,D=Ee,pe=Se,Ae=me,Re=_e,ke=ve,p,Ue=0;Ue<20;Ue+=2)p=oe+pe|0,ce^=p<<7|p>>>32-7,p=ce+oe|0,z^=p<<9|p>>>32-9,p=z+ce|0,pe^=p<<13|p>>>32-13,p=pe+z|0,oe^=p<<18|p>>>32-18,p=X+de|0,P^=p<<7|p>>>32-7,p=P+X|0,Ae^=p<<9|p>>>32-9,p=Ae+P|0,de^=p<<13|p>>>32-13,p=de+Ae|0,X^=p<<18|p>>>32-18,p=F+I|0,Re^=p<<7|p>>>32-7,p=Re+F|0,re^=p<<9|p>>>32-9,p=re+Re|0,I^=p<<13|p>>>32-13,p=I+re|0,F^=p<<18|p>>>32-18,p=ke+D|0,ie^=p<<7|p>>>32-7,p=ie+ke|0,T^=p<<9|p>>>32-9,p=T+ie|0,D^=p<<13|p>>>32-13,p=D+T|0,ke^=p<<18|p>>>32-18,p=oe+ie|0,de^=p<<7|p>>>32-7,p=de+oe|0,re^=p<<9|p>>>32-9,p=re+de|0,ie^=p<<13|p>>>32-13,p=ie+re|0,oe^=p<<18|p>>>32-18,p=X+ce|0,I^=p<<7|p>>>32-7,p=I+X|0,T^=p<<9|p>>>32-9,p=T+I|0,ce^=p<<13|p>>>32-13,p=ce+T|0,X^=p<<18|p>>>32-18,p=F+P|0,D^=p<<7|p>>>32-7,p=D+F|0,z^=p<<9|p>>>32-9,p=z+D|0,P^=p<<13|p>>>32-13,p=P+z|0,F^=p<<18|p>>>32-18,p=ke+Re|0,pe^=p<<7|p>>>32-7,p=pe+ke|0,Ae^=p<<9|p>>>32-9,p=Ae+pe|0,Re^=p<<13|p>>>32-13,p=Re+Ae|0,ke^=p<<18|p>>>32-18;oe=oe+d|0,de=de+x|0,re=re+m|0,ie=ie+O|0,ce=ce+K|0,X=X+fe|0,I=I+Q|0,T=T+Me|0,z=z+ne|0,P=P+be|0,F=F+we|0,D=D+Ee|0,pe=pe+Se|0,Ae=Ae+me|0,Re=Re+_e|0,ke=ke+ve|0,c[0]=oe>>>0&255,c[1]=oe>>>8&255,c[2]=oe>>>16&255,c[3]=oe>>>24&255,c[4]=de>>>0&255,c[5]=de>>>8&255,c[6]=de>>>16&255,c[7]=de>>>24&255,c[8]=re>>>0&255,c[9]=re>>>8&255,c[10]=re>>>16&255,c[11]=re>>>24&255,c[12]=ie>>>0&255,c[13]=ie>>>8&255,c[14]=ie>>>16&255,c[15]=ie>>>24&255,c[16]=ce>>>0&255,c[17]=ce>>>8&255,c[18]=ce>>>16&255,c[19]=ce>>>24&255,c[20]=X>>>0&255,c[21]=X>>>8&255,c[22]=X>>>16&255,c[23]=X>>>24&255,c[24]=I>>>0&255,c[25]=I>>>8&255,c[26]=I>>>16&255,c[27]=I>>>24&255,c[28]=T>>>0&255,c[29]=T>>>8&255,c[30]=T>>>16&255,c[31]=T>>>24&255,c[32]=z>>>0&255,c[33]=z>>>8&255,c[34]=z>>>16&255,c[35]=z>>>24&255,c[36]=P>>>0&255,c[37]=P>>>8&255,c[38]=P>>>16&255,c[39]=P>>>24&255,c[40]=F>>>0&255,c[41]=F>>>8&255,c[42]=F>>>16&255,c[43]=F>>>24&255,c[44]=D>>>0&255,c[45]=D>>>8&255,c[46]=D>>>16&255,c[47]=D>>>24&255,c[48]=pe>>>0&255,c[49]=pe>>>8&255,c[50]=pe>>>16&255,c[51]=pe>>>24&255,c[52]=Ae>>>0&255,c[53]=Ae>>>8&255,c[54]=Ae>>>16&255,c[55]=Ae>>>24&255,c[56]=Re>>>0&255,c[57]=Re>>>8&255,c[58]=Re>>>16&255,c[59]=Re>>>24&255,c[60]=ke>>>0&255,c[61]=ke>>>8&255,c[62]=ke>>>16&255,c[63]=ke>>>24&255}function w(c,u,f,i){for(var d=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,x=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,m=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,O=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,K=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,fe=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,Q=u[0]&255|(u[1]&255)<<8|(u[2]&255)<<16|(u[3]&255)<<24,Me=u[4]&255|(u[5]&255)<<8|(u[6]&255)<<16|(u[7]&255)<<24,ne=u[8]&255|(u[9]&255)<<8|(u[10]&255)<<16|(u[11]&255)<<24,be=u[12]&255|(u[13]&255)<<8|(u[14]&255)<<16|(u[15]&255)<<24,we=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,Ee=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,Se=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,me=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,_e=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,ve=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,oe=d,de=x,re=m,ie=O,ce=K,X=fe,I=Q,T=Me,z=ne,P=be,F=we,D=Ee,pe=Se,Ae=me,Re=_e,ke=ve,p,Ue=0;Ue<20;Ue+=2)p=oe+pe|0,ce^=p<<7|p>>>32-7,p=ce+oe|0,z^=p<<9|p>>>32-9,p=z+ce|0,pe^=p<<13|p>>>32-13,p=pe+z|0,oe^=p<<18|p>>>32-18,p=X+de|0,P^=p<<7|p>>>32-7,p=P+X|0,Ae^=p<<9|p>>>32-9,p=Ae+P|0,de^=p<<13|p>>>32-13,p=de+Ae|0,X^=p<<18|p>>>32-18,p=F+I|0,Re^=p<<7|p>>>32-7,p=Re+F|0,re^=p<<9|p>>>32-9,p=re+Re|0,I^=p<<13|p>>>32-13,p=I+re|0,F^=p<<18|p>>>32-18,p=ke+D|0,ie^=p<<7|p>>>32-7,p=ie+ke|0,T^=p<<9|p>>>32-9,p=T+ie|0,D^=p<<13|p>>>32-13,p=D+T|0,ke^=p<<18|p>>>32-18,p=oe+ie|0,de^=p<<7|p>>>32-7,p=de+oe|0,re^=p<<9|p>>>32-9,p=re+de|0,ie^=p<<13|p>>>32-13,p=ie+re|0,oe^=p<<18|p>>>32-18,p=X+ce|0,I^=p<<7|p>>>32-7,p=I+X|0,T^=p<<9|p>>>32-9,p=T+I|0,ce^=p<<13|p>>>32-13,p=ce+T|0,X^=p<<18|p>>>32-18,p=F+P|0,D^=p<<7|p>>>32-7,p=D+F|0,z^=p<<9|p>>>32-9,p=z+D|0,P^=p<<13|p>>>32-13,p=P+z|0,F^=p<<18|p>>>32-18,p=ke+Re|0,pe^=p<<7|p>>>32-7,p=pe+ke|0,Ae^=p<<9|p>>>32-9,p=Ae+pe|0,Re^=p<<13|p>>>32-13,p=Re+Ae|0,ke^=p<<18|p>>>32-18;c[0]=oe>>>0&255,c[1]=oe>>>8&255,c[2]=oe>>>16&255,c[3]=oe>>>24&255,c[4]=X>>>0&255,c[5]=X>>>8&255,c[6]=X>>>16&255,c[7]=X>>>24&255,c[8]=F>>>0&255,c[9]=F>>>8&255,c[10]=F>>>16&255,c[11]=F>>>24&255,c[12]=ke>>>0&255,c[13]=ke>>>8&255,c[14]=ke>>>16&255,c[15]=ke>>>24&255,c[16]=I>>>0&255,c[17]=I>>>8&255,c[18]=I>>>16&255,c[19]=I>>>24&255,c[20]=T>>>0&255,c[21]=T>>>8&255,c[22]=T>>>16&255,c[23]=T>>>24&255,c[24]=z>>>0&255,c[25]=z>>>8&255,c[26]=z>>>16&255,c[27]=z>>>24&255,c[28]=P>>>0&255,c[29]=P>>>8&255,c[30]=P>>>16&255,c[31]=P>>>24&255}function Y(c,u,f,i){N(c,u,f,i)}function L(c,u,f,i){w(c,u,f,i)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function W(c,u,f,i,d,x,m){var O=new Uint8Array(16),K=new Uint8Array(64),fe,Q;for(Q=0;Q<16;Q++)O[Q]=0;for(Q=0;Q<8;Q++)O[Q]=x[Q];for(;d>=64;){for(Y(K,O,m,j),Q=0;Q<64;Q++)c[u+Q]=f[i+Q]^K[Q];for(fe=1,Q=8;Q<16;Q++)fe=fe+(O[Q]&255)|0,O[Q]=fe&255,fe>>>=8;d-=64,u+=64,i+=64}if(d>0)for(Y(K,O,m,j),Q=0;Q<d;Q++)c[u+Q]=f[i+Q]^K[Q];return 0}function se(c,u,f,i,d){var x=new Uint8Array(16),m=new Uint8Array(64),O,K;for(K=0;K<16;K++)x[K]=0;for(K=0;K<8;K++)x[K]=i[K];for(;f>=64;){for(Y(m,x,d,j),K=0;K<64;K++)c[u+K]=m[K];for(O=1,K=8;K<16;K++)O=O+(x[K]&255)|0,x[K]=O&255,O>>>=8;f-=64,u+=64}if(f>0)for(Y(m,x,d,j),K=0;K<f;K++)c[u+K]=m[K];return 0}function Oe(c,u,f,i,d){var x=new Uint8Array(32);L(x,i,d,j);for(var m=new Uint8Array(8),O=0;O<8;O++)m[O]=i[O+16];return se(c,u,f,m,x)}function $e(c,u,f,i,d,x,m){var O=new Uint8Array(32);L(O,x,m,j);for(var K=new Uint8Array(8),fe=0;fe<8;fe++)K[fe]=x[fe+16];return W(c,u,f,i,d,K,O)}var nt=function(c){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var u,f,i,d,x,m,O,K;u=c[0]&255|(c[1]&255)<<8,this.r[0]=u&8191,f=c[2]&255|(c[3]&255)<<8,this.r[1]=(u>>>13|f<<3)&8191,i=c[4]&255|(c[5]&255)<<8,this.r[2]=(f>>>10|i<<6)&7939,d=c[6]&255|(c[7]&255)<<8,this.r[3]=(i>>>7|d<<9)&8191,x=c[8]&255|(c[9]&255)<<8,this.r[4]=(d>>>4|x<<12)&255,this.r[5]=x>>>1&8190,m=c[10]&255|(c[11]&255)<<8,this.r[6]=(x>>>14|m<<2)&8191,O=c[12]&255|(c[13]&255)<<8,this.r[7]=(m>>>11|O<<5)&8065,K=c[14]&255|(c[15]&255)<<8,this.r[8]=(O>>>8|K<<8)&8191,this.r[9]=K>>>5&127,this.pad[0]=c[16]&255|(c[17]&255)<<8,this.pad[1]=c[18]&255|(c[19]&255)<<8,this.pad[2]=c[20]&255|(c[21]&255)<<8,this.pad[3]=c[22]&255|(c[23]&255)<<8,this.pad[4]=c[24]&255|(c[25]&255)<<8,this.pad[5]=c[26]&255|(c[27]&255)<<8,this.pad[6]=c[28]&255|(c[29]&255)<<8,this.pad[7]=c[30]&255|(c[31]&255)<<8};nt.prototype.blocks=function(c,u,f){for(var i=this.fin?0:2048,d,x,m,O,K,fe,Q,Me,ne,be,we,Ee,Se,me,_e,ve,oe,de,re,ie=this.h[0],ce=this.h[1],X=this.h[2],I=this.h[3],T=this.h[4],z=this.h[5],P=this.h[6],F=this.h[7],D=this.h[8],pe=this.h[9],Ae=this.r[0],Re=this.r[1],ke=this.r[2],p=this.r[3],Ue=this.r[4],ze=this.r[5],qe=this.r[6],Ie=this.r[7],Fe=this.r[8],Ne=this.r[9];f>=16;)d=c[u+0]&255|(c[u+1]&255)<<8,ie+=d&8191,x=c[u+2]&255|(c[u+3]&255)<<8,ce+=(d>>>13|x<<3)&8191,m=c[u+4]&255|(c[u+5]&255)<<8,X+=(x>>>10|m<<6)&8191,O=c[u+6]&255|(c[u+7]&255)<<8,I+=(m>>>7|O<<9)&8191,K=c[u+8]&255|(c[u+9]&255)<<8,T+=(O>>>4|K<<12)&8191,z+=K>>>1&8191,fe=c[u+10]&255|(c[u+11]&255)<<8,P+=(K>>>14|fe<<2)&8191,Q=c[u+12]&255|(c[u+13]&255)<<8,F+=(fe>>>11|Q<<5)&8191,Me=c[u+14]&255|(c[u+15]&255)<<8,D+=(Q>>>8|Me<<8)&8191,pe+=Me>>>5|i,ne=0,be=ne,be+=ie*Ae,be+=ce*(5*Ne),be+=X*(5*Fe),be+=I*(5*Ie),be+=T*(5*qe),ne=be>>>13,be&=8191,be+=z*(5*ze),be+=P*(5*Ue),be+=F*(5*p),be+=D*(5*ke),be+=pe*(5*Re),ne+=be>>>13,be&=8191,we=ne,we+=ie*Re,we+=ce*Ae,we+=X*(5*Ne),we+=I*(5*Fe),we+=T*(5*Ie),ne=we>>>13,we&=8191,we+=z*(5*qe),we+=P*(5*ze),we+=F*(5*Ue),we+=D*(5*p),we+=pe*(5*ke),ne+=we>>>13,we&=8191,Ee=ne,Ee+=ie*ke,Ee+=ce*Re,Ee+=X*Ae,Ee+=I*(5*Ne),Ee+=T*(5*Fe),ne=Ee>>>13,Ee&=8191,Ee+=z*(5*Ie),Ee+=P*(5*qe),Ee+=F*(5*ze),Ee+=D*(5*Ue),Ee+=pe*(5*p),ne+=Ee>>>13,Ee&=8191,Se=ne,Se+=ie*p,Se+=ce*ke,Se+=X*Re,Se+=I*Ae,Se+=T*(5*Ne),ne=Se>>>13,Se&=8191,Se+=z*(5*Fe),Se+=P*(5*Ie),Se+=F*(5*qe),Se+=D*(5*ze),Se+=pe*(5*Ue),ne+=Se>>>13,Se&=8191,me=ne,me+=ie*Ue,me+=ce*p,me+=X*ke,me+=I*Re,me+=T*Ae,ne=me>>>13,me&=8191,me+=z*(5*Ne),me+=P*(5*Fe),me+=F*(5*Ie),me+=D*(5*qe),me+=pe*(5*ze),ne+=me>>>13,me&=8191,_e=ne,_e+=ie*ze,_e+=ce*Ue,_e+=X*p,_e+=I*ke,_e+=T*Re,ne=_e>>>13,_e&=8191,_e+=z*Ae,_e+=P*(5*Ne),_e+=F*(5*Fe),_e+=D*(5*Ie),_e+=pe*(5*qe),ne+=_e>>>13,_e&=8191,ve=ne,ve+=ie*qe,ve+=ce*ze,ve+=X*Ue,ve+=I*p,ve+=T*ke,ne=ve>>>13,ve&=8191,ve+=z*Re,ve+=P*Ae,ve+=F*(5*Ne),ve+=D*(5*Fe),ve+=pe*(5*Ie),ne+=ve>>>13,ve&=8191,oe=ne,oe+=ie*Ie,oe+=ce*qe,oe+=X*ze,oe+=I*Ue,oe+=T*p,ne=oe>>>13,oe&=8191,oe+=z*ke,oe+=P*Re,oe+=F*Ae,oe+=D*(5*Ne),oe+=pe*(5*Fe),ne+=oe>>>13,oe&=8191,de=ne,de+=ie*Fe,de+=ce*Ie,de+=X*qe,de+=I*ze,de+=T*Ue,ne=de>>>13,de&=8191,de+=z*p,de+=P*ke,de+=F*Re,de+=D*Ae,de+=pe*(5*Ne),ne+=de>>>13,de&=8191,re=ne,re+=ie*Ne,re+=ce*Fe,re+=X*Ie,re+=I*qe,re+=T*ze,ne=re>>>13,re&=8191,re+=z*Ue,re+=P*p,re+=F*ke,re+=D*Re,re+=pe*Ae,ne+=re>>>13,re&=8191,ne=(ne<<2)+ne|0,ne=ne+be|0,be=ne&8191,ne=ne>>>13,we+=ne,ie=be,ce=we,X=Ee,I=Se,T=me,z=_e,P=ve,F=oe,D=de,pe=re,u+=16,f-=16;this.h[0]=ie,this.h[1]=ce,this.h[2]=X,this.h[3]=I,this.h[4]=T,this.h[5]=z,this.h[6]=P,this.h[7]=F,this.h[8]=D,this.h[9]=pe},nt.prototype.finish=function(c,u){var f=new Uint16Array(10),i,d,x,m;if(this.leftover){for(m=this.leftover,this.buffer[m++]=1;m<16;m++)this.buffer[m]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,m=2;m<10;m++)this.h[m]+=i,i=this.h[m]>>>13,this.h[m]&=8191;for(this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,f[0]=this.h[0]+5,i=f[0]>>>13,f[0]&=8191,m=1;m<10;m++)f[m]=this.h[m]+i,i=f[m]>>>13,f[m]&=8191;for(f[9]-=8192,d=(i^1)-1,m=0;m<10;m++)f[m]&=d;for(d=~d,m=0;m<10;m++)this.h[m]=this.h[m]&d|f[m];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,x=this.h[0]+this.pad[0],this.h[0]=x&65535,m=1;m<8;m++)x=(this.h[m]+this.pad[m]|0)+(x>>>16)|0,this.h[m]=x&65535;c[u+0]=this.h[0]>>>0&255,c[u+1]=this.h[0]>>>8&255,c[u+2]=this.h[1]>>>0&255,c[u+3]=this.h[1]>>>8&255,c[u+4]=this.h[2]>>>0&255,c[u+5]=this.h[2]>>>8&255,c[u+6]=this.h[3]>>>0&255,c[u+7]=this.h[3]>>>8&255,c[u+8]=this.h[4]>>>0&255,c[u+9]=this.h[4]>>>8&255,c[u+10]=this.h[5]>>>0&255,c[u+11]=this.h[5]>>>8&255,c[u+12]=this.h[6]>>>0&255,c[u+13]=this.h[6]>>>8&255,c[u+14]=this.h[7]>>>0&255,c[u+15]=this.h[7]>>>8&255},nt.prototype.update=function(c,u,f){var i,d;if(this.leftover){for(d=16-this.leftover,d>f&&(d=f),i=0;i<d;i++)this.buffer[this.leftover+i]=c[u+i];if(f-=d,u+=d,this.leftover+=d,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(d=f-f%16,this.blocks(c,u,d),u+=d,f-=d),f){for(i=0;i<f;i++)this.buffer[this.leftover+i]=c[u+i];this.leftover+=f}};function ot(c,u,f,i,d,x){var m=new nt(x);return m.update(f,i,d),m.finish(c,u),0}function vt(c,u,f,i,d,x){var m=new Uint8Array(16);return ot(m,0,f,i,d,x),b(c,u,m,0)}function Ut(c,u,f,i,d){var x;if(f<32)return-1;for($e(c,0,u,0,f,i,d),ot(c,16,c,32,f-32,c),x=0;x<16;x++)c[x]=0;return 0}function Pt(c,u,f,i,d){var x,m=new Uint8Array(32);if(f<32||(Oe(m,0,32,i,d),vt(u,16,u,32,f-32,m)!==0))return-1;for($e(c,0,u,0,f,i,d),x=0;x<32;x++)c[x]=0;return 0}function _t(c,u){var f;for(f=0;f<16;f++)c[f]=u[f]|0}function er(c){var u,f,i=1;for(u=0;u<16;u++)f=c[u]+i+65535,i=Math.floor(f/65536),c[u]=f-i*65536;c[0]+=i-1+37*(i-1)}function ae(c,u,f){for(var i,d=~(f-1),x=0;x<16;x++)i=d&(c[x]^u[x]),c[x]^=i,u[x]^=i}function S(c,u){var f,i,d,x=t(),m=t();for(f=0;f<16;f++)m[f]=u[f];for(er(m),er(m),er(m),i=0;i<2;i++){for(x[0]=m[0]-65517,f=1;f<15;f++)x[f]=m[f]-65535-(x[f-1]>>16&1),x[f-1]&=65535;x[15]=m[15]-32767-(x[14]>>16&1),d=x[15]>>16&1,x[14]&=65535,ae(m,x,1-d)}for(f=0;f<16;f++)c[2*f]=m[f]&255,c[2*f+1]=m[f]>>8}function R(c,u){var f=new Uint8Array(32),i=new Uint8Array(32);return S(f,c),S(i,u),M(f,0,i,0)}function C(c){var u=new Uint8Array(32);return S(u,c),u[0]&1}function $(c,u){var f;for(f=0;f<16;f++)c[f]=u[2*f]+(u[2*f+1]<<8);c[15]&=32767}function H(c,u,f){for(var i=0;i<16;i++)c[i]=u[i]+f[i]}function G(c,u,f){for(var i=0;i<16;i++)c[i]=u[i]-f[i]}function Z(c,u,f){var i,d,x=0,m=0,O=0,K=0,fe=0,Q=0,Me=0,ne=0,be=0,we=0,Ee=0,Se=0,me=0,_e=0,ve=0,oe=0,de=0,re=0,ie=0,ce=0,X=0,I=0,T=0,z=0,P=0,F=0,D=0,pe=0,Ae=0,Re=0,ke=0,p=f[0],Ue=f[1],ze=f[2],qe=f[3],Ie=f[4],Fe=f[5],Ne=f[6],st=f[7],je=f[8],Qe=f[9],et=f[10],tt=f[11],at=f[12],dt=f[13],pt=f[14],gt=f[15];i=u[0],x+=i*p,m+=i*Ue,O+=i*ze,K+=i*qe,fe+=i*Ie,Q+=i*Fe,Me+=i*Ne,ne+=i*st,be+=i*je,we+=i*Qe,Ee+=i*et,Se+=i*tt,me+=i*at,_e+=i*dt,ve+=i*pt,oe+=i*gt,i=u[1],m+=i*p,O+=i*Ue,K+=i*ze,fe+=i*qe,Q+=i*Ie,Me+=i*Fe,ne+=i*Ne,be+=i*st,we+=i*je,Ee+=i*Qe,Se+=i*et,me+=i*tt,_e+=i*at,ve+=i*dt,oe+=i*pt,de+=i*gt,i=u[2],O+=i*p,K+=i*Ue,fe+=i*ze,Q+=i*qe,Me+=i*Ie,ne+=i*Fe,be+=i*Ne,we+=i*st,Ee+=i*je,Se+=i*Qe,me+=i*et,_e+=i*tt,ve+=i*at,oe+=i*dt,de+=i*pt,re+=i*gt,i=u[3],K+=i*p,fe+=i*Ue,Q+=i*ze,Me+=i*qe,ne+=i*Ie,be+=i*Fe,we+=i*Ne,Ee+=i*st,Se+=i*je,me+=i*Qe,_e+=i*et,ve+=i*tt,oe+=i*at,de+=i*dt,re+=i*pt,ie+=i*gt,i=u[4],fe+=i*p,Q+=i*Ue,Me+=i*ze,ne+=i*qe,be+=i*Ie,we+=i*Fe,Ee+=i*Ne,Se+=i*st,me+=i*je,_e+=i*Qe,ve+=i*et,oe+=i*tt,de+=i*at,re+=i*dt,ie+=i*pt,ce+=i*gt,i=u[5],Q+=i*p,Me+=i*Ue,ne+=i*ze,be+=i*qe,we+=i*Ie,Ee+=i*Fe,Se+=i*Ne,me+=i*st,_e+=i*je,ve+=i*Qe,oe+=i*et,de+=i*tt,re+=i*at,ie+=i*dt,ce+=i*pt,X+=i*gt,i=u[6],Me+=i*p,ne+=i*Ue,be+=i*ze,we+=i*qe,Ee+=i*Ie,Se+=i*Fe,me+=i*Ne,_e+=i*st,ve+=i*je,oe+=i*Qe,de+=i*et,re+=i*tt,ie+=i*at,ce+=i*dt,X+=i*pt,I+=i*gt,i=u[7],ne+=i*p,be+=i*Ue,we+=i*ze,Ee+=i*qe,Se+=i*Ie,me+=i*Fe,_e+=i*Ne,ve+=i*st,oe+=i*je,de+=i*Qe,re+=i*et,ie+=i*tt,ce+=i*at,X+=i*dt,I+=i*pt,T+=i*gt,i=u[8],be+=i*p,we+=i*Ue,Ee+=i*ze,Se+=i*qe,me+=i*Ie,_e+=i*Fe,ve+=i*Ne,oe+=i*st,de+=i*je,re+=i*Qe,ie+=i*et,ce+=i*tt,X+=i*at,I+=i*dt,T+=i*pt,z+=i*gt,i=u[9],we+=i*p,Ee+=i*Ue,Se+=i*ze,me+=i*qe,_e+=i*Ie,ve+=i*Fe,oe+=i*Ne,de+=i*st,re+=i*je,ie+=i*Qe,ce+=i*et,X+=i*tt,I+=i*at,T+=i*dt,z+=i*pt,P+=i*gt,i=u[10],Ee+=i*p,Se+=i*Ue,me+=i*ze,_e+=i*qe,ve+=i*Ie,oe+=i*Fe,de+=i*Ne,re+=i*st,ie+=i*je,ce+=i*Qe,X+=i*et,I+=i*tt,T+=i*at,z+=i*dt,P+=i*pt,F+=i*gt,i=u[11],Se+=i*p,me+=i*Ue,_e+=i*ze,ve+=i*qe,oe+=i*Ie,de+=i*Fe,re+=i*Ne,ie+=i*st,ce+=i*je,X+=i*Qe,I+=i*et,T+=i*tt,z+=i*at,P+=i*dt,F+=i*pt,D+=i*gt,i=u[12],me+=i*p,_e+=i*Ue,ve+=i*ze,oe+=i*qe,de+=i*Ie,re+=i*Fe,ie+=i*Ne,ce+=i*st,X+=i*je,I+=i*Qe,T+=i*et,z+=i*tt,P+=i*at,F+=i*dt,D+=i*pt,pe+=i*gt,i=u[13],_e+=i*p,ve+=i*Ue,oe+=i*ze,de+=i*qe,re+=i*Ie,ie+=i*Fe,ce+=i*Ne,X+=i*st,I+=i*je,T+=i*Qe,z+=i*et,P+=i*tt,F+=i*at,D+=i*dt,pe+=i*pt,Ae+=i*gt,i=u[14],ve+=i*p,oe+=i*Ue,de+=i*ze,re+=i*qe,ie+=i*Ie,ce+=i*Fe,X+=i*Ne,I+=i*st,T+=i*je,z+=i*Qe,P+=i*et,F+=i*tt,D+=i*at,pe+=i*dt,Ae+=i*pt,Re+=i*gt,i=u[15],oe+=i*p,de+=i*Ue,re+=i*ze,ie+=i*qe,ce+=i*Ie,X+=i*Fe,I+=i*Ne,T+=i*st,z+=i*je,P+=i*Qe,F+=i*et,D+=i*tt,pe+=i*at,Ae+=i*dt,Re+=i*pt,ke+=i*gt,x+=38*de,m+=38*re,O+=38*ie,K+=38*ce,fe+=38*X,Q+=38*I,Me+=38*T,ne+=38*z,be+=38*P,we+=38*F,Ee+=38*D,Se+=38*pe,me+=38*Ae,_e+=38*Re,ve+=38*ke,d=1,i=x+d+65535,d=Math.floor(i/65536),x=i-d*65536,i=m+d+65535,d=Math.floor(i/65536),m=i-d*65536,i=O+d+65535,d=Math.floor(i/65536),O=i-d*65536,i=K+d+65535,d=Math.floor(i/65536),K=i-d*65536,i=fe+d+65535,d=Math.floor(i/65536),fe=i-d*65536,i=Q+d+65535,d=Math.floor(i/65536),Q=i-d*65536,i=Me+d+65535,d=Math.floor(i/65536),Me=i-d*65536,i=ne+d+65535,d=Math.floor(i/65536),ne=i-d*65536,i=be+d+65535,d=Math.floor(i/65536),be=i-d*65536,i=we+d+65535,d=Math.floor(i/65536),we=i-d*65536,i=Ee+d+65535,d=Math.floor(i/65536),Ee=i-d*65536,i=Se+d+65535,d=Math.floor(i/65536),Se=i-d*65536,i=me+d+65535,d=Math.floor(i/65536),me=i-d*65536,i=_e+d+65535,d=Math.floor(i/65536),_e=i-d*65536,i=ve+d+65535,d=Math.floor(i/65536),ve=i-d*65536,i=oe+d+65535,d=Math.floor(i/65536),oe=i-d*65536,x+=d-1+37*(d-1),d=1,i=x+d+65535,d=Math.floor(i/65536),x=i-d*65536,i=m+d+65535,d=Math.floor(i/65536),m=i-d*65536,i=O+d+65535,d=Math.floor(i/65536),O=i-d*65536,i=K+d+65535,d=Math.floor(i/65536),K=i-d*65536,i=fe+d+65535,d=Math.floor(i/65536),fe=i-d*65536,i=Q+d+65535,d=Math.floor(i/65536),Q=i-d*65536,i=Me+d+65535,d=Math.floor(i/65536),Me=i-d*65536,i=ne+d+65535,d=Math.floor(i/65536),ne=i-d*65536,i=be+d+65535,d=Math.floor(i/65536),be=i-d*65536,i=we+d+65535,d=Math.floor(i/65536),we=i-d*65536,i=Ee+d+65535,d=Math.floor(i/65536),Ee=i-d*65536,i=Se+d+65535,d=Math.floor(i/65536),Se=i-d*65536,i=me+d+65535,d=Math.floor(i/65536),me=i-d*65536,i=_e+d+65535,d=Math.floor(i/65536),_e=i-d*65536,i=ve+d+65535,d=Math.floor(i/65536),ve=i-d*65536,i=oe+d+65535,d=Math.floor(i/65536),oe=i-d*65536,x+=d-1+37*(d-1),c[0]=x,c[1]=m,c[2]=O,c[3]=K,c[4]=fe,c[5]=Q,c[6]=Me,c[7]=ne,c[8]=be,c[9]=we,c[10]=Ee,c[11]=Se,c[12]=me,c[13]=_e,c[14]=ve,c[15]=oe}function he(c,u){Z(c,u,u)}function Be(c,u){var f=t(),i;for(i=0;i<16;i++)f[i]=u[i];for(i=253;i>=0;i--)he(f,f),i!==2&&i!==4&&Z(f,f,u);for(i=0;i<16;i++)c[i]=f[i]}function He(c,u){var f=t(),i;for(i=0;i<16;i++)f[i]=u[i];for(i=250;i>=0;i--)he(f,f),i!==1&&Z(f,f,u);for(i=0;i<16;i++)c[i]=f[i]}function We(c,u,f){var i=new Uint8Array(32),d=new Float64Array(80),x,m,O=t(),K=t(),fe=t(),Q=t(),Me=t(),ne=t();for(m=0;m<31;m++)i[m]=u[m];for(i[31]=u[31]&127|64,i[0]&=248,$(d,f),m=0;m<16;m++)K[m]=d[m],Q[m]=O[m]=fe[m]=0;for(O[0]=Q[0]=1,m=254;m>=0;--m)x=i[m>>>3]>>>(m&7)&1,ae(O,K,x),ae(fe,Q,x),H(Me,O,fe),G(O,O,fe),H(fe,K,Q),G(K,K,Q),he(Q,Me),he(ne,O),Z(O,fe,O),Z(fe,K,Me),H(Me,O,fe),G(O,O,fe),he(K,O),G(fe,Q,ne),Z(O,fe,h),H(O,O,Q),Z(fe,fe,O),Z(O,Q,ne),Z(Q,K,d),he(K,Me),ae(O,K,x),ae(fe,Q,x);for(m=0;m<16;m++)d[m+16]=O[m],d[m+32]=fe[m],d[m+48]=K[m],d[m+64]=Q[m];var be=d.subarray(32),we=d.subarray(16);return Be(be,be),Z(we,we,be),S(c,we),0}function Je(c,u){return We(c,u,o)}function ct(c,u){return r(u,32),Je(c,u)}function kt(c,u,f){var i=new Uint8Array(32);return We(i,f,u),L(c,s,i,j)}var Ot=Ut,mr=Pt;function vr(c,u,f,i,d,x){var m=new Uint8Array(32);return kt(m,d,x),Ot(c,u,f,i,m)}function fn(c,u,f,i,d,x){var m=new Uint8Array(32);return kt(m,d,x),mr(c,u,f,i,m)}var Kr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function un(c,u,f,i){for(var d=new Int32Array(16),x=new Int32Array(16),m,O,K,fe,Q,Me,ne,be,we,Ee,Se,me,_e,ve,oe,de,re,ie,ce,X,I,T,z,P,F,D,pe=c[0],Ae=c[1],Re=c[2],ke=c[3],p=c[4],Ue=c[5],ze=c[6],qe=c[7],Ie=u[0],Fe=u[1],Ne=u[2],st=u[3],je=u[4],Qe=u[5],et=u[6],tt=u[7],at=0;i>=128;){for(ce=0;ce<16;ce++)X=8*ce+at,d[ce]=f[X+0]<<24|f[X+1]<<16|f[X+2]<<8|f[X+3],x[ce]=f[X+4]<<24|f[X+5]<<16|f[X+6]<<8|f[X+7];for(ce=0;ce<80;ce++)if(m=pe,O=Ae,K=Re,fe=ke,Q=p,Me=Ue,ne=ze,be=qe,we=Ie,Ee=Fe,Se=Ne,me=st,_e=je,ve=Qe,oe=et,de=tt,I=qe,T=tt,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=(p>>>14|je<<32-14)^(p>>>18|je<<32-18)^(je>>>41-32|p<<32-(41-32)),T=(je>>>14|p<<32-14)^(je>>>18|p<<32-18)^(p>>>41-32|je<<32-(41-32)),z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,I=p&Ue^~p&ze,T=je&Qe^~je&et,z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,I=Kr[ce*2],T=Kr[ce*2+1],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,I=d[ce%16],T=x[ce%16],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,re=F&65535|D<<16,ie=z&65535|P<<16,I=re,T=ie,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=(pe>>>28|Ie<<32-28)^(Ie>>>34-32|pe<<32-(34-32))^(Ie>>>39-32|pe<<32-(39-32)),T=(Ie>>>28|pe<<32-28)^(pe>>>34-32|Ie<<32-(34-32))^(pe>>>39-32|Ie<<32-(39-32)),z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,I=pe&Ae^pe&Re^Ae&Re,T=Ie&Fe^Ie&Ne^Fe&Ne,z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,be=F&65535|D<<16,de=z&65535|P<<16,I=fe,T=me,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=re,T=ie,z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,fe=F&65535|D<<16,me=z&65535|P<<16,Ae=m,Re=O,ke=K,p=fe,Ue=Q,ze=Me,qe=ne,pe=be,Fe=we,Ne=Ee,st=Se,je=me,Qe=_e,et=ve,tt=oe,Ie=de,ce%16===15)for(X=0;X<16;X++)I=d[X],T=x[X],z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=d[(X+9)%16],T=x[(X+9)%16],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,re=d[(X+1)%16],ie=x[(X+1)%16],I=(re>>>1|ie<<32-1)^(re>>>8|ie<<32-8)^re>>>7,T=(ie>>>1|re<<32-1)^(ie>>>8|re<<32-8)^(ie>>>7|re<<32-7),z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,re=d[(X+14)%16],ie=x[(X+14)%16],I=(re>>>19|ie<<32-19)^(ie>>>61-32|re<<32-(61-32))^re>>>6,T=(ie>>>19|re<<32-19)^(re>>>61-32|ie<<32-(61-32))^(ie>>>6|re<<32-6),z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,d[X]=F&65535|D<<16,x[X]=z&65535|P<<16;I=pe,T=Ie,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[0],T=u[0],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[0]=pe=F&65535|D<<16,u[0]=Ie=z&65535|P<<16,I=Ae,T=Fe,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[1],T=u[1],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[1]=Ae=F&65535|D<<16,u[1]=Fe=z&65535|P<<16,I=Re,T=Ne,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[2],T=u[2],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[2]=Re=F&65535|D<<16,u[2]=Ne=z&65535|P<<16,I=ke,T=st,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[3],T=u[3],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[3]=ke=F&65535|D<<16,u[3]=st=z&65535|P<<16,I=p,T=je,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[4],T=u[4],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[4]=p=F&65535|D<<16,u[4]=je=z&65535|P<<16,I=Ue,T=Qe,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[5],T=u[5],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[5]=Ue=F&65535|D<<16,u[5]=Qe=z&65535|P<<16,I=ze,T=et,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[6],T=u[6],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[6]=ze=F&65535|D<<16,u[6]=et=z&65535|P<<16,I=qe,T=tt,z=T&65535,P=T>>>16,F=I&65535,D=I>>>16,I=c[7],T=u[7],z+=T&65535,P+=T>>>16,F+=I&65535,D+=I>>>16,P+=z>>>16,F+=P>>>16,D+=F>>>16,c[7]=qe=F&65535|D<<16,u[7]=tt=z&65535|P<<16,at+=128,i-=128}return i}function Vt(c,u,f){var i=new Int32Array(8),d=new Int32Array(8),x=new Uint8Array(256),m,O=f;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,d[0]=4089235720,d[1]=2227873595,d[2]=4271175723,d[3]=1595750129,d[4]=2917565137,d[5]=725511199,d[6]=4215389547,d[7]=327033209,un(i,d,u,f),f%=128,m=0;m<f;m++)x[m]=u[O-f+m];for(x[f]=128,f=256-128*(f<112?1:0),x[f-9]=0,E(x,f-8,O/536870912|0,O<<3),un(i,d,x,f),m=0;m<8;m++)E(c,8*m,i[m],d[m]);return 0}function _r(c,u){var f=t(),i=t(),d=t(),x=t(),m=t(),O=t(),K=t(),fe=t(),Q=t();G(f,c[1],c[0]),G(Q,u[1],u[0]),Z(f,f,Q),H(i,c[0],c[1]),H(Q,u[0],u[1]),Z(i,i,Q),Z(d,c[3],u[3]),Z(d,d,g),Z(x,c[2],u[2]),H(x,x,x),G(m,i,f),G(O,x,d),H(K,x,d),H(fe,i,f),Z(c[0],m,O),Z(c[1],fe,K),Z(c[2],K,O),Z(c[3],m,fe)}function ln(c,u,f){var i;for(i=0;i<4;i++)ae(c[i],u[i],f)}function ur(c,u){var f=t(),i=t(),d=t();Be(d,u[2]),Z(f,u[0],d),Z(i,u[1],d),S(c,i),c[31]^=C(f)<<7}function Sr(c,u,f){var i,d;for(_t(c[0],a),_t(c[1],l),_t(c[2],l),_t(c[3],a),d=255;d>=0;--d)i=f[d/8|0]>>(d&7)&1,ln(c,u,i),_r(u,c),_r(c,c),ln(c,u,i)}function tr(c,u){var f=[t(),t(),t(),t()];_t(f[0],B),_t(f[1],U),_t(f[2],l),Z(f[3],B,U),Sr(c,f,u)}function Er(c,u,f){var i=new Uint8Array(64),d=[t(),t(),t(),t()],x;for(f||r(u,32),Vt(i,u,32),i[0]&=248,i[31]&=127,i[31]|=64,tr(d,i),ur(c,d),x=0;x<32;x++)u[x+32]=c[x];return 0}var lr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ar(c,u){var f,i,d,x;for(i=63;i>=32;--i){for(f=0,d=i-32,x=i-12;d<x;++d)u[d]+=f-16*u[i]*lr[d-(i-32)],f=Math.floor((u[d]+128)/256),u[d]-=f*256;u[d]+=f,u[i]=0}for(f=0,d=0;d<32;d++)u[d]+=f-(u[31]>>4)*lr[d],f=u[d]>>8,u[d]&=255;for(d=0;d<32;d++)u[d]-=f*lr[d];for(i=0;i<32;i++)u[i+1]+=u[i]>>8,c[i]=u[i]&255}function kr(c){var u=new Float64Array(64),f;for(f=0;f<64;f++)u[f]=c[f];for(f=0;f<64;f++)c[f]=0;Ar(c,u)}function jr(c,u,f,i){var d=new Uint8Array(64),x=new Uint8Array(64),m=new Uint8Array(64),O,K,fe=new Float64Array(64),Q=[t(),t(),t(),t()];Vt(d,i,32),d[0]&=248,d[31]&=127,d[31]|=64;var Me=f+64;for(O=0;O<f;O++)c[64+O]=u[O];for(O=0;O<32;O++)c[32+O]=d[32+O];for(Vt(m,c.subarray(32),f+32),kr(m),tr(Q,m),ur(c,Q),O=32;O<64;O++)c[O]=i[O];for(Vt(x,c,f+64),kr(x),O=0;O<64;O++)fe[O]=0;for(O=0;O<32;O++)fe[O]=m[O];for(O=0;O<32;O++)for(K=0;K<32;K++)fe[O+K]+=x[O]*d[K];return Ar(c.subarray(32),fe),Me}function On(c,u){var f=t(),i=t(),d=t(),x=t(),m=t(),O=t(),K=t();return _t(c[2],l),$(c[1],u),he(d,c[1]),Z(x,d,y),G(d,d,c[2]),H(x,c[2],x),he(m,x),he(O,m),Z(K,O,m),Z(f,K,d),Z(f,f,x),He(f,f),Z(f,f,d),Z(f,f,x),Z(f,f,x),Z(c[0],f,x),he(i,c[0]),Z(i,i,x),R(i,d)&&Z(c[0],c[0],_),he(i,c[0]),Z(i,i,x),R(i,d)?-1:(C(c[0])===u[31]>>7&&G(c[0],a,c[0]),Z(c[3],c[0],c[1]),0)}function Gr(c,u,f,i){var d,x=new Uint8Array(32),m=new Uint8Array(64),O=[t(),t(),t(),t()],K=[t(),t(),t(),t()];if(f<64||On(K,i))return-1;for(d=0;d<f;d++)c[d]=u[d];for(d=0;d<32;d++)c[d+32]=i[d];if(Vt(m,c,f),kr(m),Sr(O,K,m),tr(K,u.subarray(32)),_r(O,K),ur(x,O),f-=64,M(u,0,x,0)){for(d=0;d<f;d++)c[d]=0;return-1}for(d=0;d<f;d++)c[d]=u[d+64];return f}var Wr=32,Br=24,Hr=32,Rr=16,$r=32,hn=32,Vr=32,Yr=32,Fn=32,Fs=Br,Pi=Hr,Oi=Rr,Yt=64,hr=32,Ir=64,Nn=32,Mn=64;e.lowlevel={crypto_core_hsalsa20:L,crypto_stream_xor:$e,crypto_stream:Oe,crypto_stream_salsa20_xor:W,crypto_stream_salsa20:se,crypto_onetimeauth:ot,crypto_onetimeauth_verify:vt,crypto_verify_16:b,crypto_verify_32:M,crypto_secretbox:Ut,crypto_secretbox_open:Pt,crypto_scalarmult:We,crypto_scalarmult_base:Je,crypto_box_beforenm:kt,crypto_box_afternm:Ot,crypto_box:vr,crypto_box_open:fn,crypto_box_keypair:ct,crypto_hash:Vt,crypto_sign:jr,crypto_sign_keypair:Er,crypto_sign_open:Gr,crypto_secretbox_KEYBYTES:Wr,crypto_secretbox_NONCEBYTES:Br,crypto_secretbox_ZEROBYTES:Hr,crypto_secretbox_BOXZEROBYTES:Rr,crypto_scalarmult_BYTES:$r,crypto_scalarmult_SCALARBYTES:hn,crypto_box_PUBLICKEYBYTES:Vr,crypto_box_SECRETKEYBYTES:Yr,crypto_box_BEFORENMBYTES:Fn,crypto_box_NONCEBYTES:Fs,crypto_box_ZEROBYTES:Pi,crypto_box_BOXZEROBYTES:Oi,crypto_sign_BYTES:Yt,crypto_sign_PUBLICKEYBYTES:hr,crypto_sign_SECRETKEYBYTES:Ir,crypto_sign_SEEDBYTES:Nn,crypto_hash_BYTES:Mn,gf:t,D:y,L:lr,pack:ur,pack25519:S,unpack25519:$,M:Z,A:H,S:he,Z:G,pow2523:He,add:_r,set25519:_t,modL:Ar,scalarmult:Sr,scalarbase:tr};function Ns(c,u){if(c.length!==Wr)throw new Error("bad key size");if(u.length!==Br)throw new Error("bad nonce size")}function Fi(c,u){if(c.length!==Vr)throw new Error("bad public key size");if(u.length!==Yr)throw new Error("bad secret key size")}function Bt(){for(var c=0;c<arguments.length;c++)if(!(arguments[c]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ms(c){for(var u=0;u<c.length;u++)c[u]=0}e.randomBytes=function(c){var u=new Uint8Array(c);return r(u,c),u},e.secretbox=function(c,u,f){Bt(c,u,f),Ns(f,u);for(var i=new Uint8Array(Hr+c.length),d=new Uint8Array(i.length),x=0;x<c.length;x++)i[x+Hr]=c[x];return Ut(d,i,i.length,u,f),d.subarray(Rr)},e.secretbox.open=function(c,u,f){Bt(c,u,f),Ns(f,u);for(var i=new Uint8Array(Rr+c.length),d=new Uint8Array(i.length),x=0;x<c.length;x++)i[x+Rr]=c[x];return i.length<32||Pt(d,i,i.length,u,f)!==0?null:d.subarray(Hr)},e.secretbox.keyLength=Wr,e.secretbox.nonceLength=Br,e.secretbox.overheadLength=Rr,e.scalarMult=function(c,u){if(Bt(c,u),c.length!==hn)throw new Error("bad n size");if(u.length!==$r)throw new Error("bad p size");var f=new Uint8Array($r);return We(f,c,u),f},e.scalarMult.base=function(c){if(Bt(c),c.length!==hn)throw new Error("bad n size");var u=new Uint8Array($r);return Je(u,c),u},e.scalarMult.scalarLength=hn,e.scalarMult.groupElementLength=$r,e.box=function(c,u,f,i){var d=e.box.before(f,i);return e.secretbox(c,u,d)},e.box.before=function(c,u){Bt(c,u),Fi(c,u);var f=new Uint8Array(Fn);return kt(f,c,u),f},e.box.after=e.secretbox,e.box.open=function(c,u,f,i){var d=e.box.before(f,i);return e.secretbox.open(c,u,d)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var c=new Uint8Array(Vr),u=new Uint8Array(Yr);return ct(c,u),{publicKey:c,secretKey:u}},e.box.keyPair.fromSecretKey=function(c){if(Bt(c),c.length!==Yr)throw new Error("bad secret key size");var u=new Uint8Array(Vr);return Je(u,c),{publicKey:u,secretKey:new Uint8Array(c)}},e.box.publicKeyLength=Vr,e.box.secretKeyLength=Yr,e.box.sharedKeyLength=Fn,e.box.nonceLength=Fs,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(c,u){if(Bt(c,u),u.length!==Ir)throw new Error("bad secret key size");var f=new Uint8Array(Yt+c.length);return jr(f,c,c.length,u),f},e.sign.open=function(c,u){if(Bt(c,u),u.length!==hr)throw new Error("bad public key size");var f=new Uint8Array(c.length),i=Gr(f,c,c.length,u);if(i<0)return null;for(var d=new Uint8Array(i),x=0;x<d.length;x++)d[x]=f[x];return d},e.sign.detached=function(c,u){for(var f=e.sign(c,u),i=new Uint8Array(Yt),d=0;d<i.length;d++)i[d]=f[d];return i},e.sign.detached.verify=function(c,u,f){if(Bt(c,u,f),u.length!==Yt)throw new Error("bad signature size");if(f.length!==hr)throw new Error("bad public key size");var i=new Uint8Array(Yt+c.length),d=new Uint8Array(Yt+c.length),x;for(x=0;x<Yt;x++)i[x]=u[x];for(x=0;x<c.length;x++)i[x+Yt]=c[x];return Gr(d,i,i.length,f)>=0},e.sign.keyPair=function(){var c=new Uint8Array(hr),u=new Uint8Array(Ir);return Er(c,u),{publicKey:c,secretKey:u}},e.sign.keyPair.fromSecretKey=function(c){if(Bt(c),c.length!==Ir)throw new Error("bad secret key size");for(var u=new Uint8Array(hr),f=0;f<u.length;f++)u[f]=c[32+f];return{publicKey:u,secretKey:new Uint8Array(c)}},e.sign.keyPair.fromSeed=function(c){if(Bt(c),c.length!==Nn)throw new Error("bad seed size");for(var u=new Uint8Array(hr),f=new Uint8Array(Ir),i=0;i<32;i++)f[i]=c[i];return Er(u,f,!0),{publicKey:u,secretKey:f}},e.sign.publicKeyLength=hr,e.sign.secretKeyLength=Ir,e.sign.seedLength=Nn,e.sign.signatureLength=Yt,e.hash=function(c){Bt(c);var u=new Uint8Array(Mn);return Vt(u,c,c.length),u},e.hash.hashLength=Mn,e.verify=function(c,u){return Bt(c,u),c.length===0||u.length===0||c.length!==u.length?!1:A(c,0,u,0,c.length)===0},e.setPRNG=function(c){r=c},function(){var c=typeof self<"u"?self.crypto||self.msCrypto:null;if(c&&c.getRandomValues){var u=65536;e.setPRNG(function(f,i){var d,x=new Uint8Array(i);for(d=0;d<i;d+=u)c.getRandomValues(x.subarray(d,d+Math.min(i-d,u)));for(d=0;d<i;d++)f[d]=x[d];Ms(x)})}else typeof Ji<"u"&&(c=Xi,c&&c.randomBytes&&e.setPRNG(function(f,i){var d,x=c.randomBytes(i);for(d=0;d<i;d++)f[d]=x[d];Ms(x)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})})(Ui);var Iu=Ui.exports;const Mu=Nr(Iu);export{Nu as C,bn as K,xe as P,wi as V,Pu as b,Mu as n};
