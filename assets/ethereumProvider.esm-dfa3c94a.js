import{aU as Ac,aV as Sc,aW as Pc,aX as Jr,s as df,aY as Ue,aZ as ir,a_ as br,a$ as oi,b0 as Ar,b1 as Tc,b2 as Je,b3 as Dc,b4 as wn,b5 as Wt,b6 as Ic,b7 as lf,b8 as Bc,b9 as _n,x as Pa,ba as gn,bb as yn,bc as Oc,bd as Ta,be as Da,bf as Cc,bg as Dt,bh as An,bi as zo,bj as Fc,bk as Nc,bl as Be,bm as Mc,bn as gi,bo as so,bp as Vo,bq as Lc,br as kc,bs as Uc,bt as Rc,bu as jt,G as hf,_ as mn,bv as er,ao as xf,a as Xe,O as pn,d as ke,ap as bf,aq as gf,as as yf,bw as yi,U as Ko,av as _r,ah as jc,bx as Hc,by as Ir,at as Lt,au as $c,o as pf,bz as ii}from"./provider-browser-5807d46b.js";import{l as Vn,k as mf,c as ze}from"./index-c463d612.js";import{k as Sr,s as Gc,i as zc}from"./inherits_browser-b30651b4.js";import{c as Ia,B as si}from"./bn-07c2e7c8.js";import{e as Fr,a as Kt}from"./index-8fffa698.js";const Vc=Ac(Sc),vf=function(t){try{Pc(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)},Kc=function(t,e){return Jr(t),Jr(e),Ue(e)===ir?Sr(br.encode([t,Uint8Array.from([])])).subarray(-20):Sr(br.encode([t,e])).subarray(-20)},Wc=function(t,e,r){if(Jr(t),Jr(e),Jr(r),t.length!==20)throw new Error("Expected from to be of length 20");if(e.length!==32)throw new Error("Expected salt to be of length 32");return Sr(oi(Ar("0xff"),t,e,Sr(r))).subarray(-20)},Ef=function(t,e=!1){if(Jr(t),e&&t.length!==64&&(t=df.ProjectivePoint.fromHex(t).toRawBytes(!1).slice(1)),t.length!==64)throw new Error("Expected pubKey to be of length 64");return Sr(t).subarray(-20)},wf=Ef,qc=function(t){return Jr(t),df.ProjectivePoint.fromPrivateKey(t).toRawBytes(!1).slice(1)},_f=function(t){return wf(qc(t))};let Wo=class Br{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.bytes=e}static zero(){return new Br(Tc(20))}static fromString(e){if(!vf(e))throw new Error("Invalid address");return new Br(Je(e))}static fromPublicKey(e){if(!(e instanceof Uint8Array))throw new Error("Public key should be Uint8Array");const r=Ef(e);return new Br(r)}static fromPrivateKey(e){if(!(e instanceof Uint8Array))throw new Error("Private key should be Uint8Array");const r=_f(e);return new Br(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Br(Kc(e.bytes,Dc(r)))}static generate2(e,r,n){if(!(r instanceof Uint8Array))throw new Error("Expected salt to be a Uint8Array");if(!(n instanceof Uint8Array))throw new Error("Expected initCode to be a Uint8Array");return new Br(Wc(e.bytes,r,n))}equals(e){return wn(this.bytes,e.bytes)}isZero(){return this.equals(Br.zero())}isPrecompileOrSystemAddress(){const e=Ue(this.bytes),r=ir,n=BigInt("0xffff");return e>=r&&e<=n}toString(){return Wt(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}};function Fn(){throw Error("kzg library not loaded")}let fo={loadTrustedSetup:Fn,blobToKzgCommitment:Fn,computeBlobKzgProof:Fn,verifyKzgProof:Fn,verifyBlobKzgProofBatch:Fn};const Zc=32,co=4096,Un=32*co,Yc=2,Jc=Un*Yc-1,Xc=Zc*co;function Qc(t,e){const r=new Uint8Array(e*Un).fill(0);return r.set(t),r[t.byteLength]=128,r}function eu(t){const e=new Uint8Array(Xc);for(let r=0;r<co;r++){const n=new Uint8Array(32);n.set(t.subarray(r*31,(r+1)*31),0),e.set(n,r*32)}return e}const tu=t=>{const e=Ic(t),r=e.byteLength;if(r===0)throw Error("invalid blob data");if(r>Jc)throw Error("blob data is too large");const n=Math.ceil(r/Un),i=Qc(e,n),a=[];for(let s=0;s<n;s++){const o=i.subarray(s*Un,(s+1)*Un),c=eu(o);a.push(c)}return a},ru=t=>{const e=[];for(const r of t)e.push(fo.blobToKzgCommitment(r));return e},nu=(t,e)=>t.map((n,i)=>fo.computeBlobKzgProof(n,e[i])),Af=(t,e)=>{const r=new Uint8Array(32);return r.set([e],0),r.set(Vc(t).subarray(1),1),r},iu=t=>{const e=[];for(const r of t)e.push(Af(r,1));return e},au=async(t,e)=>{const r=JSON.stringify({method:e.method,params:e.params,jsonrpc:"2.0",id:1});return(await(await fetch(t,{headers:{"content-type":"application/json"},method:"POST",body:r})).json()).result},ou=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t._getConnection!==void 0)return t._getConnection().url;throw new Error("Must provide valid provider URL or Web3Provider")};var uo={},pi={},Oe={},Sf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(o,c){var l=o>>>16&65535,h=o&65535,g=c>>>16&65535,y=c&65535;return h*y+(l*y+h*g<<16>>>0)|0}t.mul=Math.imul||e;function r(o,c){return o+c|0}t.add=r;function n(o,c){return o-c|0}t.sub=n;function i(o,c){return o<<c|o>>>32-c}t.rotl=i;function a(o,c){return o<<32-c|o>>>c}t.rotr=a;function s(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o}t.isInteger=Number.isInteger||s,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(o){return t.isInteger(o)&&o>=-t.MAX_SAFE_INTEGER&&o<=t.MAX_SAFE_INTEGER}})(Sf);Object.defineProperty(Oe,"__esModule",{value:!0});var Pf=Sf;function su(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Oe.readInt16BE=su;function fu(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Oe.readUint16BE=fu;function cu(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Oe.readInt16LE=cu;function uu(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Oe.readUint16LE=uu;function Tf(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Oe.writeUint16BE=Tf;Oe.writeInt16BE=Tf;function Df(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Oe.writeUint16LE=Df;Oe.writeInt16LE=Df;function Ba(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Oe.readInt32BE=Ba;function Oa(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Oe.readUint32BE=Oa;function Ca(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Oe.readInt32LE=Ca;function Fa(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Oe.readUint32LE=Fa;function fi(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Oe.writeUint32BE=fi;Oe.writeInt32BE=fi;function ci(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Oe.writeUint32LE=ci;Oe.writeInt32LE=ci;function du(t,e){e===void 0&&(e=0);var r=Ba(t,e),n=Ba(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Oe.readInt64BE=du;function lu(t,e){e===void 0&&(e=0);var r=Oa(t,e),n=Oa(t,e+4);return r*4294967296+n}Oe.readUint64BE=lu;function hu(t,e){e===void 0&&(e=0);var r=Ca(t,e),n=Ca(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Oe.readInt64LE=hu;function xu(t,e){e===void 0&&(e=0);var r=Fa(t,e),n=Fa(t,e+4);return n*4294967296+r}Oe.readUint64LE=xu;function If(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),fi(t/4294967296>>>0,e,r),fi(t>>>0,e,r+4),e}Oe.writeUint64BE=If;Oe.writeInt64BE=If;function Bf(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),ci(t>>>0,e,r),ci(t/4294967296>>>0,e,r+4),e}Oe.writeUint64LE=Bf;Oe.writeInt64LE=Bf;function bu(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,a=t/8+r-1;a>=r;a--)n+=e[a]*i,i*=256;return n}Oe.readUintBE=bu;function gu(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,a=r;a<r+t/8;a++)n+=e[a]*i,i*=256;return n}Oe.readUintLE=gu;function yu(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Pf.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,a=t/8+n-1;a>=n;a--)r[a]=e/i&255,i*=256;return r}Oe.writeUintBE=yu;function pu(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Pf.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+t/8;a++)r[a]=e/i&255,i*=256;return r}Oe.writeUintLE=pu;function mu(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Oe.readFloat32BE=mu;function vu(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Oe.readFloat32LE=vu;function Eu(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Oe.readFloat64BE=Eu;function wu(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Oe.readFloat64LE=wu;function _u(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Oe.writeFloat32BE=_u;function Au(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Oe.writeFloat32LE=Au;function Su(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Oe.writeFloat64BE=Su;function Pu(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Oe.writeFloat64LE=Pu;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});function Tu(t){for(var e=0;e<t.length;e++)t[e]=0;return t}sr.wipe=Tu;Object.defineProperty(pi,"__esModule",{value:!0});var Mt=Oe,Na=sr,Du=20;function Iu(t,e,r){for(var n=1634760805,i=857760878,a=2036477234,s=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],g=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],O=r[31]<<24|r[30]<<16|r[29]<<8|r[28],U=e[3]<<24|e[2]<<16|e[1]<<8|e[0],M=e[7]<<24|e[6]<<16|e[5]<<8|e[4],G=e[11]<<24|e[10]<<16|e[9]<<8|e[8],P=e[15]<<24|e[14]<<16|e[13]<<8|e[12],D=n,v=i,A=a,S=s,u=o,E=c,L=l,z=h,X=g,T=y,I=w,m=O,B=U,$=M,K=G,te=P,ce=0;ce<Du;ce+=2)D=D+u|0,B^=D,B=B>>>32-16|B<<16,X=X+B|0,u^=X,u=u>>>32-12|u<<12,v=v+E|0,$^=v,$=$>>>32-16|$<<16,T=T+$|0,E^=T,E=E>>>32-12|E<<12,A=A+L|0,K^=A,K=K>>>32-16|K<<16,I=I+K|0,L^=I,L=L>>>32-12|L<<12,S=S+z|0,te^=S,te=te>>>32-16|te<<16,m=m+te|0,z^=m,z=z>>>32-12|z<<12,A=A+L|0,K^=A,K=K>>>32-8|K<<8,I=I+K|0,L^=I,L=L>>>32-7|L<<7,S=S+z|0,te^=S,te=te>>>32-8|te<<8,m=m+te|0,z^=m,z=z>>>32-7|z<<7,v=v+E|0,$^=v,$=$>>>32-8|$<<8,T=T+$|0,E^=T,E=E>>>32-7|E<<7,D=D+u|0,B^=D,B=B>>>32-8|B<<8,X=X+B|0,u^=X,u=u>>>32-7|u<<7,D=D+E|0,te^=D,te=te>>>32-16|te<<16,I=I+te|0,E^=I,E=E>>>32-12|E<<12,v=v+L|0,B^=v,B=B>>>32-16|B<<16,m=m+B|0,L^=m,L=L>>>32-12|L<<12,A=A+z|0,$^=A,$=$>>>32-16|$<<16,X=X+$|0,z^=X,z=z>>>32-12|z<<12,S=S+u|0,K^=S,K=K>>>32-16|K<<16,T=T+K|0,u^=T,u=u>>>32-12|u<<12,A=A+z|0,$^=A,$=$>>>32-8|$<<8,X=X+$|0,z^=X,z=z>>>32-7|z<<7,S=S+u|0,K^=S,K=K>>>32-8|K<<8,T=T+K|0,u^=T,u=u>>>32-7|u<<7,v=v+L|0,B^=v,B=B>>>32-8|B<<8,m=m+B|0,L^=m,L=L>>>32-7|L<<7,D=D+E|0,te^=D,te=te>>>32-8|te<<8,I=I+te|0,E^=I,E=E>>>32-7|E<<7;Mt.writeUint32LE(D+n|0,t,0),Mt.writeUint32LE(v+i|0,t,4),Mt.writeUint32LE(A+a|0,t,8),Mt.writeUint32LE(S+s|0,t,12),Mt.writeUint32LE(u+o|0,t,16),Mt.writeUint32LE(E+c|0,t,20),Mt.writeUint32LE(L+l|0,t,24),Mt.writeUint32LE(z+h|0,t,28),Mt.writeUint32LE(X+g|0,t,32),Mt.writeUint32LE(T+y|0,t,36),Mt.writeUint32LE(I+w|0,t,40),Mt.writeUint32LE(m+O|0,t,44),Mt.writeUint32LE(B+U|0,t,48),Mt.writeUint32LE($+M|0,t,52),Mt.writeUint32LE(K+G|0,t,56),Mt.writeUint32LE(te+P|0,t,60)}function Of(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,s;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),s=a.length-e.length,a.set(e,s)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,s=i}for(var o=new Uint8Array(64),c=0;c<r.length;c+=64){Iu(o,a,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^o[l-c];Ou(a,0,s)}return Na.wipe(o),i===0&&Na.wipe(a),n}pi.streamXOR=Of;function Bu(t,e,r,n){return n===void 0&&(n=0),Na.wipe(r),Of(t,e,r,r,n)}pi.stream=Bu;function Ou(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Cf={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});function Cu(t,e,r){return~(t-1)&e|t-1&r}Ur.select=Cu;function Fu(t,e){return(t|0)-(e|0)-1>>>31&1}Ur.lessOrEqual=Fu;function Ff(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Ur.compare=Ff;function Nu(t,e){return t.length===0||e.length===0?!1:Ff(t,e)!==0}Ur.equal=Nu;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ur,r=sr;t.DIGEST_LENGTH=16;var n=function(){function s(o){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=o[0]|o[1]<<8;this._r[0]=c&8191;var l=o[2]|o[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var h=o[4]|o[5]<<8;this._r[2]=(l>>>10|h<<6)&7939;var g=o[6]|o[7]<<8;this._r[3]=(h>>>7|g<<9)&8191;var y=o[8]|o[9]<<8;this._r[4]=(g>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var w=o[10]|o[11]<<8;this._r[6]=(y>>>14|w<<2)&8191;var O=o[12]|o[13]<<8;this._r[7]=(w>>>11|O<<5)&8065;var U=o[14]|o[15]<<8;this._r[8]=(O>>>8|U<<8)&8191,this._r[9]=U>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return s.prototype._blocks=function(o,c,l){for(var h=this._fin?0:2048,g=this._h[0],y=this._h[1],w=this._h[2],O=this._h[3],U=this._h[4],M=this._h[5],G=this._h[6],P=this._h[7],D=this._h[8],v=this._h[9],A=this._r[0],S=this._r[1],u=this._r[2],E=this._r[3],L=this._r[4],z=this._r[5],X=this._r[6],T=this._r[7],I=this._r[8],m=this._r[9];l>=16;){var B=o[c+0]|o[c+1]<<8;g+=B&8191;var $=o[c+2]|o[c+3]<<8;y+=(B>>>13|$<<3)&8191;var K=o[c+4]|o[c+5]<<8;w+=($>>>10|K<<6)&8191;var te=o[c+6]|o[c+7]<<8;O+=(K>>>7|te<<9)&8191;var ce=o[c+8]|o[c+9]<<8;U+=(te>>>4|ce<<12)&8191,M+=ce>>>1&8191;var Fe=o[c+10]|o[c+11]<<8;G+=(ce>>>14|Fe<<2)&8191;var Ve=o[c+12]|o[c+13]<<8;P+=(Fe>>>11|Ve<<5)&8191;var N=o[c+14]|o[c+15]<<8;D+=(Ve>>>8|N<<8)&8191,v+=N>>>5|h;var C=0,j=C;j+=g*A,j+=y*(5*m),j+=w*(5*I),j+=O*(5*T),j+=U*(5*X),C=j>>>13,j&=8191,j+=M*(5*z),j+=G*(5*L),j+=P*(5*E),j+=D*(5*u),j+=v*(5*S),C+=j>>>13,j&=8191;var Y=C;Y+=g*S,Y+=y*A,Y+=w*(5*m),Y+=O*(5*I),Y+=U*(5*T),C=Y>>>13,Y&=8191,Y+=M*(5*X),Y+=G*(5*z),Y+=P*(5*L),Y+=D*(5*E),Y+=v*(5*u),C+=Y>>>13,Y&=8191;var re=C;re+=g*u,re+=y*S,re+=w*A,re+=O*(5*m),re+=U*(5*I),C=re>>>13,re&=8191,re+=M*(5*T),re+=G*(5*X),re+=P*(5*z),re+=D*(5*L),re+=v*(5*E),C+=re>>>13,re&=8191;var le=C;le+=g*E,le+=y*u,le+=w*S,le+=O*A,le+=U*(5*m),C=le>>>13,le&=8191,le+=M*(5*I),le+=G*(5*T),le+=P*(5*X),le+=D*(5*z),le+=v*(5*L),C+=le>>>13,le&=8191;var oe=C;oe+=g*L,oe+=y*E,oe+=w*u,oe+=O*S,oe+=U*A,C=oe>>>13,oe&=8191,oe+=M*(5*m),oe+=G*(5*I),oe+=P*(5*T),oe+=D*(5*X),oe+=v*(5*z),C+=oe>>>13,oe&=8191;var se=C;se+=g*z,se+=y*L,se+=w*E,se+=O*u,se+=U*S,C=se>>>13,se&=8191,se+=M*A,se+=G*(5*m),se+=P*(5*I),se+=D*(5*T),se+=v*(5*X),C+=se>>>13,se&=8191;var be=C;be+=g*X,be+=y*z,be+=w*L,be+=O*E,be+=U*u,C=be>>>13,be&=8191,be+=M*S,be+=G*A,be+=P*(5*m),be+=D*(5*I),be+=v*(5*T),C+=be>>>13,be&=8191;var Ae=C;Ae+=g*T,Ae+=y*X,Ae+=w*z,Ae+=O*L,Ae+=U*E,C=Ae>>>13,Ae&=8191,Ae+=M*u,Ae+=G*S,Ae+=P*A,Ae+=D*(5*m),Ae+=v*(5*I),C+=Ae>>>13,Ae&=8191;var Me=C;Me+=g*I,Me+=y*T,Me+=w*X,Me+=O*z,Me+=U*L,C=Me>>>13,Me&=8191,Me+=M*E,Me+=G*u,Me+=P*S,Me+=D*A,Me+=v*(5*m),C+=Me>>>13,Me&=8191;var Ke=C;Ke+=g*m,Ke+=y*I,Ke+=w*T,Ke+=O*X,Ke+=U*z,C=Ke>>>13,Ke&=8191,Ke+=M*L,Ke+=G*E,Ke+=P*u,Ke+=D*S,Ke+=v*A,C+=Ke>>>13,Ke&=8191,C=(C<<2)+C|0,C=C+j|0,j=C&8191,C=C>>>13,Y+=C,g=j,y=Y,w=re,O=le,U=oe,M=se,G=be,P=Ae,D=Me,v=Ke,c+=16,l-=16}this._h[0]=g,this._h[1]=y,this._h[2]=w,this._h[3]=O,this._h[4]=U,this._h[5]=M,this._h[6]=G,this._h[7]=P,this._h[8]=D,this._h[9]=v},s.prototype.finish=function(o,c){c===void 0&&(c=0);var l=new Uint16Array(10),h,g,y,w;if(this._leftover){for(w=this._leftover,this._buffer[w++]=1;w<16;w++)this._buffer[w]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(h=this._h[1]>>>13,this._h[1]&=8191,w=2;w<10;w++)this._h[w]+=h,h=this._h[w]>>>13,this._h[w]&=8191;for(this._h[0]+=h*5,h=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=h,h=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=h,l[0]=this._h[0]+5,h=l[0]>>>13,l[0]&=8191,w=1;w<10;w++)l[w]=this._h[w]+h,h=l[w]>>>13,l[w]&=8191;for(l[9]-=8192,g=(h^1)-1,w=0;w<10;w++)l[w]&=g;for(g=~g,w=0;w<10;w++)this._h[w]=this._h[w]&g|l[w];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,w=1;w<8;w++)y=(this._h[w]+this._pad[w]|0)+(y>>>16)|0,this._h[w]=y&65535;return o[c+0]=this._h[0]>>>0,o[c+1]=this._h[0]>>>8,o[c+2]=this._h[1]>>>0,o[c+3]=this._h[1]>>>8,o[c+4]=this._h[2]>>>0,o[c+5]=this._h[2]>>>8,o[c+6]=this._h[3]>>>0,o[c+7]=this._h[3]>>>8,o[c+8]=this._h[4]>>>0,o[c+9]=this._h[4]>>>8,o[c+10]=this._h[5]>>>0,o[c+11]=this._h[5]>>>8,o[c+12]=this._h[6]>>>0,o[c+13]=this._h[6]>>>8,o[c+14]=this._h[7]>>>0,o[c+15]=this._h[7]>>>8,this._finished=!0,this},s.prototype.update=function(o){var c=0,l=o.length,h;if(this._leftover){h=16-this._leftover,h>l&&(h=l);for(var g=0;g<h;g++)this._buffer[this._leftover+g]=o[c+g];if(l-=h,c+=h,this._leftover+=h,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(h=l-l%16,this._blocks(o,c,h),c+=h,l-=h),l){for(var g=0;g<l;g++)this._buffer[this._leftover+g]=o[c+g];this._leftover+=l}return this},s.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},s.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},s}();t.Poly1305=n;function i(s,o){var c=new n(s);c.update(o);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function a(s,o){return s.length!==t.DIGEST_LENGTH||o.length!==t.DIGEST_LENGTH?!1:e.equal(s,o)}t.equal=a})(Cf);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=pi,r=Cf,n=sr,i=Oe,a=Ur;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var s=new Uint8Array(16),o=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,h,g,y){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var w=new Uint8Array(16);w.set(l,w.length-l.length);var O=new Uint8Array(32);e.stream(this._key,w,O,4);var U=h.length+this.tagLength,M;if(y){if(y.length!==U)throw new Error("ChaCha20Poly1305: incorrect destination length");M=y}else M=new Uint8Array(U);return e.streamXOR(this._key,w,h,M,4),this._authenticate(M.subarray(M.length-this.tagLength,M.length),O,M.subarray(0,M.length-this.tagLength),g),n.wipe(w),M},c.prototype.open=function(l,h,g,y){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(h.length<this.tagLength)return null;var w=new Uint8Array(16);w.set(l,w.length-l.length);var O=new Uint8Array(32);e.stream(this._key,w,O,4);var U=new Uint8Array(this.tagLength);if(this._authenticate(U,O,h.subarray(0,h.length-this.tagLength),g),!a.equal(U,h.subarray(h.length-this.tagLength,h.length)))return null;var M=h.length-this.tagLength,G;if(y){if(y.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");G=y}else G=new Uint8Array(M);return e.streamXOR(this._key,w,h.subarray(0,h.length-this.tagLength),G,4),n.wipe(w),G},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,h,g,y){var w=new r.Poly1305(h);y&&(w.update(y),y.length%16>0&&w.update(s.subarray(y.length%16))),w.update(g),g.length%16>0&&w.update(s.subarray(g.length%16));var O=new Uint8Array(8);y&&i.writeUint64LE(y.length,O),w.update(O),i.writeUint64LE(g.length,O),w.update(O);for(var U=w.digest(),M=0;M<U.length;M++)l[M]=U[M];w.clean(),n.wipe(U),n.wipe(O)},c}();t.ChaCha20Poly1305=o})(uo);var Nf={},Kn={},lo={};Object.defineProperty(lo,"__esModule",{value:!0});function Mu(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}lo.isSerializableHash=Mu;Object.defineProperty(Kn,"__esModule",{value:!0});var ur=lo,Lu=Ur,ku=sr,Mf=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),ur.isSerializableHash(this._inner)&&ur.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ku.wipe(n)}return t.prototype.reset=function(){if(!ur.isSerializableHash(this._inner)||!ur.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){ur.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ur.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!ur.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!ur.isSerializableHash(this._inner)||!ur.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!ur.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Kn.HMAC=Mf;function Uu(t,e,r){var n=new Mf(t,e);n.update(r);var i=n.digest();return n.clean(),i}Kn.hmac=Uu;Kn.equal=Lu.equal;Object.defineProperty(Nf,"__esModule",{value:!0});var qo=Kn,Zo=sr,Ru=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var a=qo.hmac(this._hash,n,r);this._hmac=new qo.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),Zo.wipe(this._buffer),Zo.wipe(this._counter),this._bufpos=0},t}(),ju=Nf.HKDF=Ru,mi={},vi={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.BrowserRandomSource=void 0;const Yo=65536;class Hu{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=Yo)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,Yo)));return r}}Ei.BrowserRandomSource=Hu;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.NodeRandomSource=void 0;const $u=sr;class Gu{constructor(){this.isAvailable=!1,this.isInstantiated=!1}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,$u.wipe)(r),n}}wi.NodeRandomSource=Gu;Object.defineProperty(vi,"__esModule",{value:!0});vi.SystemRandomSource=void 0;const zu=Ei,Vu=wi;class Ku{constructor(){if(this.isAvailable=!1,this.name="",this._source=new zu.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Vu.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}vi.SystemRandomSource=Ku;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=vi,r=Oe,n=sr;t.defaultRandomSource=new e.SystemRandomSource;function i(l,h=t.defaultRandomSource){return h.randomBytes(l)}t.randomBytes=i;function a(l=t.defaultRandomSource){const h=i(4,l),g=(0,r.readUint32LE)(h);return(0,n.wipe)(h),g}t.randomUint32=a;const s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(l,h=s,g=t.defaultRandomSource){if(h.length<2)throw new Error("randomString charset is too short");if(h.length>256)throw new Error("randomString charset is too long");let y="";const w=h.length,O=256-256%w;for(;l>0;){const U=i(Math.ceil(l*256/O),g);for(let M=0;M<U.length&&l>0;M++){const G=U[M];G<O&&(y+=h.charAt(G%w),l--)}(0,n.wipe)(U)}return y}t.randomString=o;function c(l,h=s,g=t.defaultRandomSource){const y=Math.ceil(l/(Math.log(h.length)/Math.LN2));return o(y,h,g)}t.randomStringForEntropy=c})(mi);var _i={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Oe,r=sr;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function o(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},o.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var h=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[h++],l--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(h=a(this._temp,this._state,c,h,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[h++],l--;return this},o.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,h=this._bufferLength,g=l/536870912|0,y=l<<3,w=l%64<56?64:128;this._buffer[h]=128;for(var O=h+1;O<w-8;O++)this._buffer[O]=0;e.writeUint32BE(g,this._buffer,w-8),e.writeUint32BE(y,this._buffer,w-4),a(this._temp,this._state,this._buffer,0,w),this._finished=!0}for(var O=0;O<this.digestLength/4;O++)e.writeUint32BE(this._state[O],c,O*4);return this},o.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},o}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(o,c,l,h,g){for(;g>=64;){for(var y=c[0],w=c[1],O=c[2],U=c[3],M=c[4],G=c[5],P=c[6],D=c[7],v=0;v<16;v++){var A=h+v*4;o[v]=e.readUint32BE(l,A)}for(var v=16;v<64;v++){var S=o[v-2],u=(S>>>17|S<<32-17)^(S>>>19|S<<32-19)^S>>>10;S=o[v-15];var E=(S>>>7|S<<32-7)^(S>>>18|S<<32-18)^S>>>3;o[v]=(u+o[v-7]|0)+(E+o[v-16]|0)}for(var v=0;v<64;v++){var u=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&G^~M&P)|0)+(D+(i[v]+o[v]|0)|0)|0,E=((y>>>2|y<<32-2)^(y>>>13|y<<32-13)^(y>>>22|y<<32-22))+(y&w^y&O^w&O)|0;D=P,P=G,G=M,M=U+u|0,U=O,O=w,w=y,y=u+E|0}c[0]+=y,c[1]+=w,c[2]+=O,c[3]+=U,c[4]+=M,c[5]+=G,c[6]+=P,c[7]+=D,h+=64,g-=64}return h}function s(o){var c=new n;c.update(o);var l=c.digest();return c.clean(),l}t.hash=s})(_i);var ho={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=mi,r=sr;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(v){const A=new Float64Array(16);if(v)for(let S=0;S<v.length;S++)A[S]=v[S];return A}const i=new Uint8Array(32);i[0]=9;const a=n([56129,1]);function s(v){let A=1;for(let S=0;S<16;S++){let u=v[S]+A+65535;A=Math.floor(u/65536),v[S]=u-A*65536}v[0]+=A-1+37*(A-1)}function o(v,A,S){const u=~(S-1);for(let E=0;E<16;E++){const L=u&(v[E]^A[E]);v[E]^=L,A[E]^=L}}function c(v,A){const S=n(),u=n();for(let E=0;E<16;E++)u[E]=A[E];s(u),s(u),s(u);for(let E=0;E<2;E++){S[0]=u[0]-65517;for(let z=1;z<15;z++)S[z]=u[z]-65535-(S[z-1]>>16&1),S[z-1]&=65535;S[15]=u[15]-32767-(S[14]>>16&1);const L=S[15]>>16&1;S[14]&=65535,o(u,S,1-L)}for(let E=0;E<16;E++)v[2*E]=u[E]&255,v[2*E+1]=u[E]>>8}function l(v,A){for(let S=0;S<16;S++)v[S]=A[2*S]+(A[2*S+1]<<8);v[15]&=32767}function h(v,A,S){for(let u=0;u<16;u++)v[u]=A[u]+S[u]}function g(v,A,S){for(let u=0;u<16;u++)v[u]=A[u]-S[u]}function y(v,A,S){let u,E,L=0,z=0,X=0,T=0,I=0,m=0,B=0,$=0,K=0,te=0,ce=0,Fe=0,Ve=0,N=0,C=0,j=0,Y=0,re=0,le=0,oe=0,se=0,be=0,Ae=0,Me=0,Ke=0,Ot=0,zt=0,cr=0,mr=0,Dr=0,V=0,tt=S[0],xt=S[1],bt=S[2],gt=S[3],ct=S[4],yt=S[5],ut=S[6],pt=S[7],mt=S[8],_t=S[9],St=S[10],vt=S[11],Et=S[12],dt=S[13],nt=S[14],rt=S[15];u=A[0],L+=u*tt,z+=u*xt,X+=u*bt,T+=u*gt,I+=u*ct,m+=u*yt,B+=u*ut,$+=u*pt,K+=u*mt,te+=u*_t,ce+=u*St,Fe+=u*vt,Ve+=u*Et,N+=u*dt,C+=u*nt,j+=u*rt,u=A[1],z+=u*tt,X+=u*xt,T+=u*bt,I+=u*gt,m+=u*ct,B+=u*yt,$+=u*ut,K+=u*pt,te+=u*mt,ce+=u*_t,Fe+=u*St,Ve+=u*vt,N+=u*Et,C+=u*dt,j+=u*nt,Y+=u*rt,u=A[2],X+=u*tt,T+=u*xt,I+=u*bt,m+=u*gt,B+=u*ct,$+=u*yt,K+=u*ut,te+=u*pt,ce+=u*mt,Fe+=u*_t,Ve+=u*St,N+=u*vt,C+=u*Et,j+=u*dt,Y+=u*nt,re+=u*rt,u=A[3],T+=u*tt,I+=u*xt,m+=u*bt,B+=u*gt,$+=u*ct,K+=u*yt,te+=u*ut,ce+=u*pt,Fe+=u*mt,Ve+=u*_t,N+=u*St,C+=u*vt,j+=u*Et,Y+=u*dt,re+=u*nt,le+=u*rt,u=A[4],I+=u*tt,m+=u*xt,B+=u*bt,$+=u*gt,K+=u*ct,te+=u*yt,ce+=u*ut,Fe+=u*pt,Ve+=u*mt,N+=u*_t,C+=u*St,j+=u*vt,Y+=u*Et,re+=u*dt,le+=u*nt,oe+=u*rt,u=A[5],m+=u*tt,B+=u*xt,$+=u*bt,K+=u*gt,te+=u*ct,ce+=u*yt,Fe+=u*ut,Ve+=u*pt,N+=u*mt,C+=u*_t,j+=u*St,Y+=u*vt,re+=u*Et,le+=u*dt,oe+=u*nt,se+=u*rt,u=A[6],B+=u*tt,$+=u*xt,K+=u*bt,te+=u*gt,ce+=u*ct,Fe+=u*yt,Ve+=u*ut,N+=u*pt,C+=u*mt,j+=u*_t,Y+=u*St,re+=u*vt,le+=u*Et,oe+=u*dt,se+=u*nt,be+=u*rt,u=A[7],$+=u*tt,K+=u*xt,te+=u*bt,ce+=u*gt,Fe+=u*ct,Ve+=u*yt,N+=u*ut,C+=u*pt,j+=u*mt,Y+=u*_t,re+=u*St,le+=u*vt,oe+=u*Et,se+=u*dt,be+=u*nt,Ae+=u*rt,u=A[8],K+=u*tt,te+=u*xt,ce+=u*bt,Fe+=u*gt,Ve+=u*ct,N+=u*yt,C+=u*ut,j+=u*pt,Y+=u*mt,re+=u*_t,le+=u*St,oe+=u*vt,se+=u*Et,be+=u*dt,Ae+=u*nt,Me+=u*rt,u=A[9],te+=u*tt,ce+=u*xt,Fe+=u*bt,Ve+=u*gt,N+=u*ct,C+=u*yt,j+=u*ut,Y+=u*pt,re+=u*mt,le+=u*_t,oe+=u*St,se+=u*vt,be+=u*Et,Ae+=u*dt,Me+=u*nt,Ke+=u*rt,u=A[10],ce+=u*tt,Fe+=u*xt,Ve+=u*bt,N+=u*gt,C+=u*ct,j+=u*yt,Y+=u*ut,re+=u*pt,le+=u*mt,oe+=u*_t,se+=u*St,be+=u*vt,Ae+=u*Et,Me+=u*dt,Ke+=u*nt,Ot+=u*rt,u=A[11],Fe+=u*tt,Ve+=u*xt,N+=u*bt,C+=u*gt,j+=u*ct,Y+=u*yt,re+=u*ut,le+=u*pt,oe+=u*mt,se+=u*_t,be+=u*St,Ae+=u*vt,Me+=u*Et,Ke+=u*dt,Ot+=u*nt,zt+=u*rt,u=A[12],Ve+=u*tt,N+=u*xt,C+=u*bt,j+=u*gt,Y+=u*ct,re+=u*yt,le+=u*ut,oe+=u*pt,se+=u*mt,be+=u*_t,Ae+=u*St,Me+=u*vt,Ke+=u*Et,Ot+=u*dt,zt+=u*nt,cr+=u*rt,u=A[13],N+=u*tt,C+=u*xt,j+=u*bt,Y+=u*gt,re+=u*ct,le+=u*yt,oe+=u*ut,se+=u*pt,be+=u*mt,Ae+=u*_t,Me+=u*St,Ke+=u*vt,Ot+=u*Et,zt+=u*dt,cr+=u*nt,mr+=u*rt,u=A[14],C+=u*tt,j+=u*xt,Y+=u*bt,re+=u*gt,le+=u*ct,oe+=u*yt,se+=u*ut,be+=u*pt,Ae+=u*mt,Me+=u*_t,Ke+=u*St,Ot+=u*vt,zt+=u*Et,cr+=u*dt,mr+=u*nt,Dr+=u*rt,u=A[15],j+=u*tt,Y+=u*xt,re+=u*bt,le+=u*gt,oe+=u*ct,se+=u*yt,be+=u*ut,Ae+=u*pt,Me+=u*mt,Ke+=u*_t,Ot+=u*St,zt+=u*vt,cr+=u*Et,mr+=u*dt,Dr+=u*nt,V+=u*rt,L+=38*Y,z+=38*re,X+=38*le,T+=38*oe,I+=38*se,m+=38*be,B+=38*Ae,$+=38*Me,K+=38*Ke,te+=38*Ot,ce+=38*zt,Fe+=38*cr,Ve+=38*mr,N+=38*Dr,C+=38*V,E=1,u=L+E+65535,E=Math.floor(u/65536),L=u-E*65536,u=z+E+65535,E=Math.floor(u/65536),z=u-E*65536,u=X+E+65535,E=Math.floor(u/65536),X=u-E*65536,u=T+E+65535,E=Math.floor(u/65536),T=u-E*65536,u=I+E+65535,E=Math.floor(u/65536),I=u-E*65536,u=m+E+65535,E=Math.floor(u/65536),m=u-E*65536,u=B+E+65535,E=Math.floor(u/65536),B=u-E*65536,u=$+E+65535,E=Math.floor(u/65536),$=u-E*65536,u=K+E+65535,E=Math.floor(u/65536),K=u-E*65536,u=te+E+65535,E=Math.floor(u/65536),te=u-E*65536,u=ce+E+65535,E=Math.floor(u/65536),ce=u-E*65536,u=Fe+E+65535,E=Math.floor(u/65536),Fe=u-E*65536,u=Ve+E+65535,E=Math.floor(u/65536),Ve=u-E*65536,u=N+E+65535,E=Math.floor(u/65536),N=u-E*65536,u=C+E+65535,E=Math.floor(u/65536),C=u-E*65536,u=j+E+65535,E=Math.floor(u/65536),j=u-E*65536,L+=E-1+37*(E-1),E=1,u=L+E+65535,E=Math.floor(u/65536),L=u-E*65536,u=z+E+65535,E=Math.floor(u/65536),z=u-E*65536,u=X+E+65535,E=Math.floor(u/65536),X=u-E*65536,u=T+E+65535,E=Math.floor(u/65536),T=u-E*65536,u=I+E+65535,E=Math.floor(u/65536),I=u-E*65536,u=m+E+65535,E=Math.floor(u/65536),m=u-E*65536,u=B+E+65535,E=Math.floor(u/65536),B=u-E*65536,u=$+E+65535,E=Math.floor(u/65536),$=u-E*65536,u=K+E+65535,E=Math.floor(u/65536),K=u-E*65536,u=te+E+65535,E=Math.floor(u/65536),te=u-E*65536,u=ce+E+65535,E=Math.floor(u/65536),ce=u-E*65536,u=Fe+E+65535,E=Math.floor(u/65536),Fe=u-E*65536,u=Ve+E+65535,E=Math.floor(u/65536),Ve=u-E*65536,u=N+E+65535,E=Math.floor(u/65536),N=u-E*65536,u=C+E+65535,E=Math.floor(u/65536),C=u-E*65536,u=j+E+65535,E=Math.floor(u/65536),j=u-E*65536,L+=E-1+37*(E-1),v[0]=L,v[1]=z,v[2]=X,v[3]=T,v[4]=I,v[5]=m,v[6]=B,v[7]=$,v[8]=K,v[9]=te,v[10]=ce,v[11]=Fe,v[12]=Ve,v[13]=N,v[14]=C,v[15]=j}function w(v,A){y(v,A,A)}function O(v,A){const S=n();for(let u=0;u<16;u++)S[u]=A[u];for(let u=253;u>=0;u--)w(S,S),u!==2&&u!==4&&y(S,S,A);for(let u=0;u<16;u++)v[u]=S[u]}function U(v,A){const S=new Uint8Array(32),u=new Float64Array(80),E=n(),L=n(),z=n(),X=n(),T=n(),I=n();for(let K=0;K<31;K++)S[K]=v[K];S[31]=v[31]&127|64,S[0]&=248,l(u,A);for(let K=0;K<16;K++)L[K]=u[K];E[0]=X[0]=1;for(let K=254;K>=0;--K){const te=S[K>>>3]>>>(K&7)&1;o(E,L,te),o(z,X,te),h(T,E,z),g(E,E,z),h(z,L,X),g(L,L,X),w(X,T),w(I,E),y(E,z,E),y(z,L,T),h(T,E,z),g(E,E,z),w(L,E),g(z,X,I),y(E,z,a),h(E,E,X),y(z,z,E),y(E,X,I),y(X,L,u),w(L,T),o(E,L,te),o(z,X,te)}for(let K=0;K<16;K++)u[K+16]=E[K],u[K+32]=z[K],u[K+48]=L[K],u[K+64]=X[K];const m=u.subarray(32),B=u.subarray(16);O(m,m),y(B,B,m);const $=new Uint8Array(32);return c($,B),$}t.scalarMult=U;function M(v){return U(v,i)}t.scalarMultBase=M;function G(v){if(v.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const A=new Uint8Array(v);return{publicKey:M(A),secretKey:A}}t.generateKeyPairFromSeed=G;function P(v){const A=(0,e.randomBytes)(32,v),S=G(A);return(0,r.wipe)(A),S}t.generateKeyPair=P;function D(v,A,S=!1){if(v.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(A.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const u=U(v,A);if(S){let E=0;for(let L=0;L<u.length;L++)E|=u[L];if(E===0)throw new Error("X25519: invalid shared key")}return u}t.sharedKey=D})(ho);function xo(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Lf(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?xo(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Jo(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const r=Lf(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return xo(r)}function Wu(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=i}var o=t.length,c=t.charAt(0),l=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function g(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var U=0,M=0,G=0,P=O.length;G!==P&&O[G]===0;)G++,U++;for(var D=(P-G)*h+1>>>0,v=new Uint8Array(D);G!==P;){for(var A=O[G],S=0,u=D-1;(A!==0||S<M)&&u!==-1;u--,S++)A+=256*v[u]>>>0,v[u]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");M=S,G++}for(var E=D-M;E!==D&&v[E]===0;)E++;for(var L=c.repeat(U);E<D;++E)L+=t.charAt(v[E]);return L}function y(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;var U=0;if(O[U]!==" "){for(var M=0,G=0;O[U]===c;)M++,U++;for(var P=(O.length-U)*l+1>>>0,D=new Uint8Array(P);O[U];){var v=r[O.charCodeAt(U)];if(v===255)return;for(var A=0,S=P-1;(v!==0||A<G)&&S!==-1;S--,A++)v+=o*D[S]>>>0,D[S]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");G=A,U++}if(O[U]!==" "){for(var u=P-G;u!==P&&D[u]===0;)u++;for(var E=new Uint8Array(M+(P-u)),L=M;u!==P;)E[L++]=D[u++];return E}}}function w(O){var U=y(O);if(U)return U;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:w}}var qu=Wu,Zu=qu;const Yu=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Ju=t=>new TextEncoder().encode(t),Xu=t=>new TextDecoder().decode(t);class Qu{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ed{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return kf(this,e)}}class td{constructor(e){this.decoders=e}or(e){return kf(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const kf=(t,e)=>new td({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class rd{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Qu(e,r,n),this.decoder=new ed(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ai=({name:t,prefix:e,encode:r,decode:n})=>new rd(t,e,r,n),Wn=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Zu(r,e);return Ai({prefix:t,name:e,encode:n,decode:a=>Yu(i(a))})},nd=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let a=t.length;for(;t[a-1]==="=";)--a;const s=new Uint8Array(a*r/8|0);let o=0,c=0,l=0;for(let h=0;h<a;++h){const g=i[t[h]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|g,o+=r,o>=8&&(o-=8,s[l++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s},id=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let a="",s=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],s+=8;s>r;)s-=r,a+=e[i&o>>s];if(s&&(a+=e[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},Bt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ai({prefix:e,name:t,encode(i){return id(i,n,r)},decode(i){return nd(i,n,r,t)}}),ad=Ai({prefix:"\0",name:"identity",encode:t=>Xu(t),decode:t=>Ju(t)}),od=Object.freeze(Object.defineProperty({__proto__:null,identity:ad},Symbol.toStringTag,{value:"Module"})),sd=Bt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),fd=Object.freeze(Object.defineProperty({__proto__:null,base2:sd},Symbol.toStringTag,{value:"Module"})),cd=Bt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ud=Object.freeze(Object.defineProperty({__proto__:null,base8:cd},Symbol.toStringTag,{value:"Module"})),dd=Wn({prefix:"9",name:"base10",alphabet:"0123456789"}),ld=Object.freeze(Object.defineProperty({__proto__:null,base10:dd},Symbol.toStringTag,{value:"Module"})),hd=Bt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xd=Bt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),bd=Object.freeze(Object.defineProperty({__proto__:null,base16:hd,base16upper:xd},Symbol.toStringTag,{value:"Module"})),gd=Bt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),yd=Bt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pd=Bt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),md=Bt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vd=Bt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ed=Bt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wd=Bt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_d=Bt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ad=Bt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Sd=Object.freeze(Object.defineProperty({__proto__:null,base32:gd,base32hex:vd,base32hexpad:wd,base32hexpadupper:_d,base32hexupper:Ed,base32pad:pd,base32padupper:md,base32upper:yd,base32z:Ad},Symbol.toStringTag,{value:"Module"})),Pd=Wn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Td=Wn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Dd=Object.freeze(Object.defineProperty({__proto__:null,base36:Pd,base36upper:Td},Symbol.toStringTag,{value:"Module"})),Id=Wn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bd=Wn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Od=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Id,base58flickr:Bd},Symbol.toStringTag,{value:"Module"})),Cd=Bt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fd=Bt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nd=Bt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Md=Bt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ld=Object.freeze(Object.defineProperty({__proto__:null,base64:Cd,base64pad:Fd,base64url:Nd,base64urlpad:Md},Symbol.toStringTag,{value:"Module"})),Uf=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),kd=Uf.reduce((t,e,r)=>(t[r]=e,t),[]),Ud=Uf.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Rd(t){return t.reduce((e,r)=>(e+=kd[r],e),"")}function jd(t){const e=[];for(const r of t){const n=Ud[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Hd=Ai({prefix:"🚀",name:"base256emoji",encode:Rd,decode:jd}),$d=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Hd},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Xo={...od,...fd,...ud,...ld,...bd,...Sd,...Dd,...Od,...Ld,...$d};function Rf(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Qo=Rf("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Yi=Rf("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Lf(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jf={utf8:Qo,"utf-8":Qo,hex:Xo.base16,latin1:Yi,ascii:Yi,binary:Yi,...Xo};function ar(t,e="utf8"){const r=jf[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?xo(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function or(t,e="utf8"){const r=jf[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var es=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},Gd=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),zd=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Vd=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),Kd=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Wd=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),qd=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Zd=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ts=3,Yd=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",qd]],rs=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Jd(t){return t?ns(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Wd:typeof navigator<"u"?ns(navigator.userAgent):el()}function Xd(t){return t!==""&&Yd.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var a=i.exec(t);return!!a&&[n,a]},!1)}function ns(t){var e=Xd(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Kd;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<ts&&(i=es(es([],i,!0),tl(ts-i.length),!0)):i=[];var a=i.join("."),s=Qd(t),o=Zd.exec(t);return o&&o[1]?new Vd(r,a,s,o[1]):new Gd(r,a,s)}function Qd(t){for(var e=0,r=rs.length;e<r;e++){var n=rs[e],i=n[0],a=n[1],s=a.exec(t);if(s)return i}return null}function el(){var t=typeof process<"u"&&process.version;return t?new zd(process.version.slice(1)):null}function tl(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Xr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ma=function(t,e){return Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ma(t,e)};function rl(t,e){Ma(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var La=function(){return La=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},La.apply(this,arguments)};function nl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function il(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function al(t,e){return function(r,n){e(r,n,t)}}function ol(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function sl(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(h){try{l(n.next(h))}catch(g){s(g)}}function c(h){try{l(n.throw(h))}catch(g){s(g)}}function l(h){h.done?a(h.value):i(h.value).then(o,c)}l((n=n.apply(t,e||[])).next())})}function fl(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(h){return c([l,h])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function cl(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function ul(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ka(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hf(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function dl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hf(arguments[e]));return t}function ll(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function jn(t){return this instanceof jn?(this.v=t,this):new jn(t)}function hl(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){n[y]&&(i[y]=function(w){return new Promise(function(O,U){a.push([y,w,O,U])>1||o(y,w)})})}function o(y,w){try{c(n[y](w))}catch(O){g(a[0][3],O)}}function c(y){y.value instanceof jn?Promise.resolve(y.value.v).then(l,h):g(a[0][2],y)}function l(y){o("next",y)}function h(y){o("throw",y)}function g(y,w){y(w),a.shift(),a.length&&o(a[0][0],a[0][1])}}function xl(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(s){return(r=!r)?{value:jn(t[i](s)),done:i==="return"}:a?a(s):s}:a}}function bl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ka=="function"?ka(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(o,c){s=t[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(l){a({value:l,done:o})},s)}}function gl(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function yl(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function pl(t){return t&&t.__esModule?t:{default:t}}function ml(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function vl(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const El=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return La},__asyncDelegator:xl,__asyncGenerator:hl,__asyncValues:bl,__await:jn,__awaiter:sl,__classPrivateFieldGet:ml,__classPrivateFieldSet:vl,__createBinding:cl,__decorate:il,__exportStar:ul,__extends:rl,__generator:fl,__importDefault:pl,__importStar:yl,__makeTemplateObject:gl,__metadata:ol,__param:al,__read:Hf,__rest:nl,__spread:dl,__spreadArrays:ll,__values:ka},Symbol.toStringTag,{value:"Module"})),Si=Vn(El);var Ji={},Nn={},is;function wl(){if(is)return Nn;is=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Nn.delay=t,Nn}var Gr={},Xi={},zr={},as;function _l(){return as||(as=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.ONE_THOUSAND=zr.ONE_HUNDRED=void 0,zr.ONE_HUNDRED=100,zr.ONE_THOUSAND=1e3),zr}var Qi={},os;function Al(){return os||(os=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Qi)),Qi}var ss;function $f(){return ss||(ss=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Si;e.__exportStar(_l(),t),e.__exportStar(Al(),t)}(Xi)),Xi}var fs;function Sl(){if(fs)return Gr;fs=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.fromMiliseconds=Gr.toMiliseconds=void 0;const t=$f();function e(n){return n*t.ONE_THOUSAND}Gr.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Gr.fromMiliseconds=r,Gr}var cs;function Pl(){return cs||(cs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Si;e.__exportStar(wl(),t),e.__exportStar(Sl(),t)}(Ji)),Ji}var un={},us;function Tl(){if(us)return un;us=1,Object.defineProperty(un,"__esModule",{value:!0}),un.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return un.Watch=t,un.default=t,un}var ea={},Mn={},ds;function Dl(){if(ds)return Mn;ds=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.IWatch=void 0;class t{}return Mn.IWatch=t,Mn}var ls;function Il(){return ls||(ls=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Si.__exportStar(Dl(),t)}(ea)),ea}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Si;e.__exportStar(Pl(),t),e.__exportStar(Tl(),t),e.__exportStar(Il(),t),e.__exportStar($f(),t)})(Xr);var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getLocalStorage=Qe.getLocalStorageOrThrow=Qe.getCrypto=Qe.getCryptoOrThrow=zf=Qe.getLocation=Qe.getLocationOrThrow=bo=Qe.getNavigator=Qe.getNavigatorOrThrow=Gf=Qe.getDocument=Qe.getDocumentOrThrow=Qe.getFromWindowOrThrow=Qe.getFromWindow=void 0;function on(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Qe.getFromWindow=on;function Dn(t){const e=on(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Qe.getFromWindowOrThrow=Dn;function Bl(){return Dn("document")}Qe.getDocumentOrThrow=Bl;function Ol(){return on("document")}var Gf=Qe.getDocument=Ol;function Cl(){return Dn("navigator")}Qe.getNavigatorOrThrow=Cl;function Fl(){return on("navigator")}var bo=Qe.getNavigator=Fl;function Nl(){return Dn("location")}Qe.getLocationOrThrow=Nl;function Ml(){return on("location")}var zf=Qe.getLocation=Ml;function Ll(){return Dn("crypto")}Qe.getCryptoOrThrow=Ll;function kl(){return on("crypto")}Qe.getCrypto=kl;function Ul(){return Dn("localStorage")}Qe.getLocalStorageOrThrow=Ul;function Rl(){return on("localStorage")}Qe.getLocalStorage=Rl;var go={};Object.defineProperty(go,"__esModule",{value:!0});var Vf=go.getWindowMetadata=void 0;const hs=Qe;function jl(){let t,e;try{t=hs.getDocumentOrThrow(),e=hs.getLocationOrThrow()}catch{return null}function r(){const g=t.getElementsByTagName("link"),y=[];for(let w=0;w<g.length;w++){const O=g[w],U=O.getAttribute("rel");if(U&&U.toLowerCase().indexOf("icon")>-1){const M=O.getAttribute("href");if(M)if(M.toLowerCase().indexOf("https:")===-1&&M.toLowerCase().indexOf("http:")===-1&&M.indexOf("//")!==0){let G=e.protocol+"//"+e.host;if(M.indexOf("/")===0)G+=M;else{const P=e.pathname.split("/");P.pop();const D=P.join("/");G+=D+"/"+M}y.push(G)}else if(M.indexOf("//")===0){const G=e.protocol+M;y.push(G)}else y.push(M)}}return y}function n(...g){const y=t.getElementsByTagName("meta");for(let w=0;w<y.length;w++){const O=y[w],U=["itemprop","property","name"].map(M=>O.getAttribute(M)).filter(M=>M?g.includes(M):!1);if(U.length&&U){const M=O.getAttribute("content");if(M)return M}}return""}function i(){let g=n("name","og:site_name","og:title","twitter:title");return g||(g=t.title),g}function a(){return n("description","og:description","twitter:description","keywords")}const s=i(),o=a(),c=e.origin,l=r();return{description:o,url:c,icons:l,name:s}}Vf=go.getWindowMetadata=jl;var Hn={},Hl=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Kf="%[a-f0-9]{2}",xs=new RegExp("("+Kf+")|([^%]+?)","gi"),bs=new RegExp("("+Kf+")+","gi");function Ua(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Ua(r),Ua(n))}function $l(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(xs)||[],r=1;r<e.length;r++)t=Ua(e,r).join(""),e=t.match(xs)||[];return t}}function Gl(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=bs.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=$l(r[0]);n!==r[0]&&(e[r[0]]=n)}r=bs.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),a=0;a<i.length;a++){var s=i[a];t=t.replace(new RegExp(s,"g"),e[s])}return t}var zl=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Gl(t)}},Vl=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},Kl=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),a=0;a<n.length;a++){var s=n[a],o=t[s];(i?e.indexOf(s)!==-1:e(s,o,t))&&(r[s]=o)}return r};(function(t){const e=Hl,r=zl,n=Vl,i=Kl,a=P=>P==null,s=Symbol("encodeFragmentIdentifier");function o(P){switch(P.arrayFormat){case"index":return D=>(v,A)=>{const S=v.length;return A===void 0||P.skipNull&&A===null||P.skipEmptyString&&A===""?v:A===null?[...v,[h(D,P),"[",S,"]"].join("")]:[...v,[h(D,P),"[",h(S,P),"]=",h(A,P)].join("")]};case"bracket":return D=>(v,A)=>A===void 0||P.skipNull&&A===null||P.skipEmptyString&&A===""?v:A===null?[...v,[h(D,P),"[]"].join("")]:[...v,[h(D,P),"[]=",h(A,P)].join("")];case"colon-list-separator":return D=>(v,A)=>A===void 0||P.skipNull&&A===null||P.skipEmptyString&&A===""?v:A===null?[...v,[h(D,P),":list="].join("")]:[...v,[h(D,P),":list=",h(A,P)].join("")];case"comma":case"separator":case"bracket-separator":{const D=P.arrayFormat==="bracket-separator"?"[]=":"=";return v=>(A,S)=>S===void 0||P.skipNull&&S===null||P.skipEmptyString&&S===""?A:(S=S===null?"":S,A.length===0?[[h(v,P),D,h(S,P)].join("")]:[[A,h(S,P)].join(P.arrayFormatSeparator)])}default:return D=>(v,A)=>A===void 0||P.skipNull&&A===null||P.skipEmptyString&&A===""?v:A===null?[...v,h(D,P)]:[...v,[h(D,P),"=",h(A,P)].join("")]}}function c(P){let D;switch(P.arrayFormat){case"index":return(v,A,S)=>{if(D=/\[(\d*)\]$/.exec(v),v=v.replace(/\[\d*\]$/,""),!D){S[v]=A;return}S[v]===void 0&&(S[v]={}),S[v][D[1]]=A};case"bracket":return(v,A,S)=>{if(D=/(\[\])$/.exec(v),v=v.replace(/\[\]$/,""),!D){S[v]=A;return}if(S[v]===void 0){S[v]=[A];return}S[v]=[].concat(S[v],A)};case"colon-list-separator":return(v,A,S)=>{if(D=/(:list)$/.exec(v),v=v.replace(/:list$/,""),!D){S[v]=A;return}if(S[v]===void 0){S[v]=[A];return}S[v]=[].concat(S[v],A)};case"comma":case"separator":return(v,A,S)=>{const u=typeof A=="string"&&A.includes(P.arrayFormatSeparator),E=typeof A=="string"&&!u&&g(A,P).includes(P.arrayFormatSeparator);A=E?g(A,P):A;const L=u||E?A.split(P.arrayFormatSeparator).map(z=>g(z,P)):A===null?A:g(A,P);S[v]=L};case"bracket-separator":return(v,A,S)=>{const u=/(\[\])$/.test(v);if(v=v.replace(/\[\]$/,""),!u){S[v]=A&&g(A,P);return}const E=A===null?[]:A.split(P.arrayFormatSeparator).map(L=>g(L,P));if(S[v]===void 0){S[v]=E;return}S[v]=[].concat(S[v],E)};default:return(v,A,S)=>{if(S[v]===void 0){S[v]=A;return}S[v]=[].concat(S[v],A)}}}function l(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(P,D){return D.encode?D.strict?e(P):encodeURIComponent(P):P}function g(P,D){return D.decode?r(P):P}function y(P){return Array.isArray(P)?P.sort():typeof P=="object"?y(Object.keys(P)).sort((D,v)=>Number(D)-Number(v)).map(D=>P[D]):P}function w(P){const D=P.indexOf("#");return D!==-1&&(P=P.slice(0,D)),P}function O(P){let D="";const v=P.indexOf("#");return v!==-1&&(D=P.slice(v)),D}function U(P){P=w(P);const D=P.indexOf("?");return D===-1?"":P.slice(D+1)}function M(P,D){return D.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):D.parseBooleans&&P!==null&&(P.toLowerCase()==="true"||P.toLowerCase()==="false")&&(P=P.toLowerCase()==="true"),P}function G(P,D){D=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},D),l(D.arrayFormatSeparator);const v=c(D),A=Object.create(null);if(typeof P!="string"||(P=P.trim().replace(/^[?#&]/,""),!P))return A;for(const S of P.split("&")){if(S==="")continue;let[u,E]=n(D.decode?S.replace(/\+/g," "):S,"=");E=E===void 0?null:["comma","separator","bracket-separator"].includes(D.arrayFormat)?E:g(E,D),v(g(u,D),E,A)}for(const S of Object.keys(A)){const u=A[S];if(typeof u=="object"&&u!==null)for(const E of Object.keys(u))u[E]=M(u[E],D);else A[S]=M(u,D)}return D.sort===!1?A:(D.sort===!0?Object.keys(A).sort():Object.keys(A).sort(D.sort)).reduce((S,u)=>{const E=A[u];return E&&typeof E=="object"&&!Array.isArray(E)?S[u]=y(E):S[u]=E,S},Object.create(null))}t.extract=U,t.parse=G,t.stringify=(P,D)=>{if(!P)return"";D=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},D),l(D.arrayFormatSeparator);const v=E=>D.skipNull&&a(P[E])||D.skipEmptyString&&P[E]==="",A=o(D),S={};for(const E of Object.keys(P))v(E)||(S[E]=P[E]);const u=Object.keys(S);return D.sort!==!1&&u.sort(D.sort),u.map(E=>{const L=P[E];return L===void 0?"":L===null?h(E,D):Array.isArray(L)?L.length===0&&D.arrayFormat==="bracket-separator"?h(E,D)+"[]":L.reduce(A(E),[]).join("&"):h(E,D)+"="+h(L,D)}).filter(E=>E.length>0).join("&")},t.parseUrl=(P,D)=>{D=Object.assign({decode:!0},D);const[v,A]=n(P,"#");return Object.assign({url:v.split("?")[0]||"",query:G(U(P),D)},D&&D.parseFragmentIdentifier&&A?{fragmentIdentifier:g(A,D)}:{})},t.stringifyUrl=(P,D)=>{D=Object.assign({encode:!0,strict:!0,[s]:!0},D);const v=w(P.url).split("?")[0]||"",A=t.extract(P.url),S=t.parse(A,{sort:!1}),u=Object.assign(S,P.query);let E=t.stringify(u,D);E&&(E=`?${E}`);let L=O(P.url);return P.fragmentIdentifier&&(L=`#${D[s]?h(P.fragmentIdentifier,D):P.fragmentIdentifier}`),`${v}${E}${L}`},t.pick=(P,D,v)=>{v=Object.assign({parseFragmentIdentifier:!0,[s]:!1},v);const{url:A,query:S,fragmentIdentifier:u}=t.parseUrl(P,v);return t.stringifyUrl({url:A,query:i(S,D),fragmentIdentifier:u},v)},t.exclude=(P,D,v)=>{const A=Array.isArray(D)?S=>!D.includes(S):(S,u)=>!D(S,u);return t.pick(P,A,v)}})(Hn);const Wl={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},yo=":";function ql(t){const[e,r]=t.split(yo);return{namespace:e,reference:r}}function Zl(t){const{namespace:e,reference:r}=t;return[e,r].join(yo)}function po(t){const[e,r,n]=t.split(yo);return{namespace:e,reference:r,address:n}}function Yl(t,e){const r=[];return t.forEach(n=>{const i=e(n);r.includes(i)||r.push(i)}),r}function Jl(t){const{namespace:e,reference:r}=po(t);return Zl({namespace:e,reference:r})}function Xl(t){return Yl(t,Jl)}function Wf(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function Ql(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...Xl(i.accounts))}),r}function qf(t,e){return t.includes(":")?[t]:e.chains||[]}const Zf="base10",Gt="base16",Ra="base64pad",mo="utf8",Yf=0,qn=1,eh=0,gs=1,ja=12,vo=32;function z1(){const t=ho.generateKeyPair();return{privateKey:or(t.secretKey,Gt),publicKey:or(t.publicKey,Gt)}}function V1(){const t=mi.randomBytes(vo);return or(t,Gt)}function K1(t,e){const r=ho.sharedKey(ar(t,Gt),ar(e,Gt),!0),n=new ju(_i.SHA256,r).expand(vo);return or(n,Gt)}function W1(t){const e=_i.hash(ar(t,Gt));return or(e,Gt)}function q1(t){const e=_i.hash(ar(t,mo));return or(e,Gt)}function th(t){return ar(`${t}`,Zf)}function Pi(t){return Number(or(t,Zf))}function Z1(t){const e=th(typeof t.type<"u"?t.type:Yf);if(Pi(e)===qn&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?ar(t.senderPublicKey,Gt):void 0,n=typeof t.iv<"u"?ar(t.iv,Gt):mi.randomBytes(ja),i=new uo.ChaCha20Poly1305(ar(t.symKey,Gt)).seal(n,ar(t.message,mo));return rh({type:e,sealed:i,iv:n,senderPublicKey:r})}function Y1(t){const e=new uo.ChaCha20Poly1305(ar(t.symKey,Gt)),{sealed:r,iv:n}=Jf(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return or(i,mo)}function rh(t){if(Pi(t.type)===qn){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return or(Jo([t.type,t.senderPublicKey,t.iv,t.sealed]),Ra)}return or(Jo([t.type,t.iv,t.sealed]),Ra)}function Jf(t){const e=ar(t,Ra),r=e.slice(eh,gs),n=gs;if(Pi(r)===qn){const o=n+vo,c=o+ja,l=e.slice(n,o),h=e.slice(o,c),g=e.slice(c);return{type:r,sealed:g,iv:h,senderPublicKey:l}}const i=n+ja,a=e.slice(n,i),s=e.slice(i);return{type:r,sealed:s,iv:a}}function J1(t,e){const r=Jf(t);return nh({type:Pi(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?or(r.senderPublicKey,Gt):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function nh(t){const e=(t==null?void 0:t.type)||Yf;if(e===qn){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function X1(t){return t.type===qn&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var ih=Object.defineProperty,ys=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable,ps=(t,e,r)=>e in t?ih(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ms=(t,e)=>{for(var r in e||(e={}))ah.call(e,r)&&ps(t,r,e[r]);if(ys)for(var r of ys(e))oh.call(e,r)&&ps(t,r,e[r]);return t};const sh="ReactNative",qt={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},fh="js";function Xf(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ti(){return!Gf()&&!!bo()&&navigator.product===sh}function Eo(){return!Xf()&&!!bo()}function Zn(){return Ti()?qt.reactNative:Xf()?qt.node:Eo()?qt.browser:qt.unknown}function ch(t,e){let r=Hn.parse(t);return r=ms(ms({},r),e),t=Hn.stringify(r),t}function Q1(){return Vf()||{name:"",description:"",url:"",icons:[""]}}function uh(){if(Zn()===qt.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=Jd();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function dh(){var t;const e=Zn();return e===qt.browser?[e,((t=zf())==null?void 0:t.host)||"unknown"].join(":"):e}function lh(t,e,r){const n=uh(),i=dh();return[[t,e].join("-"),[fh,r].join("-"),n,i].join("/")}function eg({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:a,useOnCloseEvent:s}){const o=r.split("?"),c=lh(t,e,n),l={auth:i,ua:c,projectId:a,useOnCloseEvent:s||void 0},h=ch(o[1]||"",l);return o[0]+"?"+h}function Wr(t,e){return t.filter(r=>e.includes(r)).length===t.length}function tg(t){return Object.fromEntries(t.entries())}function rg(t){return new Map(Object.entries(t))}function ng(t=Xr.FIVE_MINUTES,e){const r=Xr.toMiliseconds(t||Xr.FIVE_MINUTES);let n,i,a;return{resolve:s=>{a&&n&&(clearTimeout(a),n(s))},reject:s=>{a&&i&&(clearTimeout(a),i(s))},done:()=>new Promise((s,o)=>{a=setTimeout(()=>{o(new Error(e))},r),n=s,i=o})}}function ig(t,e,r){return new Promise(async(n,i)=>{const a=setTimeout(()=>i(new Error(r)),e);try{const s=await t;n(s)}catch(s){i(s)}clearTimeout(a)})}function Qf(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ag(t){return Qf("topic",t)}function og(t){return Qf("id",t)}function sg(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function fg(t,e){return Xr.fromMiliseconds((e||Date.now())+Xr.toMiliseconds(t))}function cg(t){return Date.now()>=Xr.toMiliseconds(t)}function ug(t,e){return`${t}${e?`:${e}`:""}`}async function dg({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const a=`${i}/wc?requestId=${t}&sessionTopic=${e}`,s=Zn();s===qt.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):s===qt.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(a)}catch(n){console.error(n)}}const hh="irn";function lg(t){return(t==null?void 0:t.relay)||{protocol:hh}}function hg(t){const e=Wl[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var xh=Object.defineProperty,vs=Object.getOwnPropertySymbols,bh=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable,Es=(t,e,r)=>e in t?xh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yh=(t,e)=>{for(var r in e||(e={}))bh.call(e,r)&&Es(t,r,e[r]);if(vs)for(var r of vs(e))gh.call(e,r)&&Es(t,r,e[r]);return t};function ph(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const a=i.replace(n,""),s=t[i];r[a]=s}}),r}function xg(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),a=typeof r<"u"?t.substring(r):"",s=Hn.parse(a);return{protocol:n,topic:mh(i[0]),version:parseInt(i[1],10),symKey:s.symKey,relay:ph(s)}}function mh(t){return t.startsWith("//")?t.substring(2):t}function vh(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const a=r+e+i;t[i]&&(n[a]=t[i])}),n}function bg(t){return`${t.protocol}:${t.topic}@${t.version}?`+Hn.stringify(yh({symKey:t.symKey},vh(t.relay)))}function In(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Eh(t){const e=[];return Object.values(t).forEach(r=>{e.push(...In(r.accounts))}),e}function wh(t,e){const r=[];return Object.values(t).forEach(n=>{In(n.accounts).includes(e)&&r.push(...n.methods)}),r}function _h(t,e){const r=[];return Object.values(t).forEach(n=>{In(n.accounts).includes(e)&&r.push(...n.events)}),r}function gg(t,e){const r=Ch(t,e);if(r)throw new Error(r.message);const n={};for(const[i,a]of Object.entries(t))n[i]={methods:a.methods,events:a.events,chains:a.accounts.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)};return n}const Ah={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Sh={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Or(t,e){const{message:r,code:n}=Sh[t];return{message:e?`${r} ${e}`:r,code:n}}function Sn(t,e){const{message:r,code:n}=Ah[t];return{message:e?`${r} ${e}`:r,code:n}}function Di(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function e0(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Qr(t){return typeof t>"u"}function tr(t,e){return e&&Qr(t)?!0:typeof t=="string"&&!!t.trim().length}function wo(t,e){return e&&Qr(t)?!0:typeof t=="number"&&!isNaN(t)}function yg(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let a=!0;return Wr(i,n)?(n.forEach(s=>{const{accounts:o,methods:c,events:l}=t.namespaces[s],h=In(o),g=r[s];(!Wr(qf(s,g),h)||!Wr(g.methods,c)||!Wr(g.events,l))&&(a=!1)}),a):!1}function ui(t){return tr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Ph(t){if(tr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&ui(r)}}return!1}function pg(t){if(tr(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function mg(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function vg(t){return t==null?void 0:t.topic}function Eg(t,e){let r=null;return tr(t==null?void 0:t.publicKey,!1)||(r=Or("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function ws(t){let e=!0;return Di(t)?t.length&&(e=t.every(r=>tr(r,!1))):e=!1,e}function Th(t,e,r){let n=null;return Di(e)&&e.length?e.forEach(i=>{n||ui(i)||(n=Sn("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ui(t)||(n=Sn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Dh(t,e,r){let n=null;return Object.entries(t).forEach(([i,a])=>{if(n)return;const s=Th(i,qf(i,a),`${e} ${r}`);s&&(n=s)}),n}function Ih(t,e){let r=null;return Di(t)?t.forEach(n=>{r||Ph(n)||(r=Sn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Sn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Bh(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Ih(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function Oh(t,e){let r=null;return ws(t==null?void 0:t.methods)?ws(t==null?void 0:t.events)||(r=Sn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Sn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function t0(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Oh(n,`${e}, namespace`);i&&(r=i)}),r}function wg(t,e,r){let n=null;if(t&&e0(t)){const i=t0(t,e);i&&(n=i);const a=Dh(t,e,r);a&&(n=a)}else n=Or("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Ch(t,e){let r=null;if(t&&e0(t)){const n=t0(t,e);n&&(r=n);const i=Bh(t,e);i&&(r=i)}else r=Or("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Fh(t){return tr(t.protocol,!0)}function _g(t,e){let r=!1;return e&&!t?r=!0:t&&Di(t)&&t.length&&t.forEach(n=>{r=Fh(n)}),r}function Ag(t){return typeof t=="number"}function Sg(t){return typeof t<"u"&&typeof t!==null}function Pg(t){return!(!t||typeof t!="object"||!t.code||!wo(t.code,!1)||!t.message||!tr(t.message,!1))}function Tg(t){return!(Qr(t)||!tr(t.method,!1))}function Dg(t){return!(Qr(t)||Qr(t.result)&&Qr(t.error)||!wo(t.id,!1)||!tr(t.jsonrpc,!1))}function Ig(t){return!(Qr(t)||!tr(t.name,!1))}function Bg(t,e){return!(!ui(e)||!Eh(t).includes(e))}function Og(t,e,r){return tr(r,!1)?wh(t,e).includes(r):!1}function Cg(t,e,r){return tr(r,!1)?_h(t,e).includes(r):!1}function Fg(t,e,r){let n=null;const i=Nh(t),a=Mh(e),s=Object.keys(i),o=Object.keys(a),c=_s(Object.keys(t)),l=_s(Object.keys(e)),h=c.filter(g=>!l.includes(g));return h.length&&(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),Wr(s,o)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||n)return;const y=In(e[g].accounts);y.includes(g)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),s.forEach(g=>{n||(Wr(i[g].methods,a[g].methods)?Wr(i[g].events,a[g].events)||(n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${g}`)):n=Or("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${g}`))}),n}function Nh(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function _s(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Mh(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=In(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(a=>a.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Ng(t,e){return wo(t,!1)&&t<=e.max&&t>=e.min}function Mg(){const t=Zn();return new Promise(e=>{switch(t){case qt.browser:e(Lh());break;case qt.reactNative:e(kh());break;case qt.node:e(Uh());break;default:e(!0)}})}function Lh(){return Eo()&&(navigator==null?void 0:navigator.onLine)}async function kh(){if(Ti()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Uh(){return!0}function Lg(t){switch(Zn()){case qt.browser:Rh(t);break;case qt.reactNative:jh(t);break}}function Rh(t){!Ti()&&Eo()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function jh(t){Ti()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const ta={};class kg{static get(e){return ta[e]}static set(e,r){ta[e]=r}static delete(e){delete ta[e]}}const Hh=(t,e=0)=>{let r=~~e,n=0;for(let i=0;i<t.length;i++)n+=t[i];return r+=n%256,r%256},As=(t,e)=>mf.Buffer.from(t,e);function Yt(t,e){const r=(n,i)=>e(As(n),i)>>>0;return r.signed=(n,i)=>e(As(n),i),r.unsigned=r,r.model=t,r}Yt("crc1",Hh);let Ha=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(Ha=new Int32Array(Ha));const $h=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=Ha[(r^t[n])&255]&255;return r};Yt("crc-8",$h);let $a=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&($a=new Int32Array($a));const Gh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=$a[(r^t[n])&255]&255;return r};Yt("dallas-1-wire",Gh);let Ga=[0,213,127,170,254,43,129,84,41,252,86,131,215,2,168,125,82,135,45,248,172,121,211,6,123,174,4,209,133,80,250,47,164,113,219,14,90,143,37,240,141,88,242,39,115,166,12,217,246,35,137,92,8,221,119,162,223,10,160,117,33,244,94,139,157,72,226,55,99,182,28,201,180,97,203,30,74,159,53,224,207,26,176,101,49,228,78,155,230,51,153,76,24,205,103,178,57,236,70,147,199,18,184,109,16,197,111,186,238,59,145,68,107,190,20,193,149,64,234,63,66,151,61,232,188,105,195,22,239,58,144,69,17,196,110,187,198,19,185,108,56,237,71,146,189,104,194,23,67,150,60,233,148,65,235,62,106,191,21,192,75,158,52,225,181,96,202,31,98,183,29,200,156,73,227,54,25,204,102,179,231,50,152,77,48,229,79,154,206,27,177,100,114,167,13,216,140,89,243,38,91,142,36,241,165,112,218,15,32,245,95,138,222,11,161,116,9,220,118,163,247,34,136,93,214,3,169,124,40,253,87,130,255,42,128,85,1,212,126,171,132,81,251,46,122,175,5,208,173,120,210,7,83,134,44,249];typeof Int32Array<"u"&&(Ga=new Int32Array(Ga));const zh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=Ga[(r^t[n])&255]&255;return r};Yt("crc-8-dvbs2",zh);let za=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(za=new Int32Array(za));const Vh=(t,e=0)=>{let r=~~e;for(let n=0;n<t.length;n++)r=(za[(r^t[n])&255]^r>>8)&65535;return r};Yt("crc-16",Vh);let Va=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(Va=new Int32Array(Va));const Kh=(t,e)=>{let r=typeof e<"u"?~~e:65535;for(let n=0;n<t.length;n++)r=(Va[(r>>8^t[n])&255]^r<<8)&65535;return r};Yt("ccitt",Kh);let Ka=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(Ka=new Int32Array(Ka));const Wh=(t,e)=>{let r=typeof e<"u"?~~e:65535;for(let n=0;n<t.length;n++)r=(Ka[(r^t[n])&255]^r>>8)&65535;return r};Yt("crc-16-modbus",Wh);const qh=(t,e)=>{let r=typeof e<"u"?~~e:0;for(let n=0;n<t.length;n++){let i=r>>>8&255;i^=t[n]&255,i^=i>>>4,r=r<<8&65535,r^=i,i=i<<5&65535,r^=i,i=i<<7&65535,r^=i}return r};Yt("xmodem",qh);let Wa=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(Wa=new Int32Array(Wa));const Zh=(t,e)=>{let r=typeof e<"u"?~~e:0;for(let n=0;n<t.length;n++)r=(Wa[(r^t[n])&255]^r>>8)&65535;return r};Yt("kermit",Zh);let qa=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(qa=new Int32Array(qa));const Yh=(t,e)=>{let r=typeof e<"u"?~~e:11994318;for(let n=0;n<t.length;n++)r=(qa[(r>>16^t[n])&255]^r<<8)&16777215;return r};Yt("crc-24",Yh);let Za=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Za=new Int32Array(Za));const Jh=(t,e)=>{let r=e===0?0:~~e^-1;for(let n=0;n<t.length;n++)r=Za[(r^t[n])&255]^r>>>8;return r^-1},Xh=Yt("crc-32",Jh);let Ya=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];typeof Int32Array<"u"&&(Ya=new Int32Array(Ya));const Qh=(t,e)=>{let r=typeof e<"u"?~~e:4294967295;for(let n=0;n<t.length;n++)r=Ya[(r>>24^t[n])&255]^r<<8;return r};Yt("crc-32-mpeg",Qh);let Ja=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Ja=new Int32Array(Ja));const ex=(t,e=-1)=>{let r=e===0?0:~~e;for(let n=0;n<t.length;n++)r=Ja[(r^t[n])&255]^r>>>8;return r};Yt("jam",ex);const tx={mainnet:{name:"mainnet",chainId:1,networkId:1,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},goerli:{name:"goerli",chainId:5,networkId:5,defaultHardfork:"shanghai",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"paris",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},sepolia:{name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"paris",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},holesky:{name:"holesky",chainId:17e3,networkId:17e3,defaultHardfork:"paris",consensus:{type:"pos",algorithm:"casper"},comment:"PoS test network to replace Goerli",url:"https://github.com/eth-clients/holesky/",genesis:{baseFeePerGas:"0x3B9ACA00",difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65156994"},hardforks:[{name:"chainstart",block:0,forkHash:"0xc61a6098"},{name:"homestead",block:0,forkHash:"0xc61a6098"},{name:"tangerineWhistle",block:0,forkHash:"0xc61a6098"},{name:"spuriousDragon",block:0,forkHash:"0xc61a6098"},{name:"byzantium",block:0,forkHash:"0xc61a6098"},{name:"constantinople",block:0,forkHash:"0xc61a6098"},{name:"petersburg",block:0,forkHash:"0xc61a6098"},{name:"istanbul",block:0,forkHash:"0xc61a6098"},{name:"muirGlacier",block:0,forkHash:"0xc61a6098"},{name:"berlin",block:0,forkHash:"0xc61a6098"},{name:"london",block:0,forkHash:"0xc61a6098"},{name:"paris",ttd:"0",block:0,forkHash:"0xc61a6098"},{name:"mergeForkIdTransition",block:0,forkHash:"0xc61a6098"},{name:"shanghai",block:null,timestamp:"1696000704",forkHash:"0xfd4f016b"},{name:"cancun",block:null,forkHash:null}],bootstrapNodes:[{ip:"146.190.13.128",port:30303,id:"ac906289e4b7f12df423d654c5a962b6ebe5b3a74cc9e06292a85221f9a64a6f1cfdd6b714ed6dacef51578f92b34c60ee91e9ede9c7f8fadc4d347326d95e2b",location:"",comment:"bootnode 1"},{ip:"178.128.136.233",port:30303,id:"a3435a0155a3e837c02f5e7f5662a2f1fbc25b48e4dc232016e1c51b544cb5b4510ef633ea3278c0e970fa8ad8141e2d4d0f9f95456c537ff05fdf9b31c15072",location:"",comment:"bootnode 2"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.holesky.ethdisco.net"]}};var Nr;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia",t[t.Holesky=17e3]="Holesky"})(Nr||(Nr={}));Nr.Mainnet+"",ir,Ar("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),Nr.Goerli+"",ir,Ar("0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"),Nr.Sepolia+"",ir,Ar("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"),Nr.Holesky+"",ir,Ar("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783");var ye;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Paris="paris",t.Shanghai="shanghai",t.Cancun="cancun"})(ye||(ye={}));var Ss;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(Ss||(Ss={}));var Ps;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(Ps||(Ps={}));var Ht;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(Ht||(Ht={}));var Ye;(function(t){t.Draft="draft",t.Review="review",t.Final="final"})(Ye||(Ye={}));const dr={1153:{comment:"Transient storage opcodes",url:"https://eips.ethereum.org/EIPS/eip-1153",status:Ye.Review,minimumHardfork:ye.Chainstart,requiredEIPs:[],gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}}},1559:{comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:Ye.Final,minimumHardfork:ye.Berlin,requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}}},2315:{comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:Ye.Draft,minimumHardfork:ye.Istanbul,requiredEIPs:[],gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}}},2565:{comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:Ye.Final,minimumHardfork:ye.Byzantium,requiredEIPs:[],gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}}},2718:{comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:Ye.Final,minimumHardfork:ye.Chainstart,requiredEIPs:[]},2929:{comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:Ye.Final,minimumHardfork:ye.Chainstart,requiredEIPs:[],gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}}},2930:{comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:Ye.Final,minimumHardfork:ye.Istanbul,requiredEIPs:[2718,2929],gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}}},3074:{comment:"AUTH and AUTHCALL opcodes",url:"https://eips.ethereum.org/EIPS/eip-3074",status:Ye.Review,minimumHardfork:ye.London,requiredEIPs:[],gasPrices:{auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}}},3198:{comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:Ye.Final,minimumHardfork:ye.London,requiredEIPs:[],gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}}},3529:{comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:Ye.Final,minimumHardfork:ye.Berlin,requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}}},3540:{comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:Ye.Review,minimumHardfork:ye.London,requiredEIPs:[3541]},3541:{comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:Ye.Final,minimumHardfork:ye.Berlin,requiredEIPs:[]},3554:{comment:"Difficulty Bomb Delay to December 1st 2021",url:"https://eips.ethereum.org/EIPS/eip-3554",status:Ye.Final,minimumHardfork:ye.MuirGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:Ye.Final,minimumHardfork:ye.Chainstart,requiredEIPs:[]},3651:{comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:Ye.Review,minimumHardfork:ye.London,requiredEIPs:[2929]},3670:{comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:ye.London,requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:Ye.Final,minimumHardfork:ye.London,requiredEIPs:[]},3855:{comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:Ye.Review,minimumHardfork:ye.Chainstart,requiredEIPs:[],gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}}},3860:{comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:Ye.Review,minimumHardfork:ye.SpuriousDragon,requiredEIPs:[],gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}}},4345:{comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:Ye.Final,minimumHardfork:ye.London,requiredEIPs:[],pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:Ye.Review,minimumHardfork:ye.London,requiredEIPs:[],gasPrices:{prevrandao:{v:2,d:"Base fee of the PREVRANDAO opcode (previously DIFFICULTY)"}}},4788:{comment:"Beacon block root in the EVM",url:"https://eips.ethereum.org/EIPS/eip-4788",status:Ye.Draft,minimumHardfork:ye.Cancun,requiredEIPs:[],gasPrices:{},vm:{historicalRootsLength:{v:8191,d:"The modulo parameter of the beaconroot ring buffer in the beaconroot statefull precompile"}}},4844:{comment:"Shard Blob Transactions",url:"https://eips.ethereum.org/EIPS/eip-4844",status:Ye.Draft,minimumHardfork:ye.Paris,requiredEIPs:[1559,2718,2930,4895],gasConfig:{blobGasPerBlob:{v:131072,d:"The base fee for blob gas per blob"},targetBlobGasPerBlock:{v:393216,d:"The target blob gas consumed per block"},maxblobGasPerBlock:{v:786432,d:"The max blob gas allowable per block"},blobGasPriceUpdateFraction:{v:3338477,d:"The denominator used in the exponential when calculating a blob gas price"}},gasPrices:{simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minBlobGasPrice:{v:1,d:"The minimum fee per blob gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},blobhash:{v:3,d:"Base fee of the BLOBHASH opcode"}},sharding:{blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}}},4895:{comment:"Beacon chain push withdrawals as operations",url:"https://eips.ethereum.org/EIPS/eip-4895",status:Ye.Review,minimumHardfork:ye.Paris,requiredEIPs:[]},5133:{comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:Ye.Draft,minimumHardfork:ye.GrayGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},5656:{comment:"MCOPY - Memory copying instruction",url:"https://eips.ethereum.org/EIPS/eip-5656",status:Ye.Draft,minimumHardfork:ye.Shanghai,requiredEIPs:[],gasPrices:{mcopy:{v:3,d:"Base fee of the MCOPY opcode"}}},6780:{comment:"SELFDESTRUCT only in same transaction",url:"https://eips.ethereum.org/EIPS/eip-6780",status:Ye.Draft,minimumHardfork:ye.London,requiredEIPs:[]},7516:{comment:"BLOBBASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-7516",status:Ye.Draft,minimumHardfork:ye.Paris,requiredEIPs:[4844],gasPrices:{blobbasefee:{v:2,d:"Gas cost of the BLOBBASEFEE opcode"}}}};var wt;(function(t){t.Draft="draft",t.Review="review",t.Final="final"})(wt||(wt={}));const rx={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:wt.Final,gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},keccak256:{v:30,d:"Base fee of the SHA3 opcode"},keccak256Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:BigInt("5000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:wt.Final,gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:wt.Final},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:wt.Final,gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:wt.Final,gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:wt.Final,gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},pow:{minerReward:{v:BigInt("3000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:wt.Final,gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},pow:{minerReward:{v:BigInt("2000000000000000000"),d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:wt.Final,gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:wt.Final,gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:wt.Final,pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:wt.Final,eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:wt.Final,eips:[1559,3198,3529,3541]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:wt.Final,eips:[4345]},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:wt.Final,eips:[5133]},paris:{name:"paris",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:wt.Final,consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:wt.Final,eips:[]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:wt.Final,eips:[3651,3855,3860,4895]},cancun:{name:"cancun",comment:"Next feature hardfork after shanghai, includes proto-danksharding EIP 4844 blobs (still WIP hence not for production use), transient storage opcodes, parent beacon block root availability in EVM, selfdestruct only in same transaction, and blob base fee opcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/cancun.md",status:wt.Final,eips:[1153,4844,4788,5656,6780,7516]}};function nx(t){return!t||t==="0x0"?"0x0000000000000000":lf(t)?"0x"+_n(t).padStart(16,"0"):"0x"+t.padStart(16,"0")}function ix(t,e=!0){const{name:r,config:n,difficulty:i,mixHash:a,gasLimit:s,coinbase:o,baseFeePerGas:c,excessBlobGas:l}=t;let{extraData:h,timestamp:g,nonce:y}=t;const w=Number(g),{chainId:O}=n;if(h===""&&(h="0x"),lf(g)||(g=Bc(parseInt(g))),y.length!==18&&(y=nx(y)),n.eip155Block!==n.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const U={name:r,chainId:O,networkId:O,genesis:{timestamp:g,gasLimit:s,difficulty:i,nonce:y,extraData:h,mixHash:a,coinbase:o,baseFeePerGas:c,excessBlobGas:l},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:n.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:n.clique.period??n.clique.blockperiodseconds,epoch:n.clique.epoch??n.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},M={[ye.Homestead]:{name:"homesteadBlock"},[ye.Dao]:{name:"daoForkBlock"},[ye.TangerineWhistle]:{name:"eip150Block"},[ye.SpuriousDragon]:{name:"eip155Block"},[ye.Byzantium]:{name:"byzantiumBlock"},[ye.Constantinople]:{name:"constantinopleBlock"},[ye.Petersburg]:{name:"petersburgBlock"},[ye.Istanbul]:{name:"istanbulBlock"},[ye.MuirGlacier]:{name:"muirGlacierBlock"},[ye.Berlin]:{name:"berlinBlock"},[ye.London]:{name:"londonBlock"},[ye.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[ye.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[ye.Cancun]:{name:"cancunTime",postMerge:!0,isTimestamp:!0}},G=Object.keys(M).reduce((v,A)=>(v[M[A].name]=A,v),{}),P=Object.keys(n).filter(v=>G[v]!==void 0&&n[v]!==void 0&&n[v]!==null);U.hardforks=P.map(v=>({name:G[v],block:M[G[v]].isTimestamp===!0||typeof n[v]!="number"?null:n[v],timestamp:M[G[v]].isTimestamp===!0&&typeof n[v]=="number"?n[v]:void 0})).filter(v=>v.block!==null||v.timestamp!==void 0);for(const v of U.hardforks)v.timestamp===w&&(v.timestamp=0);if(U.hardforks.sort(function(v,A){return(v.block??1/0)-(A.block??1/0)}),U.hardforks.sort(function(v,A){return(v.timestamp??w)-(A.timestamp??w)}),n.terminalTotalDifficulty!==void 0){const v={name:ye.Paris,ttd:n.terminalTotalDifficulty,block:null},A=U.hardforks.findIndex(S=>{var u;return((u=M[S.name])==null?void 0:u.postMerge)===!0});A!==-1?U.hardforks.splice(A,0,v):U.hardforks.push(v)}const D=U.hardforks.length>0?U.hardforks.slice(-1)[0]:void 0;return U.hardfork=D==null?void 0:D.name,U.hardforks.unshift({name:ye.Chainstart,block:0}),U}function ax(t,e,r){try{const n=["config","difficulty","gasLimit","nonce","alloc"];if(n.some(i=>!(i in t))){const i=n.filter(a=>!(a in t));throw new Error(`Invalid format, expected geth genesis field "${i}" missing`)}return e!==void 0&&(t.name=e),ix(t,r)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}class kt{constructor(e){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new Pa.EventEmitter,this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??ye.Shanghai,this.HARDFORK_CHANGES=this.hardforks().map(r=>[r.name,rx[r.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips),Object.keys(this._paramsCache).length===0&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}static custom(e,r={}){const n=r.baseChain??"mainnet",i={...kt._getChainParams(n)};if(i.name="custom-chain",typeof e!="string")return new kt({chain:{...i,...e},...r});if(e===Ht.PolygonMainnet)return kt.custom({name:Ht.PolygonMainnet,chainId:137,networkId:137},r);if(e===Ht.PolygonMumbai)return kt.custom({name:Ht.PolygonMumbai,chainId:80001,networkId:80001},r);if(e===Ht.ArbitrumOne)return kt.custom({name:Ht.ArbitrumOne,chainId:42161,networkId:42161},r);if(e===Ht.xDaiChain)return kt.custom({name:Ht.xDaiChain,chainId:100,networkId:100},r);if(e===Ht.OptimisticKovan)return kt.custom({name:Ht.OptimisticKovan,chainId:69,networkId:69},{hardfork:ye.Berlin,...r});if(e===Ht.OptimisticEthereum)return kt.custom({name:Ht.OptimisticEthereum,chainId:10,networkId:10},{hardfork:ye.Berlin,...r});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:r,eips:n,genesisHash:i,hardfork:a,mergeForkIdPostMerge:s}){const o=ax(e,r,s),c=new kt({chain:o.name??"custom",customChains:[o],eips:n,hardfork:a??o.hardfork});return i!==void 0&&c.setForkHashes(i),c}static isSupportedChainId(e){return!!this.getInitializedChains().names[e.toString()]}static _getChainParams(e,r){const n=this.getInitializedChains(r);if(typeof e=="number"||typeof e=="bigint"){if(e=e.toString(),n.names[e]){const i=n.names[e];return n[i]}throw new Error(`Chain with ID ${e} not supported`)}if(n[e]!==void 0)return n[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=kt._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const r=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of r)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}else throw new Error("Wrong input format");for(const r of this.hardforks())if(r.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let r=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",e)),r=!0);if(!r)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkBy(e){let{blockNumber:r,timestamp:n,td:i}=e;r=gn(r,yn.BigInt),i=gn(i,yn.BigInt),n=gn(n,yn.BigInt);const a=this.hardforks().filter(g=>g.block!==null||g.ttd!==null&&g.ttd!==void 0||g.timestamp!==void 0),s=a.findIndex(g=>g.ttd!==null&&g.ttd!==void 0);if(a.slice(s+1).findIndex(g=>g.ttd!==null&&g.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let c=a.findIndex(g=>r!==void 0&&g.block!==null&&BigInt(g.block)>r||n!==void 0&&g.timestamp!==void 0&&g.timestamp>n);if(c===-1)c=a.length;else if(c===0)throw Error("Must have at least one hardfork at block 0");if(n===void 0){const g=a.slice(0,c).reverse().findIndex(y=>y.block!==null||y.ttd!==void 0);c=c-g}if(c=c-1,a[c].block===null&&a[c].timestamp===void 0)(i==null||BigInt(a[c].ttd)>i)&&(c-=1);else if(s>=0&&i!==void 0&&i!==null){if(c>=s&&BigInt(a[s].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<s&&BigInt(a[s].ttd)<i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const l=c;for(;c<a.length-1&&!(a[c].block!==a[c+1].block||a[c].timestamp!==a[c+1].timestamp);c++);if(n!==void 0){if(a.slice(0,l).reduce((w,O)=>Math.max(Number(O.timestamp??"0"),w),0)>n)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(c+1).reduce((w,O)=>Math.min(Number(O.timestamp??n),w),Number(n))<n)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[c].name}setHardforkBy(e){const r=this.getHardforkBy(e);return this.setHardfork(r),r}_getHardfork(e){const r=this.hardforks();for(const n of r)if(n.name===e)return n;return null}setEIPs(e=[]){for(const r of e){if(!(r in dr))throw new Error(`${r} not supported`);const n=this.gteHardfork(dr[r].minimumHardfork);if(!n)throw new Error(`${r} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`)}this._eips=e,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const r of e)if(dr[r].requiredEIPs!==void 0){for(const n of dr[r].requiredEIPs)if(!(e.includes(n)||this.isActivatedEIP(n)))throw new Error(`${r} requires EIP ${n}, but is not included in the EIP list`)}}_mergeWithParamsCache(e){this._paramsCache.gasConfig={...this._paramsCache.gasConfig,...e.gasConfig},this._paramsCache.gasPrices={...this._paramsCache.gasPrices,...e.gasPrices},this._paramsCache.pow={...this._paramsCache.pow,...e.pow},this._paramsCache.sharding={...this._paramsCache.sharding,...e.sharding},this._paramsCache.vm={...this._paramsCache.vm,...e.vm}}_buildParamsCache(){this._paramsCache={};const e=this.hardfork();for(const r of this.HARDFORK_CHANGES){if("eips"in r[1]){const n=r[1].eips;for(const i of n){if(!(i in dr))throw new Error(`${i} not supported`);this._mergeWithParamsCache(dr[i])}}else this._mergeWithParamsCache(r[1]);if(r[0]===e)break}for(const r of this._eips){if(!(r in dr))throw new Error(`${r} not supported`);this._mergeWithParamsCache(dr[r])}}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const e of this.HARDFORK_CHANGES){const r=e[1];this.gteHardfork(r.name)&&"eips"in r&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(r.eips))}this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(e,r){let n=null;return this._paramsCache[e]!==void 0&&this._paramsCache[e][r]!==void 0&&(n=this._paramsCache[e][r].v),BigInt(n??0)}paramByHardfork(e,r,n){let i=null;for(const a of this.HARDFORK_CHANGES){if("eips"in a[1]){const s=a[1].eips;for(const o of s){const c=this.paramByEIP(e,r,o);i=typeof c=="bigint"?c:i}}else a[1][e]!==void 0&&a[1][e][r]!==void 0&&(i=a[1][e][r].v);if(a[0]===n)break}return BigInt(i??0)}paramByEIP(e,r,n){if(!(n in dr))throw new Error(`${n} not supported`);const i=dr[n];if(!(e in i)||i[e][r]===void 0)return;const a=i[e][r].v;return BigInt(a)}paramByBlock(e,r,n,i,a){const s=this.getHardforkBy({blockNumber:n,td:i,timestamp:a});return this.paramByHardfork(e,r,s)}isActivatedEIP(e){return!!this._activatedEIPsCache.includes(e)}hardforkIsActiveOnBlock(e,r){r=gn(r,yn.BigInt),e=e??this._hardfork;const n=this.hardforkBlock(e);return typeof n=="bigint"&&n!==ir&&r>=n}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,r){e=e??this._hardfork;const n=this.hardforks();let i=-1,a=-1,s=0;for(const o of n)o.name===e&&(i=s),o.name===r&&(a=s),s+=1;return i>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;e=e??this._hardfork;const r=(n=this._getHardfork(e))==null?void 0:n.block;return r==null?null:BigInt(r)}hardforkTimestamp(e){var n;e=e??this._hardfork;const r=(n=this._getHardfork(e))==null?void 0:n.timestamp;return r==null?null:BigInt(r)}eipBlock(e){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock(r[0])}return null}hardforkTTD(e){var n;e=e??this._hardfork;const r=(n=this._getHardfork(e))==null?void 0:n.ttd;return r==null?null:BigInt(r)}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const r=this.hardforks();let n=r.findIndex(o=>o.name===e);if(e===ye.Paris&&(n-=1),n<0)return null;let i=r[n].timestamp??r[n].block;i=i!=null?Number(i):null;const a=r.slice(n+1).find(o=>{let c=o.timestamp??o.block;return c=c!=null?Number(c):null,o.name!==ye.Paris&&c!==null&&c!==void 0&&c!==i});if(a===void 0)return null;const s=a.timestamp??a.block;return s==null?null:BigInt(s)}_calcForkHash(e,r){let n=new Uint8Array(0),i=0;for(const o of this.hardforks()){const{block:c,timestamp:l,name:h}=o;let g=l??c;if(g=g!==null?Number(g):null,typeof g=="number"&&g!==0&&g!==i&&h!==ye.Paris){const y=Ar("0x"+g.toString(16).padStart(16,"0"));n=oi(n,y),i=g}if(o.name===e)break}const a=oi(r,n);return Wt(Oc(Xh(a)>>>0))}forkHash(e,r){e=e??this._hardfork;const n=this._getHardfork(e);if(n===null||(n==null?void 0:n.block)===null&&(n==null?void 0:n.timestamp)===void 0&&(n==null?void 0:n.ttd)===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if((n==null?void 0:n.forkHash)!==null&&(n==null?void 0:n.forkHash)!==void 0)return n.forkHash;if(!r)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,r)}hardforkForForkHash(e){const r=this.hardforks().filter(n=>n.forkHash===e);return r.length>=1?r[r.length-1]:null}setForkHashes(e){for(const r of this.hardforks()){const n=r.timestamp??r.block;(r.forkHash===null||r.forkHash===void 0)&&(n!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.type),n[0]===e)break;return r??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.algorithm),n[0]===e)break;return r??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES){if("consensus"in n[1]){const i=n[1],a=i.consensus.algorithm;r=i.consensus[a]}if(n[0]===e)break}return r??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.events=new Pa.EventEmitter,e}static getInitializedChains(e){const r={};for(const[i,a]of Object.entries(Nr))r[a]=i.toLowerCase();const n={...tx};if(e)for(const i of e){const{name:a}=i;r[i.chainId.toString()]=a,n[a]=i}return n.names=r,n}}var lr;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(lr||(lr={}));function ox(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function sx(t){return!ox(t)}var ft;(function(t){t[t.Legacy=0]="Legacy",t[t.AccessListEIP2930=1]="AccessListEIP2930",t[t.FeeMarketEIP1559=2]="FeeMarketEIP1559",t[t.BlobEIP4844=3]="BlobEIP4844"})(ft||(ft={}));function fx(t){return Number(Ue(Je(t.type)))===ft.Legacy}function cx(t){return Number(Ue(Je(t.type)))===ft.AccessListEIP2930}function ux(t){return Number(Ue(Je(t.type)))===ft.FeeMarketEIP1559}function dx(t){return Number(Ue(Je(t.type)))===ft.BlobEIP4844}function lx(t,e){const r=t.param("vm","maxInitCodeSize");if(r&&BigInt(e)>r)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)}class gr{static getAccessListData(e){let r,n;if(sx(e)){r=e;const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=Ar(s.address),c=[];for(let l=0;l<s.storageKeys.length;l++)c.push(Ar(s.storageKeys[l]));i.push([o,c])}n=i}else{n=e??[];const i=[];for(let a=0;a<n.length;a++){const s=n[a],o=Wt(s[0]),c=[];for(let h=0;h<s[1].length;h++)c.push(Wt(s[1][h]));const l={address:o,storageKeys:c};i.push(l)}r=i}return{AccessListJSON:r,accessList:n}}static verifyAccessList(e){for(let r=0;r<e.length;r++){const n=e[r],i=n[0],a=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(i.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let s=0;s<a.length;s++)if(a[s].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const r=[];for(let n=0;n<e.length;n++){const i=e[n],a={address:Wt(Ta(i[0],20)),storageKeys:[]},s=i[1];for(let o=0;o<s.length;o++){const c=s[o];a.storageKeys.push(Wt(Ta(c,32)))}r.push(a)}return r}static getDataFeeEIP2930(e,r){const n=r.param("gasPrices","accessListStorageKeyCost"),i=r.param("gasPrices","accessListAddressCost");let a=0;for(let o=0;o<e.length;o++){const l=e[o][1];a+=l.length}return e.length*Number(i)+a*Number(n)}}function $n(t){return Ar("0x"+t.toString(16).padStart(2,"0"))}class Pr{constructor(e,r){this.cache={hash:void 0,dataFee:void 0,senderPubKey:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Nr.Mainnet;const{nonce:n,gasLimit:i,to:a,value:s,data:o,v:c,r:l,s:h,type:g}=e;this._type=Number(Ue(Je(g))),this.txOptions=r;const y=Je(a===""?"0x":a),w=Je(c===""?"0x":c),O=Je(l===""?"0x":l),U=Je(h===""?"0x":h);this.nonce=Ue(Je(n===""?"0x":n)),this.gasLimit=Ue(Je(i===""?"0x":i)),this.to=y.length>0?new Wo(y):void 0,this.value=Ue(Je(s===""?"0x":s)),this.data=Je(o===""?"0x":o),this.v=w.length>0?Ue(w):void 0,this.r=O.length>0?Ue(O):void 0,this.s=U.length>0?Ue(U):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const M=this.to===void 0||this.to===null,G=r.allowUnlimitedInitCodeSize??!1,P=r.common??this._getCommon();M&&P.isActivatedEIP(3860)&&G===!1&&lx(P,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}getValidationErrors(){const e=[];return this.isSigned()&&!this.verifySignature()&&e.push("Invalid Signature"),this.getBaseFee()>this.gasLimit&&e.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),e}isValid(){return this.getValidationErrors().length===0}getBaseFee(){const e=this.common.param("gasPrices","tx");let r=this.getDataFee();if(e&&(r+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(r+=n)}return r}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero");let n=ir;for(let i=0;i<this.data.length;i++)this.data[i]===0?n+=e:n+=r;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const i=BigInt(Math.ceil(this.data.length/32)),a=this.common.param("gasPrices","initCodeWordCost")*i;n+=a}return n}toCreationAddress(){return this.to===void 0||this.to.bytes.length===0}isSigned(){const{v:e,r,s:n}=this;return!(e===void 0||r===void 0||n===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return Da(e).length!==0}catch{return!1}}getSenderAddress(){return new Wo(wf(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const c=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(c)}let r=!1;this.type===ft.Legacy&&this.common.gteHardfork("spuriousDragon")&&!this.supports(lr.EIP155ReplayProtection)&&(this.activeCapabilities.push(lr.EIP155ReplayProtection),r=!0);const n=this.getHashedMessageToSign(),{v:i,r:a,s}=Cc(n,e),o=this._processSignature(i,a,s);if(r){const c=this.activeCapabilities.indexOf(lr.EIP155ReplayProtection);c>-1&&this.activeCapabilities.splice(c,1)}return o}toJSON(){return{type:Dt(BigInt(this.type)),nonce:Dt(this.nonce),gasLimit:Dt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Dt(this.value),data:Wt(this.data),v:this.v!==void 0?Dt(this.v):void 0,r:this.r!==void 0?Dt(this.r):void 0,s:this.s!==void 0?Dt(this.s):void 0}}_getCommon(e,r){if(r!==void 0){const n=Ue(Je(r));if(e){if(e.chainId()!==n){const i=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(i)}return e.copy()}else return kt.isSupportedChainId(n)?new kt({chain:n}):kt.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN})}else return(e==null?void 0:e.copy())??new kt({chain:this.DEFAULT_CHAIN})}_validateCannotExceedMaxInteger(e,r=256,n=!1){for(const[i,a]of Object.entries(e))switch(r){case 64:if(n){if(a!==void 0&&a>=zo){const s=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(s)}}else if(a!==void 0&&a>zo){const s=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(s)}break;case 256:if(n){if(a!==void 0&&a>=An){const s=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(s)}}else if(a!==void 0&&a>An){const s=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(s)}break;default:{const s=this._errorMsg("unimplemented bits value");throw new Error(s)}}}static _validateNotArray(e){const r=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,i]of Object.entries(e))if(r.includes(n)&&Array.isArray(i))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?Wt(this.hash()):"not available (unsigned)"}catch{e="error"}let r="";try{r=this.isSigned().toString()}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let i=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return i+=`signed=${r} hf=${n}`,i}}function r0(t,e){const r=t.maxPriorityFeePerGas,n=t.maxFeePerGas-e,a=(r<n?r:n)+e;return t.gasLimit*a+t.value}function Rr(t,e){return`${e} (${t.errorStr()})`}function n0(t,e){if(t.cache.dataFee&&t.cache.dataFee.hardfork===t.common.hardfork())return t.cache.dataFee.value;const r=Pr.prototype.getDataFee.bind(t)()+(e??0n);return Object.isFrozen(t)&&(t.cache.dataFee={value:r,hardfork:t.common.hardfork()}),r}function Ii(t){if(!t.isSigned()){const e=Rr(t,"Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(t)?(t.cache.hash||(t.cache.hash=Sr(t.serialize())),t.cache.hash):Sr(t.serialize())}function Bi(t){const{s:e}=t;if(t.common.gteHardfork("homestead")&&e!==void 0&&e>Fc){const r=Rr(t,"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}}function Oi(t){if(t.cache.senderPubKey!==void 0)return t.cache.senderPubKey;const e=t.getMessageToVerifySignature(),{v:r,r:n,s:i}=t;Bi(t);try{const a=Nc(e,r,Be(n),Be(i),t.supports(lr.EIP155ReplayProtection)?t.common.chainId():void 0);return Object.isFrozen(t)&&(t.cache.senderPubKey=a),a}catch{const s=Rr(t,"Invalid Signature");throw new Error(s)}}function _o(t){return Sr(t.getMessageToSign())}function en(t,e){return oi($n(t.type),br.encode(e??t.raw()))}function Ao(t){const{v:e}=t;if(e!==void 0&&e!==ir&&e!==Mc){const r=Rr(t,"The y-parity of the transaction should either be 0 or 1");throw new Error(r)}}function So(t){return n0(t,BigInt(gr.getDataFeeEIP2930(t.accessList,t.common)))}class qr extends Pr{constructor(e,r={}){super({...e,type:ft.FeeMarketEIP1559},r);const{chainId:n,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:s}=e;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const o=gr.getAccessListData(i??[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,gr.verifyAccessList(this.accessList),this.maxFeePerGas=Ue(Je(a===""?"0x":a)),this.maxPriorityFeePerGas=Ue(Je(s===""?"0x":s)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Pr._validateNotArray(e),this.gasLimit*this.maxFeePerGas>An){const l=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(l)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const l=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(l)}Ao(this),Bi(this),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r={}){return new qr(e,r)}static fromSerializedTx(e,r={}){if(wn(e.subarray(0,1),$n(ft.FeeMarketEIP1559))===!1)throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${ft.FeeMarketEIP1559}, received: ${Wt(e.subarray(0,1))}`);const n=br.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return qr.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,i,a,s,o,c,l,h,g,y,w,O]=e;return this._validateNotArray({chainId:n,v:y}),gi({nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:s,gasLimit:o,value:l,v:y,r:w,s:O}),new qr({chainId:Ue(n),nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:s,gasLimit:o,to:c,value:l,data:h,accessList:g??[],v:y!==void 0?Ue(y):void 0,r:w,s:O},r)}getDataFee(){return So(this)}getUpfrontCost(e=ir){return r0(this,e)}raw(){return[Be(this.chainId),Be(this.nonce),Be(this.maxPriorityFeePerGas),Be(this.maxFeePerGas),Be(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Be(this.value),this.data,this.accessList,this.v!==void 0?Be(this.v):new Uint8Array(0),this.r!==void 0?Be(this.r):new Uint8Array(0),this.s!==void 0?Be(this.s):new Uint8Array(0)]}serialize(){return en(this)}getMessageToSign(){return en(this,this.raw().slice(0,9))}getHashedMessageToSign(){return _o(this)}hash(){return Ii(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Oi(this)}_processSignature(e,r,n){const i={...this.txOptions,common:this.common};return qr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-so,r:Ue(r),s:Ue(n)},i)}toJSON(){const e=gr.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Dt(this.chainId),maxPriorityFeePerGas:Dt(this.maxPriorityFeePerGas),maxFeePerGas:Dt(this.maxFeePerGas),accessList:e}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return Rr(this,e)}}class Zr extends Pr{constructor(e,r={}){super({...e,type:ft.AccessListEIP2930},r);const{chainId:n,accessList:i,gasPrice:a}=e;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const s=gr.getAccessListData(i??[]);if(this.accessList=s.accessList,this.AccessListJSON=s.AccessListJSON,gr.verifyAccessList(this.accessList),this.gasPrice=Ue(Je(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Pr._validateNotArray(e),this.gasPrice*this.gasLimit>An){const c=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(c)}Ao(this),Bi(this),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r={}){return new Zr(e,r)}static fromSerializedTx(e,r={}){if(wn(e.subarray(0,1),$n(ft.AccessListEIP2930))===!1)throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${ft.AccessListEIP2930}, received: ${Wt(e.subarray(0,1))}`);const n=br.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Zr.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,i,a,s,o,c,l,h,g,y,w]=e;this._validateNotArray({chainId:n,v:g}),gi({nonce:i,gasPrice:a,gasLimit:s,value:c,v:g,r:y,s:w});const O=[];return new Zr({chainId:Ue(n),nonce:i,gasPrice:a,gasLimit:s,to:o,value:c,data:l,accessList:h??O,v:g!==void 0?Ue(g):void 0,r:y,s:w},r)}getDataFee(){return So(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[Be(this.chainId),Be(this.nonce),Be(this.gasPrice),Be(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Be(this.value),this.data,this.accessList,this.v!==void 0?Be(this.v):new Uint8Array(0),this.r!==void 0?Be(this.r):new Uint8Array(0),this.s!==void 0?Be(this.s):new Uint8Array(0)]}serialize(){return en(this)}getMessageToSign(){return en(this,this.raw().slice(0,8))}getHashedMessageToSign(){return _o(this)}hash(){return Ii(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Oi(this)}_processSignature(e,r,n){const i={...this.txOptions,common:this.common};return Zr.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-so,r:Ue(r),s:Ue(n)},i)}toJSON(){const e=gr.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Dt(this.chainId),gasPrice:Dt(this.gasPrice),accessList:e}}errorStr(){var r;let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${((r=this.accessList)==null?void 0:r.length)??0}`,e}_errorMsg(e){return Rr(this,e)}}const Ts=16777216,hx=(t,e,r,n,i)=>{if(!(t.length===e.length&&e.length===r.length))throw new Error("Number of blobVersionedHashes, blobs, and commitments not all equal");if(t.length===0)throw new Error("Invalid transaction with empty blobs");let a;try{a=fo.verifyBlobKzgProofBatch(e,r,n)}catch(s){throw new Error(`KZG verification of blobs fail with error=${s}`)}if(!a)throw new Error("KZG proof cannot be verified from blobs/commitments");for(let s=0;s<t.length;s++){const o=Af(r[s],i);if(!wn(o,t[s]))throw new Error(`commitment for blob at index ${s} does not match versionedHash`)}};class wr extends Pr{constructor(e,r={}){var h,g,y;super({...e,type:ft.BlobEIP4844},r);const{chainId:n,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:s,maxFeePerBlobGas:o}=e;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");if(this.common.isActivatedEIP(4844)===!1)throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const c=gr.getAccessListData(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,gr.verifyAccessList(this.accessList),this.maxFeePerGas=Ue(Je(a===""?"0x":a)),this.maxPriorityFeePerGas=Ue(Je(s===""?"0x":s)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Pr._validateNotArray(e),this.gasLimit*this.maxFeePerGas>An){const w=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(w)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const w=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(w)}this.maxFeePerBlobGas=Ue(Je((o??"")===""?"0x":o)),this.blobVersionedHashes=(e.blobVersionedHashes??[]).map(w=>Je(w)),Ao(this),Bi(this);for(const w of this.blobVersionedHashes){if(w.length!==32){const O=this._errorMsg("versioned hash is invalid length");throw new Error(O)}if(BigInt(w[0])!==this.common.param("sharding","blobCommitmentVersionKzg")){const O=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(O)}}if(this.blobVersionedHashes.length>Ts){const w=this._errorMsg(`tx can contain at most ${Ts} blobs`);throw new Error(w)}this.blobs=(h=e.blobs)==null?void 0:h.map(w=>Je(w)),this.kzgCommitments=(g=e.kzgCommitments)==null?void 0:g.map(w=>Je(w)),this.kzgProofs=(y=e.kzgProofs)==null?void 0:y.map(w=>Je(w)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r){if(e.blobsData!==void 0){if(e.blobs!==void 0)throw new Error("cannot have both raw blobs data and encoded blobs in constructor");if(e.kzgCommitments!==void 0)throw new Error("cannot have both raw blobs data and KZG commitments in constructor");if(e.blobVersionedHashes!==void 0)throw new Error("cannot have both raw blobs data and versioned hashes in constructor");if(e.kzgProofs!==void 0)throw new Error("cannot have both raw blobs data and KZG proofs in constructor");e.blobs=tu(e.blobsData.reduce((n,i)=>n+i)),e.kzgCommitments=ru(e.blobs),e.blobVersionedHashes=iu(e.kzgCommitments),e.kzgProofs=nu(e.blobs,e.kzgCommitments)}return new wr(e,r)}static minimalFromNetworkWrapper(e,r){return wr.fromTxData({...e,blobs:void 0,kzgCommitments:void 0,kzgProofs:void 0},r)}static fromSerializedTx(e,r={}){if(wn(e.subarray(0,1),$n(ft.BlobEIP4844))===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${ft.BlobEIP4844}, received: ${Wt(e.subarray(0,1))}`);const n=br.decode(e.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return wr.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==11&&e.length!==14)throw new Error("Invalid EIP-4844 transaction. Only expecting 11 values (for unsigned tx) or 14 values (for signed tx).");const[n,i,a,s,o,c,l,h,g,y,w,O,U,M]=e;return this._validateNotArray({chainId:n,v:O}),gi({nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:s,gasLimit:o,value:l,maxFeePerBlobGas:y,v:O,r:U,s:M}),new wr({chainId:Ue(n),nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:s,gasLimit:o,to:c,value:l,data:h,accessList:g??[],maxFeePerBlobGas:y,blobVersionedHashes:w,v:O!==void 0?Ue(O):void 0,r:U,s:M},r)}static fromSerializedBlobTxNetworkWrapper(e,r){if(!r||!r.common)throw new Error("common instance required to validate versioned hashes");if(wn(e.subarray(0,1),$n(ft.BlobEIP4844))===!1)throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${ft.BlobEIP4844}, received: ${Wt(e.subarray(0,1))}`);const n=br.decode(e.subarray(1));if(n.length!==4)throw Error("Expected 4 values in the deserialized network transaction");const[i,a,s,o]=n,c=wr.fromValuesArray(i,{...r,freeze:!1});if(c.to===void 0)throw Error("BlobEIP4844Transaction can not be send without a valid `to`");const l=Number(r.common.param("sharding","blobCommitmentVersionKzg"));return hx(c.blobVersionedHashes,a,s,o,l),c.blobs=a,c.kzgCommitments=s,c.kzgProofs=o,((r==null?void 0:r.freeze)??!0)&&Object.freeze(c),c}getDataFee(){return So(this)}getUpfrontCost(e=ir){return r0(this,e)}raw(){return[Be(this.chainId),Be(this.nonce),Be(this.maxPriorityFeePerGas),Be(this.maxFeePerGas),Be(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Be(this.value),this.data,this.accessList,Be(this.maxFeePerBlobGas),this.blobVersionedHashes,this.v!==void 0?Be(this.v):new Uint8Array(0),this.r!==void 0?Be(this.r):new Uint8Array(0),this.s!==void 0?Be(this.s):new Uint8Array(0)]}serialize(){return en(this)}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.kzgProofs===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and KZG proofs provided");return en(this,[this.raw(),this.blobs,this.kzgCommitments,this.kzgProofs])}getMessageToSign(){return en(this,this.raw().slice(0,11))}getHashedMessageToSign(){return _o(this)}hash(){return Ii(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return Oi(this)}toJSON(){const e=gr.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:Dt(this.chainId),maxPriorityFeePerGas:Dt(this.maxPriorityFeePerGas),maxFeePerGas:Dt(this.maxFeePerGas),accessList:e,maxFeePerBlobGas:Dt(this.maxFeePerBlobGas),blobVersionedHashes:this.blobVersionedHashes.map(n=>Wt(n))}}_processSignature(e,r,n){const i={...this.txOptions,common:this.common};return wr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-so,r:Ue(r),s:Ue(n),maxFeePerBlobGas:this.maxFeePerBlobGas,blobVersionedHashes:this.blobVersionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProofs:this.kzgProofs},i)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return Rr(this,e)}numBlobs(){return this.blobVersionedHashes.length}}function Ds(t,e){const r=Number(t),n=Number(e)*2;return r===n+35||r===n+36}class Mr extends Pr{constructor(e,r={}){if(super({...e,type:ft.Legacy},r),this.common=this._validateTxV(this.v,r.common),this.gasPrice=Ue(Je(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>An){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Pr._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?Ds(this.v,this.common.chainId())&&this.activeCapabilities.push(lr.EIP155ReplayProtection):this.activeCapabilities.push(lr.EIP155ReplayProtection)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(e,r={}){return new Mr(e,r)}static fromSerializedTx(e,r={}){const n=br.decode(e);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,r)}static fromValuesArray(e,r={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,i,a,s,o,c,l,h,g]=e;return gi({nonce:n,gasPrice:i,gasLimit:a,value:o,v:l,r:h,s:g}),new Mr({nonce:n,gasPrice:i,gasLimit:a,to:s,value:o,data:c,v:l,r:h,s:g},r)}raw(){return[Be(this.nonce),Be(this.gasPrice),Be(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Be(this.value),this.data,this.v!==void 0?Be(this.v):new Uint8Array(0),this.r!==void 0?Be(this.r):new Uint8Array(0),this.s!==void 0?Be(this.s):new Uint8Array(0)]}serialize(){return br.encode(this.raw())}getMessageToSign(){const e=[Be(this.nonce),Be(this.gasPrice),Be(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),Be(this.value),this.data];return this.supports(lr.EIP155ReplayProtection)&&(e.push(Be(this.common.chainId())),e.push(Da(Je(0))),e.push(Da(Je(0)))),e}getHashedMessageToSign(){const e=this.getMessageToSign();return Sr(br.encode(e))}getDataFee(){return n0(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){return Ii(this)}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}return this.getHashedMessageToSign()}getSenderPublicKey(){return Oi(this)}_processSignature(e,r,n){this.supports(lr.EIP155ReplayProtection)&&(e+=this.common.chainId()*Vo+Lc);const i={...this.txOptions,common:this.common};return Mr.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:Ue(r),s:Ue(n)},i)}toJSON(){return{...super.toJSON(),gasPrice:Dt(this.gasPrice)}}_validateTxV(e,r){let n;const i=e!==void 0?Number(e):void 0;if(i!==void 0&&i<37&&i!==27&&i!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${i}`);if(i!==void 0&&i!==0&&(!r||r.gteHardfork("spuriousDragon"))&&i!==27&&i!==28)if(r){if(!Ds(BigInt(i),r.chainId()))throw new Error(`Incompatible EIP155-based V ${i} and chain id ${r.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let a;(i-35)%2===0?a=35:a=36,n=BigInt(i-a)/Vo}return this._getCommon(r,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return Rr(this,e)}}const xx=t=>{const e=Object.assign({},t);return e.gasLimit=gn(e.gasLimit??e.gas,yn.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?Ta(Je(e.to),20):null,e.v=e.v==="0x0"?"0x":e.v,e.r=e.r==="0x0"?"0x":e.r,e.s=e.s==="0x0"?"0x":e.s,(e.v!=="0x"||e.r!=="0x"||e.s!=="0x")&&(e.v=gn(e.v,yn.BigInt)),e};class di{constructor(){}static fromTxData(e,r={}){if(!("type"in e)||e.type===void 0)return Mr.fromTxData(e,r);if(fx(e))return Mr.fromTxData(e,r);if(cx(e))return Zr.fromTxData(e,r);if(ux(e))return qr.fromTxData(e,r);if(dx(e))return wr.fromTxData(e,r);throw new Error(`Tx instantiation with type ${e==null?void 0:e.type} not supported`)}static fromSerializedData(e,r={}){if(e[0]<=127)switch(e[0]){case ft.AccessListEIP2930:return Zr.fromSerializedTx(e,r);case ft.FeeMarketEIP1559:return qr.fromSerializedTx(e,r);case ft.BlobEIP4844:return wr.fromSerializedTx(e,r);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return Mr.fromSerializedTx(e,r)}static fromBlockBodyData(e,r={}){if(e instanceof Uint8Array)return this.fromSerializedData(e,r);if(Array.isArray(e))return Mr.fromValuesArray(e,r);throw new Error("Cannot decode transaction: unknown type input")}static async fromJsonRpcProvider(e,r,n){const i=ou(e),a=await au(i,{method:"eth_getTransactionByHash",params:[r]});if(a===null)throw new Error("No data returned from provider");return di.fromRPC(a,n)}static async fromRPC(e,r={}){return di.fromTxData(xx(e),r)}}var Ut={},Lr={},Ci={},Fi={},Ni={};const bx=Vn(kc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=void 0;var e=bx;Object.defineProperty(t,"secp256k1",{enumerable:!0,get:function(){return e.secp256k1}})})(Ni);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const e=mf,r=Ni;t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=r.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=e.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16})(Fi);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.GWEI_TO_WEI=void 0;Mi.GWEI_TO_WEI=BigInt(1e9);var Po={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.RLP=hr.utils=hr.decode=hr.encode=void 0;function To(t){if(Array.isArray(t)){const r=[];let n=0;for(let i=0;i<t.length;i++){const a=To(t[i]);r.push(a),n+=a.length}return Qa(Bs(n,192),...r)}const e=c0(t);return e.length===1&&e[0]<128?e:Qa(Bs(e.length,128),e)}hr.encode=To;function dn(t,e,r){if(r>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,r)}function Is(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return o0(a0(t))}function Bs(t,e){if(t<56)return Uint8Array.from([t+e]);const r=eo(t),n=r.length/2,i=eo(e+55+n);return Uint8Array.from(li(i+r))}function i0(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const r=c0(t),n=Xa(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}hr.decode=i0;function Xa(t){let e,r,n,i,a;const s=[],o=t[0];if(o<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(o<=183){if(e=o-127,o===128?n=Uint8Array.from([]):n=dn(t,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:t.slice(e)}}else if(o<=191){if(r=o-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=Is(dn(t,1,r)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=dn(t,r,e+r),{data:n,remainder:t.slice(e+r)}}else if(o<=247){for(e=o-191,i=dn(t,1,e);i.length;)a=Xa(i),s.push(a.data),i=a.remainder;return{data:s,remainder:t.slice(e)}}else{if(r=o-246,e=Is(dn(t,1,r)),e<56)throw new Error("invalid RLP: encoded list too short");const c=r+e;if(c>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=dn(t,r,c);i.length;)a=Xa(i),s.push(a.data),i=a.remainder;return{data:s,remainder:t.slice(c)}}}const gx=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function a0(t){let e="";for(let r=0;r<t.length;r++)e+=gx[t[r]];return e}function o0(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function li(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2;e[r]=o0(t.slice(n,n+2))}return e}function Qa(...t){if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}function s0(t){return new TextEncoder().encode(t)}function eo(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function yx(t){return t.length%2?`0${t}`:t}function f0(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function px(t){return typeof t!="string"?t:f0(t)?t.slice(2):t}function c0(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return f0(t)?li(yx(px(t))):s0(t);if(typeof t=="number"||typeof t=="bigint")return t?li(eo(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}hr.utils={bytesToHex:a0,concatBytes:Qa,hexToBytes:li,utf8ToBytes:s0};hr.RLP={encode:To,decode:i0};var Xt={};const mx=Vn(Gc);var hi={exports:{}};const vx=Vn(Uc),Os=Vn(Rc);hi.exports;(function(t,e){var r=ze&&ze.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const n=r(vx),i=Os,a=n.default.bool;e.assertBool=a;const s=n.default.bytes;e.assertBytes=s;var o=Os;Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return o.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return o.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return o.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return o.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return o.utf8ToBytes}});function c(y){if(!(y instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof y}`);return new TextDecoder().decode(y)}e.bytesToUtf8=c;function l(y){const w=y.startsWith("0x")?y.substring(2):y;return(0,i.hexToBytes)(w)}e.hexToBytes=l;function h(y,w){if(y.length!==w.length)return!1;for(let O=0;O<y.length;O++)if(y[O]!==w[O])return!1;return!0}e.equalsBytes=h;function g(y){return w=>(n.default.bytes(w),y(w))}e.wrapHash=g,e.crypto=(()=>{const y=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,w=typeof Ia=="function"&&Ia.bind(t);return{node:w&&!y?w("crypto"):void 0,web:y}})()})(hi,hi.exports);var u0=hi.exports;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.keccak512=Xt.keccak384=Xt.keccak256=Xt.keccak224=void 0;const Gn=mx,Li=u0;Xt.keccak224=(0,Li.wrapHash)(Gn.keccak_224);Xt.keccak256=(()=>{const t=(0,Li.wrapHash)(Gn.keccak_256);return t.create=Gn.keccak_256.create,t})();Xt.keccak384=(0,Li.wrapHash)(Gn.keccak_384);Xt.keccak512=(0,Li.wrapHash)(Gn.keccak_512);var sn={},Qt={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.isHexString=et.getKeys=et.fromAscii=et.fromUtf8=et.toAscii=et.arrayContainsArray=et.getBinarySize=et.padToEven=et.stripHexPrefix=et.isHexPrefixed=void 0;function d0(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}et.isHexPrefixed=d0;const Ex=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return d0(t)?t.slice(2):t};et.stripHexPrefix=Ex;function l0(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}et.padToEven=l0;function wx(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof t}`);return Buffer.byteLength(t,"utf8")}et.getBinarySize=wx;function _x(t,e,r){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[r===!0?"some":"every"](n=>t.indexOf(n)>=0)}et.arrayContainsArray=_x;function Ax(t){let e="",r=0;const n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}et.toAscii=Ax;function Sx(t){const e=Buffer.from(t,"utf8");return`0x${l0(e.toString("hex")).replace(/^0+|0+$/g,"")}`}et.fromUtf8=Sx;function Px(t){let e="";for(let r=0;r<t.length;r++){const i=t.charCodeAt(r).toString(16);e+=i.length<2?`0${i}`:i}return`0x${e}`}et.fromAscii=Px;function Tx(t,e,r){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);const n=[];for(let i=0;i<t.length;i++){let a=t[i][e];if(r===!0&&!a)a="";else if(typeof a!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof a}`);n.push(a)}return n}et.getKeys=Tx;function Dx(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}et.isHexString=Dx;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.assertIsString=Qt.assertIsArray=Qt.assertIsBuffer=Qt.assertIsHexString=void 0;const Ix=et,Bx=function(t){if(!(0,Ix.isHexString)(t)){const e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}};Qt.assertIsHexString=Bx;const Ox=function(t){if(!Buffer.isBuffer(t)){const e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};Qt.assertIsBuffer=Ox;const Cx=function(t){if(!Array.isArray(t)){const e=`This method only supports number arrays but input was: ${t}`;throw new Error(e)}};Qt.assertIsArray=Cx;const Fx=function(t){if(typeof t!="string"){const e=`This method only supports strings but input was: ${t}`;throw new Error(e)}};Qt.assertIsString=Fx;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const e=Qt,r=et,n=function(m){if(!Number.isSafeInteger(m)||m<0)throw new Error(`Received an invalid integer type: ${m}`);return`0x${m.toString(16)}`};t.intToHex=n;const i=function(m){const B=(0,t.intToHex)(m);return Buffer.from((0,r.padToEven)(B.slice(2)),"hex")};t.intToBuffer=i;const a=function(m){return Buffer.allocUnsafe(m).fill(0)};t.zeros=a;const s=function(m,B,$){const K=(0,t.zeros)(B);return $?m.length<B?(m.copy(K),K):m.slice(0,B):m.length<B?(m.copy(K,B-m.length),K):m.slice(-B)},o=function(m,B){return(0,e.assertIsBuffer)(m),s(m,B,!1)};t.setLengthLeft=o;const c=function(m,B){return(0,e.assertIsBuffer)(m),s(m,B,!0)};t.setLengthRight=c;const l=function(m){let B=m[0];for(;m.length>0&&B.toString()==="0";)m=m.slice(1),B=m[0];return m},h=function(m){return(0,e.assertIsBuffer)(m),l(m)};t.unpadBuffer=h;const g=function(m){return(0,e.assertIsArray)(m),l(m)};t.unpadArray=g;const y=function(m){return(0,e.assertIsHexString)(m),m=(0,r.stripHexPrefix)(m),"0x"+l(m)};t.unpadHexString=y;const w=function(m){if(m==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(m)||Array.isArray(m)||m instanceof Uint8Array)return Buffer.from(m);if(typeof m=="string"){if(!(0,r.isHexString)(m))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${m}`);return Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(m)),"hex")}if(typeof m=="number")return(0,t.intToBuffer)(m);if(typeof m=="bigint"){if(m<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${m}`);let B=m.toString(16);return B.length%2&&(B="0"+B),Buffer.from(B,"hex")}if(m.toArray)return Buffer.from(m.toArray());if(m.toBuffer)return Buffer.from(m.toBuffer());throw new Error("invalid type")};t.toBuffer=w;const O=function(m){return m=(0,t.toBuffer)(m),"0x"+m.toString("hex")};t.bufferToHex=O;function U(m){const B=(0,t.bufferToHex)(m);return BigInt(B==="0x"?0:B)}t.bufferToBigInt=U;function M(m){return(0,t.toBuffer)("0x"+m.toString(16))}t.bigIntToBuffer=M;const G=function(m){const B=Number(U(m));if(!Number.isSafeInteger(B))throw new Error("Number exceeds 53 bits");return B};t.bufferToInt=G;const P=function(m){return BigInt.asIntN(256,U(m))};t.fromSigned=P;const D=function(m){return M(BigInt.asUintN(256,m))};t.toUnsigned=D;const v=function(m){return typeof m!="string"||(0,r.isHexPrefixed)(m)?m:"0x"+m};t.addHexPrefix=v;function A(m,B=50){const $=Buffer.isBuffer(m)?m.toString("hex"):m;return $.length<=B?$:$.slice(0,B)+"…"}t.short=A;const S=function(m){const B=/^(00)+|(00)+$/g;if(m=(0,r.stripHexPrefix)(m),m.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(m.replace(B,""),"hex").toString("utf8")};t.toUtf8=S;const u=function(m){if(Buffer.isBuffer(m))return`0x${m.toString("hex")}`;if(m instanceof Array){const B=[];for(let $=0;$<m.length;$++)B.push((0,t.baToJSON)(m[$]));return B}};t.baToJSON=u;const E=function(m){for(const[B,$]of Object.entries(m))if($!==void 0&&$.length>0&&$[0]===0)throw new Error(`${B} cannot have leading zeroes, received: ${$.toString("hex")}`)};t.validateNoLeadingZeroes=E;function L(m){return Array.isArray(m)?m.map(B=>L(B)):Buffer.from(m)}t.arrToBufArr=L;function z(m){return Array.isArray(m)?m.map(B=>z(B)):Uint8Array.from(m??[])}t.bufArrToArr=z;const X=m=>"0x"+m.toString(16);t.bigIntToHex=X;function T(m){return(0,t.unpadBuffer)(M(m))}t.bigIntToUnpaddedBuffer=T;function I(m){return(0,t.unpadBuffer)((0,t.intToBuffer)(m))}t.intToUnpaddedBuffer=I})(sn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const e=hr,r=Xt,n=Ni,i=u0,a=sn,s=Fi,o=Qt,c=et,l=BigInt(0);class h{constructor(I=l,m=l,B=s.KECCAK256_RLP,$=s.KECCAK256_NULL){this.nonce=I,this.balance=m,this.storageRoot=B,this.codeHash=$,this._validate()}static fromAccountData(I){const{nonce:m,balance:B,storageRoot:$,codeHash:K}=I;return new h(m!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(m)):void 0,B!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(B)):void 0,$!==void 0?(0,a.toBuffer)($):void 0,K!==void 0?(0,a.toBuffer)(K):void 0)}static fromRlpSerializedAccount(I){const m=(0,a.arrToBufArr)(e.RLP.decode(Uint8Array.from(I)));if(!Array.isArray(m))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(m)}static fromValuesArray(I){const[m,B,$,K]=I;return new h((0,a.bufferToBigInt)(m),(0,a.bufferToBigInt)(B),$,K)}_validate(){if(this.nonce<l)throw new Error("nonce must be greater than zero");if(this.balance<l)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(e.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(s.KECCAK256_NULL)}isEmpty(){return this.balance===l&&this.nonce===l&&this.codeHash.equals(s.KECCAK256_NULL)}}t.Account=h;const g=function(T){try{(0,o.assertIsString)(T)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(T)};t.isValidAddress=g;const y=function(T,I){(0,o.assertIsHexString)(T);const m=(0,c.stripHexPrefix)(T).toLowerCase();let B="";I!==void 0&&(B=(0,a.bufferToBigInt)((0,a.toBuffer)(I)).toString()+"0x");const $=Buffer.from(B+m,"utf8"),K=(0,i.bytesToHex)((0,r.keccak256)($));let te="0x";for(let ce=0;ce<m.length;ce++)parseInt(K[ce],16)>=8?te+=m[ce].toUpperCase():te+=m[ce];return te};t.toChecksumAddress=y;const w=function(T,I){return(0,t.isValidAddress)(T)&&(0,t.toChecksumAddress)(T,I)===T};t.isValidChecksumAddress=w;const O=function(T,I){return(0,o.assertIsBuffer)(T),(0,o.assertIsBuffer)(I),(0,a.bufferToBigInt)(I)===BigInt(0)?Buffer.from((0,r.keccak256)(e.RLP.encode((0,a.bufArrToArr)([T,null])))).slice(-20):Buffer.from((0,r.keccak256)(e.RLP.encode((0,a.bufArrToArr)([T,I])))).slice(-20)};t.generateAddress=O;const U=function(T,I,m){if((0,o.assertIsBuffer)(T),(0,o.assertIsBuffer)(I),(0,o.assertIsBuffer)(m),T.length!==20)throw new Error("Expected from to be of length 20");if(I.length!==32)throw new Error("Expected salt to be of length 32");const B=(0,r.keccak256)(Buffer.concat([Buffer.from("ff","hex"),T,I,(0,r.keccak256)(m)]));return(0,a.toBuffer)(B).slice(-20)};t.generateAddress2=U;const M=function(T){return n.secp256k1.utils.isValidPrivateKey(T)};t.isValidPrivate=M;const G=function(T,I=!1){if((0,o.assertIsBuffer)(T),T.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),T])),!0}catch{return!1}if(!I)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(T),!0}catch{return!1}};t.isValidPublic=G;const P=function(T,I=!1){if((0,o.assertIsBuffer)(T),I&&T.length!==64&&(T=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(T).toRawBytes(!1).slice(1))),T.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,r.keccak256)(T)).slice(-20)};t.pubToAddress=P,t.publicToAddress=t.pubToAddress;const D=function(T){return(0,o.assertIsBuffer)(T),Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(T).toRawBytes(!1).slice(1))};t.privateToPublic=D;const v=function(T){return(0,t.publicToAddress)((0,t.privateToPublic)(T))};t.privateToAddress=v;const A=function(T){return(0,o.assertIsBuffer)(T),T.length!==64&&(T=Buffer.from(n.secp256k1.ProjectivePoint.fromHex(T).toRawBytes(!1).slice(1))),T};t.importPublic=A;const S=function(){const I=(0,a.zeros)(20);return(0,a.bufferToHex)(I)};t.zeroAddress=S;const u=function(T){try{(0,o.assertIsString)(T)}catch{return!1}return(0,t.zeroAddress)()===T};t.isZeroAddress=u;function E(T){const[I,m,B,$]=T;return[I,m,(0,a.arrToBufArr)(B).length===0?s.KECCAK256_RLP:B,(0,a.arrToBufArr)($).length===0?s.KECCAK256_NULL:$]}t.accountBodyFromSlim=E;const L=new Uint8Array(0);function z(T){const[I,m,B,$]=T;return[I,m,(0,a.arrToBufArr)(B).equals(s.KECCAK256_RLP)?L:B,(0,a.arrToBufArr)($).equals(s.KECCAK256_NULL)?L:$]}t.accountBodyToSlim=z;function X(T,I=!0){const m=I?E(T):T;return(0,a.arrToBufArr)(e.RLP.encode(m))}t.accountBodyToRLP=X})(Po);var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.Address=void 0;const Ln=Po,ti=sn;class Er{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new Er((0,ti.zeros)(20))}static fromString(e){if(!(0,Ln.isValidAddress)(e))throw new Error("Invalid address");return new Er((0,ti.toBuffer)(e))}static fromPublicKey(e){if(!Buffer.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,Ln.pubToAddress)(e);return new Er(r)}static fromPrivateKey(e){if(!Buffer.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,Ln.privateToAddress)(e);return new Er(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Er((0,Ln.generateAddress)(e.buf,(0,ti.bigIntToBuffer)(r)))}static generate2(e,r,n){if(!Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new Er((0,Ln.generateAddress2)(e.buf,r,n))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(Er.zero())}isPrecompileOrSystemAddress(){const e=(0,ti.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return e>=r&&e<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}Yn.Address=Er;var ki={},Do={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const e=sn,r=et;var n;(function(a){a[a.Number=0]="Number",a[a.BigInt=1]="BigInt",a[a.Buffer=2]="Buffer",a[a.PrefixedHexString=3]="PrefixedHexString"})(n=t.TypeOutput||(t.TypeOutput={}));function i(a,s){if(a===null)return null;if(a===void 0)return;if(typeof a=="string"&&!(0,r.isHexString)(a))throw new Error(`A string must be provided with a 0x-prefix, given: ${a}`);if(typeof a=="number"&&!Number.isSafeInteger(a))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const o=(0,e.toBuffer)(a);switch(s){case n.Buffer:return o;case n.BigInt:return(0,e.bufferToBigInt)(o);case n.Number:{const c=(0,e.bufferToBigInt)(o);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case n.PrefixedHexString:return(0,e.bufferToHex)(o);default:throw new Error("unknown outputType")}}t.toType=i})(Do);Object.defineProperty(ki,"__esModule",{value:!0});ki.Withdrawal=void 0;const Cs=Yn,ra=sn,st=Do;class Rn{constructor(e,r,n,i){this.index=e,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(e){const{index:r,validatorIndex:n,address:i,amount:a}=e,s=(0,st.toType)(r,st.TypeOutput.BigInt),o=(0,st.toType)(n,st.TypeOutput.BigInt),c=new Cs.Address((0,st.toType)(i,st.TypeOutput.Buffer)),l=(0,st.toType)(a,st.TypeOutput.BigInt);return new Rn(s,o,c,l)}static fromValuesArray(e){if(e.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[r,n,i,a]=e;return Rn.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:a})}static toBufferArray(e){const{index:r,validatorIndex:n,address:i,amount:a}=e,s=(0,st.toType)(r,st.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,st.toType)(r,st.TypeOutput.Buffer),o=(0,st.toType)(n,st.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,st.toType)(n,st.TypeOutput.Buffer);let c;i instanceof Cs.Address?c=i.buf:c=(0,st.toType)(i,st.TypeOutput.Buffer);const l=(0,st.toType)(a,st.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,st.toType)(a,st.TypeOutput.Buffer);return[s,o,c,l]}raw(){return Rn.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,ra.bigIntToHex)(this.index),validatorIndex:(0,ra.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,ra.bigIntToHex)(this.amount)}}}ki.Withdrawal=Rn;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.hashPersonalMessage=Rt.isValidSignature=Rt.fromRpcSig=Rt.toCompactSig=Rt.toRpcSig=Rt.ecrecover=Rt.ecsign=void 0;const Nx=Xt,h0=Ni,$t=sn,na=Fi,Mx=Qt;function Lx(t,e,r){const n=h0.secp256k1.sign(t,e),i=n.toCompactRawBytes(),a=Buffer.from(i.slice(0,32)),s=Buffer.from(i.slice(32,64)),o=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s,v:o}}Rt.ecsign=Lx;function Ui(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function Ri(t){return t===BigInt(0)||t===BigInt(1)}const kx=function(t,e,r,n,i){const a=Buffer.concat([(0,$t.setLengthLeft)(r,32),(0,$t.setLengthLeft)(n,32)],64),s=Ui(e,i);if(!Ri(s))throw new Error("Invalid signature v value");const c=h0.secp256k1.Signature.fromCompact(a).addRecoveryBit(Number(s)).recoverPublicKey(t);return Buffer.from(c.toRawBytes(!1).slice(1))};Rt.ecrecover=kx;const Ux=function(t,e,r,n){const i=Ui(t,n);if(!Ri(i))throw new Error("Invalid signature v value");return(0,$t.bufferToHex)(Buffer.concat([(0,$t.setLengthLeft)(e,32),(0,$t.setLengthLeft)(r,32),(0,$t.toBuffer)(t)]))};Rt.toRpcSig=Ux;const Rx=function(t,e,r,n){const i=Ui(t,n);if(!Ri(i))throw new Error("Invalid signature v value");let a=r;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(a=Buffer.from(r),a[0]|=128),(0,$t.bufferToHex)(Buffer.concat([(0,$t.setLengthLeft)(e,32),(0,$t.setLengthLeft)(a,32)]))};Rt.toCompactSig=Rx;const jx=function(t){const e=(0,$t.toBuffer)(t);let r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,$t.bufferToBigInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),i=BigInt((0,$t.bufferToInt)(e.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};Rt.fromRpcSig=jx;const Hx=function(t,e,r,n=!0,i){if(e.length!==32||r.length!==32||!Ri(Ui(t,i)))return!1;const a=(0,$t.bufferToBigInt)(e),s=(0,$t.bufferToBigInt)(r);return!(a===BigInt(0)||a>=na.SECP256K1_ORDER||s===BigInt(0)||s>=na.SECP256K1_ORDER||n&&s>=na.SECP256K1_ORDER_DIV_2)};Rt.isValidSignature=Hx;const $x=function(t){(0,Mx.assertIsBuffer)(t);const e=Buffer.from(`Ethereum Signed Message:
${t.length}`,"utf-8");return Buffer.from((0,Nx.keccak256)(Buffer.concat([e,t])))};Rt.hashPersonalMessage=$x;var x0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0;const e=s=>s.length>0&&s[s.length-1]===16;t.hasTerminator=e;const r=(s,o)=>{for(let c=0,l=0;l<s.length;c+=1,l+=2)o[c]=s[l]<<4|s[l+1]};t.nibblesToBytes=r;const n=s=>{let o=0;(0,t.hasTerminator)(s)&&(o=1,s=s.subarray(0,s.length-1));const c=new Uint8Array(s.length/2+1);return c[0]=o<<5,(s.length&1)===1&&(c[0]|=16,c[0]|=s[0],s=s.subarray(1)),(0,t.nibblesToBytes)(s,c.subarray(1)),c};t.nibblesToCompactBytes=n;const i=s=>{const o=s.length*2+1,c=new Uint8Array(o);for(let l=0;l<s.length;l++){const h=s[l];c[l*2]=h/16,c[l*2+1]=h%16}return c[o-1]=16,c};t.bytesToNibbles=i;const a=s=>{if(s.length===0)return s;let o=(0,t.bytesToNibbles)(s);o[0]<2&&(o=o.subarray(0,o.length-1));const c=2-(o[0]&1);return o.subarray(c)};t.compactBytesToNibbles=a})(x0);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.AsyncEventEmitter=void 0;const Gx=Pa;async function zx(t,e,r){let n;for await(const i of e)try{i.length<2?i.call(t,r):await new Promise((a,s)=>{i.call(t,r,o=>{o?s(o):a()})})}catch(a){n=a}if(n)throw n}class Vx extends Gx.EventEmitter{emit(e,...r){let[n,i]=r;const a=this;let s=a._events[e]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(e==="newListener"||e==="removeListener")&&(n={event:n,fn:i},i=void 0),s=Array.isArray(s)?s:[s],zx(a,s.slice(),n).then(i).catch(i),a.listenerCount(e)>0}once(e,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(a,s){n.removeListener(e,i),r(a,s)}:i=function(a){n.removeListener(e,i),r(a,i)},n.on(e,i),n}first(e,r){let n=this._events[e]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(r),this}before(e,r,n){return this.beforeOrAfter(e,r,n)}after(e,r,n){return this.beforeOrAfter(e,r,n,"after")}beforeOrAfter(e,r,n,i){let a=this._events[e]??[],s,o;const c=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[e]=a=[a]),o=a.length,s=a.length;s--;)if(a[s]===r){o=s+c;break}return a.splice(o,0,n),this}on(e,r){return super.on(e,r)}addListener(e,r){return super.addListener(e,r)}prependListener(e,r){return super.prependListener(e,r)}prependOnceListener(e,r){return super.prependOnceListener(e,r)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,r){return super.removeListener(e,r)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}ji.AsyncEventEmitter=Vx;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.Lock=void 0;class Kx{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}Hi.Lock=Kx;var Pn={},nn={},ia={},aa={},b0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},oa,Fs;function Io(){if(Fs)return oa;Fs=1;var t=b0;return oa=function(){return t()&&!!Symbol.toStringTag},oa}var Ns=typeof Symbol<"u"&&Symbol,Wx=b0,qx=function(){return typeof Ns!="function"||typeof Symbol!="function"||typeof Ns("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Wx()},Ms={foo:{}},Zx=Object,Yx=function(){return{__proto__:Ms}.foo===Ms.foo&&!({__proto__:null}instanceof Zx)},Jx="Function.prototype.bind called on incompatible ",sa=Array.prototype.slice,Xx=Object.prototype.toString,Qx="[object Function]",eb=function(e){var r=this;if(typeof r!="function"||Xx.call(r)!==Qx)throw new TypeError(Jx+r);for(var n=sa.call(arguments,1),i,a=function(){if(this instanceof i){var h=r.apply(this,n.concat(sa.call(arguments)));return Object(h)===h?h:this}else return r.apply(e,n.concat(sa.call(arguments)))},s=Math.max(0,r.length-n.length),o=[],c=0;c<s;c++)o.push("$"+c);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},tb=eb,g0=Function.prototype.bind||tb,Ls={}.hasOwnProperty,fa=Function.prototype.call,rb=fa.bind?fa.bind(Ls):function(t,e){return fa.call(Ls,t,e)},Le,Tn=SyntaxError,y0=Function,vn=TypeError,ca=function(t){try{return y0('"use strict"; return ('+t+").constructor;")()}catch{}},tn=Object.getOwnPropertyDescriptor;if(tn)try{tn({},"")}catch{tn=null}var ua=function(){throw new vn},nb=tn?function(){try{return arguments.callee,ua}catch{try{return tn(arguments,"callee").get}catch{return ua}}}():ua,ln=qx(),ib=Yx(),Pt=Object.getPrototypeOf||(ib?function(t){return t.__proto__}:null),xn={},ab=typeof Uint8Array>"u"||!Pt?Le:Pt(Uint8Array),rn={"%AggregateError%":typeof AggregateError>"u"?Le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Le:ArrayBuffer,"%ArrayIteratorPrototype%":ln&&Pt?Pt([][Symbol.iterator]()):Le,"%AsyncFromSyncIteratorPrototype%":Le,"%AsyncFunction%":xn,"%AsyncGenerator%":xn,"%AsyncGeneratorFunction%":xn,"%AsyncIteratorPrototype%":xn,"%Atomics%":typeof Atomics>"u"?Le:Atomics,"%BigInt%":typeof BigInt>"u"?Le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Le:FinalizationRegistry,"%Function%":y0,"%GeneratorFunction%":xn,"%Int8Array%":typeof Int8Array>"u"?Le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ln&&Pt?Pt(Pt([][Symbol.iterator]())):Le,"%JSON%":typeof JSON=="object"?JSON:Le,"%Map%":typeof Map>"u"?Le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ln||!Pt?Le:Pt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Le:Promise,"%Proxy%":typeof Proxy>"u"?Le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ln||!Pt?Le:Pt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ln&&Pt?Pt(""[Symbol.iterator]()):Le,"%Symbol%":ln?Symbol:Le,"%SyntaxError%":Tn,"%ThrowTypeError%":nb,"%TypedArray%":ab,"%TypeError%":vn,"%Uint8Array%":typeof Uint8Array>"u"?Le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Le:WeakSet};if(Pt)try{null.error}catch(t){var ob=Pt(Pt(t));rn["%Error.prototype%"]=ob}var sb=function t(e){var r;if(e==="%AsyncFunction%")r=ca("async function () {}");else if(e==="%GeneratorFunction%")r=ca("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ca("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Pt&&(r=Pt(i.prototype))}return rn[e]=r,r},ks={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jn=g0,xi=rb,fb=Jn.call(Function.call,Array.prototype.concat),cb=Jn.call(Function.apply,Array.prototype.splice),Us=Jn.call(Function.call,String.prototype.replace),bi=Jn.call(Function.call,String.prototype.slice),ub=Jn.call(Function.call,RegExp.prototype.exec),db=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lb=/\\(\\)?/g,hb=function(e){var r=bi(e,0,1),n=bi(e,-1);if(r==="%"&&n!=="%")throw new Tn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Tn("invalid intrinsic syntax, expected opening `%`");var i=[];return Us(e,db,function(a,s,o,c){i[i.length]=o?Us(c,lb,"$1"):s||a}),i},xb=function(e,r){var n=e,i;if(xi(ks,n)&&(i=ks[n],n="%"+i[0]+"%"),xi(rn,n)){var a=rn[n];if(a===xn&&(a=sb(n)),typeof a>"u"&&!r)throw new vn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Tn("intrinsic "+e+" does not exist!")},Bo=function(e,r){if(typeof e!="string"||e.length===0)throw new vn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new vn('"allowMissing" argument must be a boolean');if(ub(/^%?[^%]*%?$/,e)===null)throw new Tn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=hb(e),i=n.length>0?n[0]:"",a=xb("%"+i+"%",r),s=a.name,o=a.value,c=!1,l=a.alias;l&&(i=l[0],cb(n,fb([0,1],l)));for(var h=1,g=!0;h<n.length;h+=1){var y=n[h],w=bi(y,0,1),O=bi(y,-1);if((w==='"'||w==="'"||w==="`"||O==='"'||O==="'"||O==="`")&&w!==O)throw new Tn("property names with quotes must have matching quotes");if((y==="constructor"||!g)&&(c=!0),i+="."+y,s="%"+i+"%",xi(rn,s))o=rn[s];else if(o!=null){if(!(y in o)){if(!r)throw new vn("base intrinsic for "+e+" exists, but the property is not available.");return}if(tn&&h+1>=n.length){var U=tn(o,y);g=!!U,g&&"get"in U&&!("originalValue"in U.get)?o=U.get:o=o[y]}else g=xi(o,y),o=o[y];g&&!c&&(rn[s]=o)}}return o},p0={exports:{}};(function(t){var e=g0,r=Bo,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),o=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}t.exports=function(g){var y=a(e,i,arguments);if(s&&o){var w=s(y,"length");w.configurable&&o(y,"length",{value:1+c(0,g.length-(arguments.length-1))})}return y};var l=function(){return a(e,n,arguments)};o?o(t.exports,"apply",{value:l}):t.exports.apply=l})(p0);var m0=p0.exports,v0=Bo,E0=m0,bb=E0(v0("String.prototype.indexOf")),w0=function(e,r){var n=v0(e,!!r);return typeof n=="function"&&bb(e,".prototype.")>-1?E0(n):n},da,Rs;function gb(){if(Rs)return da;Rs=1;var t=Io()(),e=w0,r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,da=a?n:i,da}var la,js;function yb(){if(js)return la;js=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=Io()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return la=function(c){if(typeof c!="function")return!1;if(r.test(e.call(c)))return!0;if(!n){var l=t.call(c);return l==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var h=a();s=h?i(h):!1}return i(c)===s},la}var ha,Hs;function pb(){if(Hs)return ha;Hs=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(P){P!==n&&(e=null)}else e=null;var i=/^\s*class\b/,a=function(D){try{var v=t.call(D);return i.test(v)}catch{return!1}},s=function(D){try{return a(D)?!1:(t.call(D),!0)}catch{return!1}},o=Object.prototype.toString,c="[object Object]",l="[object Function]",h="[object GeneratorFunction]",g="[object HTMLAllCollection]",y="[object HTML document.all class]",w="[object HTMLCollection]",O=typeof Symbol=="function"&&!!Symbol.toStringTag,U=!(0 in[,]),M=function(){return!1};if(typeof document=="object"){var G=document.all;o.call(G)===o.call(document.all)&&(M=function(D){if((U||!D)&&(typeof D>"u"||typeof D=="object"))try{var v=o.call(D);return(v===g||v===y||v===w||v===c)&&D("")==null}catch{}return!1})}return ha=e?function(D){if(M(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;try{e(D,null,r)}catch(v){if(v!==n)return!1}return!a(D)&&s(D)}:function(D){if(M(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;if(O)return s(D);if(a(D))return!1;var v=o.call(D);return v!==l&&v!==h&&!/^\[object HTML/.test(v)?!1:s(D)},ha}var xa,$s;function mb(){if($s)return xa;$s=1;var t=pb(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,l,h){for(var g=0,y=c.length;g<y;g++)r.call(c,g)&&(h==null?l(c[g],g,c):l.call(h,c[g],g,c))},i=function(c,l,h){for(var g=0,y=c.length;g<y;g++)h==null?l(c.charAt(g),g,c):l.call(h,c.charAt(g),g,c)},a=function(c,l,h){for(var g in c)r.call(c,g)&&(h==null?l(c[g],g,c):l.call(h,c[g],g,c))},s=function(c,l,h){if(!t(l))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=h),e.call(c)==="[object Array]"?n(c,l,g):typeof c=="string"?i(c,l,g):a(c,l,g)};return xa=s,xa}var ba,Gs;function vb(){if(Gs)return ba;Gs=1;var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=globalThis;return ba=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},ba}var ga,zs;function Eb(){if(zs)return ga;zs=1;var t=Bo,e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return ga=e,ga}var ya,Vs;function _0(){if(Vs)return ya;Vs=1;var t=mb(),e=vb(),r=m0,n=w0,i=Eb(),a=n("Object.prototype.toString"),s=Io()(),o=globalThis,c=e(),l=n("String.prototype.slice"),h=Object.getPrototypeOf,g=n("Array.prototype.indexOf",!0)||function(M,G){for(var P=0;P<M.length;P+=1)if(M[P]===G)return P;return-1},y={__proto__:null};s&&i&&h?t(c,function(U){var M=new o[U];if(Symbol.toStringTag in M){var G=h(M),P=i(G,Symbol.toStringTag);if(!P){var D=h(G);P=i(D,Symbol.toStringTag)}y["$"+U]=r(P.get)}}):t(c,function(U){var M=new o[U];y["$"+U]=r(M.slice)});var w=function(M){var G=!1;return t(y,function(P,D){if(!G)try{"$"+P(M)===D&&(G=l(D,1))}catch{}}),G},O=function(M){var G=!1;return t(y,function(P,D){if(!G)try{P(M),G=l(D,1)}catch{}}),G};return ya=function(M){if(!M||typeof M!="object")return!1;if(!s){var G=l(a(M),8,-1);return g(c,G)>-1?G:G!=="Object"?!1:O(M)}return i?w(M):null},ya}var pa,Ks;function wb(){if(Ks)return pa;Ks=1;var t=_0();return pa=function(r){return!!t(r)},pa}var Ws;function _b(){return Ws||(Ws=1,function(t){var e=gb(),r=yb(),n=_0(),i=wb();function a(V){return V.call.bind(V)}var s=typeof BigInt<"u",o=typeof Symbol<"u",c=a(Object.prototype.toString),l=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),g=a(Boolean.prototype.valueOf);if(s)var y=a(BigInt.prototype.valueOf);if(o)var w=a(Symbol.prototype.valueOf);function O(V,tt){if(typeof V!="object")return!1;try{return tt(V),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function U(V){return typeof Promise<"u"&&V instanceof Promise||V!==null&&typeof V=="object"&&typeof V.then=="function"&&typeof V.catch=="function"}t.isPromise=U;function M(V){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(V):i(V)||C(V)}t.isArrayBufferView=M;function G(V){return n(V)==="Uint8Array"}t.isUint8Array=G;function P(V){return n(V)==="Uint8ClampedArray"}t.isUint8ClampedArray=P;function D(V){return n(V)==="Uint16Array"}t.isUint16Array=D;function v(V){return n(V)==="Uint32Array"}t.isUint32Array=v;function A(V){return n(V)==="Int8Array"}t.isInt8Array=A;function S(V){return n(V)==="Int16Array"}t.isInt16Array=S;function u(V){return n(V)==="Int32Array"}t.isInt32Array=u;function E(V){return n(V)==="Float32Array"}t.isFloat32Array=E;function L(V){return n(V)==="Float64Array"}t.isFloat64Array=L;function z(V){return n(V)==="BigInt64Array"}t.isBigInt64Array=z;function X(V){return n(V)==="BigUint64Array"}t.isBigUint64Array=X;function T(V){return c(V)==="[object Map]"}T.working=typeof Map<"u"&&T(new Map);function I(V){return typeof Map>"u"?!1:T.working?T(V):V instanceof Map}t.isMap=I;function m(V){return c(V)==="[object Set]"}m.working=typeof Set<"u"&&m(new Set);function B(V){return typeof Set>"u"?!1:m.working?m(V):V instanceof Set}t.isSet=B;function $(V){return c(V)==="[object WeakMap]"}$.working=typeof WeakMap<"u"&&$(new WeakMap);function K(V){return typeof WeakMap>"u"?!1:$.working?$(V):V instanceof WeakMap}t.isWeakMap=K;function te(V){return c(V)==="[object WeakSet]"}te.working=typeof WeakSet<"u"&&te(new WeakSet);function ce(V){return te(V)}t.isWeakSet=ce;function Fe(V){return c(V)==="[object ArrayBuffer]"}Fe.working=typeof ArrayBuffer<"u"&&Fe(new ArrayBuffer);function Ve(V){return typeof ArrayBuffer>"u"?!1:Fe.working?Fe(V):V instanceof ArrayBuffer}t.isArrayBuffer=Ve;function N(V){return c(V)==="[object DataView]"}N.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&N(new DataView(new ArrayBuffer(1),0,1));function C(V){return typeof DataView>"u"?!1:N.working?N(V):V instanceof DataView}t.isDataView=C;var j=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Y(V){return c(V)==="[object SharedArrayBuffer]"}function re(V){return typeof j>"u"?!1:(typeof Y.working>"u"&&(Y.working=Y(new j)),Y.working?Y(V):V instanceof j)}t.isSharedArrayBuffer=re;function le(V){return c(V)==="[object AsyncFunction]"}t.isAsyncFunction=le;function oe(V){return c(V)==="[object Map Iterator]"}t.isMapIterator=oe;function se(V){return c(V)==="[object Set Iterator]"}t.isSetIterator=se;function be(V){return c(V)==="[object Generator]"}t.isGeneratorObject=be;function Ae(V){return c(V)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Ae;function Me(V){return O(V,l)}t.isNumberObject=Me;function Ke(V){return O(V,h)}t.isStringObject=Ke;function Ot(V){return O(V,g)}t.isBooleanObject=Ot;function zt(V){return s&&O(V,y)}t.isBigIntObject=zt;function cr(V){return o&&O(V,w)}t.isSymbolObject=cr;function mr(V){return Me(V)||Ke(V)||Ot(V)||zt(V)||cr(V)}t.isBoxedPrimitive=mr;function Dr(V){return typeof Uint8Array<"u"&&(Ve(V)||re(V))}t.isAnyArrayBuffer=Dr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(V){Object.defineProperty(t,V,{enumerable:!1,value:function(){throw new Error(V+" is not supported in userland")}})})}(aa)),aa}var ma,qs;function Ab(){return qs||(qs=1,ma=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),ma}var Zs;function Sb(){return Zs||(Zs=1,function(t){var e=Object.getOwnPropertyDescriptors||function(C){for(var j=Object.keys(C),Y={},re=0;re<j.length;re++)Y[j[re]]=Object.getOwnPropertyDescriptor(C,j[re]);return Y},r=/%[sdj%]/g;t.format=function(N){if(!A(N)){for(var C=[],j=0;j<arguments.length;j++)C.push(s(arguments[j]));return C.join(" ")}for(var j=1,Y=arguments,re=Y.length,le=String(N).replace(r,function(se){if(se==="%%")return"%";if(j>=re)return se;switch(se){case"%s":return String(Y[j++]);case"%d":return Number(Y[j++]);case"%j":try{return JSON.stringify(Y[j++])}catch{return"[Circular]"}default:return se}}),oe=Y[j];j<re;oe=Y[++j])P(oe)||!L(oe)?le+=" "+oe:le+=" "+s(oe);return le},t.deprecate=function(N,C){if(typeof process<"u"&&process.noDeprecation===!0)return N;if(typeof process>"u")return function(){return t.deprecate(N,C).apply(this,arguments)};var j=!1;function Y(){if(!j){if(process.throwDeprecation)throw new Error(C);process.traceDeprecation?console.trace(C):console.error(C),j=!0}return N.apply(this,arguments)}return Y};var n={},i=/^$/;if({}.NODE_DEBUG){var a={}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}t.debuglog=function(N){if(N=N.toUpperCase(),!n[N])if(i.test(N)){var C=process.pid;n[N]=function(){var j=t.format.apply(t,arguments);console.error("%s %d: %s",N,C,j)}}else n[N]=function(){};return n[N]};function s(N,C){var j={seen:[],stylize:c};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),G(C)?j.showHidden=C:C&&t._extend(j,C),u(j.showHidden)&&(j.showHidden=!1),u(j.depth)&&(j.depth=2),u(j.colors)&&(j.colors=!1),u(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=o),h(j,N,j.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(N,C){var j=s.styles[C];return j?"\x1B["+s.colors[j][0]+"m"+N+"\x1B["+s.colors[j][1]+"m":N}function c(N,C){return N}function l(N){var C={};return N.forEach(function(j,Y){C[j]=!0}),C}function h(N,C,j){if(N.customInspect&&C&&T(C.inspect)&&C.inspect!==t.inspect&&!(C.constructor&&C.constructor.prototype===C)){var Y=C.inspect(j,N);return A(Y)||(Y=h(N,Y,j)),Y}var re=g(N,C);if(re)return re;var le=Object.keys(C),oe=l(le);if(N.showHidden&&(le=Object.getOwnPropertyNames(C)),X(C)&&(le.indexOf("message")>=0||le.indexOf("description")>=0))return y(C);if(le.length===0){if(T(C)){var se=C.name?": "+C.name:"";return N.stylize("[Function"+se+"]","special")}if(E(C))return N.stylize(RegExp.prototype.toString.call(C),"regexp");if(z(C))return N.stylize(Date.prototype.toString.call(C),"date");if(X(C))return y(C)}var be="",Ae=!1,Me=["{","}"];if(M(C)&&(Ae=!0,Me=["[","]"]),T(C)){var Ke=C.name?": "+C.name:"";be=" [Function"+Ke+"]"}if(E(C)&&(be=" "+RegExp.prototype.toString.call(C)),z(C)&&(be=" "+Date.prototype.toUTCString.call(C)),X(C)&&(be=" "+y(C)),le.length===0&&(!Ae||C.length==0))return Me[0]+be+Me[1];if(j<0)return E(C)?N.stylize(RegExp.prototype.toString.call(C),"regexp"):N.stylize("[Object]","special");N.seen.push(C);var Ot;return Ae?Ot=w(N,C,j,oe,le):Ot=le.map(function(zt){return O(N,C,j,oe,zt,Ae)}),N.seen.pop(),U(Ot,be,Me)}function g(N,C){if(u(C))return N.stylize("undefined","undefined");if(A(C)){var j="'"+JSON.stringify(C).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(j,"string")}if(v(C))return N.stylize(""+C,"number");if(G(C))return N.stylize(""+C,"boolean");if(P(C))return N.stylize("null","null")}function y(N){return"["+Error.prototype.toString.call(N)+"]"}function w(N,C,j,Y,re){for(var le=[],oe=0,se=C.length;oe<se;++oe)te(C,String(oe))?le.push(O(N,C,j,Y,String(oe),!0)):le.push("");return re.forEach(function(be){be.match(/^\d+$/)||le.push(O(N,C,j,Y,be,!0))}),le}function O(N,C,j,Y,re,le){var oe,se,be;if(be=Object.getOwnPropertyDescriptor(C,re)||{value:C[re]},be.get?be.set?se=N.stylize("[Getter/Setter]","special"):se=N.stylize("[Getter]","special"):be.set&&(se=N.stylize("[Setter]","special")),te(Y,re)||(oe="["+re+"]"),se||(N.seen.indexOf(be.value)<0?(P(j)?se=h(N,be.value,null):se=h(N,be.value,j-1),se.indexOf(`
`)>-1&&(le?se=se.split(`
`).map(function(Ae){return"  "+Ae}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(Ae){return"   "+Ae}).join(`
`))):se=N.stylize("[Circular]","special")),u(oe)){if(le&&re.match(/^\d+$/))return se;oe=JSON.stringify(""+re),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.slice(1,-1),oe=N.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=N.stylize(oe,"string"))}return oe+": "+se}function U(N,C,j){var Y=N.reduce(function(re,le){return le.indexOf(`
`)>=0,re+le.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Y>60?j[0]+(C===""?"":C+`
 `)+" "+N.join(`,
  `)+" "+j[1]:j[0]+C+" "+N.join(", ")+" "+j[1]}t.types=_b();function M(N){return Array.isArray(N)}t.isArray=M;function G(N){return typeof N=="boolean"}t.isBoolean=G;function P(N){return N===null}t.isNull=P;function D(N){return N==null}t.isNullOrUndefined=D;function v(N){return typeof N=="number"}t.isNumber=v;function A(N){return typeof N=="string"}t.isString=A;function S(N){return typeof N=="symbol"}t.isSymbol=S;function u(N){return N===void 0}t.isUndefined=u;function E(N){return L(N)&&m(N)==="[object RegExp]"}t.isRegExp=E,t.types.isRegExp=E;function L(N){return typeof N=="object"&&N!==null}t.isObject=L;function z(N){return L(N)&&m(N)==="[object Date]"}t.isDate=z,t.types.isDate=z;function X(N){return L(N)&&(m(N)==="[object Error]"||N instanceof Error)}t.isError=X,t.types.isNativeError=X;function T(N){return typeof N=="function"}t.isFunction=T;function I(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||typeof N>"u"}t.isPrimitive=I,t.isBuffer=Ab();function m(N){return Object.prototype.toString.call(N)}function B(N){return N<10?"0"+N.toString(10):N.toString(10)}var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function K(){var N=new Date,C=[B(N.getHours()),B(N.getMinutes()),B(N.getSeconds())].join(":");return[N.getDate(),$[N.getMonth()],C].join(" ")}t.log=function(){console.log("%s - %s",K(),t.format.apply(t,arguments))},t.inherits=zc,t._extend=function(N,C){if(!C||!L(C))return N;for(var j=Object.keys(C),Y=j.length;Y--;)N[j[Y]]=C[j[Y]];return N};function te(N,C){return Object.prototype.hasOwnProperty.call(N,C)}var ce=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(ce&&C[ce]){var j=C[ce];if(typeof j!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,ce,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var Y,re,le=new Promise(function(be,Ae){Y=be,re=Ae}),oe=[],se=0;se<arguments.length;se++)oe.push(arguments[se]);oe.push(function(be,Ae){be?re(be):Y(Ae)});try{C.apply(this,oe)}catch(be){re(be)}return le}return Object.setPrototypeOf(j,Object.getPrototypeOf(C)),ce&&Object.defineProperty(j,ce,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,e(C))},t.promisify.custom=ce;function Fe(N,C){if(!N){var j=new Error("Promise was rejected with a falsy value");j.reason=N,N=j}return C(N)}function Ve(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');function C(){for(var j=[],Y=0;Y<arguments.length;Y++)j.push(arguments[Y]);var re=j.pop();if(typeof re!="function")throw new TypeError("The last argument must be of type Function");var le=this,oe=function(){return re.apply(le,arguments)};N.apply(this,j).then(function(se){process.nextTick(oe.bind(null,null,se))},function(se){process.nextTick(Fe.bind(null,se,oe))})}return Object.setPrototypeOf(C,Object.getPrototypeOf(N)),Object.defineProperties(C,e(N)),C}t.callbackify=Ve}(ia)),ia}Object.defineProperty(nn,"__esModule",{value:!0});nn.InvalidStatusCodeError=nn.InvalidCertError=void 0;const A0=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class to extends Error{constructor(e,r){super(e),this.fingerprint256=r}}nn.InvalidCertError=to;class Oo extends Error{constructor(e){super(`Request Failed. Status Code: ${e}`),this.statusCode=e}}nn.InvalidStatusCodeError=Oo;function S0(t,e){if(!e||e==="text"||e==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(t);if(e==="text")return r;try{return JSON.parse(r)}catch(n){if(e==="json")throw n;return r}}catch(r){if(e==="text"||e==="json")throw r}return t}let Ys={};function ro(t,e){var y;let r={...A0,...e};const n=Fr,i=Fr,a=Fr,{promisify:s}=Sb(),{resolve:o}=Fr,c=!!/^https/.test(t);let l={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const h=w=>w.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const w={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},O=[c,c&&((y=r.sslPinnedCertificates)==null?void 0:y.map(U=>h(U)).sort())].join();l.agent=Ys[O]||(Ys[O]=new(c?i:n).Agent(w))}r.type==="json"&&(l.headers["Content-Type"]="application/json"),r.data&&(r.method||(l.method="POST"),l.body=r.type==="json"?JSON.stringify(r.data):r.data),l.headers={...l.headers,...r.headers},r.sslAllowSelfSigned&&(l.rejectUnauthorized=!1);const g=async w=>{const O=w.statusCode;if(r.redirect&&300<=O&&O<400&&w.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await ro(o(t,w.headers.location),r)}if(r.expectStatusCode&&O!==r.expectStatusCode)throw w.resume(),new Oo(O);let U=[];for await(const D of w)U.push(D);let M=Buffer.concat(U);const G=w.headers["content-encoding"];G==="br"&&(M=await s(a.brotliDecompress)(M)),(G==="gzip"||G==="deflate")&&(M=await s(a.unzip)(M));const P=S0(M,r.type);return r.full?{headers:w.headers,status:O,body:P}:P};return new Promise((w,O)=>{var D;const U=async v=>{if(v&&v.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await ro(t,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(A){A&&A.fingerprint256&&(v=new to(`Self-signed SSL certificate: ${A.fingerprint256}`,A.fingerprint256))}O(v)},M=(c?i:n).request(t,l,v=>{v.on("error",U),(async()=>{try{w(await g(v))}catch(A){O(A)}})()});M.on("error",U);const G=(D=r.sslPinnedCertificates)==null?void 0:D.map(v=>h(v)),P=v=>{var S;const A=h(((S=v.getPeerCertificate())==null?void 0:S.fingerprint256)||"");if(!(!A&&v.isSessionReused())&&!G.includes(A))return M.emit("error",new to(`Invalid SSL certificate: ${A} Expected: ${G}`,A)),M.abort()};r.sslPinnedCertificates&&M.on("socket",v=>{v.listeners("secureConnect").map(S=>(S.name||"").replace("bound ","")).includes("mfetchSecureConnect")||v.on("secureConnect",P.bind(null,v))}),r.keepAlive&&M.setNoDelay(!0),l.body&&M.write(l.body),M.end()})}const Pb=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(t=>t.toLowerCase())),Tb=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(t=>t.toLowerCase()));async function Db(t,e){let r={...A0,...e};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(t);if(i.username){const c=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${c}`),i.username="",i.password=""}t=""+i;for(let c in r.headers){const l=c.toLowerCase();(Pb.has(l)||r.cors&&!Tb.has(l))&&n.set(c,r.headers[c])}let a={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(a.referrerPolicy="no-referrer"),r.cors&&(a.mode="cors"),r.data&&(r.method||(a.method="POST"),a.body=r.type==="json"?JSON.stringify(r.data):r.data);const s=await fetch(t,a);if(r.expectStatusCode&&s.status!==r.expectStatusCode)throw new Oo(s.status);const o=S0(new Uint8Array(await s.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(s.headers.entries()),status:s.status,body:o}:o}const Ib=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function Bb(t,e){return(Ib?ro:Db)(t,e)}nn.default=Bb;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.getProvider=Pn.fetchFromProvider=void 0;const Ob=nn,Cb=async(t,e)=>(await(0,Ob.default)(t,{headers:{"content-type":"application/json"},type:"json",data:{method:e.method,params:e.params,jsonrpc:"2.0",id:1}})).result;Pn.fetchFromProvider=Cb;const Fb=t=>{var e;if(typeof t=="string")return t;if(((e=t==null?void 0:t.connection)==null?void 0:e.url)!==void 0)return t.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};Pn.getProvider=Fb;(function(t){var e=ze&&ze.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,c)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),r=ze&&ze.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=void 0,r(Fi,t),r(Mi,t),r(Po,t),r(Yn,t),r(ki,t),r(Rt,t),r(sn,t),r(Do,t),r(x0,t),r(ji,t);var n=et;Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(Hi,t),r(Pn,t)})(Ci);var It={},P0=function(e){if(typeof e!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return e.slice(0,2)==="0x"},Nb=P0,Mb=function(e){return typeof e!="string"?e:Nb(e)?e.slice(2):e},Lb=P0,T0=Mb;function $i(t){var e=t;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function D0(t){var e=t.toString(16);return"0x"+e}function kb(t){var e=D0(t);return new Buffer($i(e.slice(2)),"hex")}function Ub(t){if(typeof t!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Buffer.byteLength(t,"utf8")}function Rb(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!r&&"some"||"every"](function(n){return t.indexOf(n)>=0})}function jb(t){var e=new Buffer($i(T0(t).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function Hb(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}function $b(t){var e=new Buffer(t,"utf8");return"0x"+$i(e.toString("hex")).replace(/^0+|0+$/g,"")}function Gb(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e}function zb(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var a=t[i][e];if(r&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi");n.push(a)}return n}function Vb(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var Kb={arrayContainsArray:Rb,intToBuffer:kb,getBinarySize:Ub,isHexPrefixed:Lb,stripHexPrefix:T0,padToEven:$i,intToHex:D0,fromAscii:Gb,fromUtf8:$b,toAscii:Hb,toUtf8:jb,getKeys:zb,isHexString:Vb};Object.defineProperty(It,"__esModule",{value:!0});It.normalize=It.recoverPublicKey=It.concatSig=It.legacyToBuffer=It.isNullish=It.padWithZeroes=void 0;const Cr=Ci,ai=jt,no=Kb;function io(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}It.padWithZeroes=io;function I0(t){return t==null}It.isNullish=I0;function Wb(t){return typeof t=="string"&&!(0,no.isHexString)(t)?Buffer.from(t):(0,Cr.toBuffer)(t)}It.legacyToBuffer=Wb;function qb(t,e,r){const n=(0,Cr.fromSigned)(e),i=(0,Cr.fromSigned)(r),a=(0,Cr.bufferToInt)(t),s=io((0,Cr.toUnsigned)(n).toString("hex"),64),o=io((0,Cr.toUnsigned)(i).toString("hex"),64),c=(0,no.stripHexPrefix)((0,no.intToHex)(a));return(0,ai.add0x)(s.concat(o,c))}It.concatSig=qb;function Zb(t,e){const r=(0,Cr.fromRpcSig)(e);return(0,Cr.ecrecover)(t,r.v,r.r,r.s)}It.recoverPublicKey=Zb;function Yb(t){if(!I0(t)){if(typeof t=="number"){if(t<0)return"0x";const e=(0,ai.numberToBytes)(t);t=(0,ai.bytesToHex)(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return(0,ai.add0x)(t.toLowerCase())}}It.normalize=Yb;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.extractPublicKey=Lr.recoverPersonalSignature=Lr.personalSign=void 0;const En=Ci,xr=It;function Jb({privateKey:t,data:e}){if((0,xr.isNullish)(e))throw new Error("Missing data parameter");if((0,xr.isNullish)(t))throw new Error("Missing privateKey parameter");const r=(0,xr.legacyToBuffer)(e),n=(0,En.hashPersonalMessage)(r),i=(0,En.ecsign)(n,t);return(0,xr.concatSig)((0,En.toBuffer)(i.v),i.r,i.s)}Lr.personalSign=Jb;function Xb({data:t,signature:e}){if((0,xr.isNullish)(t))throw new Error("Missing data parameter");if((0,xr.isNullish)(e))throw new Error("Missing signature parameter");const r=B0(t,e),n=(0,En.publicToAddress)(r);return(0,En.bufferToHex)(n)}Lr.recoverPersonalSignature=Xb;function Qb({data:t,signature:e}){if((0,xr.isNullish)(t))throw new Error("Missing data parameter");if((0,xr.isNullish)(e))throw new Error("Missing signature parameter");return`0x${B0(t,e).toString("hex")}`}Lr.extractPublicKey=Qb;function B0(t,e){const r=(0,En.hashPersonalMessage)((0,xr.legacyToBuffer)(t));return(0,xr.recoverPublicKey)(r,e)}var O0={},C0={},F0={},fr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParserError=t.getErrorStack=t.getErrorMessage=void 0;const e=jt,r=a=>typeof a=="string"?a:a instanceof Error||(0,e.isObject)(a)&&(0,e.hasProperty)(a,"message")&&typeof a.message=="string"?a.message:"Unknown error.";t.getErrorMessage=r;const n=a=>{if(a instanceof Error)return a.stack};t.getErrorStack=n;class i extends Error{constructor(s,o){super(s),this.name="ParserError";const c=(0,t.getErrorStack)(o);c&&(this.stack=c)}}t.ParserError=i})(fr);var va={},Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.iterate=void 0;const Js=jt,e1=function*(t,e=32){for(let r=0;r<t.length;r+=e){const n=a=>{(0,Js.assert)(a>=0,"Cannot skip a negative number of bytes."),(0,Js.assert)(a%e===0,"Length must be a multiple of the size."),r+=a},i=t.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};Gi.iterate=e1;var Ea={},N0={},jr={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.padEnd=kr.padStart=kr.set=void 0;const Co=jt,M0=32,t1=(t,e,r)=>(0,Co.concatBytes)([t.subarray(0,r),e,t.subarray(r+e.length)]);kr.set=t1;const r1=(t,e=M0)=>{const r=new Uint8Array(Math.max(e-t.length,0)).fill(0);return(0,Co.concatBytes)([r,t])};kr.padStart=r1;const n1=(t,e=M0)=>{const r=new Uint8Array(Math.max(e-t.length,0)).fill(0);return(0,Co.concatBytes)([t,r])};kr.padEnd=n1;(function(t){var e=ze&&ze.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=ze&&ze.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(kr,t)})(jr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.address=t.getAddress=void 0;const e=jt,r=fr,n=jr,i=a=>{const s=(0,e.createBytes)(a);return(0,e.assert)(s.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${s.length} bytes.`)),(0,n.padStart)(s,20)};t.getAddress=i,t.address={isDynamic:!1,isType:a=>a==="address",getByteLength(){return 32},encode({buffer:a,value:s,packed:o}){const c=(0,t.getAddress)(s);if(o)return(0,e.concatBytes)([a,c]);const l=(0,n.padStart)(c);return(0,e.concatBytes)([a,l])},decode({value:a}){return(0,e.add0x)((0,e.bytesToHex)(a.slice(12,32)))}}})(N0);var wa={},zi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fixedBytes=t.getByteLength=void 0;const e=jt,r=fr,n=jr,i=/^bytes([0-9]{1,2})$/u,a=s=>{var l;const o=(l=s.match(i))==null?void 0:l[1];(0,e.assert)(o,`Invalid byte length. Expected a number between 1 and 32, but received "${s}".`);const c=Number(o);return(0,e.assert)(c>0&&c<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${s}".`)),c};t.getByteLength=a,t.fixedBytes={isDynamic:!1,isType(s){return i.test(s)},getByteLength(){return 32},encode({type:s,buffer:o,value:c,packed:l}){const h=(0,t.getByteLength)(s),g=(0,e.createBytes)(c);return(0,e.assert)(g.length<=h,new r.ParserError(`Expected a value of length ${h}, but received a value of length ${g.length}.`)),l?(0,e.concatBytes)([o,(0,n.padEnd)(g,h)]):(0,e.concatBytes)([o,(0,n.padEnd)(g)])},decode({type:s,value:o}){const c=(0,t.getByteLength)(s);return o.slice(0,c)}}})(zi);var _a={},Xs;function L0(){return Xs||(Xs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.getTupleElements=void 0;const e=jt,r=fr,n=No(),i=/^\((.+)\)$/u,a=o=>i.test(o),s=o=>{(0,e.assert)(o.startsWith("(")&&o.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${o}".`));const c=[];let l="",h=0;for(let g=1;g<o.length-1;g++){const y=o[g];y===","&&h===0?(c.push(l.trim()),l=""):(l+=y,y==="("?h+=1:y===")"&&(h-=1))}return l.trim()&&c.push(l.trim()),c};t.getTupleElements=s,t.tuple={isDynamic(o){return(0,t.getTupleElements)(o).some(l=>{const h=(0,n.getParser)(l);return(0,n.isDynamicParser)(h,l)})},isType(o){return a(o)},getByteLength(o){return(0,n.isDynamicParser)(this,o)?32:(0,t.getTupleElements)(o).reduce((l,h)=>l+(0,n.getParser)(h).getByteLength(h),0)},encode({type:o,buffer:c,value:l,packed:h,tight:g}){const y=(0,t.getTupleElements)(o);return(0,n.pack)({types:y,values:l,byteArray:c,packed:h,tight:g})},decode({type:o,value:c,skip:l}){const h=(0,t.getTupleElements)(o),g=this.getByteLength(o)-32;return l(g),(0,n.unpack)(h,c)}}}(_a)),_a}var Qs;function i1(){return Qs||(Qs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.getTupleType=t.getArrayType=t.isArrayType=void 0;const e=jt,r=fr,n=No(),i=jr,a=zi,s=L0(),o=/^(?<type>.*)\[(?<length>\d*?)\]$/u,c=g=>o.test(g);t.isArrayType=c;const l=g=>{var w;const y=g.match(o);return(0,e.assert)((w=y==null?void 0:y.groups)==null?void 0:w.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${g}".`)),[y.groups.type,y.groups.length?parseInt(y.groups.length,10):void 0]};t.getArrayType=l;const h=(g,y)=>`(${new Array(y).fill(g).join(",")})`;t.getTupleType=h,t.array={isDynamic(g){const[y,w]=(0,t.getArrayType)(g);return w===void 0||(0,n.isDynamicParser)((0,n.getParser)(y),y)},isType(g){return(0,t.isArrayType)(g)},getByteLength(g){(0,e.assert)((0,t.isArrayType)(g),new r.ParserError(`Expected an array type, but received "${g}".`));const[y,w]=(0,t.getArrayType)(g);return!(0,n.isDynamicParser)(this,g)&&w!==void 0?s.tuple.getByteLength((0,t.getTupleType)(y,w)):32},encode({type:g,buffer:y,value:w,packed:O,tight:U}){const[M,G]=(0,t.getArrayType)(g);if((0,e.assert)(!O||!(0,t.isArrayType)(M),new r.ParserError("Cannot pack nested arrays.")),O&&(0,n.isDynamicParser)((0,n.getParser)(M),M))return(0,n.pack)({types:new Array(w.length).fill(M),values:w,byteArray:y,packed:O,arrayPacked:!0,tight:U});if(G)return(0,e.assert)(G===w.length,new r.ParserError(`Array length does not match type length. Expected a length of ${G}, but received ${w.length}.`)),s.tuple.encode({type:(0,t.getTupleType)(M,G),buffer:y,value:w,packed:a.fixedBytes.isType(M)&&U,tight:U});if(O)return(0,n.pack)({types:new Array(w.length).fill(M),values:w,byteArray:y,packed:a.fixedBytes.isType(M)&&U,arrayPacked:!0,tight:U});const P=(0,i.padStart)((0,e.numberToBytes)(w.length));return(0,n.pack)({types:new Array(w.length).fill(M),values:w,byteArray:(0,e.concatBytes)([y,P]),packed:O,tight:U})},decode({type:g,value:y,...w}){const[O,U]=(0,t.getArrayType)(g);if(U){const G=s.tuple.decode({type:(0,t.getTupleType)(O,U),value:y,...w});return(0,e.assert)(G.length===U,new r.ParserError(`Array length does not match type length. Expected a length of ${U}, but received ${G.length}.`)),G}const M=(0,e.bytesToNumber)(y.subarray(0,32));return(0,n.unpack)(new Array(M).fill(O),y.subarray(32))}}}(wa)),wa}var k0={},Fo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.number=t.getBigInt=t.assertNumberLength=t.getLength=t.isSigned=void 0;const e=jt,r=fr,n=jr,i=/^u?int(?<length>[0-9]*)?$/u,a=l=>!l.startsWith("u");t.isSigned=a;const s=l=>{var y;if(l==="int"||l==="uint")return 256;const h=l.match(i);(0,e.assert)((y=h==null?void 0:h.groups)==null?void 0:y.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${l}".`));const g=parseInt(h.groups.length,10);return(0,e.assert)(g>=8&&g<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${l}".`)),(0,e.assert)(g%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${l}".`)),g};t.getLength=s;const o=(l,h)=>{const g=(0,t.getLength)(h),y=BigInt(2)**BigInt(g-((0,t.isSigned)(h)?1:0))-BigInt(1);if((0,t.isSigned)(h)){(0,e.assert)(l>=-(y+BigInt(1))&&l<=y,new r.ParserError(`Number "${l}" is out of range for type "${h}".`));return}(0,e.assert)(l<=y,new r.ParserError(`Number "${l}" is out of range for type "${h}".`))};t.assertNumberLength=o;const c=l=>{try{return(0,e.createBigInt)(l)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${l}".`)}};t.getBigInt=c,t.number={isDynamic:!1,isType(l){return i.test(l)},getByteLength(){return 32},encode({type:l,buffer:h,value:g,packed:y}){const w=(0,t.getBigInt)(g);if((0,t.assertNumberLength)(w,l),(0,t.isSigned)(l)){if(y){const O=(0,t.getLength)(l)/8;return(0,e.concatBytes)([h,(0,e.signedBigIntToBytes)(w,O)])}return(0,e.concatBytes)([h,(0,n.padStart)((0,e.signedBigIntToBytes)(w,32))])}if(y){const O=(0,t.getLength)(l)/8;return(0,e.concatBytes)([h,(0,n.padStart)((0,e.bigIntToBytes)(w),O)])}return(0,e.concatBytes)([h,(0,n.padStart)((0,e.bigIntToBytes)(w))])},decode({type:l,value:h}){const g=h.subarray(0,32);if((0,t.isSigned)(l)){const w=(0,e.bytesToSignedBigInt)(g);return(0,t.assertNumberLength)(w,l),w}const y=(0,e.bytesToBigInt)(g);return(0,t.assertNumberLength)(y,l),y}}})(Fo);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bool=t.getBooleanValue=void 0;const e=jt,r=hf,n=fr,i=Fo,a=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),o=>o==="true"),s=o=>{try{return(0,r.create)(o,a)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${o}".`)}};t.getBooleanValue=s,t.bool={isDynamic:!1,isType:o=>o==="bool",getByteLength(){return 32},encode({buffer:o,value:c,packed:l,tight:h}){const g=(0,t.getBooleanValue)(c);return l?(0,e.concatBytes)([o,(0,e.bigIntToBytes)(g)]):i.number.encode({type:"uint256",buffer:o,value:g,packed:l,tight:h})},decode(o){return i.number.decode({...o,type:"uint256"})===BigInt(1)}}})(k0);var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.bytes=void 0;const kn=jt,ef=jr;Xn.bytes={isDynamic:!0,isType:t=>t==="bytes",getByteLength(){return 32},encode({buffer:t,value:e,packed:r}){const n=(0,kn.createBytes)(e);if(r)return(0,kn.concatBytes)([t,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,kn.concatBytes)([t,(0,ef.padStart)((0,kn.numberToBytes)(n.byteLength)),(0,ef.padEnd)(n,i)])},decode({value:t}){const e=t.subarray(0,32),r=(0,kn.bytesToNumber)(e);return t.slice(32,32+r)}};var U0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fn=t.getFunction=void 0;const e=jt,r=hf,n=fr,i=zi,a=(0,r.coerce)((0,r.object)({address:e.StrictHexStruct,selector:e.StrictHexStruct}),(0,r.union)([e.StrictHexStruct,(0,r.instance)(Uint8Array)]),o=>{const c=(0,e.createBytes)(o);return(0,e.assert)(c.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${c.length} bytes.`)),{address:(0,e.bytesToHex)(c.subarray(0,20)),selector:(0,e.bytesToHex)(c.subarray(20,24))}}),s=o=>{const c=(0,r.create)(o,a);return(0,e.concatBytes)([(0,e.hexToBytes)(c.address),(0,e.hexToBytes)(c.selector)])};t.getFunction=s,t.fn={isDynamic:!1,isType:o=>o==="function",getByteLength(){return 32},encode({buffer:o,value:c,packed:l,tight:h}){const g=(0,t.getFunction)(c);return i.fixedBytes.encode({type:"bytes24",buffer:o,value:g,packed:l,tight:h})},decode({value:o}){return{address:(0,e.bytesToHex)(o.slice(0,20)),selector:(0,e.bytesToHex)(o.slice(20,24))}}}})(U0);var R0={};Object.defineProperty(R0,"__esModule",{value:!0});var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.string=void 0;const tf=jt,rf=Xn;Vi.string={isDynamic:!0,isType:t=>t==="string",getByteLength(){return 32},encode({buffer:t,value:e,packed:r,tight:n}){return rf.bytes.encode({type:"bytes",buffer:t,value:(0,tf.stringToBytes)(e),packed:r,tight:n})},decode(t){return(0,tf.bytesToString)(rf.bytes.decode(t))}};var nf;function j0(){return nf||(nf=1,function(t){var e=ze&&ze.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=ze&&ze.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(N0,t),r(i1(),t),r(k0,t),r(Xn,t),r(zi,t),r(U0,t),r(Fo,t),r(R0,t),r(Vi,t),r(L0(),t)}(Ea)),Ea}var af;function No(){return af||(af=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.unpack=t.pack=t.isDynamicParser=t.getParser=void 0;const e=jt,r=fr,n=Gi,i=j0(),a=jr,s=h=>{const g={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},y=g[h];if(y)return y;const w=Object.values(g).find(O=>O.isType(h));if(w)return w;throw new r.ParserError(`The type "${h}" is not supported.`)};t.getParser=s;const o=(h,g)=>{const{isDynamic:y}=h;return typeof y=="function"?y(g):y};t.isDynamicParser=o;const c=({types:h,values:g,packed:y=!1,tight:w=!1,arrayPacked:O=!1,byteArray:U=new Uint8Array})=>{(0,e.assert)(h.length===g.length,new r.ParserError(`The number of types (${h.length}) does not match the number of values (${g.length}).`));const{staticBuffer:M,dynamicBuffer:G,pointers:P}=h.reduce(({staticBuffer:A,dynamicBuffer:S,pointers:u},E,L)=>{const z=(0,t.getParser)(E),X=g[L];if(y||O||!(0,t.isDynamicParser)(z,E))return{staticBuffer:z.encode({buffer:A,value:X,type:E,packed:y,tight:w}),dynamicBuffer:S,pointers:u};const T=(0,e.concatBytes)([A,new Uint8Array(32)]),I=z.encode({buffer:S,value:X,type:E,packed:y,tight:w});return{staticBuffer:T,dynamicBuffer:I,pointers:[...u,{position:A.length,pointer:S.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,e.assert)(!y&&!O||G.length===0,new r.ParserError("Invalid pack state."));const D=M.length,v=P.reduce((A,{pointer:S,position:u})=>{const E=(0,a.padStart)((0,e.numberToBytes)(D+S));return(0,a.set)(A,E,u)},M);return(0,e.concatBytes)([U,v,G])};t.pack=c;const l=(h,g)=>{const y=(0,n.iterate)(g);return h.map(w=>{const{value:{value:O,skip:U},done:M}=y.next();(0,e.assert)(!M,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${w}".`));const G=(0,t.getParser)(w);if((0,t.isDynamicParser)(G,w)){const D=(0,e.bytesToNumber)(O.subarray(0,32)),v=g.subarray(D);return G.decode({type:w,value:v,skip:U})}return G.decode({type:w,value:O,skip:U})})};t.unpack=l}(va)),va}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSingle=t.decode=t.encodePacked=t.encodeSingle=t.encode=void 0;const e=jt,r=fr,n=No(),i=(l,h,g,y)=>{try{return(0,n.pack)({types:l,values:h,packed:g,tight:y})}catch(w){throw w instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${w.message}`,w):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(w)}`,w)}};t.encode=i;const a=(l,h)=>(0,t.encode)([l],[h]);t.encodeSingle=a;const s=(l,h,g)=>(0,t.encode)(l,h,!0,g);t.encodePacked=s;const o=(l,h)=>{const g=(0,e.createBytes)(h);try{return(0,n.unpack)(l,g)}catch(y){throw y instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${y.message}`,y):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(y)}`,y)}};t.decode=o;const c=(l,h)=>{const g=(0,t.decode)([l],h);return(0,e.assert)(g.length===1,new r.ParserError("Decoded value array has unexpected length.")),g[0]};t.decodeSingle=c})(F0);var H0={},$0={};Object.defineProperty($0,"__esModule",{value:!0});(function(t){var e=ze&&ze.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=ze&&ze.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r($0,t)})(H0);(function(t){var e=ze&&ze.__createBinding||(Object.create?function(n,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,s,o)}:function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]}),r=ze&&ze.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(F0,t),r(fr,t),r(H0,t)})(C0);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.recoverTypedSignature=t.signTypedData=t.typedSignatureHash=t.TypedDataUtils=t.TYPED_MESSAGE_SCHEMA=t.SignTypedDataVersion=void 0;const e=Ci,r=C0,n=j0(),i=jr,a=jt,s=Xt,o=It;var c;(function(T){T.V1="V1",T.V3="V3",T.V4="V4"})(c=t.SignTypedDataVersion||(t.SignTypedDataVersion={})),t.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function l(T,I){if(Object.keys(c).includes(T)){if(I&&!I.includes(T))throw new Error(`SignTypedDataVersion not allowed: '${T}'. Allowed versions are: ${I.join(", ")}`)}else throw new Error(`Invalid version: '${T}'`)}function h(T,I){(0,a.assert)(I!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${I}".`);const m=BigInt(I),B=(0,n.getLength)(T),$=BigInt(2)**BigInt(B)-BigInt(1);return(0,a.assert)(m>=-$&&m<=$,`Unable to encode value: Number "${I}" is out of range for type "${T}".`),m}function g(T){let I=BigInt(0);for(let m=0;m<T.length;m++){const B=BigInt(T.charCodeAt(m)-48);I*=BigInt(10),B>=49?I+=B-BigInt(49)+BigInt(10):B>=17?I+=B-BigInt(17)+BigInt(10):I+=B}return(0,i.padStart)((0,a.bigIntToBytes)(I),20)}function y(T,I,m,B,$){if(l($,[c.V3,c.V4]),T[m]!==void 0)return["bytes32",$===c.V4&&B==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,e.arrToBufArr)((0,s.keccak256)(w(m,B,T,$)))];if(m==="function")throw new Error('Unsupported or invalid type: "function"');if(B===void 0)throw new Error(`missing value for field ${I} of type ${m}`);if(m==="address"){if(typeof B=="number")return["address",(0,i.padStart)((0,a.numberToBytes)(B),20)];if((0,a.isStrictHexString)(B))return["address",(0,a.add0x)(B)];if(typeof B=="string")return["address",g(B).subarray(0,20)]}if(m==="bool")return["bool",!!B];if(m==="bytes")return typeof B=="number"?B=(0,a.numberToBytes)(B):(0,a.isStrictHexString)(B)?B=(0,a.hexToBytes)(B):typeof B=="string"&&(B=(0,a.stringToBytes)(B)),["bytes32",(0,e.arrToBufArr)((0,s.keccak256)(B))];if(m.startsWith("bytes")&&m!=="bytes"&&!m.includes("["))return typeof B=="number"?B<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(B))]:(0,a.isStrictHexString)(B)?["bytes32",(0,a.hexToBytes)(B)]:["bytes32",B];if(m.startsWith("int")&&!m.includes("[")){const K=h(m,B);return K>=BigInt(0)?["uint256",K]:["int256",K]}if(m==="string")return typeof B=="number"?B=(0,a.numberToBytes)(B):B=(0,a.stringToBytes)(B??""),["bytes32",(0,e.arrToBufArr)((0,s.keccak256)(B))];if(m.endsWith("]")){if($===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const K=m.slice(0,m.lastIndexOf("[")),te=B.map(ce=>y(T,I,K,ce,$));return["bytes32",(0,e.arrToBufArr)((0,s.keccak256)((0,r.encode)(te.map(([ce])=>ce),te.map(([,ce])=>ce))))]}return[m,B]}function w(T,I,m,B){l(B,[c.V3,c.V4]);const $=["bytes32"],K=[G(T,m)];for(const te of m[T]){if(B===c.V3&&I[te.name]===void 0)continue;const[ce,Fe]=y(m,te.name,te.type,I[te.name],B);$.push(ce),K.push(Fe)}return(0,e.arrToBufArr)((0,r.encode)($,K))}function O(T,I){let m="";const B=U(T,I);B.delete(T);const $=[T,...Array.from(B).sort()];for(const K of $){if(!I[K])throw new Error(`No type definition specified: ${K}`);m+=`${K}(${I[K].map(({name:ce,type:Fe})=>`${Fe} ${ce}`).join(",")})`}return m}function U(T,I,m=new Set){if(typeof T!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(T)}`);if([T]=T.match(/^\w*/u),m.has(T)||I[T]===void 0)return m;m.add(T);for(const $ of I[T])U($.type,I,m);return m}function M(T,I,m,B){l(B,[c.V3,c.V4]);const $=w(T,I,m,B),K=(0,s.keccak256)($);return(0,e.arrToBufArr)(K)}function G(T,I){const m=(0,a.stringToBytes)(O(T,I));return(0,e.arrToBufArr)((0,s.keccak256)(m))}function P(T){const I={};for(const m in t.TYPED_MESSAGE_SCHEMA.properties)T[m]&&(I[m]=T[m]);return"types"in I&&(I.types=Object.assign({EIP712Domain:[]},I.types)),I}function D(T,I){l(I,[c.V3,c.V4]);const m=P(T),{domain:B}=m,$={EIP712Domain:m.types.EIP712Domain};return M("EIP712Domain",B,$,I)}function v(T,I){l(I,[c.V3,c.V4]);const m=P(T),B=[(0,a.hexToBytes)("1901")];return B.push(D(T,I)),m.primaryType!=="EIP712Domain"&&B.push(M(m.primaryType,m.message,m.types,I)),(0,e.arrToBufArr)((0,s.keccak256)((0,a.concatBytes)(B)))}t.TypedDataUtils={encodeData:w,encodeType:O,findTypeDependencies:U,hashStruct:M,hashType:G,sanitizeData:P,eip712Hash:v,eip712DomainHash:D};function A(T){const I=L(T);return(0,a.bytesToHex)(I)}t.typedSignatureHash=A;function S(T,I){if((0,n.isArrayType)(T)&&Array.isArray(I)){const[m]=(0,n.getArrayType)(T);return I.map(B=>S(m,B))}if(T==="address"){if(typeof I=="number")return(0,i.padStart)((0,a.numberToBytes)(I),20);if((0,a.isStrictHexString)(I))return(0,i.padStart)((0,a.hexToBytes)(I).subarray(0,20),20);if(I instanceof Uint8Array)return(0,i.padStart)(I.subarray(0,20),20)}if(T==="bool")return!!I;if(T.startsWith("bytes")&&T!=="bytes"){const m=(0,n.getByteLength)(T);if(typeof I=="number")return I<0?new Uint8Array:(0,a.numberToBytes)(I).subarray(0,m);if((0,a.isStrictHexString)(I))return(0,a.hexToBytes)(I).subarray(0,m);if(I instanceof Uint8Array)return I.subarray(0,m)}if(T.startsWith("uint")&&typeof I=="number")return Math.abs(I);if(T.startsWith("int")&&typeof I=="number"){const m=(0,n.getLength)(T);return BigInt.asIntN(m,BigInt(I))}return I}function u(T){return T.map(I=>typeof I=="number"?(0,i.padStart)((0,a.numberToBytes)(I),32):(0,a.isStrictHexString)(I)?(0,i.padStart)((0,a.hexToBytes)(I).subarray(0,32),32):I instanceof Uint8Array?(0,i.padStart)(I.subarray(0,32),32):I)}function E(T,I){return I.map(m=>{if(typeof m=="string"||typeof m=="number"||typeof m=="bigint"){const B=h(T,m);if(B>=BigInt(0))return(0,i.padStart)((0,a.bigIntToBytes)(B),32);const $=(0,n.getLength)(T),K=BigInt.asIntN($,B);return(0,a.signedBigIntToBytes)(K,32)}return m})}function L(T){const I=new Error("Expect argument to be non-empty array");if(typeof T!="object"||!("length"in T)||!T.length)throw I;const m=T.map(({name:te,type:ce,value:Fe})=>{if(ce==="address[]")return{name:te,type:"bytes32[]",value:u(Fe)};if(ce.startsWith("int")&&(0,n.isArrayType)(ce)){const[Ve,N]=(0,n.getArrayType)(ce);return{name:te,type:`bytes32[${N??""}]`,value:E(Ve,Fe)}}return{name:te,type:ce,value:S(ce,Fe)}}),B=m.map(te=>te.type!=="bytes"?te.value:(0,o.legacyToBuffer)(te.value)),$=m.map(te=>{if(te.type==="function")throw new Error('Unsupported or invalid type: "function"');return te.type}),K=T.map(te=>{if(!te.name)throw I;return`${te.type} ${te.name}`});return(0,e.arrToBufArr)((0,s.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,s.keccak256)((0,r.encodePacked)(["string[]"],[K],!0)),(0,s.keccak256)((0,r.encodePacked)($,B,!0))])))}function z({privateKey:T,data:I,version:m}){if(l(m),(0,o.isNullish)(I))throw new Error("Missing data parameter");if((0,o.isNullish)(T))throw new Error("Missing private key parameter");const B=m===c.V1?L(I):t.TypedDataUtils.eip712Hash(I,m),$=(0,e.ecsign)(B,T);return(0,o.concatSig)((0,e.arrToBufArr)((0,a.bigIntToBytes)($.v)),$.r,$.s)}t.signTypedData=z;function X({data:T,signature:I,version:m}){if(l(m),(0,o.isNullish)(T))throw new Error("Missing data parameter");if((0,o.isNullish)(I))throw new Error("Missing signature parameter");const B=m===c.V1?L(T):t.TypedDataUtils.eip712Hash(T,m),$=(0,o.recoverPublicKey)(B,I),K=(0,e.publicToAddress)($);return(0,a.bytesToHex)(K)}t.recoverTypedSignature=X})(O0);var Jt={},G0={exports:{}};(function(t){(function(e){var r=function(d){var b,x=new Float64Array(16);if(d)for(b=0;b<d.length;b++)x[b]=d[b];return x},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var s=r(),o=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(d,b,x,f){d[b]=x>>24&255,d[b+1]=x>>16&255,d[b+2]=x>>8&255,d[b+3]=x&255,d[b+4]=f>>24&255,d[b+5]=f>>16&255,d[b+6]=f>>8&255,d[b+7]=f&255}function U(d,b,x,f,p){var F,k=0;for(F=0;F<p;F++)k|=d[b+F]^x[f+F];return(1&k-1>>>8)-1}function M(d,b,x,f){return U(d,b,x,f,16)}function G(d,b,x,f){return U(d,b,x,f,32)}function P(d,b,x,f){for(var p=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,F=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,k=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,q=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,ee=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,xe=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,ie=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,He=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,fe=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,me=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,ve=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,Pe=x[16]&255|(x[17]&255)<<8|(x[18]&255)<<16|(x[19]&255)<<24,Se=x[20]&255|(x[21]&255)<<8|(x[22]&255)<<16|(x[23]&255)<<24,Ee=x[24]&255|(x[25]&255)<<8|(x[26]&255)<<16|(x[27]&255)<<24,_e=x[28]&255|(x[29]&255)<<8|(x[30]&255)<<16|(x[31]&255)<<24,we=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,ue=p,ge=F,ae=k,de=q,he=ee,ne=xe,R=ie,H=He,J=fe,W=me,Z=ve,Q=Pe,pe=Se,Te=Ee,Ie=_e,De=we,_,Ne=0;Ne<20;Ne+=2)_=ue+pe|0,he^=_<<7|_>>>32-7,_=he+ue|0,J^=_<<9|_>>>32-9,_=J+he|0,pe^=_<<13|_>>>32-13,_=pe+J|0,ue^=_<<18|_>>>32-18,_=ne+ge|0,W^=_<<7|_>>>32-7,_=W+ne|0,Te^=_<<9|_>>>32-9,_=Te+W|0,ge^=_<<13|_>>>32-13,_=ge+Te|0,ne^=_<<18|_>>>32-18,_=Z+R|0,Ie^=_<<7|_>>>32-7,_=Ie+Z|0,ae^=_<<9|_>>>32-9,_=ae+Ie|0,R^=_<<13|_>>>32-13,_=R+ae|0,Z^=_<<18|_>>>32-18,_=De+Q|0,de^=_<<7|_>>>32-7,_=de+De|0,H^=_<<9|_>>>32-9,_=H+de|0,Q^=_<<13|_>>>32-13,_=Q+H|0,De^=_<<18|_>>>32-18,_=ue+de|0,ge^=_<<7|_>>>32-7,_=ge+ue|0,ae^=_<<9|_>>>32-9,_=ae+ge|0,de^=_<<13|_>>>32-13,_=de+ae|0,ue^=_<<18|_>>>32-18,_=ne+he|0,R^=_<<7|_>>>32-7,_=R+ne|0,H^=_<<9|_>>>32-9,_=H+R|0,he^=_<<13|_>>>32-13,_=he+H|0,ne^=_<<18|_>>>32-18,_=Z+W|0,Q^=_<<7|_>>>32-7,_=Q+Z|0,J^=_<<9|_>>>32-9,_=J+Q|0,W^=_<<13|_>>>32-13,_=W+J|0,Z^=_<<18|_>>>32-18,_=De+Ie|0,pe^=_<<7|_>>>32-7,_=pe+De|0,Te^=_<<9|_>>>32-9,_=Te+pe|0,Ie^=_<<13|_>>>32-13,_=Ie+Te|0,De^=_<<18|_>>>32-18;ue=ue+p|0,ge=ge+F|0,ae=ae+k|0,de=de+q|0,he=he+ee|0,ne=ne+xe|0,R=R+ie|0,H=H+He|0,J=J+fe|0,W=W+me|0,Z=Z+ve|0,Q=Q+Pe|0,pe=pe+Se|0,Te=Te+Ee|0,Ie=Ie+_e|0,De=De+we|0,d[0]=ue>>>0&255,d[1]=ue>>>8&255,d[2]=ue>>>16&255,d[3]=ue>>>24&255,d[4]=ge>>>0&255,d[5]=ge>>>8&255,d[6]=ge>>>16&255,d[7]=ge>>>24&255,d[8]=ae>>>0&255,d[9]=ae>>>8&255,d[10]=ae>>>16&255,d[11]=ae>>>24&255,d[12]=de>>>0&255,d[13]=de>>>8&255,d[14]=de>>>16&255,d[15]=de>>>24&255,d[16]=he>>>0&255,d[17]=he>>>8&255,d[18]=he>>>16&255,d[19]=he>>>24&255,d[20]=ne>>>0&255,d[21]=ne>>>8&255,d[22]=ne>>>16&255,d[23]=ne>>>24&255,d[24]=R>>>0&255,d[25]=R>>>8&255,d[26]=R>>>16&255,d[27]=R>>>24&255,d[28]=H>>>0&255,d[29]=H>>>8&255,d[30]=H>>>16&255,d[31]=H>>>24&255,d[32]=J>>>0&255,d[33]=J>>>8&255,d[34]=J>>>16&255,d[35]=J>>>24&255,d[36]=W>>>0&255,d[37]=W>>>8&255,d[38]=W>>>16&255,d[39]=W>>>24&255,d[40]=Z>>>0&255,d[41]=Z>>>8&255,d[42]=Z>>>16&255,d[43]=Z>>>24&255,d[44]=Q>>>0&255,d[45]=Q>>>8&255,d[46]=Q>>>16&255,d[47]=Q>>>24&255,d[48]=pe>>>0&255,d[49]=pe>>>8&255,d[50]=pe>>>16&255,d[51]=pe>>>24&255,d[52]=Te>>>0&255,d[53]=Te>>>8&255,d[54]=Te>>>16&255,d[55]=Te>>>24&255,d[56]=Ie>>>0&255,d[57]=Ie>>>8&255,d[58]=Ie>>>16&255,d[59]=Ie>>>24&255,d[60]=De>>>0&255,d[61]=De>>>8&255,d[62]=De>>>16&255,d[63]=De>>>24&255}function D(d,b,x,f){for(var p=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,F=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,k=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,q=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,ee=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,xe=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,ie=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,He=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,fe=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,me=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,ve=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,Pe=x[16]&255|(x[17]&255)<<8|(x[18]&255)<<16|(x[19]&255)<<24,Se=x[20]&255|(x[21]&255)<<8|(x[22]&255)<<16|(x[23]&255)<<24,Ee=x[24]&255|(x[25]&255)<<8|(x[26]&255)<<16|(x[27]&255)<<24,_e=x[28]&255|(x[29]&255)<<8|(x[30]&255)<<16|(x[31]&255)<<24,we=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,ue=p,ge=F,ae=k,de=q,he=ee,ne=xe,R=ie,H=He,J=fe,W=me,Z=ve,Q=Pe,pe=Se,Te=Ee,Ie=_e,De=we,_,Ne=0;Ne<20;Ne+=2)_=ue+pe|0,he^=_<<7|_>>>32-7,_=he+ue|0,J^=_<<9|_>>>32-9,_=J+he|0,pe^=_<<13|_>>>32-13,_=pe+J|0,ue^=_<<18|_>>>32-18,_=ne+ge|0,W^=_<<7|_>>>32-7,_=W+ne|0,Te^=_<<9|_>>>32-9,_=Te+W|0,ge^=_<<13|_>>>32-13,_=ge+Te|0,ne^=_<<18|_>>>32-18,_=Z+R|0,Ie^=_<<7|_>>>32-7,_=Ie+Z|0,ae^=_<<9|_>>>32-9,_=ae+Ie|0,R^=_<<13|_>>>32-13,_=R+ae|0,Z^=_<<18|_>>>32-18,_=De+Q|0,de^=_<<7|_>>>32-7,_=de+De|0,H^=_<<9|_>>>32-9,_=H+de|0,Q^=_<<13|_>>>32-13,_=Q+H|0,De^=_<<18|_>>>32-18,_=ue+de|0,ge^=_<<7|_>>>32-7,_=ge+ue|0,ae^=_<<9|_>>>32-9,_=ae+ge|0,de^=_<<13|_>>>32-13,_=de+ae|0,ue^=_<<18|_>>>32-18,_=ne+he|0,R^=_<<7|_>>>32-7,_=R+ne|0,H^=_<<9|_>>>32-9,_=H+R|0,he^=_<<13|_>>>32-13,_=he+H|0,ne^=_<<18|_>>>32-18,_=Z+W|0,Q^=_<<7|_>>>32-7,_=Q+Z|0,J^=_<<9|_>>>32-9,_=J+Q|0,W^=_<<13|_>>>32-13,_=W+J|0,Z^=_<<18|_>>>32-18,_=De+Ie|0,pe^=_<<7|_>>>32-7,_=pe+De|0,Te^=_<<9|_>>>32-9,_=Te+pe|0,Ie^=_<<13|_>>>32-13,_=Ie+Te|0,De^=_<<18|_>>>32-18;d[0]=ue>>>0&255,d[1]=ue>>>8&255,d[2]=ue>>>16&255,d[3]=ue>>>24&255,d[4]=ne>>>0&255,d[5]=ne>>>8&255,d[6]=ne>>>16&255,d[7]=ne>>>24&255,d[8]=Z>>>0&255,d[9]=Z>>>8&255,d[10]=Z>>>16&255,d[11]=Z>>>24&255,d[12]=De>>>0&255,d[13]=De>>>8&255,d[14]=De>>>16&255,d[15]=De>>>24&255,d[16]=R>>>0&255,d[17]=R>>>8&255,d[18]=R>>>16&255,d[19]=R>>>24&255,d[20]=H>>>0&255,d[21]=H>>>8&255,d[22]=H>>>16&255,d[23]=H>>>24&255,d[24]=J>>>0&255,d[25]=J>>>8&255,d[26]=J>>>16&255,d[27]=J>>>24&255,d[28]=W>>>0&255,d[29]=W>>>8&255,d[30]=W>>>16&255,d[31]=W>>>24&255}function v(d,b,x,f){P(d,b,x,f)}function A(d,b,x,f){D(d,b,x,f)}var S=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function u(d,b,x,f,p,F,k){var q=new Uint8Array(16),ee=new Uint8Array(64),xe,ie;for(ie=0;ie<16;ie++)q[ie]=0;for(ie=0;ie<8;ie++)q[ie]=F[ie];for(;p>=64;){for(v(ee,q,k,S),ie=0;ie<64;ie++)d[b+ie]=x[f+ie]^ee[ie];for(xe=1,ie=8;ie<16;ie++)xe=xe+(q[ie]&255)|0,q[ie]=xe&255,xe>>>=8;p-=64,b+=64,f+=64}if(p>0)for(v(ee,q,k,S),ie=0;ie<p;ie++)d[b+ie]=x[f+ie]^ee[ie];return 0}function E(d,b,x,f,p){var F=new Uint8Array(16),k=new Uint8Array(64),q,ee;for(ee=0;ee<16;ee++)F[ee]=0;for(ee=0;ee<8;ee++)F[ee]=f[ee];for(;x>=64;){for(v(k,F,p,S),ee=0;ee<64;ee++)d[b+ee]=k[ee];for(q=1,ee=8;ee<16;ee++)q=q+(F[ee]&255)|0,F[ee]=q&255,q>>>=8;x-=64,b+=64}if(x>0)for(v(k,F,p,S),ee=0;ee<x;ee++)d[b+ee]=k[ee];return 0}function L(d,b,x,f,p){var F=new Uint8Array(32);A(F,f,p,S);for(var k=new Uint8Array(8),q=0;q<8;q++)k[q]=f[q+16];return E(d,b,x,k,F)}function z(d,b,x,f,p,F,k){var q=new Uint8Array(32);A(q,F,k,S);for(var ee=new Uint8Array(8),xe=0;xe<8;xe++)ee[xe]=F[xe+16];return u(d,b,x,f,p,ee,q)}var X=function(d){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var b,x,f,p,F,k,q,ee;b=d[0]&255|(d[1]&255)<<8,this.r[0]=b&8191,x=d[2]&255|(d[3]&255)<<8,this.r[1]=(b>>>13|x<<3)&8191,f=d[4]&255|(d[5]&255)<<8,this.r[2]=(x>>>10|f<<6)&7939,p=d[6]&255|(d[7]&255)<<8,this.r[3]=(f>>>7|p<<9)&8191,F=d[8]&255|(d[9]&255)<<8,this.r[4]=(p>>>4|F<<12)&255,this.r[5]=F>>>1&8190,k=d[10]&255|(d[11]&255)<<8,this.r[6]=(F>>>14|k<<2)&8191,q=d[12]&255|(d[13]&255)<<8,this.r[7]=(k>>>11|q<<5)&8065,ee=d[14]&255|(d[15]&255)<<8,this.r[8]=(q>>>8|ee<<8)&8191,this.r[9]=ee>>>5&127,this.pad[0]=d[16]&255|(d[17]&255)<<8,this.pad[1]=d[18]&255|(d[19]&255)<<8,this.pad[2]=d[20]&255|(d[21]&255)<<8,this.pad[3]=d[22]&255|(d[23]&255)<<8,this.pad[4]=d[24]&255|(d[25]&255)<<8,this.pad[5]=d[26]&255|(d[27]&255)<<8,this.pad[6]=d[28]&255|(d[29]&255)<<8,this.pad[7]=d[30]&255|(d[31]&255)<<8};X.prototype.blocks=function(d,b,x){for(var f=this.fin?0:2048,p,F,k,q,ee,xe,ie,He,fe,me,ve,Pe,Se,Ee,_e,we,ue,ge,ae,de=this.h[0],he=this.h[1],ne=this.h[2],R=this.h[3],H=this.h[4],J=this.h[5],W=this.h[6],Z=this.h[7],Q=this.h[8],pe=this.h[9],Te=this.r[0],Ie=this.r[1],De=this.r[2],_=this.r[3],Ne=this.r[4],$e=this.r[5],Ge=this.r[6],Ce=this.r[7],Re=this.r[8],je=this.r[9];x>=16;)p=d[b+0]&255|(d[b+1]&255)<<8,de+=p&8191,F=d[b+2]&255|(d[b+3]&255)<<8,he+=(p>>>13|F<<3)&8191,k=d[b+4]&255|(d[b+5]&255)<<8,ne+=(F>>>10|k<<6)&8191,q=d[b+6]&255|(d[b+7]&255)<<8,R+=(k>>>7|q<<9)&8191,ee=d[b+8]&255|(d[b+9]&255)<<8,H+=(q>>>4|ee<<12)&8191,J+=ee>>>1&8191,xe=d[b+10]&255|(d[b+11]&255)<<8,W+=(ee>>>14|xe<<2)&8191,ie=d[b+12]&255|(d[b+13]&255)<<8,Z+=(xe>>>11|ie<<5)&8191,He=d[b+14]&255|(d[b+15]&255)<<8,Q+=(ie>>>8|He<<8)&8191,pe+=He>>>5|f,fe=0,me=fe,me+=de*Te,me+=he*(5*je),me+=ne*(5*Re),me+=R*(5*Ce),me+=H*(5*Ge),fe=me>>>13,me&=8191,me+=J*(5*$e),me+=W*(5*Ne),me+=Z*(5*_),me+=Q*(5*De),me+=pe*(5*Ie),fe+=me>>>13,me&=8191,ve=fe,ve+=de*Ie,ve+=he*Te,ve+=ne*(5*je),ve+=R*(5*Re),ve+=H*(5*Ce),fe=ve>>>13,ve&=8191,ve+=J*(5*Ge),ve+=W*(5*$e),ve+=Z*(5*Ne),ve+=Q*(5*_),ve+=pe*(5*De),fe+=ve>>>13,ve&=8191,Pe=fe,Pe+=de*De,Pe+=he*Ie,Pe+=ne*Te,Pe+=R*(5*je),Pe+=H*(5*Re),fe=Pe>>>13,Pe&=8191,Pe+=J*(5*Ce),Pe+=W*(5*Ge),Pe+=Z*(5*$e),Pe+=Q*(5*Ne),Pe+=pe*(5*_),fe+=Pe>>>13,Pe&=8191,Se=fe,Se+=de*_,Se+=he*De,Se+=ne*Ie,Se+=R*Te,Se+=H*(5*je),fe=Se>>>13,Se&=8191,Se+=J*(5*Re),Se+=W*(5*Ce),Se+=Z*(5*Ge),Se+=Q*(5*$e),Se+=pe*(5*Ne),fe+=Se>>>13,Se&=8191,Ee=fe,Ee+=de*Ne,Ee+=he*_,Ee+=ne*De,Ee+=R*Ie,Ee+=H*Te,fe=Ee>>>13,Ee&=8191,Ee+=J*(5*je),Ee+=W*(5*Re),Ee+=Z*(5*Ce),Ee+=Q*(5*Ge),Ee+=pe*(5*$e),fe+=Ee>>>13,Ee&=8191,_e=fe,_e+=de*$e,_e+=he*Ne,_e+=ne*_,_e+=R*De,_e+=H*Ie,fe=_e>>>13,_e&=8191,_e+=J*Te,_e+=W*(5*je),_e+=Z*(5*Re),_e+=Q*(5*Ce),_e+=pe*(5*Ge),fe+=_e>>>13,_e&=8191,we=fe,we+=de*Ge,we+=he*$e,we+=ne*Ne,we+=R*_,we+=H*De,fe=we>>>13,we&=8191,we+=J*Ie,we+=W*Te,we+=Z*(5*je),we+=Q*(5*Re),we+=pe*(5*Ce),fe+=we>>>13,we&=8191,ue=fe,ue+=de*Ce,ue+=he*Ge,ue+=ne*$e,ue+=R*Ne,ue+=H*_,fe=ue>>>13,ue&=8191,ue+=J*De,ue+=W*Ie,ue+=Z*Te,ue+=Q*(5*je),ue+=pe*(5*Re),fe+=ue>>>13,ue&=8191,ge=fe,ge+=de*Re,ge+=he*Ce,ge+=ne*Ge,ge+=R*$e,ge+=H*Ne,fe=ge>>>13,ge&=8191,ge+=J*_,ge+=W*De,ge+=Z*Ie,ge+=Q*Te,ge+=pe*(5*je),fe+=ge>>>13,ge&=8191,ae=fe,ae+=de*je,ae+=he*Re,ae+=ne*Ce,ae+=R*Ge,ae+=H*$e,fe=ae>>>13,ae&=8191,ae+=J*Ne,ae+=W*_,ae+=Z*De,ae+=Q*Ie,ae+=pe*Te,fe+=ae>>>13,ae&=8191,fe=(fe<<2)+fe|0,fe=fe+me|0,me=fe&8191,fe=fe>>>13,ve+=fe,de=me,he=ve,ne=Pe,R=Se,H=Ee,J=_e,W=we,Z=ue,Q=ge,pe=ae,b+=16,x-=16;this.h[0]=de,this.h[1]=he,this.h[2]=ne,this.h[3]=R,this.h[4]=H,this.h[5]=J,this.h[6]=W,this.h[7]=Z,this.h[8]=Q,this.h[9]=pe},X.prototype.finish=function(d,b){var x=new Uint16Array(10),f,p,F,k;if(this.leftover){for(k=this.leftover,this.buffer[k++]=1;k<16;k++)this.buffer[k]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(f=this.h[1]>>>13,this.h[1]&=8191,k=2;k<10;k++)this.h[k]+=f,f=this.h[k]>>>13,this.h[k]&=8191;for(this.h[0]+=f*5,f=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=f,f=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=f,x[0]=this.h[0]+5,f=x[0]>>>13,x[0]&=8191,k=1;k<10;k++)x[k]=this.h[k]+f,f=x[k]>>>13,x[k]&=8191;for(x[9]-=8192,p=(f^1)-1,k=0;k<10;k++)x[k]&=p;for(p=~p,k=0;k<10;k++)this.h[k]=this.h[k]&p|x[k];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,F=this.h[0]+this.pad[0],this.h[0]=F&65535,k=1;k<8;k++)F=(this.h[k]+this.pad[k]|0)+(F>>>16)|0,this.h[k]=F&65535;d[b+0]=this.h[0]>>>0&255,d[b+1]=this.h[0]>>>8&255,d[b+2]=this.h[1]>>>0&255,d[b+3]=this.h[1]>>>8&255,d[b+4]=this.h[2]>>>0&255,d[b+5]=this.h[2]>>>8&255,d[b+6]=this.h[3]>>>0&255,d[b+7]=this.h[3]>>>8&255,d[b+8]=this.h[4]>>>0&255,d[b+9]=this.h[4]>>>8&255,d[b+10]=this.h[5]>>>0&255,d[b+11]=this.h[5]>>>8&255,d[b+12]=this.h[6]>>>0&255,d[b+13]=this.h[6]>>>8&255,d[b+14]=this.h[7]>>>0&255,d[b+15]=this.h[7]>>>8&255},X.prototype.update=function(d,b,x){var f,p;if(this.leftover){for(p=16-this.leftover,p>x&&(p=x),f=0;f<p;f++)this.buffer[this.leftover+f]=d[b+f];if(x-=p,b+=p,this.leftover+=p,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(x>=16&&(p=x-x%16,this.blocks(d,b,p),b+=p,x-=p),x){for(f=0;f<x;f++)this.buffer[this.leftover+f]=d[b+f];this.leftover+=x}};function T(d,b,x,f,p,F){var k=new X(F);return k.update(x,f,p),k.finish(d,b),0}function I(d,b,x,f,p,F){var k=new Uint8Array(16);return T(k,0,x,f,p,F),M(d,b,k,0)}function m(d,b,x,f,p){var F;if(x<32)return-1;for(z(d,0,b,0,x,f,p),T(d,16,d,32,x-32,d),F=0;F<16;F++)d[F]=0;return 0}function B(d,b,x,f,p){var F,k=new Uint8Array(32);if(x<32||(L(k,0,32,f,p),I(b,16,b,32,x-32,k)!==0))return-1;for(z(d,0,b,0,x,f,p),F=0;F<32;F++)d[F]=0;return 0}function $(d,b){var x;for(x=0;x<16;x++)d[x]=b[x]|0}function K(d){var b,x,f=1;for(b=0;b<16;b++)x=d[b]+f+65535,f=Math.floor(x/65536),d[b]=x-f*65536;d[0]+=f-1+37*(f-1)}function te(d,b,x){for(var f,p=~(x-1),F=0;F<16;F++)f=p&(d[F]^b[F]),d[F]^=f,b[F]^=f}function ce(d,b){var x,f,p,F=r(),k=r();for(x=0;x<16;x++)k[x]=b[x];for(K(k),K(k),K(k),f=0;f<2;f++){for(F[0]=k[0]-65517,x=1;x<15;x++)F[x]=k[x]-65535-(F[x-1]>>16&1),F[x-1]&=65535;F[15]=k[15]-32767-(F[14]>>16&1),p=F[15]>>16&1,F[14]&=65535,te(k,F,1-p)}for(x=0;x<16;x++)d[2*x]=k[x]&255,d[2*x+1]=k[x]>>8}function Fe(d,b){var x=new Uint8Array(32),f=new Uint8Array(32);return ce(x,d),ce(f,b),G(x,0,f,0)}function Ve(d){var b=new Uint8Array(32);return ce(b,d),b[0]&1}function N(d,b){var x;for(x=0;x<16;x++)d[x]=b[2*x]+(b[2*x+1]<<8);d[15]&=32767}function C(d,b,x){for(var f=0;f<16;f++)d[f]=b[f]+x[f]}function j(d,b,x){for(var f=0;f<16;f++)d[f]=b[f]-x[f]}function Y(d,b,x){var f,p,F=0,k=0,q=0,ee=0,xe=0,ie=0,He=0,fe=0,me=0,ve=0,Pe=0,Se=0,Ee=0,_e=0,we=0,ue=0,ge=0,ae=0,de=0,he=0,ne=0,R=0,H=0,J=0,W=0,Z=0,Q=0,pe=0,Te=0,Ie=0,De=0,_=x[0],Ne=x[1],$e=x[2],Ge=x[3],Ce=x[4],Re=x[5],je=x[6],lt=x[7],Ze=x[8],it=x[9],at=x[10],ot=x[11],At=x[12],Ct=x[13],Ft=x[14],Nt=x[15];f=b[0],F+=f*_,k+=f*Ne,q+=f*$e,ee+=f*Ge,xe+=f*Ce,ie+=f*Re,He+=f*je,fe+=f*lt,me+=f*Ze,ve+=f*it,Pe+=f*at,Se+=f*ot,Ee+=f*At,_e+=f*Ct,we+=f*Ft,ue+=f*Nt,f=b[1],k+=f*_,q+=f*Ne,ee+=f*$e,xe+=f*Ge,ie+=f*Ce,He+=f*Re,fe+=f*je,me+=f*lt,ve+=f*Ze,Pe+=f*it,Se+=f*at,Ee+=f*ot,_e+=f*At,we+=f*Ct,ue+=f*Ft,ge+=f*Nt,f=b[2],q+=f*_,ee+=f*Ne,xe+=f*$e,ie+=f*Ge,He+=f*Ce,fe+=f*Re,me+=f*je,ve+=f*lt,Pe+=f*Ze,Se+=f*it,Ee+=f*at,_e+=f*ot,we+=f*At,ue+=f*Ct,ge+=f*Ft,ae+=f*Nt,f=b[3],ee+=f*_,xe+=f*Ne,ie+=f*$e,He+=f*Ge,fe+=f*Ce,me+=f*Re,ve+=f*je,Pe+=f*lt,Se+=f*Ze,Ee+=f*it,_e+=f*at,we+=f*ot,ue+=f*At,ge+=f*Ct,ae+=f*Ft,de+=f*Nt,f=b[4],xe+=f*_,ie+=f*Ne,He+=f*$e,fe+=f*Ge,me+=f*Ce,ve+=f*Re,Pe+=f*je,Se+=f*lt,Ee+=f*Ze,_e+=f*it,we+=f*at,ue+=f*ot,ge+=f*At,ae+=f*Ct,de+=f*Ft,he+=f*Nt,f=b[5],ie+=f*_,He+=f*Ne,fe+=f*$e,me+=f*Ge,ve+=f*Ce,Pe+=f*Re,Se+=f*je,Ee+=f*lt,_e+=f*Ze,we+=f*it,ue+=f*at,ge+=f*ot,ae+=f*At,de+=f*Ct,he+=f*Ft,ne+=f*Nt,f=b[6],He+=f*_,fe+=f*Ne,me+=f*$e,ve+=f*Ge,Pe+=f*Ce,Se+=f*Re,Ee+=f*je,_e+=f*lt,we+=f*Ze,ue+=f*it,ge+=f*at,ae+=f*ot,de+=f*At,he+=f*Ct,ne+=f*Ft,R+=f*Nt,f=b[7],fe+=f*_,me+=f*Ne,ve+=f*$e,Pe+=f*Ge,Se+=f*Ce,Ee+=f*Re,_e+=f*je,we+=f*lt,ue+=f*Ze,ge+=f*it,ae+=f*at,de+=f*ot,he+=f*At,ne+=f*Ct,R+=f*Ft,H+=f*Nt,f=b[8],me+=f*_,ve+=f*Ne,Pe+=f*$e,Se+=f*Ge,Ee+=f*Ce,_e+=f*Re,we+=f*je,ue+=f*lt,ge+=f*Ze,ae+=f*it,de+=f*at,he+=f*ot,ne+=f*At,R+=f*Ct,H+=f*Ft,J+=f*Nt,f=b[9],ve+=f*_,Pe+=f*Ne,Se+=f*$e,Ee+=f*Ge,_e+=f*Ce,we+=f*Re,ue+=f*je,ge+=f*lt,ae+=f*Ze,de+=f*it,he+=f*at,ne+=f*ot,R+=f*At,H+=f*Ct,J+=f*Ft,W+=f*Nt,f=b[10],Pe+=f*_,Se+=f*Ne,Ee+=f*$e,_e+=f*Ge,we+=f*Ce,ue+=f*Re,ge+=f*je,ae+=f*lt,de+=f*Ze,he+=f*it,ne+=f*at,R+=f*ot,H+=f*At,J+=f*Ct,W+=f*Ft,Z+=f*Nt,f=b[11],Se+=f*_,Ee+=f*Ne,_e+=f*$e,we+=f*Ge,ue+=f*Ce,ge+=f*Re,ae+=f*je,de+=f*lt,he+=f*Ze,ne+=f*it,R+=f*at,H+=f*ot,J+=f*At,W+=f*Ct,Z+=f*Ft,Q+=f*Nt,f=b[12],Ee+=f*_,_e+=f*Ne,we+=f*$e,ue+=f*Ge,ge+=f*Ce,ae+=f*Re,de+=f*je,he+=f*lt,ne+=f*Ze,R+=f*it,H+=f*at,J+=f*ot,W+=f*At,Z+=f*Ct,Q+=f*Ft,pe+=f*Nt,f=b[13],_e+=f*_,we+=f*Ne,ue+=f*$e,ge+=f*Ge,ae+=f*Ce,de+=f*Re,he+=f*je,ne+=f*lt,R+=f*Ze,H+=f*it,J+=f*at,W+=f*ot,Z+=f*At,Q+=f*Ct,pe+=f*Ft,Te+=f*Nt,f=b[14],we+=f*_,ue+=f*Ne,ge+=f*$e,ae+=f*Ge,de+=f*Ce,he+=f*Re,ne+=f*je,R+=f*lt,H+=f*Ze,J+=f*it,W+=f*at,Z+=f*ot,Q+=f*At,pe+=f*Ct,Te+=f*Ft,Ie+=f*Nt,f=b[15],ue+=f*_,ge+=f*Ne,ae+=f*$e,de+=f*Ge,he+=f*Ce,ne+=f*Re,R+=f*je,H+=f*lt,J+=f*Ze,W+=f*it,Z+=f*at,Q+=f*ot,pe+=f*At,Te+=f*Ct,Ie+=f*Ft,De+=f*Nt,F+=38*ge,k+=38*ae,q+=38*de,ee+=38*he,xe+=38*ne,ie+=38*R,He+=38*H,fe+=38*J,me+=38*W,ve+=38*Z,Pe+=38*Q,Se+=38*pe,Ee+=38*Te,_e+=38*Ie,we+=38*De,p=1,f=F+p+65535,p=Math.floor(f/65536),F=f-p*65536,f=k+p+65535,p=Math.floor(f/65536),k=f-p*65536,f=q+p+65535,p=Math.floor(f/65536),q=f-p*65536,f=ee+p+65535,p=Math.floor(f/65536),ee=f-p*65536,f=xe+p+65535,p=Math.floor(f/65536),xe=f-p*65536,f=ie+p+65535,p=Math.floor(f/65536),ie=f-p*65536,f=He+p+65535,p=Math.floor(f/65536),He=f-p*65536,f=fe+p+65535,p=Math.floor(f/65536),fe=f-p*65536,f=me+p+65535,p=Math.floor(f/65536),me=f-p*65536,f=ve+p+65535,p=Math.floor(f/65536),ve=f-p*65536,f=Pe+p+65535,p=Math.floor(f/65536),Pe=f-p*65536,f=Se+p+65535,p=Math.floor(f/65536),Se=f-p*65536,f=Ee+p+65535,p=Math.floor(f/65536),Ee=f-p*65536,f=_e+p+65535,p=Math.floor(f/65536),_e=f-p*65536,f=we+p+65535,p=Math.floor(f/65536),we=f-p*65536,f=ue+p+65535,p=Math.floor(f/65536),ue=f-p*65536,F+=p-1+37*(p-1),p=1,f=F+p+65535,p=Math.floor(f/65536),F=f-p*65536,f=k+p+65535,p=Math.floor(f/65536),k=f-p*65536,f=q+p+65535,p=Math.floor(f/65536),q=f-p*65536,f=ee+p+65535,p=Math.floor(f/65536),ee=f-p*65536,f=xe+p+65535,p=Math.floor(f/65536),xe=f-p*65536,f=ie+p+65535,p=Math.floor(f/65536),ie=f-p*65536,f=He+p+65535,p=Math.floor(f/65536),He=f-p*65536,f=fe+p+65535,p=Math.floor(f/65536),fe=f-p*65536,f=me+p+65535,p=Math.floor(f/65536),me=f-p*65536,f=ve+p+65535,p=Math.floor(f/65536),ve=f-p*65536,f=Pe+p+65535,p=Math.floor(f/65536),Pe=f-p*65536,f=Se+p+65535,p=Math.floor(f/65536),Se=f-p*65536,f=Ee+p+65535,p=Math.floor(f/65536),Ee=f-p*65536,f=_e+p+65535,p=Math.floor(f/65536),_e=f-p*65536,f=we+p+65535,p=Math.floor(f/65536),we=f-p*65536,f=ue+p+65535,p=Math.floor(f/65536),ue=f-p*65536,F+=p-1+37*(p-1),d[0]=F,d[1]=k,d[2]=q,d[3]=ee,d[4]=xe,d[5]=ie,d[6]=He,d[7]=fe,d[8]=me,d[9]=ve,d[10]=Pe,d[11]=Se,d[12]=Ee,d[13]=_e,d[14]=we,d[15]=ue}function re(d,b){Y(d,b,b)}function le(d,b){var x=r(),f;for(f=0;f<16;f++)x[f]=b[f];for(f=253;f>=0;f--)re(x,x),f!==2&&f!==4&&Y(x,x,b);for(f=0;f<16;f++)d[f]=x[f]}function oe(d,b){var x=r(),f;for(f=0;f<16;f++)x[f]=b[f];for(f=250;f>=0;f--)re(x,x),f!==1&&Y(x,x,b);for(f=0;f<16;f++)d[f]=x[f]}function se(d,b,x){var f=new Uint8Array(32),p=new Float64Array(80),F,k,q=r(),ee=r(),xe=r(),ie=r(),He=r(),fe=r();for(k=0;k<31;k++)f[k]=b[k];for(f[31]=b[31]&127|64,f[0]&=248,N(p,x),k=0;k<16;k++)ee[k]=p[k],ie[k]=q[k]=xe[k]=0;for(q[0]=ie[0]=1,k=254;k>=0;--k)F=f[k>>>3]>>>(k&7)&1,te(q,ee,F),te(xe,ie,F),C(He,q,xe),j(q,q,xe),C(xe,ee,ie),j(ee,ee,ie),re(ie,He),re(fe,q),Y(q,xe,q),Y(xe,ee,He),C(He,q,xe),j(q,q,xe),re(ee,q),j(xe,ie,fe),Y(q,xe,c),C(q,q,ie),Y(xe,xe,q),Y(q,ie,fe),Y(ie,ee,p),re(ee,He),te(q,ee,F),te(xe,ie,F);for(k=0;k<16;k++)p[k+16]=q[k],p[k+32]=xe[k],p[k+48]=ee[k],p[k+64]=ie[k];var me=p.subarray(32),ve=p.subarray(16);return le(me,me),Y(ve,ve,me),ce(d,ve),0}function be(d,b){return se(d,b,a)}function Ae(d,b){return n(b,32),be(d,b)}function Me(d,b,x){var f=new Uint8Array(32);return se(f,x,b),A(d,i,f,S)}var Ke=m,Ot=B;function zt(d,b,x,f,p,F){var k=new Uint8Array(32);return Me(k,p,F),Ke(d,b,x,f,k)}function cr(d,b,x,f,p,F){var k=new Uint8Array(32);return Me(k,p,F),Ot(d,b,x,f,k)}var mr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Dr(d,b,x,f){for(var p=new Int32Array(16),F=new Int32Array(16),k,q,ee,xe,ie,He,fe,me,ve,Pe,Se,Ee,_e,we,ue,ge,ae,de,he,ne,R,H,J,W,Z,Q,pe=d[0],Te=d[1],Ie=d[2],De=d[3],_=d[4],Ne=d[5],$e=d[6],Ge=d[7],Ce=b[0],Re=b[1],je=b[2],lt=b[3],Ze=b[4],it=b[5],at=b[6],ot=b[7],At=0;f>=128;){for(he=0;he<16;he++)ne=8*he+At,p[he]=x[ne+0]<<24|x[ne+1]<<16|x[ne+2]<<8|x[ne+3],F[he]=x[ne+4]<<24|x[ne+5]<<16|x[ne+6]<<8|x[ne+7];for(he=0;he<80;he++)if(k=pe,q=Te,ee=Ie,xe=De,ie=_,He=Ne,fe=$e,me=Ge,ve=Ce,Pe=Re,Se=je,Ee=lt,_e=Ze,we=it,ue=at,ge=ot,R=Ge,H=ot,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=(_>>>14|Ze<<32-14)^(_>>>18|Ze<<32-18)^(Ze>>>41-32|_<<32-(41-32)),H=(Ze>>>14|_<<32-14)^(Ze>>>18|_<<32-18)^(_>>>41-32|Ze<<32-(41-32)),J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,R=_&Ne^~_&$e,H=Ze&it^~Ze&at,J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,R=mr[he*2],H=mr[he*2+1],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,R=p[he%16],H=F[he%16],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,ae=Z&65535|Q<<16,de=J&65535|W<<16,R=ae,H=de,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=(pe>>>28|Ce<<32-28)^(Ce>>>34-32|pe<<32-(34-32))^(Ce>>>39-32|pe<<32-(39-32)),H=(Ce>>>28|pe<<32-28)^(pe>>>34-32|Ce<<32-(34-32))^(pe>>>39-32|Ce<<32-(39-32)),J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,R=pe&Te^pe&Ie^Te&Ie,H=Ce&Re^Ce&je^Re&je,J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,me=Z&65535|Q<<16,ge=J&65535|W<<16,R=xe,H=Ee,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=ae,H=de,J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,xe=Z&65535|Q<<16,Ee=J&65535|W<<16,Te=k,Ie=q,De=ee,_=xe,Ne=ie,$e=He,Ge=fe,pe=me,Re=ve,je=Pe,lt=Se,Ze=Ee,it=_e,at=we,ot=ue,Ce=ge,he%16===15)for(ne=0;ne<16;ne++)R=p[ne],H=F[ne],J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=p[(ne+9)%16],H=F[(ne+9)%16],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,ae=p[(ne+1)%16],de=F[(ne+1)%16],R=(ae>>>1|de<<32-1)^(ae>>>8|de<<32-8)^ae>>>7,H=(de>>>1|ae<<32-1)^(de>>>8|ae<<32-8)^(de>>>7|ae<<32-7),J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,ae=p[(ne+14)%16],de=F[(ne+14)%16],R=(ae>>>19|de<<32-19)^(de>>>61-32|ae<<32-(61-32))^ae>>>6,H=(de>>>19|ae<<32-19)^(ae>>>61-32|de<<32-(61-32))^(de>>>6|ae<<32-6),J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,p[ne]=Z&65535|Q<<16,F[ne]=J&65535|W<<16;R=pe,H=Ce,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[0],H=b[0],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[0]=pe=Z&65535|Q<<16,b[0]=Ce=J&65535|W<<16,R=Te,H=Re,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[1],H=b[1],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[1]=Te=Z&65535|Q<<16,b[1]=Re=J&65535|W<<16,R=Ie,H=je,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[2],H=b[2],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[2]=Ie=Z&65535|Q<<16,b[2]=je=J&65535|W<<16,R=De,H=lt,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[3],H=b[3],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[3]=De=Z&65535|Q<<16,b[3]=lt=J&65535|W<<16,R=_,H=Ze,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[4],H=b[4],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[4]=_=Z&65535|Q<<16,b[4]=Ze=J&65535|W<<16,R=Ne,H=it,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[5],H=b[5],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[5]=Ne=Z&65535|Q<<16,b[5]=it=J&65535|W<<16,R=$e,H=at,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[6],H=b[6],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[6]=$e=Z&65535|Q<<16,b[6]=at=J&65535|W<<16,R=Ge,H=ot,J=H&65535,W=H>>>16,Z=R&65535,Q=R>>>16,R=d[7],H=b[7],J+=H&65535,W+=H>>>16,Z+=R&65535,Q+=R>>>16,W+=J>>>16,Z+=W>>>16,Q+=Z>>>16,d[7]=Ge=Z&65535|Q<<16,b[7]=ot=J&65535|W<<16,At+=128,f-=128}return f}function V(d,b,x){var f=new Int32Array(8),p=new Int32Array(8),F=new Uint8Array(256),k,q=x;for(f[0]=1779033703,f[1]=3144134277,f[2]=1013904242,f[3]=2773480762,f[4]=1359893119,f[5]=2600822924,f[6]=528734635,f[7]=1541459225,p[0]=4089235720,p[1]=2227873595,p[2]=4271175723,p[3]=1595750129,p[4]=2917565137,p[5]=725511199,p[6]=4215389547,p[7]=327033209,Dr(f,p,b,x),x%=128,k=0;k<x;k++)F[k]=b[q-x+k];for(F[x]=128,x=256-128*(x<112?1:0),F[x-9]=0,O(F,x-8,q/536870912|0,q<<3),Dr(f,p,F,x),k=0;k<8;k++)O(d,8*k,f[k],p[k]);return 0}function tt(d,b){var x=r(),f=r(),p=r(),F=r(),k=r(),q=r(),ee=r(),xe=r(),ie=r();j(x,d[1],d[0]),j(ie,b[1],b[0]),Y(x,x,ie),C(f,d[0],d[1]),C(ie,b[0],b[1]),Y(f,f,ie),Y(p,d[3],b[3]),Y(p,p,h),Y(F,d[2],b[2]),C(F,F,F),j(k,f,x),j(q,F,p),C(ee,F,p),C(xe,f,x),Y(d[0],k,q),Y(d[1],xe,ee),Y(d[2],ee,q),Y(d[3],k,xe)}function xt(d,b,x){var f;for(f=0;f<4;f++)te(d[f],b[f],x)}function bt(d,b){var x=r(),f=r(),p=r();le(p,b[2]),Y(x,b[0],p),Y(f,b[1],p),ce(d,f),d[31]^=Ve(x)<<7}function gt(d,b,x){var f,p;for($(d[0],s),$(d[1],o),$(d[2],o),$(d[3],s),p=255;p>=0;--p)f=x[p/8|0]>>(p&7)&1,xt(d,b,f),tt(b,d),tt(d,d),xt(d,b,f)}function ct(d,b){var x=[r(),r(),r(),r()];$(x[0],g),$(x[1],y),$(x[2],o),Y(x[3],g,y),gt(d,x,b)}function yt(d,b,x){var f=new Uint8Array(64),p=[r(),r(),r(),r()],F;for(x||n(b,32),V(f,b,32),f[0]&=248,f[31]&=127,f[31]|=64,ct(p,f),bt(d,p),F=0;F<32;F++)b[F+32]=d[F];return 0}var ut=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function pt(d,b){var x,f,p,F;for(f=63;f>=32;--f){for(x=0,p=f-32,F=f-12;p<F;++p)b[p]+=x-16*b[f]*ut[p-(f-32)],x=Math.floor((b[p]+128)/256),b[p]-=x*256;b[p]+=x,b[f]=0}for(x=0,p=0;p<32;p++)b[p]+=x-(b[31]>>4)*ut[p],x=b[p]>>8,b[p]&=255;for(p=0;p<32;p++)b[p]-=x*ut[p];for(f=0;f<32;f++)b[f+1]+=b[f]>>8,d[f]=b[f]&255}function mt(d){var b=new Float64Array(64),x;for(x=0;x<64;x++)b[x]=d[x];for(x=0;x<64;x++)d[x]=0;pt(d,b)}function _t(d,b,x,f){var p=new Uint8Array(64),F=new Uint8Array(64),k=new Uint8Array(64),q,ee,xe=new Float64Array(64),ie=[r(),r(),r(),r()];V(p,f,32),p[0]&=248,p[31]&=127,p[31]|=64;var He=x+64;for(q=0;q<x;q++)d[64+q]=b[q];for(q=0;q<32;q++)d[32+q]=p[32+q];for(V(k,d.subarray(32),x+32),mt(k),ct(ie,k),bt(d,ie),q=32;q<64;q++)d[q]=f[q];for(V(F,d,x+64),mt(F),q=0;q<64;q++)xe[q]=0;for(q=0;q<32;q++)xe[q]=k[q];for(q=0;q<32;q++)for(ee=0;ee<32;ee++)xe[q+ee]+=F[q]*p[ee];return pt(d.subarray(32),xe),He}function St(d,b){var x=r(),f=r(),p=r(),F=r(),k=r(),q=r(),ee=r();return $(d[2],o),N(d[1],b),re(p,d[1]),Y(F,p,l),j(p,p,d[2]),C(F,d[2],F),re(k,F),re(q,k),Y(ee,q,k),Y(x,ee,p),Y(x,x,F),oe(x,x),Y(x,x,p),Y(x,x,F),Y(x,x,F),Y(d[0],x,F),re(f,d[0]),Y(f,f,F),Fe(f,p)&&Y(d[0],d[0],w),re(f,d[0]),Y(f,f,F),Fe(f,p)?-1:(Ve(d[0])===b[31]>>7&&j(d[0],s,d[0]),Y(d[3],d[0],d[1]),0)}function vt(d,b,x,f){var p,F=new Uint8Array(32),k=new Uint8Array(64),q=[r(),r(),r(),r()],ee=[r(),r(),r(),r()];if(x<64||St(ee,f))return-1;for(p=0;p<x;p++)d[p]=b[p];for(p=0;p<32;p++)d[p+32]=f[p];if(V(k,d,x),mt(k),gt(q,ee,k),ct(ee,b.subarray(32)),tt(q,ee),bt(F,q),x-=64,G(b,0,F,0)){for(p=0;p<x;p++)d[p]=0;return-1}for(p=0;p<x;p++)d[p]=b[p+64];return x}var Et=32,dt=24,nt=32,rt=16,Bn=32,ei=32,On=32,Cn=32,Wi=32,Ho=dt,Ec=nt,wc=rt,vr=64,$r=32,cn=64,qi=32,Zi=64;e.lowlevel={crypto_core_hsalsa20:A,crypto_stream_xor:z,crypto_stream:L,crypto_stream_salsa20_xor:u,crypto_stream_salsa20:E,crypto_onetimeauth:T,crypto_onetimeauth_verify:I,crypto_verify_16:M,crypto_verify_32:G,crypto_secretbox:m,crypto_secretbox_open:B,crypto_scalarmult:se,crypto_scalarmult_base:be,crypto_box_beforenm:Me,crypto_box_afternm:Ke,crypto_box:zt,crypto_box_open:cr,crypto_box_keypair:Ae,crypto_hash:V,crypto_sign:_t,crypto_sign_keypair:yt,crypto_sign_open:vt,crypto_secretbox_KEYBYTES:Et,crypto_secretbox_NONCEBYTES:dt,crypto_secretbox_ZEROBYTES:nt,crypto_secretbox_BOXZEROBYTES:rt,crypto_scalarmult_BYTES:Bn,crypto_scalarmult_SCALARBYTES:ei,crypto_box_PUBLICKEYBYTES:On,crypto_box_SECRETKEYBYTES:Cn,crypto_box_BEFORENMBYTES:Wi,crypto_box_NONCEBYTES:Ho,crypto_box_ZEROBYTES:Ec,crypto_box_BOXZEROBYTES:wc,crypto_sign_BYTES:vr,crypto_sign_PUBLICKEYBYTES:$r,crypto_sign_SECRETKEYBYTES:cn,crypto_sign_SEEDBYTES:qi,crypto_hash_BYTES:Zi,gf:r,D:l,L:ut,pack25519:ce,unpack25519:N,M:Y,A:C,S:re,Z:j,pow2523:oe,add:tt,set25519:$,modL:pt,scalarmult:gt,scalarbase:ct};function $o(d,b){if(d.length!==Et)throw new Error("bad key size");if(b.length!==dt)throw new Error("bad nonce size")}function _c(d,b){if(d.length!==On)throw new Error("bad public key size");if(b.length!==Cn)throw new Error("bad secret key size")}function Vt(){for(var d=0;d<arguments.length;d++)if(!(arguments[d]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Go(d){for(var b=0;b<d.length;b++)d[b]=0}e.randomBytes=function(d){var b=new Uint8Array(d);return n(b,d),b},e.secretbox=function(d,b,x){Vt(d,b,x),$o(x,b);for(var f=new Uint8Array(nt+d.length),p=new Uint8Array(f.length),F=0;F<d.length;F++)f[F+nt]=d[F];return m(p,f,f.length,b,x),p.subarray(rt)},e.secretbox.open=function(d,b,x){Vt(d,b,x),$o(x,b);for(var f=new Uint8Array(rt+d.length),p=new Uint8Array(f.length),F=0;F<d.length;F++)f[F+rt]=d[F];return f.length<32||B(p,f,f.length,b,x)!==0?null:p.subarray(nt)},e.secretbox.keyLength=Et,e.secretbox.nonceLength=dt,e.secretbox.overheadLength=rt,e.scalarMult=function(d,b){if(Vt(d,b),d.length!==ei)throw new Error("bad n size");if(b.length!==Bn)throw new Error("bad p size");var x=new Uint8Array(Bn);return se(x,d,b),x},e.scalarMult.base=function(d){if(Vt(d),d.length!==ei)throw new Error("bad n size");var b=new Uint8Array(Bn);return be(b,d),b},e.scalarMult.scalarLength=ei,e.scalarMult.groupElementLength=Bn,e.box=function(d,b,x,f){var p=e.box.before(x,f);return e.secretbox(d,b,p)},e.box.before=function(d,b){Vt(d,b),_c(d,b);var x=new Uint8Array(Wi);return Me(x,d,b),x},e.box.after=e.secretbox,e.box.open=function(d,b,x,f){var p=e.box.before(x,f);return e.secretbox.open(d,b,p)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var d=new Uint8Array(On),b=new Uint8Array(Cn);return Ae(d,b),{publicKey:d,secretKey:b}},e.box.keyPair.fromSecretKey=function(d){if(Vt(d),d.length!==Cn)throw new Error("bad secret key size");var b=new Uint8Array(On);return be(b,d),{publicKey:b,secretKey:new Uint8Array(d)}},e.box.publicKeyLength=On,e.box.secretKeyLength=Cn,e.box.sharedKeyLength=Wi,e.box.nonceLength=Ho,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(d,b){if(Vt(d,b),b.length!==cn)throw new Error("bad secret key size");var x=new Uint8Array(vr+d.length);return _t(x,d,d.length,b),x},e.sign.open=function(d,b){if(Vt(d,b),b.length!==$r)throw new Error("bad public key size");var x=new Uint8Array(d.length),f=vt(x,d,d.length,b);if(f<0)return null;for(var p=new Uint8Array(f),F=0;F<p.length;F++)p[F]=x[F];return p},e.sign.detached=function(d,b){for(var x=e.sign(d,b),f=new Uint8Array(vr),p=0;p<f.length;p++)f[p]=x[p];return f},e.sign.detached.verify=function(d,b,x){if(Vt(d,b,x),b.length!==vr)throw new Error("bad signature size");if(x.length!==$r)throw new Error("bad public key size");var f=new Uint8Array(vr+d.length),p=new Uint8Array(vr+d.length),F;for(F=0;F<vr;F++)f[F]=b[F];for(F=0;F<d.length;F++)f[F+vr]=d[F];return vt(p,f,f.length,x)>=0},e.sign.keyPair=function(){var d=new Uint8Array($r),b=new Uint8Array(cn);return yt(d,b),{publicKey:d,secretKey:b}},e.sign.keyPair.fromSecretKey=function(d){if(Vt(d),d.length!==cn)throw new Error("bad secret key size");for(var b=new Uint8Array($r),x=0;x<b.length;x++)b[x]=d[32+x];return{publicKey:b,secretKey:new Uint8Array(d)}},e.sign.keyPair.fromSeed=function(d){if(Vt(d),d.length!==qi)throw new Error("bad seed size");for(var b=new Uint8Array($r),x=new Uint8Array(cn),f=0;f<32;f++)x[f]=d[f];return yt(b,x,!0),{publicKey:b,secretKey:x}},e.sign.publicKeyLength=$r,e.sign.secretKeyLength=cn,e.sign.seedLength=qi,e.sign.signatureLength=vr,e.hash=function(d){Vt(d);var b=new Uint8Array(Zi);return V(b,d,d.length),b},e.hash.hashLength=Zi,e.verify=function(d,b){return Vt(d,b),d.length===0||b.length===0||d.length!==b.length?!1:U(d,0,b,0,d.length)===0},e.setPRNG=function(d){n=d},function(){var d=typeof self<"u"?self.crypto||self.msCrypto:null;if(d&&d.getRandomValues){var b=65536;e.setPRNG(function(x,f){var p,F=new Uint8Array(f);for(p=0;p<f;p+=b)d.getRandomValues(F.subarray(p,p+Math.min(f-p,b)));for(p=0;p<f;p++)x[p]=F[p];Go(F)})}else typeof Ia<"u"&&(d=Fr,d&&d.randomBytes&&e.setPRNG(function(x,f){var p,F=d.randomBytes(f);for(p=0;p<f;p++)x[p]=F[p];Go(F)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(G0);var a1=G0.exports,z0={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())})(ze,function(){var e={};function r(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var i,a=unescape(encodeURIComponent(n)),s=new Uint8Array(a.length);for(i=0;i<a.length;i++)s[i]=a.charCodeAt(i);return s},e.encodeUTF8=function(n){var i,a=[];for(i=0;i<n.length;i++)a.push(String.fromCharCode(n[i]));return decodeURIComponent(escape(a.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(n){return Buffer.from(n).toString("base64")},e.decodeBase64=function(n){return r(n),new Uint8Array(Array.prototype.slice.call(Buffer.from(n,"base64"),0))}):(e.encodeBase64=function(n){return new Buffer(n).toString("base64")},e.decodeBase64=function(n){return r(n),new Uint8Array(Array.prototype.slice.call(new Buffer(n,"base64"),0))}):(e.encodeBase64=function(n){var i,a=[],s=n.length;for(i=0;i<s;i++)a.push(String.fromCharCode(n[i]));return btoa(a.join(""))},e.decodeBase64=function(n){r(n);var i,a=atob(n),s=new Uint8Array(a.length);for(i=0;i<a.length;i++)s[i]=a.charCodeAt(i);return s}),e})})(z0);var o1=z0.exports,s1=ze&&ze.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f1=ze&&ze.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V0=ze&&ze.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&s1(e,t,r);return f1(e,t),e};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getEncryptionPublicKey=Jt.decryptSafely=Jt.decrypt=Jt.encryptSafely=Jt.encrypt=void 0;const Yr=V0(a1),rr=V0(o1),yr=It;function K0({publicKey:t,data:e,version:r}){if((0,yr.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,yr.isNullish)(e))throw new Error("Missing data parameter");if((0,yr.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");const n=Yr.box.keyPair();let i;try{i=rr.decodeBase64(t)}catch{throw new Error("Bad public key")}const a=rr.decodeUTF8(e),s=Yr.randomBytes(Yr.box.nonceLength),o=Yr.box(a,s,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:rr.encodeBase64(s),ephemPublicKey:rr.encodeBase64(n.publicKey),ciphertext:rr.encodeBase64(o)}}default:throw new Error("Encryption type/version not supported")}}Jt.encrypt=K0;function c1({publicKey:t,data:e,version:r}){if((0,yr.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,yr.isNullish)(e))throw new Error("Missing data parameter");if((0,yr.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof e=="object"&&e&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const a={data:e,padding:""},o=Buffer.byteLength(JSON.stringify(a),"utf-8")%n;let c=0;o>0&&(c=n-o-i),a.padding="0".repeat(c);const l=JSON.stringify(a);return K0({publicKey:t,data:l,version:r})}Jt.encryptSafely=c1;function W0({encryptedData:t,privateKey:e}){if((0,yr.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,yr.isNullish)(e))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{const r=q0(e),n=Yr.box.keyPair.fromSecretKey(r).secretKey,i=rr.decodeBase64(t.nonce),a=rr.decodeBase64(t.ciphertext),s=rr.decodeBase64(t.ephemPublicKey),o=Yr.box.open(a,i,s,n);try{if(!o)throw new Error;const c=rr.encodeUTF8(o);if(!c)throw new Error;return c}catch(c){throw c&&typeof c.message=="string"&&c.message.length?new Error(`Decryption failed: ${c.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Jt.decrypt=W0;function u1({encryptedData:t,privateKey:e}){if((0,yr.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,yr.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse(W0({encryptedData:t,privateKey:e})).data}Jt.decryptSafely=u1;function d1(t){const e=q0(t),r=Yr.box.keyPair.fromSecretKey(e).publicKey;return rr.encodeBase64(r)}Jt.getEncryptionPublicKey=d1;function q0(t){const e=Buffer.from(t,"hex").toString("base64");return rr.decodeBase64(e)}(function(t){var e=ze&&ze.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(a,s);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,c)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),r=ze&&ze.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,r(Lr,t),r(O0,t),r(Jt,t);var n=It;Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(Ut);var Tr={},ht={},Z0=Fr,ao=ht.ValidationError=function(e,r,n,i,a,s){if(Array.isArray(i)?(this.path=i,this.property=i.reduce(function(c,l){return c+Y0(l)},"instance")):i!==void 0&&(this.property=i),e&&(this.message=e),n){var o=n.$id||n.id;this.schema=o||n}r!==void 0&&(this.instance=r),this.name=a,this.argument=s,this.stack=this.toString()};ao.prototype.toString=function(){return this.property+" "+this.message};var Ki=ht.ValidatorResult=function(e,r,n,i){this.instance=e,this.schema=r,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&n.disableFormat===!0};Ki.prototype.addError=function(e){var r;if(typeof e=="string")r=new ao(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");r=new ao(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(r),this.throwFirst)throw new an(this);if(this.throwError)throw r;return r};Ki.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))};function l1(t,e){return e+": "+t.toString()+`
`}Ki.prototype.toString=function(e){return this.errors.map(l1).join("")};Object.defineProperty(Ki.prototype,"valid",{get:function(){return!this.errors.length}});ht.ValidatorResultError=an;function an(t){Error.captureStackTrace&&Error.captureStackTrace(this,an),this.instance=t.instance,this.schema=t.schema,this.options=t.options,this.errors=t.errors}an.prototype=new Error;an.prototype.constructor=an;an.prototype.name="Validation Error";var of=ht.SchemaError=function t(e,r){this.message=e,this.schema=r,Error.call(this,e),Error.captureStackTrace(this,t)};of.prototype=Object.create(Error.prototype,{constructor:{value:of,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var oo=ht.SchemaContext=function(e,r,n,i,a){this.schema=e,this.options=r,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce(function(s,o){return s+Y0(o)},"instance")):this.propertyPath=n,this.base=i,this.schemas=a};oo.prototype.resolve=function(e){return Z0.resolve(this.base,e)};oo.prototype.makeChild=function(e,r){var n=r===void 0?this.path:this.path.concat([r]),i=e.$id||e.id,a=Z0.resolve(this.base,i||""),s=new oo(e,this.options,n,a,Object.create(this.schemas));return i&&!s.schemas[a]&&(s.schemas[a]=e),s};var nr=ht.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(t){return typeof t=="string"&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)},regex:function(t){var e=!0;try{new RegExp(t)}catch{e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};nr.regexp=nr.regex;nr.pattern=nr.regex;nr.ipv4=nr["ip-address"];ht.isFormat=function(e,r,n){if(typeof e=="string"&&nr[r]!==void 0){if(nr[r]instanceof RegExp)return nr[r].test(e);if(typeof nr[r]=="function")return nr[r](e)}else if(n&&n.customFormats&&typeof n.customFormats[r]=="function")return n.customFormats[r](e);return!0};var Y0=ht.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};ht.deepCompareStrict=function t(e,r){if(typeof e!=typeof r)return!1;if(Array.isArray(e))return!Array.isArray(r)||e.length!==r.length?!1:e.every(function(a,s){return t(e[s],r[s])});if(typeof e=="object"){if(!e||!r)return e===r;var n=Object.keys(e),i=Object.keys(r);return n.length!==i.length?!1:n.every(function(a){return t(e[a],r[a])})}return e===r};function h1(t,e,r,n){typeof r=="object"?e[n]=Mo(t[n],r):t.indexOf(r)===-1&&e.push(r)}function x1(t,e,r){e[r]=t[r]}function b1(t,e,r,n){typeof e[n]!="object"||!e[n]?r[n]=e[n]:t[n]?r[n]=Mo(t[n],e[n]):r[n]=e[n]}function Mo(t,e){var r=Array.isArray(e),n=r&&[]||{};return r?(t=t||[],n=n.concat(t),e.forEach(h1.bind(null,t,n))):(t&&typeof t=="object"&&Object.keys(t).forEach(x1.bind(null,t,n)),Object.keys(e).forEach(b1.bind(null,t,e,n))),n}ht.deepMerge=Mo;ht.objectGetPath=function(e,r){for(var n=r.split("/").slice(1),i;typeof(i=n.shift())=="string";){var a=decodeURIComponent(i.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e};function g1(t){return"/"+encodeURIComponent(t).replace(/~/g,"%7E")}ht.encodePath=function(e){return e.map(g1).join("")};ht.getDecimalPlaces=function(e){var r=0;if(isNaN(e))return r;typeof e!="number"&&(e=Number(e));var n=e.toString().split("e");if(n.length===2){if(n[1][0]!=="-")return r;r=Number(n[1].slice(1))}var i=n[0].split(".");return i.length===2&&(r+=i[1].length),r};ht.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"};var Zt=ht,We=Zt.ValidatorResult,Hr=Zt.SchemaError,Lo={};Lo.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var qe=Lo.validators={};qe.type=function(e,r,n,i){if(e===void 0)return null;var a=new We(e,r,n,i),s=Array.isArray(r.type)?r.type:[r.type];if(!s.some(this.testType.bind(this,e,r,n,i))){var o=s.map(function(c){if(c){var l=c.$id||c.id;return l?"<"+l+">":c+""}});a.addError({name:"type",argument:o,message:"is not of a type(s) "+o})}return a};function ko(t,e,r,n,i){var a=e.throwError,s=e.throwAll;e.throwError=!1,e.throwAll=!1;var o=this.validateSchema(t,i,e,r);return e.throwError=a,e.throwAll=s,!o.valid&&n instanceof Function&&n(o),o.valid}qe.anyOf=function(e,r,n,i){if(e===void 0)return null;var a=new We(e,r,n,i),s=new We(e,r,n,i);if(!Array.isArray(r.anyOf))throw new Hr("anyOf must be an array");if(!r.anyOf.some(ko.bind(this,e,n,i,function(c){s.importErrors(c)}))){var o=r.anyOf.map(function(c,l){var h=c.$id||c.id;return h?"<"+h+">":c.title&&JSON.stringify(c.title)||c.$ref&&"<"+c.$ref+">"||"[subschema "+l+"]"});n.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:o,message:"is not any of "+o.join(",")})}return a};qe.allOf=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.allOf))throw new Hr("allOf must be an array");var a=new We(e,r,n,i),s=this;return r.allOf.forEach(function(o,c){var l=s.validateSchema(e,o,n,i);if(!l.valid){var h=o.$id||o.id,g=h||o.title&&JSON.stringify(o.title)||o.$ref&&"<"+o.$ref+">"||"[subschema "+c+"]";a.addError({name:"allOf",argument:{id:g,length:l.errors.length,valid:l},message:"does not match allOf schema "+g+" with "+l.errors.length+" error[s]:"}),a.importErrors(l)}}),a};qe.oneOf=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.oneOf))throw new Hr("oneOf must be an array");var a=new We(e,r,n,i),s=new We(e,r,n,i),o=r.oneOf.filter(ko.bind(this,e,n,i,function(l){s.importErrors(l)})).length,c=r.oneOf.map(function(l,h){var g=l.$id||l.id;return g||l.title&&JSON.stringify(l.title)||l.$ref&&"<"+l.$ref+">"||"[subschema "+h+"]"});return o!==1&&(n.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:c,message:"is not exactly one from "+c.join(",")})),a};qe.if=function(e,r,n,i){if(e===void 0)return null;if(!Zt.isSchema(r.if))throw new Error('Expected "if" keyword to be a schema');var a=ko.call(this,e,n,i,null,r.if),s=new We(e,r,n,i),o;if(a){if(r.then===void 0)return;if(!Zt.isSchema(r.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,r.then,n,i.makeChild(r.then)),s.importErrors(o)}else{if(r.else===void 0)return;if(!Zt.isSchema(r.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,r.else,n,i.makeChild(r.else)),s.importErrors(o)}return s};function Uo(t,e){if(Object.hasOwnProperty.call(t,e))return t[e];if(e in t){for(;t=Object.getPrototypeOf(t);)if(Object.propertyIsEnumerable.call(t,e))return t[e]}}qe.propertyNames=function(e,r,n,i){if(this.types.object(e)){var a=new We(e,r,n,i),s=r.propertyNames!==void 0?r.propertyNames:{};if(!Zt.isSchema(s))throw new Hr('Expected "propertyNames" to be a schema (object or boolean)');for(var o in e)if(Uo(e,o)!==void 0){var c=this.validateSchema(o,s,n,i.makeChild(s));a.importErrors(c)}return a}};qe.properties=function(e,r,n,i){if(this.types.object(e)){var a=new We(e,r,n,i),s=r.properties||{};for(var o in s){var c=s[o];if(c!==void 0){if(c===null)throw new Hr('Unexpected null, expected schema in "properties"');typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,o,c,n,i);var l=Uo(e,o),h=this.validateSchema(l,c,n,i.makeChild(c,o));h.instance!==a.instance[o]&&(a.instance[o]=h.instance),a.importErrors(h)}}return a}};function J0(t,e,r,n,i,a){if(this.types.object(t)&&!(e.properties&&e.properties[i]!==void 0))if(e.additionalProperties===!1)a.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var s=e.additionalProperties||{};typeof r.preValidateProperty=="function"&&r.preValidateProperty(t,i,s,r,n);var o=this.validateSchema(t[i],s,r,n.makeChild(s,i));o.instance!==a.instance[i]&&(a.instance[i]=o.instance),a.importErrors(o)}}qe.patternProperties=function(e,r,n,i){if(this.types.object(e)){var a=new We(e,r,n,i),s=r.patternProperties||{};for(var o in e){var c=!0;for(var l in s){var h=s[l];if(h!==void 0){if(h===null)throw new Hr('Unexpected null, expected schema in "patternProperties"');try{var g=new RegExp(l,"u")}catch{g=new RegExp(l)}if(g.test(o)){c=!1,typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,o,h,n,i);var y=this.validateSchema(e[o],h,n,i.makeChild(h,o));y.instance!==a.instance[o]&&(a.instance[o]=y.instance),a.importErrors(y)}}}c&&J0.call(this,e,r,n,i,o,a)}return a}};qe.additionalProperties=function(e,r,n,i){if(this.types.object(e)){if(r.patternProperties)return null;var a=new We(e,r,n,i);for(var s in e)J0.call(this,e,r,n,i,s,a);return a}};qe.minProperties=function(e,r,n,i){if(this.types.object(e)){var a=new We(e,r,n,i),s=Object.keys(e);return s.length>=r.minProperties||a.addError({name:"minProperties",argument:r.minProperties,message:"does not meet minimum property length of "+r.minProperties}),a}};qe.maxProperties=function(e,r,n,i){if(this.types.object(e)){var a=new We(e,r,n,i),s=Object.keys(e);return s.length<=r.maxProperties||a.addError({name:"maxProperties",argument:r.maxProperties,message:"does not meet maximum property length of "+r.maxProperties}),a}};qe.items=function(e,r,n,i){var a=this;if(this.types.array(e)&&r.items!==void 0){var s=new We(e,r,n,i);return e.every(function(o,c){if(Array.isArray(r.items))var l=r.items[c]===void 0?r.additionalItems:r.items[c];else var l=r.items;if(l===void 0)return!0;if(l===!1)return s.addError({name:"items",message:"additionalItems not permitted"}),!1;var h=a.validateSchema(o,l,n,i.makeChild(l,c));return h.instance!==s.instance[c]&&(s.instance[c]=h.instance),s.importErrors(h),!0}),s}};qe.contains=function(e,r,n,i){var a=this;if(this.types.array(e)&&r.contains!==void 0){if(!Zt.isSchema(r.contains))throw new Error('Expected "contains" keyword to be a schema');var s=new We(e,r,n,i),o=e.some(function(c,l){var h=a.validateSchema(c,r.contains,n,i.makeChild(r.contains,l));return h.errors.length===0});return o===!1&&s.addError({name:"contains",argument:r.contains,message:"must contain an item matching given schema"}),s}};qe.minimum=function(e,r,n,i){if(this.types.number(e)){var a=new We(e,r,n,i);return r.exclusiveMinimum&&r.exclusiveMinimum===!0?e>r.minimum||a.addError({name:"minimum",argument:r.minimum,message:"must be greater than "+r.minimum}):e>=r.minimum||a.addError({name:"minimum",argument:r.minimum,message:"must be greater than or equal to "+r.minimum}),a}};qe.maximum=function(e,r,n,i){if(this.types.number(e)){var a=new We(e,r,n,i);return r.exclusiveMaximum&&r.exclusiveMaximum===!0?e<r.maximum||a.addError({name:"maximum",argument:r.maximum,message:"must be less than "+r.maximum}):e<=r.maximum||a.addError({name:"maximum",argument:r.maximum,message:"must be less than or equal to "+r.maximum}),a}};qe.exclusiveMinimum=function(e,r,n,i){if(typeof r.exclusiveMinimum!="boolean"&&this.types.number(e)){var a=new We(e,r,n,i),s=e>r.exclusiveMinimum;return s||a.addError({name:"exclusiveMinimum",argument:r.exclusiveMinimum,message:"must be strictly greater than "+r.exclusiveMinimum}),a}};qe.exclusiveMaximum=function(e,r,n,i){if(typeof r.exclusiveMaximum!="boolean"&&this.types.number(e)){var a=new We(e,r,n,i),s=e<r.exclusiveMaximum;return s||a.addError({name:"exclusiveMaximum",argument:r.exclusiveMaximum,message:"must be strictly less than "+r.exclusiveMaximum}),a}};var X0=function(e,r,n,i,a,s){if(this.types.number(e)){var o=r[a];if(o==0)throw new Hr(a+" cannot be zero");var c=new We(e,r,n,i),l=Zt.getDecimalPlaces(e),h=Zt.getDecimalPlaces(o),g=Math.max(l,h),y=Math.pow(10,g);return Math.round(e*y)%Math.round(o*y)!==0&&c.addError({name:a,argument:o,message:s+JSON.stringify(o)}),c}};qe.multipleOf=function(e,r,n,i){return X0.call(this,e,r,n,i,"multipleOf","is not a multiple of (divisible by) ")};qe.divisibleBy=function(e,r,n,i){return X0.call(this,e,r,n,i,"divisibleBy","is not divisible by (multiple of) ")};qe.required=function(e,r,n,i){var a=new We(e,r,n,i);return e===void 0&&r.required===!0?a.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(r.required)&&r.required.forEach(function(s){Uo(e,s)===void 0&&a.addError({name:"required",argument:s,message:"requires property "+JSON.stringify(s)})}),a};qe.pattern=function(e,r,n,i){if(this.types.string(e)){var a=new We(e,r,n,i),s=r.pattern;try{var o=new RegExp(s,"u")}catch{o=new RegExp(s)}return e.match(o)||a.addError({name:"pattern",argument:r.pattern,message:"does not match pattern "+JSON.stringify(r.pattern.toString())}),a}};qe.format=function(e,r,n,i){if(e!==void 0){var a=new We(e,r,n,i);return!a.disableFormat&&!Zt.isFormat(e,r.format,this)&&a.addError({name:"format",argument:r.format,message:"does not conform to the "+JSON.stringify(r.format)+" format"}),a}};qe.minLength=function(e,r,n,i){if(this.types.string(e)){var a=new We(e,r,n,i),s=e.match(/[\uDC00-\uDFFF]/g),o=e.length-(s?s.length:0);return o>=r.minLength||a.addError({name:"minLength",argument:r.minLength,message:"does not meet minimum length of "+r.minLength}),a}};qe.maxLength=function(e,r,n,i){if(this.types.string(e)){var a=new We(e,r,n,i),s=e.match(/[\uDC00-\uDFFF]/g),o=e.length-(s?s.length:0);return o<=r.maxLength||a.addError({name:"maxLength",argument:r.maxLength,message:"does not meet maximum length of "+r.maxLength}),a}};qe.minItems=function(e,r,n,i){if(this.types.array(e)){var a=new We(e,r,n,i);return e.length>=r.minItems||a.addError({name:"minItems",argument:r.minItems,message:"does not meet minimum length of "+r.minItems}),a}};qe.maxItems=function(e,r,n,i){if(this.types.array(e)){var a=new We(e,r,n,i);return e.length<=r.maxItems||a.addError({name:"maxItems",argument:r.maxItems,message:"does not meet maximum length of "+r.maxItems}),a}};function y1(t,e,r){var n,i=r.length;for(n=e+1,i;n<i;n++)if(Zt.deepCompareStrict(t,r[n]))return!1;return!0}qe.uniqueItems=function(e,r,n,i){if(r.uniqueItems===!0&&this.types.array(e)){var a=new We(e,r,n,i);return e.every(y1)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}};qe.dependencies=function(e,r,n,i){if(this.types.object(e)){var a=new We(e,r,n,i);for(var s in r.dependencies)if(e[s]!==void 0){var o=r.dependencies[s],c=i.makeChild(o,s);if(typeof o=="string"&&(o=[o]),Array.isArray(o))o.forEach(function(h){e[h]===void 0&&a.addError({name:"dependencies",argument:c.propertyPath,message:"property "+h+" not found, required by "+c.propertyPath})});else{var l=this.validateSchema(e,o,n,c);a.instance!==l.instance&&(a.instance=l.instance),l&&l.errors.length&&(a.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),a.importErrors(l))}}return a}};qe.enum=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.enum))throw new Hr("enum expects an array",r);var a=new We(e,r,n,i);return r.enum.some(Zt.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:r.enum,message:"is not one of enum values: "+r.enum.map(String).join(",")}),a};qe.const=function(e,r,n,i){if(e===void 0)return null;var a=new We(e,r,n,i);return Zt.deepCompareStrict(r.const,e)||a.addError({name:"const",argument:r.const,message:"does not exactly match expected constant: "+r.const}),a};qe.not=qe.disallow=function(e,r,n,i){var a=this;if(e===void 0)return null;var s=new We(e,r,n,i),o=r.not||r.disallow;return o?(Array.isArray(o)||(o=[o]),o.forEach(function(c){if(a.testType(e,r,n,i,c)){var l=c&&(c.$id||c.id),h=l||c;s.addError({name:"not",argument:h,message:"is of prohibited type "+h})}}),s):null};var p1=Lo,Qn={},sf=Fr,m1=ht;Qn.SchemaScanResult=Q0;function Q0(t,e){this.id=t,this.ref=e}Qn.scan=function(e,r){function n(c,l){if(!(!l||typeof l!="object")){if(l.$ref){var h=sf.resolve(c,l.$ref);o[h]=o[h]?o[h]+1:0;return}var g=l.$id||l.id,y=g?sf.resolve(c,g):c;if(y){if(y.indexOf("#")<0&&(y+="#"),s[y]){if(!m1.deepCompareStrict(s[y],l))throw new Error("Schema <"+y+"> already exists with different definition");return s[y]}s[y]=l,y[y.length-1]=="#"&&(s[y.substring(0,y.length-1)]=l)}i(y+"/items",Array.isArray(l.items)?l.items:[l.items]),i(y+"/extends",Array.isArray(l.extends)?l.extends:[l.extends]),n(y+"/additionalItems",l.additionalItems),a(y+"/properties",l.properties),n(y+"/additionalProperties",l.additionalProperties),a(y+"/definitions",l.definitions),a(y+"/patternProperties",l.patternProperties),a(y+"/dependencies",l.dependencies),i(y+"/disallow",l.disallow),i(y+"/allOf",l.allOf),i(y+"/anyOf",l.anyOf),i(y+"/oneOf",l.oneOf),n(y+"/not",l.not)}}function i(c,l){if(Array.isArray(l))for(var h=0;h<l.length;h++)n(c+"/"+h,l[h])}function a(c,l){if(!(!l||typeof l!="object"))for(var h in l)n(c+"/"+h,l[h])}var s={},o={};return n(e,r),new Q0(s,o)};var ec=Fr,tc=p1,fn=ht,rc=Qn.scan,nc=fn.ValidatorResult,v1=fn.ValidatorResultError,zn=fn.SchemaError,ic=fn.SchemaContext,ac="/",Tt=function t(){this.customFormats=Object.create(t.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(pr),this.attributes=Object.create(tc.validators)};Tt.prototype.customFormats={};Tt.prototype.schemas=null;Tt.prototype.types=null;Tt.prototype.attributes=null;Tt.prototype.unresolvedRefs=null;Tt.prototype.addSchema=function(e,r){var n=this;if(!e)return null;var i=rc(r||ac,e),a=r||e.$id||e.id;for(var s in i.id)this.schemas[s]=i.id[s];for(var s in i.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter(function(o){return typeof n.schemas[o]>"u"}),this.schemas[a]};Tt.prototype.addSubSchemaArray=function(e,r){if(Array.isArray(r))for(var n=0;n<r.length;n++)this.addSubSchema(e,r[n])};Tt.prototype.addSubSchemaObject=function(e,r){if(!(!r||typeof r!="object"))for(var n in r)this.addSubSchema(e,r[n])};Tt.prototype.setSchemas=function(e){this.schemas=e};Tt.prototype.getSchema=function(e){return this.schemas[e]};Tt.prototype.validate=function(e,r,n,i){if(typeof r!="boolean"&&typeof r!="object"||r===null)throw new zn("Expected `schema` to be an object or boolean");n||(n={});var a=r.$id||r.id,s=ec.resolve(n.base||ac,a||"");if(!i){i=new ic(r,n,[],s,Object.create(this.schemas)),i.schemas[s]||(i.schemas[s]=r);var o=rc(s,r);for(var c in o.id){var l=o.id[c];i.schemas[c]=l}}if(n.required&&e===void 0){var h=new nc(e,r,n,i);return h.addError("is required, but is undefined"),h}var h=this.validateSchema(e,r,n,i);if(h){if(n.throwAll&&h.errors.length)throw new v1(h)}else throw new Error("Result undefined");return h};function oc(t){var e=typeof t=="string"?t:t.$ref;return typeof e=="string"?e:!1}Tt.prototype.validateSchema=function(e,r,n,i){var a=new nc(e,r,n,i);if(typeof r=="boolean")r===!0?r={}:r===!1&&(r={type:[]});else if(!r)throw new Error("schema is undefined");if(r.extends)if(Array.isArray(r.extends)){var s={schema:r,ctx:i};r.extends.forEach(this.schemaTraverser.bind(this,s)),r=s.schema,s.schema=null,s.ctx=null,s=null}else r=fn.deepMerge(r,this.superResolve(r.extends,i));var o=oc(r);if(o){var c=this.resolve(r,o,i),l=new ic(c.subschema,n,i.path,c.switchSchema,i.schemas);return this.validateSchema(e,c.subschema,n,l)}var h=n&&n.skipAttributes||[];for(var g in r)if(!tc.ignoreProperties[g]&&h.indexOf(g)<0){var y=null,w=this.attributes[g];if(w)y=w.call(this,e,r,n,i);else if(n.allowUnknownAttributes===!1)throw new zn("Unsupported attribute: "+g,r);y&&a.importErrors(y)}if(typeof n.rewrite=="function"){var O=n.rewrite.call(this,e,r,n,i);a.instance=O}return a};Tt.prototype.schemaTraverser=function(e,r){e.schema=fn.deepMerge(e.schema,this.superResolve(r,e.ctx))};Tt.prototype.superResolve=function(e,r){var n=oc(e);return n?this.resolve(e,n,r).subschema:e};Tt.prototype.resolve=function(e,r,n){if(r=n.resolve(r),n.schemas[r])return{subschema:n.schemas[r],switchSchema:r};var i=ec.parse(r),a=i&&i.hash,s=a&&a.length&&r.substr(0,r.length-a.length);if(!s||!n.schemas[s])throw new zn("no such schema <"+r+">",e);var o=fn.objectGetPath(n.schemas[s],a.substr(1));if(o===void 0)throw new zn("no such schema "+a+" located in <"+s+">",e);return{subschema:o,switchSchema:r}};Tt.prototype.testType=function(e,r,n,i,a){if(a!==void 0){if(a===null)throw new zn('Unexpected null in "type" keyword');if(typeof this.types[a]=="function")return this.types[a].call(this,e);if(a&&typeof a=="object"){var s=this.validateSchema(e,a,n,i);return s===void 0||!(s&&s.errors.length)}return!0}};var pr=Tt.prototype.types={};pr.string=function(e){return typeof e=="string"};pr.number=function(e){return typeof e=="number"&&isFinite(e)};pr.integer=function(e){return typeof e=="number"&&e%1===0};pr.boolean=function(e){return typeof e=="boolean"};pr.array=function(e){return Array.isArray(e)};pr.null=function(e){return e===null};pr.date=function(e){return e instanceof Date};pr.any=function(e){return!0};pr.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};var E1=Tt,w1=Tr.Validator=E1;Tr.ValidatorResult=ht.ValidatorResult;Tr.ValidatorResultError=ht.ValidatorResultError;Tr.ValidationError=ht.ValidationError;Tr.SchemaError=ht.SchemaError;Tr.SchemaScanResult=Qn.SchemaScanResult;Tr.scan=Qn.scan;Tr.validate=function(t,e,r){var n=new w1;return n.validate(t,e,r)};function ff(t){return t.length===2+20*2}function _1(t){let{getAccounts:e,getPrivateKey:r,processDecryptMessage:n,processEncryptionPublicKey:i,processEthSignMessage:a,processPersonalMessage:s,processTransaction:o,processSignTransaction:c,processTypedMessage:l,processTypedMessageV3:h,processTypedMessageV4:g}=t;if(!e)throw new Error("opts.getAccounts is required");async function y(L,z){if(typeof L=="string"&&L.length>0){const T=(await e(z)).map(m=>m.toLowerCase()),I=L.toLowerCase();if(T.includes(I))return I}throw ke.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function w(L,z){z.result=await e(L)}async function O(L,z){const X=await e(L);z.result=X[0]||null}async function U(L,z){if(!o)throw ke.rpcErrors.methodNotSupported();const X=L.params[0]||{from:""};X.from=await y(X.from,L),z.result=await o(X,L)}async function M(L,z){if(!c)throw ke.rpcErrors.methodNotSupported();const X=L.params[0]||{from:""};X.from=await y(X.from,L),z.result=await c(X,L)}async function G(L,z){if(!a)throw ke.rpcErrors.methodNotSupported();const X=await y(L.params[0],L),T=L.params[1],I=L.params[2]||{},m=Xe(Xe({},I),{},{from:X,data:T});z.result=await a(m,L)}async function P(L,z){if(!l)throw ke.rpcErrors.methodNotSupported();const X=L.params[0],T=await y(L.params[1],L),I="V1",m=L.params[2]||{},B=Xe(Xe({},m),{},{from:T,data:X});z.result=await l(B,L,I)}async function D(L,z){if(!h)throw ke.rpcErrors.methodNotSupported();const X=await y(L.params[0],L),T=L.params[1],I="V3",m={data:T,from:X,version:I};z.result=await h(m,L,I)}async function v(L,z){if(!g)throw ke.rpcErrors.methodNotSupported();const X=await y(L.params[0],L),T=L.params[1],I="V4",m={data:T,from:X,version:I};z.result=await g(m,L,I)}async function A(L,z){if(!s)throw ke.rpcErrors.methodNotSupported();const X=L.params[0],T=L.params[1],I=L.params[2]||{};let m,B;if(ff(X)&&!ff(T)){let K="The eth_personalSign method requires params ordered ";K+="[message, address]. This was previously handled incorrectly, ",K+="and has been corrected automatically. ",K+="Please switch this param order for smooth behavior in the future.",z.warning=K,m=X,B=T}else B=X,m=T;m=await y(m,L);const $=Xe(Xe({},I),{},{from:m,data:B});z.result=await s($,L)}async function S(L,z){if(!i)throw ke.rpcErrors.methodNotSupported();const X=await y(L.params[0],L);z.result=await i(X,L)}async function u(L,z){if(!n)throw ke.rpcErrors.methodNotSupported();const X=L.params[0],T=await y(L.params[1],L),I=L.params[2]||{},m=Xe(Xe({},I),{},{from:T,data:X});z.result=n(m,L)}async function E(L,z){if(!r)throw ke.rpcErrors.methodNotSupported();z.result=r(L)}return yi({eth_accounts:Lt(w),eth_private_key:Lt(E),private_key:Lt(E),eth_coinbase:Lt(O),eth_sendTransaction:Lt(U),eth_signTransaction:Lt(M),eth_sign:Lt(G),eth_signTypedData:Lt(P),eth_signTypedData_v3:Lt(D),eth_signTypedData_v4:Lt(v),personal_sign:Lt(A),eth_getEncryptionPublicKey:Lt(S),eth_decrypt:Lt(u)})}function sc(t){const{getAccounts:e,getPrivateKey:r,processTransaction:n,processSignTransaction:i,processEthSignMessage:a,processTypedMessage:s,processTypedMessageV3:o,processTypedMessageV4:c,processPersonalMessage:l,processEncryptionPublicKey:h,processDecryptMessage:g}=t;return yf([yi({eth_syncing:!1}),_1({getAccounts:e,getPrivateKey:r,processTransaction:n,processEthSignMessage:a,processSignTransaction:i,processTypedMessage:s,processTypedMessageV3:o,processTypedMessageV4:c,processPersonalMessage:l,processEncryptionPublicKey:h,processDecryptMessage:g})])}function fc(t){let{addChain:e,switchChain:r}=t;async function n(a,s){var o;const c=(o=a.params)!==null&&o!==void 0&&o.length?a.params[0]:void 0;if(!c)throw ke.rpcErrors.invalidParams("Missing chain params");if(!c.chainId)throw ke.rpcErrors.invalidParams("Missing chainId in chainParams");if(!c.rpcUrls||c.rpcUrls.length===0)throw ke.rpcErrors.invalidParams("Missing rpcUrls in chainParams");if(!c.nativeCurrency)throw ke.rpcErrors.invalidParams("Missing nativeCurrency in chainParams");s.result=await e(c)}async function i(a,s){var o;const c=(o=a.params)!==null&&o!==void 0&&o.length?a.params[0]:void 0;if(!c)throw ke.rpcErrors.invalidParams("Missing chainId");s.result=await r(c)}return yi({wallet_addEthereumChain:Lt(n),wallet_switchEthereumChain:Lt(i)})}function A1(t){let{updatePrivatekey:e}=t;async function r(n,i){var a;const s=(a=n.params)!==null&&a!==void 0&&a.length?n.params[0]:void 0;if(!(s!=null&&s.privateKey))throw ke.rpcErrors.invalidParams("Missing privateKey");i.result=await e(s)}return yi({wallet_updateAccount:Lt(r)})}function S1(t){return(e,r,n,i)=>e.method==="eth_chainId"?(r.result=t,i()):n()}function P1(t){return(e,r,n,i)=>e.method==="eth_provider_config"?(r.result=t,i()):n()}function cc(t){const{chainId:e,rpcTarget:r}=t,n=$c({rpcTarget:r});return{networkMiddleware:yf([S1(e),P1(t),n]),fetchMiddleware:n}}async function uc(t){if(t.session.length){const e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}async function Vr(t,e,r,n){const i=await uc(t);if(!i)throw ke.providerErrors.disconnected();return t.request({topic:i.topic,chainId:`eip155:${e}`,request:{method:r,params:n}})}async function dc(t){const e=await uc(t);if(!e)throw ke.providerErrors.disconnected();const r=Wf(e.namespaces);if(r&&r.length)return[...new Set(r.map(n=>po(n).address))];throw new Error("Failed to get accounts")}function T1(t){let{connector:e,chainId:r}=t;return{getPrivateKey:async()=>{throw ke.rpcErrors.methodNotSupported()},getAccounts:async n=>dc(e),processTransaction:async(n,i)=>await Vr(e,r,"eth_sendTransaction",[n]),processSignTransaction:async(n,i)=>await Vr(e,r,"eth_signTransaction",[n]),processEthSignMessage:async(n,i)=>await Vr(e,r,"eth_sign",[n.from,n.data]),processPersonalMessage:async(n,i)=>await Vr(e,r,"personal_sign",[n.from,n.data]),processTypedMessage:async(n,i)=>await Vr(e,r,"eth_signTypedData",[n.data,n.from]),processTypedMessageV3:async n=>await Vr(e,r,"eth_signTypedData_v3",[n.from,n.data]),processTypedMessageV4:async n=>await Vr(e,r,"eth_signTypedData_v4",[n.from,n.data]),processEncryptionPublicKey:async n=>{throw ke.rpcErrors.methodNotSupported()},processDecryptMessage:n=>{throw ke.rpcErrors.methodNotSupported()}}}var lc;class Ro extends xf{constructor(e){let{config:r,state:n,connector:i}=e;super({config:{chainConfig:Xe(Xe({},r.chainConfig),{},{chainNamespace:pn.EIP155}),skipLookupNetwork:!!r.skipLookupNetwork},state:Xe(Xe({},n||{}),{},{chainId:"loading",accounts:[]})}),mn(this,"connector",null),this.connector=i||null}async enable(){if(!this.connector)throw ke.providerErrors.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:r}=e;if(!this.connector)throw ke.providerErrors.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const n=this.getChainConfig(r);this.configure({chainConfig:n}),await this.setupEngine(this.connector),this.lookupNetwork(this.connector)}async addChain(e){super.addChain(e)}async lookupNetwork(e){const r=this.config.chainConfig.chainId;return this.update({chainId:r}),this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.config.chainConfig.chainId}async setupEngine(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16),i=T1({connector:e,chainId:n}),a=await dc(e);this.update({accounts:a||[]});const s=sc(i),o=this.getChainSwitchMiddleware(),c=new bf,{networkMiddleware:l}=cc(this.config.chainConfig);c.push(s),c.push(o),c.push(l);const h=gf(c);this.updateProviderEngineProxy(h)}getChainSwitchMiddleware(){return fc({addChain:async n=>{const{chainId:i,chainName:a,rpcUrls:s,blockExplorerUrls:o,nativeCurrency:c}=n;this.addChain({chainNamespace:pn.EIP155,chainId:i,ticker:(c==null?void 0:c.symbol)||"ETH",tickerName:(c==null?void 0:c.name)||"Ether",displayName:a,rpcTarget:s[0],blockExplorer:(o==null?void 0:o[0])||"",decimals:(c==null?void 0:c.decimals)||18})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}connectedTopic(){var e;if(!this.connector)throw Ko.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var r;const n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfChainIdAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=Ql(r.namespaces);let i=!1;for(const a of n){const s=ql(a);if(Number.parseInt(s.reference,10)===Number.parseInt(e,10)){i=!0;break}}return i}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=Wf(r.namespaces);let i=!1;for(const s of n){var a;if(((a=po(s).address)===null||a===void 0?void 0:a.toLowerCase())===(e==null?void 0:e.toLowerCase())){i=!0;break}}return i}async onConnectorStateUpdate(e){e.events.on("session_event",async r=>{if(_r.debug("session_event data",r),!this.provider)throw Ko.notConnectedError("Wallet connect connector is not connected");const{event:n}=r.params,{name:i,data:a}=n||{};if(i==="accountsChanged"&&a!==null&&a!==void 0&&a.length&&this.state.accounts[0]!==a[0]&&this.checkIfAccountAllowed(a[0])&&(this.update({accounts:a}),this.emit("accountsChanged",a)),n.name==="chainChanged"){const{chainId:s,rpcUrl:o}=a,c=`0x${s.toString(16)}`;if(!this.checkIfChainIdAllowed(c))return;if(c&&this.state.chainId!==c){const l=jc(pn.EIP155,c)||{};this.configure({chainConfig:Xe(Xe({},l),{},{chainId:c,rpcTarget:o,chainNamespace:pn.EIP155})}),await this.setupEngine(e)}}})}}lc=Ro;mn(Ro,"getProviderInstance",async t=>{const e=new lc({config:{chainConfig:t.chainConfig,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e});const hc=new er("1e18"),xc=new er("1e9"),bc=new er("1"),D1={hex:t=>typeof t=="string"?new er(_n(t),16):new er(t,16),dec:t=>new er(t,10)},I1={WEI:t=>t.div(hc),GWEI:t=>t.div(xc),ETH:t=>t.div(bc)},B1={WEI:t=>t.times(hc).dp(0,er.ROUND_HALF_UP),GWEI:t=>t.times(xc).dp(9,er.ROUND_HALF_UP),ETH:t=>t.times(bc).dp(9,er.ROUND_HALF_UP)},O1={hex:t=>t.toString(16),dec:t=>new er(t).toString(10)},C1=t=>{const{value:e,fromNumericBase:r,fromDenomination:n,toNumericBase:i,toDenomination:a,numberOfDecimals:s}=t;let o=D1[r](e);return n&&(o=I1[n](o)),a&&(o=B1[a](o)),s&&(o=o.dp(s,er.ROUND_HALF_DOWN)),i&&(o=O1[i](o)),o},gc=(t,e)=>{let{fromNumericBase:r="hex",toNumericBase:n,fromDenomination:i,toDenomination:a,numberOfDecimals:s}=e;return C1({fromNumericBase:r,toNumericBase:n,fromDenomination:i,toDenomination:a,numberOfDecimals:s,value:t||"0"})};function bn(t){return gc(t,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function yc(t){return gc(t,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function Kr(t){const e=bn(t);return yc(e)}async function F1(t){const e=await pf(t);return Xe(Xe({},e),{},{estimatedBaseFee:Kr(e.estimatedBaseFee),low:Xe(Xe({},e.low),{},{suggestedMaxPriorityFeePerGas:Kr(e.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Kr(e.low.suggestedMaxFeePerGas)}),medium:Xe(Xe({},e.medium),{},{suggestedMaxPriorityFeePerGas:Kr(e.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Kr(e.medium.suggestedMaxFeePerGas)}),high:Xe(Xe({},e.high),{},{suggestedMaxPriorityFeePerGas:Kr(e.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Kr(e.high.suggestedMaxFeePerGas)})})}async function N1(t){const e=await pf(t,{referrer:t,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}const Aa=(t,e)=>{try{Kt.ok(t&&typeof t=="object","Params must be an object."),Kt.ok("data"in t,'Params must include a "data" field.'),Kt.ok("from"in t,'Params must include a "from" field.'),Kt.ok(typeof t.from=="string"&&vf(t.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let n=null,i=null;switch(t.version){case Ut.SignTypedDataVersion.V1:typeof t.data=="string"?Kt.doesNotThrow(()=>{n=JSON.parse(t.data)},'"data" must be a valid JSON string.'):n=t.data,Kt.ok(Array.isArray(n),"params.data must be an array."),Kt.doesNotThrow(()=>{Ut.typedSignatureHash(n)},"Signing data must be valid EIP-712 typed data.");break;case Ut.SignTypedDataVersion.V3:case Ut.SignTypedDataVersion.V4:{var r;typeof t.data=="string"?Kt.doesNotThrow(()=>{n=JSON.parse(t.data)},'"data" must be a valid JSON string.'):n=t.data;const a=n;Kt.ok(a.primaryType in a.types,`Primary type of "${a.primaryType}" has no type definition.`);const s=Tr.validate(a,Ut.TYPED_MESSAGE_SCHEMA.properties);Kt.strictEqual(s.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),i=(r=a.domain)===null||r===void 0?void 0:r.chainId,i&&(Kt.ok(!Number.isNaN(e),`Cannot sign messages for chainId "${i}", because Web3Auth is switching networks.`),typeof i=="string"&&(i=Number.parseInt(i,ii(i)?16:10)),Kt.strictEqual(i,e,`Provided chainId "${i}" must match the active chainId "${e}"`));break}default:Kt.fail(`Unknown typed data version "${t.version}"`)}}catch(n){throw ke.rpcErrors.invalidInput({message:n==null?void 0:n.message})}};async function cf(t,e,r){const n=await r.formatTransaction(t),i=await r.getCommonConfiguration(),s=di.fromTxData(n,{common:i}).sign(Buffer.from(e,"hex")).serialize();return Buffer.from(s)}function pc(t){let{txFormatter:e,privKey:r,getProviderEngineProxy:n}=t;return{getAccounts:async i=>[`0x${Buffer.from(_f(Buffer.from(r,"hex"))).toString("hex")}`],getPrivateKey:async i=>r,processTransaction:async(i,a)=>{const s=n();if(!s)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});i.input&&!i.data&&(i.data=i.input);const o=await cf(i,r,e);return await s.request({method:"eth_sendRawTransaction",params:["0x".concat(o.toString("hex"))]})},processSignTransaction:async(i,a)=>{if(!n())throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});return i.input&&!i.data&&(i.data=i.input),`0x${(await cf(i,r,e)).toString("hex")}`},processEthSignMessage:async(i,a)=>Hc(r,i.data),processPersonalMessage:async(i,a)=>{const s=Buffer.from(r,"hex");return Ut.personalSign({privateKey:s,data:i.data})},processTypedMessage:async(i,a)=>{_r.debug("processTypedMessage",i);const s=Buffer.from(r,"hex"),o=n();if(!o)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});const c=await o.request({method:"eth_chainId"}),l=Number.parseInt(c,ii(c)?16:10),h=Xe(Xe({},i),{},{version:Ut.SignTypedDataVersion.V1});Aa(h,l);const g=typeof h.data=="string"?JSON.parse(h.data):h.data;return Ut.signTypedData({privateKey:s,data:g,version:Ut.SignTypedDataVersion.V1})},processTypedMessageV3:async(i,a)=>{_r.debug("processTypedMessageV3",i);const s=Buffer.from(r,"hex"),o=n();if(!o)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});const c=await o.request({method:"eth_chainId"}),l=Number.parseInt(c,ii(c)?16:10);Aa(i,l);const h=typeof i.data=="string"?JSON.parse(i.data):i.data;return Ut.signTypedData({privateKey:s,data:h,version:Ut.SignTypedDataVersion.V3})},processTypedMessageV4:async(i,a)=>{_r.debug("processTypedMessageV4",i);const s=Buffer.from(r,"hex"),o=n();if(!o)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});const c=await o.request({method:"eth_chainId"}),l=Number.parseInt(c,ii(c)?16:10);Aa(i,l);const h=typeof i.data=="string"?JSON.parse(i.data):i.data;return Ut.signTypedData({privateKey:s,data:h,version:Ut.SignTypedDataVersion.V4})},processEncryptionPublicKey:async(i,a)=>(_r.info("processEncryptionPublicKey",i),Ut.getEncryptionPublicKey(r)),processDecryptMessage:(i,a)=>{_r.info("processDecryptMessage",i);const s=_n(i.data),o=Buffer.from(s,"hex");return Ut.decrypt({encryptedData:JSON.parse(o.toString("utf8")),privateKey:r})}}}function M1(t,e){return t==null||e===null||e===void 0?null:new er(t,10).lt(e,10)}function ri(t){return Ir(t.toString(16))}function Sa(t){return si.isBN(t)?t:new si(_n(t),16)}function L1(t,e,r){const n=new si(e),i=new si(r);return t.mul(n).div(i)}const k1="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",U1="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",uf={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},ni={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},hn={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};class mc{constructor(e){let{getProviderEngineProxy:r}=e;mn(this,"chainConfig",null),mn(this,"getProviderEngineProxy",void 0),mn(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=r}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config"}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:e,chainId:r}=this.chainConfig,n=this.isEIP1559Compatible?ye.Paris:ye.Berlin,i={name:e,chainId:r==="loading"?0:Number.parseInt(r,16),networkId:r==="loading"?0:Number.parseInt(r,16),defaultHardfork:n};return kt.custom(i)}async formatTransaction(e){if(!this.chainConfig)throw new Error("Chain config not initialized");const r=Xe({},e);if(r.nonce===void 0&&(r.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&r.gasPrice){if(r.maxFeePerGas&&delete r.maxFeePerGas,r.maxPriorityFeePerGas&&delete r.maxPriorityFeePerGas,!r.gasLimit)if(r.gas)r.gasLimit=r.gas;else{const s=await this.getDefaultGasLimit(r);s&&(r.gasLimit=s)}return r}if(!r.gasLimit)if(r.gas)r.gasLimit=r.gas;else{const s=await this.getDefaultGasLimit(r);s&&(r.gasLimit=s)}const{gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:a}=await this.getDefaultGasFees(r);return this.isEIP1559Compatible?(r.gasPrice&&!r.maxFeePerGas&&!r.maxPriorityFeePerGas?(r.maxFeePerGas=r.gasPrice,r.maxPriorityFeePerGas=M1(typeof a=="string"?_n(a):a,typeof r.gasPrice=="string"?_n(r.gasPrice):r.gasPrice)?a:r.gasPrice):(i&&!r.maxFeePerGas&&(r.maxFeePerGas=i),a&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=a),n&&!r.maxFeePerGas&&(r.maxFeePerGas=n),r.maxFeePerGas&&!r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=r.maxFeePerGas)),delete r.gasPrice):(delete r.maxPriorityFeePerGas,delete r.maxFeePerGas),n&&!r.gasPrice&&!r.maxPriorityFeePerGas&&!r.maxFeePerGas&&(r.gasPrice=n),r.type=this.isEIP1559Compatible?uf.FEE_MARKET:uf.LEGACY,r.chainId=this.chainConfig.chainId,r}async fetchEthGasPriceEstimate(){const e=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:yc(e).toString()}}async getEIP1559Compatibility(){const e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(e&&e.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const e=this.chainConfig.chainId==="0x1",r=Number.parseInt(this.chainConfig.chainId,16);let n;try{if(this.isEIP1559Compatible)n={gasFeeEstimates:await F1(U1.replace("<chain_id>",`${r}`)),gasEstimateType:hn.FEE_MARKET};else if(e)n={gasFeeEstimates:await N1(k1.replace("<chain_id>",`${r}`)),gasEstimateType:hn.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{n={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:hn.ETH_GASPRICE}}catch(a){throw new Error(`Gas fee/price estimation failed. Message: ${a.message}`)}}return n}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:n,gasEstimateType:i}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&i===hn.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:a,suggestedMaxFeePerGas:s}={}}=n;if(a&&s)return{maxFeePerGas:Ir(bn(s)),maxPriorityFeePerGas:Ir(bn(a))}}else{if(i===hn.LEGACY)return{gasPrice:Ir(bn(n.medium))};if(i===hn.ETH_GASPRICE)return{gasPrice:Ir(bn(n.gasPrice))}}}catch(n){_r.error(n)}const{gasPrice:r}=await this.fetchEthGasPriceEstimate();return{gasPrice:Ir(bn(r))}}async estimateTxGas(e){const r=Xe({},e);return delete r.gasPrice,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[r]})}async analyzeGasUsage(e){const r=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),n=Sa(r.gasLimit),i=L1(n,19,20);let a=ri(i);try{a=await this.estimateTxGas(e)}catch(s){_r.warn(s)}return{blockGasLimit:r.gasLimit,estimatedGasHex:a}}addGasBuffer(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;const i=Sa(e),s=Sa(r).muln(.9),o=i.muln(n);return i.gt(s)?ri(i):o.lt(s)?ri(o):ri(s)}async determineTransactionCategory(e){const{data:r,to:n}=e;let i="",a;if(r&&!n)a=ni.DEPLOY_CONTRACT;else{try{i=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(o){_r.warn(o)}a=!i||i==="0x"||i==="0x0"?ni.SENT_ETHER:ni.CONTRACT_INTERACTION}return{transactionCategory:a,code:i}}async getDefaultGasLimit(e){const{transactionCategory:r}=await this.determineTransactionCategory(Xe({},e));if(e.gas)return e.gas;if(e.to&&r===ni.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");return Ir(21e3.toString(16))}const{blockGasLimit:n,estimatedGasHex:i}=await this.analyzeGasUsage(e);return this.addGasBuffer(Ir(i),n)}}var vc;class jo extends xf{constructor(e){let{config:r,state:n}=e;super({config:{chainConfig:Xe(Xe({},r.chainConfig),{},{chainNamespace:pn.EIP155})},state:n})}async enable(){if(!this.state.privateKey)throw ke.providerErrors.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){const r=new mc({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=pc({txFormatter:r,privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),i=sc(n),a=this.getChainSwitchMiddleware(),s=new bf,{networkMiddleware:o}=cc(this.config.chainConfig);s.push(i),s.push(a),s.push(this.getAccountMiddleware()),s.push(o);const c=gf(s);this.updateProviderEngineProxy(c),await r.init(),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r});const n=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw ke.providerErrors.custom({message:"Provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig;if(!e)throw ke.rpcErrors.invalidParams("chainId is required while lookupNetwork");const r=await this._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(e,16)!==parseInt(r,10))throw ke.providerErrors.chainDisconnected(`Invalid network, net_version is: ${r}`);return this.state.chainId!==e&&(this.emit("chainChanged",e),this.emit("connect",{chainId:e})),this.update({chainId:e}),r}getChainSwitchMiddleware(){return fc({addChain:async n=>{const{chainId:i,chainName:a,rpcUrls:s,blockExplorerUrls:o,nativeCurrency:c}=n;this.addChain({chainNamespace:pn.EIP155,chainId:i,ticker:(c==null?void 0:c.symbol)||"ETH",tickerName:(c==null?void 0:c.name)||"Ether",displayName:a,rpcTarget:s[0],blockExplorer:(o==null?void 0:o[0])||"",decimals:(c==null?void 0:c.decimals)||18})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}getAccountMiddleware(){return A1({updatePrivatekey:async r=>{const{privateKey:n}=r;await this.updateAccount({privateKey:n})}})}}vc=jo;mn(jo,"getProviderInstance",async t=>{const e=new vc({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e});const Ug=Object.freeze(Object.defineProperty({__proto__:null,EthereumPrivateKeyProvider:jo,TransactionFormatter:mc,WalletConnectV2Provider:Ro,getProviderHandlers:pc},Symbol.toStringTag,{value:"Module"}));export{Pi as $,Sg as A,pg as B,tr as C,mg as D,jo as E,X1 as F,sg as G,ag as H,og as I,eg as J,Z1 as K,Y1 as L,Ti as M,Or as N,Eo as O,Xf as P,tg as Q,nh as R,rg as S,q1 as T,Sn as U,W1 as V,lg as W,Lg as X,hg as Y,Mg as Z,rl as _,Xr as a,Di as a0,Q1 as a1,e0 as a2,gg as a3,dg as a4,yg as a5,kg as a6,_g as a7,wg as a8,Ch as a9,Fg as aa,Pg as ab,Fh as ac,Eg as ad,Bg as ae,Tg as af,Og as ag,Ng as ah,Dg as ai,Ig as aj,Cg as ak,Ag as al,Ro as am,Ug as an,Oe as b,w0 as c,mi as d,Jo as e,ar as f,Bo as g,Qr as h,V1 as i,z1 as j,vg as k,K1 as l,Jf as m,ig as n,qn as o,Gt as p,fg as q,Si as r,bg as s,or as t,xg as u,ng as v,sr as w,J1 as x,ug as y,cg as z};
