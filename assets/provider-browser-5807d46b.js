var tk=Object.defineProperty;var nk=(t,e,n)=>e in t?tk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e,n)=>(nk(t,typeof e!="symbol"?e+"":e,n),n),Bm=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var O=(t,e,n)=>(Bm(t,e,"read from private field"),n?n.call(t):e.get(t)),le=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},J=(t,e,n,r)=>(Bm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var jf=(t,e,n,r)=>({set _(i){J(t,e,i,n)},get _(){return O(t,e,r)}}),Te=(t,e,n)=>(Bm(t,e,"access private method"),n);import{k as xa,m as Wc,g as Zi,l as nh,c as Gg}from"./index-c463d612.js";function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function rk(t,e){if(bd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ik(t){var e=rk(t,"string");return bd(e)==="symbol"?e:String(e)}function Se(t,e,n){return e=ik(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sv(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var BS={exports:{}},Lm={exports:{}},mn={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Uint8Array},LS={exports:{}};(function(t){const e=xa,n=Object.getPrototypeOf(async function(){}).constructor,r=globalThis.Blob||e.Blob,i=typeof r<"u"?function(u){return u instanceof r}:function(u){return!1};class o extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let l="";for(let d=0;d<u.length;d++)l+=`    ${u[d].stack}
`;super(l),this.name="AggregateError",this.errors=u}}t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(c){let u=!1;return function(...l){u||(u=!0,c.apply(this,l))}},createDeferredPromise:function(){let c,u;return{promise:new Promise((d,h)=>{c=d,u=h}),resolve:c,reject:u}},promisify(c){return new Promise((u,l)=>{c((d,...h)=>d?l(d):u(...h))})},debuglog(){return function(){}},format(c,...u){return c.replace(/%([sdifj])/g,function(...[l,d]){const h=u.shift();return d==="f"?h.toFixed(6):d==="j"?JSON.stringify(h):d==="s"&&typeof h=="object"?`${h.constructor!==Object?h.constructor.name:""} {}`.trim():h.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof n},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:i},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(LS);var Ao=LS.exports,ky={},Vf={exports:{}},Cv;function Dy(){if(Cv)return Vf.exports;Cv=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Vf.exports=t,Vf.exports.AbortSignal=e,Vf.exports.default=t,Vf.exports}const{format:sk,inspect:Wg,AggregateError:ok}=Ao,ak=globalThis.AggregateError||ok,ck=Symbol("kIsNodeError"),uk=["string","function","number","object","Function","Object","boolean","bigint","symbol"],lk=/^([A-Z][a-z0-9]*)+$/,fk="__node_internal_",Ip={};function Tc(t,e){if(!t)throw new Ip.ERR_INTERNAL_ASSERTION(e)}function xv(t){let e="",n=t.length;const r=t[0]==="-"?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function dk(t,e,n){if(typeof e=="function")return Tc(e.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${e.length}).`),e(...n);const r=(e.match(/%[dfijoOs]/g)||[]).length;return Tc(r===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),n.length===0?e:sk(e,...n)}function kn(t,e,n){n||(n=Error);class r extends n{constructor(...o){super(dk(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=t,r.prototype[ck]=!0,Ip[t]=r}function Rv(t){const e=fk+t.name;return Object.defineProperty(t,"name",{value:e}),t}function hk(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const n=new ak([e,t],e.message);return n.code=e.code,n}return t||e}let gk=class extends Error{constructor(e="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new Ip.ERR_INVALID_ARG_TYPE("options","Object",n);super(e,n),this.code="ABORT_ERR",this.name="AbortError"}};kn("ERR_ASSERTION","%s",Error);kn("ERR_INVALID_ARG_TYPE",(t,e,n)=>{Tc(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";t.endsWith(" argument")?r+=`${t} `:r+=`"${t}" ${t.includes(".")?"property":"argument"} `,r+="must be ";const i=[],o=[],c=[];for(const l of e)Tc(typeof l=="string","All expected entries have to be of type string"),uk.includes(l)?i.push(l.toLowerCase()):lk.test(l)?o.push(l):(Tc(l!=="object",'The value "object" should be written as "Object"'),c.push(l));if(o.length>0){const l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:r+=`of type ${i[0]}`;break;case 2:r+=`one of type ${i[0]} or ${i[1]}`;break;default:{const l=i.pop();r+=`one of type ${i.join(", ")}, or ${l}`}}(o.length>0||c.length>0)&&(r+=" or ")}if(o.length>0){switch(o.length){case 1:r+=`an instance of ${o[0]}`;break;case 2:r+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const l=o.pop();r+=`an instance of ${o.join(", ")}, or ${l}`}}c.length>0&&(r+=" or ")}switch(c.length){case 0:break;case 1:c[0].toLowerCase()!==c[0]&&(r+="an "),r+=`${c[0]}`;break;case 2:r+=`one of ${c[0]} or ${c[1]}`;break;default:{const l=c.pop();r+=`one of ${c.join(", ")}, or ${l}`}}if(n==null)r+=`. Received ${n}`;else if(typeof n=="function"&&n.name)r+=`. Received function ${n.name}`;else if(typeof n=="object"){var u;if((u=n.constructor)!==null&&u!==void 0&&u.name)r+=`. Received an instance of ${n.constructor.name}`;else{const l=Wg(n,{depth:-1});r+=`. Received ${l}`}}else{let l=Wg(n,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof n} (${l})`}return r},TypeError);kn("ERR_INVALID_ARG_VALUE",(t,e,n="is invalid")=>{let r=Wg(e);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`},TypeError);kn("ERR_INVALID_RETURN_VALUE",(t,e,n)=>{var r;const i=n!=null&&(r=n.constructor)!==null&&r!==void 0&&r.name?`instance of ${n.constructor.name}`:`type ${typeof n}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);kn("ERR_MISSING_ARGS",(...t)=>{Tc(t.length>0,"At least one arg needs to be specified");let e;const n=t.length;switch(t=(Array.isArray(t)?t:[t]).map(r=>`"${r}"`).join(" or "),n){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}break}return`${e} must be specified`},TypeError);kn("ERR_OUT_OF_RANGE",(t,e,n)=>{Tc(e,'Missing "range" argument');let r;return Number.isInteger(n)&&Math.abs(n)>2**32?r=xv(String(n)):typeof n=="bigint"?(r=String(n),(n>2n**32n||n<-(2n**32n))&&(r=xv(r)),r+="n"):r=Wg(n),`The value of "${t}" is out of range. It must be ${e}. Received ${r}`},RangeError);kn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);kn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);kn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);kn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);kn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);kn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);kn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);kn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);kn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);kn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);kn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Tr={AbortError:gk,aggregateTwoErrors:Rv(hk),hideStackFrames:Rv,codes:Ip};const{ArrayIsArray:$y,ArrayPrototypeIncludes:MS,ArrayPrototypeJoin:kS,ArrayPrototypeMap:pk,NumberIsInteger:Uy,NumberIsNaN:mk,NumberMAX_SAFE_INTEGER:wk,NumberMIN_SAFE_INTEGER:yk,NumberParseInt:bk,ObjectPrototypeHasOwnProperty:Ek,RegExpPrototypeExec:DS,String:Ak,StringPrototypeToUpperCase:vk,StringPrototypeTrim:_k}=mn,{hideStackFrames:xi,codes:{ERR_SOCKET_BAD_PORT:Sk,ERR_INVALID_ARG_TYPE:gr,ERR_INVALID_ARG_VALUE:Xl,ERR_OUT_OF_RANGE:Bc,ERR_UNKNOWN_SIGNAL:Iv}}=Tr,{normalizeEncoding:Ck}=Ao,{isAsyncFunction:xk,isArrayBufferView:Rk}=Ao.types,Nv={};function Ik(t){return t===(t|0)}function Nk(t){return t===t>>>0}const Tk=/^[0-7]+$/,Ok="must be a 32-bit unsigned integer or an octal string";function Pk(t,e,n){if(typeof t>"u"&&(t=n),typeof t=="string"){if(DS(Tk,t)===null)throw new Xl(e,t,Ok);t=bk(t,8)}return $S(t,e),t}const Bk=xi((t,e,n=yk,r=wk)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!Uy(t))throw new Bc(e,"an integer",t);if(t<n||t>r)throw new Bc(e,`>= ${n} && <= ${r}`,t)}),Lk=xi((t,e,n=-2147483648,r=2147483647)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!Uy(t))throw new Bc(e,"an integer",t);if(t<n||t>r)throw new Bc(e,`>= ${n} && <= ${r}`,t)}),$S=xi((t,e,n=!1)=>{if(typeof t!="number")throw new gr(e,"number",t);if(!Uy(t))throw new Bc(e,"an integer",t);const r=n?1:0,i=4294967295;if(t<r||t>i)throw new Bc(e,`>= ${r} && <= ${i}`,t)});function Fy(t,e){if(typeof t!="string")throw new gr(e,"string",t)}function Mk(t,e,n=void 0,r){if(typeof t!="number")throw new gr(e,"number",t);if(n!=null&&t<n||r!=null&&t>r||(n!=null||r!=null)&&mk(t))throw new Bc(e,`${n!=null?`>= ${n}`:""}${n!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,t)}const kk=xi((t,e,n)=>{if(!MS(n,t)){const i="must be one of: "+kS(pk(n,o=>typeof o=="string"?`'${o}'`:Ak(o)),", ");throw new Xl(e,t,i)}});function US(t,e){if(typeof t!="boolean")throw new gr(e,"boolean",t)}function Mm(t,e,n){return t==null||!Ek(t,e)?n:t[e]}const Dk=xi((t,e,n=null)=>{const r=Mm(n,"allowArray",!1),i=Mm(n,"allowFunction",!1);if(!Mm(n,"nullable",!1)&&t===null||!r&&$y(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new gr(e,"Object",t)}),$k=xi((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new gr(e,"a dictionary",t)}),Hy=xi((t,e,n=0)=>{if(!$y(t))throw new gr(e,"Array",t);if(t.length<n){const r=`must be longer than ${n}`;throw new Xl(e,t,r)}});function Uk(t,e){Hy(t,e);for(let n=0;n<t.length;n++)Fy(t[n],`${e}[${n}]`)}function Fk(t,e){Hy(t,e);for(let n=0;n<t.length;n++)US(t[n],`${e}[${n}]`)}function Hk(t,e="signal"){if(Fy(t,e),Nv[t]===void 0)throw Nv[vk(t)]!==void 0?new Iv(t+" (signals must use all capital letters)"):new Iv(t)}const Gk=xi((t,e="buffer")=>{if(!Rk(t))throw new gr(e,["Buffer","TypedArray","DataView"],t)});function Wk(t,e){const n=Ck(e),r=t.length;if(n==="hex"&&r%2!==0)throw new Xl("encoding",e,`is invalid for data of length ${r}`)}function jk(t,e="Port",n=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&_k(t).length===0||+t!==+t>>>0||t>65535||t===0&&!n)throw new Sk(e,t,n);return t|0}const Vk=xi((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new gr(e,"AbortSignal",t)}),zk=xi((t,e)=>{if(typeof t!="function")throw new gr(e,"Function",t)}),Jk=xi((t,e)=>{if(typeof t!="function"||xk(t))throw new gr(e,"Function",t)}),Kk=xi((t,e)=>{if(t!==void 0)throw new gr(e,"undefined",t)});function qk(t,e,n){if(!MS(n,t))throw new gr(e,`('${kS(n,"|")}')`,t)}const Qk=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Tv(t,e){if(typeof t>"u"||!DS(Qk,t))throw new Xl(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Yk(t){if(typeof t=="string")return Tv(t,"hints"),t;if($y(t)){const e=t.length;let n="";if(e===0)return n;for(let r=0;r<e;r++){const i=t[r];Tv(i,"hints"),n+=i,r!==e-1&&(n+=", ")}return n}throw new Xl("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Np={isInt32:Ik,isUint32:Nk,parseFileMode:Pk,validateArray:Hy,validateStringArray:Uk,validateBooleanArray:Fk,validateBoolean:US,validateBuffer:Gk,validateDictionary:$k,validateEncoding:Wk,validateFunction:zk,validateInt32:Lk,validateInteger:Bk,validateNumber:Mk,validateObject:Dk,validateOneOf:kk,validatePlainFunction:Jk,validatePort:jk,validateSignalName:Hk,validateString:Fy,validateUint32:$S,validateUndefined:Kk,validateUnion:qk,validateAbortSignal:Vk,validateLinkHeaderValue:Yk},Gy={exports:{}};const{Symbol:Tp,SymbolAsyncIterator:Ov,SymbolIterator:Pv,SymbolFor:FS}=mn,HS=Tp("kDestroyed"),GS=Tp("kIsErrored"),Ow=Tp("kIsReadable"),WS=Tp("kIsDisturbed"),Xk=FS("nodejs.webstream.isClosedPromise"),Zk=FS("nodejs.webstream.controllerErrorFunction");function Op(t,e=!1){var n;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((n=t._readableState)===null||n===void 0?void 0:n.readable)!==!1)&&(!t._writableState||t._readableState))}function Pp(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function e3(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ns(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function jS(t){return!!(t&&!Ns(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function VS(t){return!!(t&&!Ns(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function zS(t){return!!(t&&!Ns(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function t3(t){return jS(t)||VS(t)||zS(t)}function n3(t,e){return t==null?!1:e===!0?typeof t[Ov]=="function":e===!1?typeof t[Pv]=="function":typeof t[Ov]=="function"||typeof t[Pv]=="function"}function Bp(t){if(!Ns(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!!(t.destroyed||t[HS]||r!=null&&r.destroyed)}function JS(t){if(!Pp(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function r3(t,e){if(!Pp(t))return null;if(t.writableFinished===!0)return!0;const n=t._writableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.finished)!="boolean"?null:!!(n.finished||e===!1&&n.ended===!0&&n.length===0)}function i3(t){if(!Op(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function KS(t,e){if(!Op(t))return null;const n=t._readableState;return n!=null&&n.errored?!1:typeof(n==null?void 0:n.endEmitted)!="boolean"?null:!!(n.endEmitted||e===!1&&n.ended===!0&&n.length===0)}function qS(t){return t&&t[Ow]!=null?t[Ow]:typeof(t==null?void 0:t.readable)!="boolean"?null:Bp(t)?!1:Op(t)&&t.readable&&!KS(t)}function QS(t){return typeof(t==null?void 0:t.writable)!="boolean"?null:Bp(t)?!1:Pp(t)&&t.writable&&!JS(t)}function s3(t,e){return Ns(t)?Bp(t)?!0:!((e==null?void 0:e.readable)!==!1&&qS(t)||(e==null?void 0:e.writable)!==!1&&QS(t)):null}function o3(t){var e,n;return Ns(t)?t.writableErrored?t.writableErrored:(e=(n=t._writableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function a3(t){var e,n;return Ns(t)?t.readableErrored?t.readableErrored:(e=(n=t._readableState)===null||n===void 0?void 0:n.errored)!==null&&e!==void 0?e:null:null}function c3(t){if(!Ns(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,n=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(n==null?void 0:n.closed)=="boolean"?(e==null?void 0:e.closed)||(n==null?void 0:n.closed):typeof t._closed=="boolean"&&YS(t)?t._closed:null}function YS(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function XS(t){return typeof t._sent100=="boolean"&&YS(t)}function u3(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function l3(t){if(!Ns(t))return null;const e=t._writableState,n=t._readableState,r=e||n;return!r&&XS(t)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}function f3(t){var e;return!!(t&&((e=t[WS])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function d3(t){var e,n,r,i,o,c,u,l,d,h;return!!(t&&((e=(n=(r=(i=(o=(c=t[GS])!==null&&c!==void 0?c:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&i!==void 0?i:(u=t._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(d=t._readableState)===null||d===void 0?void 0:d.errored)!==null&&e!==void 0?e:!((h=t._writableState)===null||h===void 0)&&h.errored))}var vo={kDestroyed:HS,isDisturbed:f3,kIsDisturbed:WS,isErrored:d3,kIsErrored:GS,isReadable:qS,kIsReadable:Ow,kIsClosedPromise:Xk,kControllerErrorFunction:Zk,isClosed:c3,isDestroyed:Bp,isDuplexNodeStream:e3,isFinished:s3,isIterable:n3,isReadableNodeStream:Op,isReadableStream:jS,isReadableEnded:i3,isReadableFinished:KS,isReadableErrored:a3,isNodeStream:Ns,isWebStream:t3,isWritable:QS,isWritableNodeStream:Pp,isWritableStream:VS,isWritableEnded:JS,isWritableFinished:r3,isWritableErrored:o3,isServerRequest:u3,isServerResponse:XS,willEmitClose:l3,isTransformStream:zS};const ta=Wc,{AbortError:ZS,codes:h3}=Tr,{ERR_INVALID_ARG_TYPE:g3,ERR_STREAM_PREMATURE_CLOSE:Bv}=h3,{kEmptyObject:Pw,once:Bw}=Ao,{validateAbortSignal:p3,validateFunction:m3,validateObject:w3,validateBoolean:y3}=Np,{Promise:b3,PromisePrototypeThen:E3}=mn,{isClosed:A3,isReadable:Lv,isReadableNodeStream:km,isReadableStream:v3,isReadableFinished:Mv,isReadableErrored:kv,isWritable:Dv,isWritableNodeStream:$v,isWritableStream:_3,isWritableFinished:Uv,isWritableErrored:Fv,isNodeStream:S3,willEmitClose:C3,kIsClosedPromise:x3}=vo;function R3(t){return t.setHeader&&typeof t.abort=="function"}const Lw=()=>{};function eC(t,e,n){var r,i;if(arguments.length===2?(n=e,e=Pw):e==null?e=Pw:w3(e,"options"),m3(n,"callback"),p3(e.signal,"options.signal"),n=Bw(n),v3(t)||_3(t))return I3(t,e,n);if(!S3(t))throw new g3("stream",["ReadableStream","WritableStream","Stream"],t);const o=(r=e.readable)!==null&&r!==void 0?r:km(t),c=(i=e.writable)!==null&&i!==void 0?i:$v(t),u=t._writableState,l=t._readableState,d=()=>{t.writable||A()};let h=C3(t)&&km(t)===o&&$v(t)===c,p=Uv(t,!1);const A=()=>{p=!0,t.destroyed&&(h=!1),!(h&&(!t.readable||o))&&(!o||b)&&n.call(t)};let b=Mv(t,!1);const S=()=>{b=!0,t.destroyed&&(h=!1),!(h&&(!t.writable||c))&&(!c||p)&&n.call(t)},N=se=>{n.call(t,se)};let M=A3(t);const $=()=>{M=!0;const se=Fv(t)||kv(t);if(se&&typeof se!="boolean")return n.call(t,se);if(o&&!b&&km(t,!0)&&!Mv(t,!1))return n.call(t,new Bv);if(c&&!p&&!Uv(t,!1))return n.call(t,new Bv);n.call(t)},C=()=>{M=!0;const se=Fv(t)||kv(t);if(se&&typeof se!="boolean")return n.call(t,se);n.call(t)},ee=()=>{t.req.on("finish",A)};R3(t)?(t.on("complete",A),h||t.on("abort",$),t.req?ee():t.on("request",ee)):c&&!u&&(t.on("end",d),t.on("close",d)),!h&&typeof t.aborted=="boolean"&&t.on("aborted",$),t.on("end",S),t.on("finish",A),e.error!==!1&&t.on("error",N),t.on("close",$),M?ta.nextTick($):u!=null&&u.errorEmitted||l!=null&&l.errorEmitted?h||ta.nextTick(C):(!o&&(!h||Lv(t))&&(p||Dv(t)===!1)||!c&&(!h||Dv(t))&&(b||Lv(t)===!1)||l&&t.req&&t.aborted)&&ta.nextTick(C);const ae=()=>{n=Lw,t.removeListener("aborted",$),t.removeListener("complete",A),t.removeListener("abort",$),t.removeListener("request",ee),t.req&&t.req.removeListener("finish",A),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",A),t.removeListener("end",S),t.removeListener("error",N),t.removeListener("close",$)};if(e.signal&&!M){const se=()=>{const V=n;ae(),V.call(t,new ZS(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ta.nextTick(se);else{const V=n;n=Bw((...Y)=>{e.signal.removeEventListener("abort",se),V.apply(t,Y)}),e.signal.addEventListener("abort",se)}}return ae}function I3(t,e,n){let r=!1,i=Lw;if(e.signal)if(i=()=>{r=!0,n.call(t,new ZS(void 0,{cause:e.signal.reason}))},e.signal.aborted)ta.nextTick(i);else{const c=n;n=Bw((...u)=>{e.signal.removeEventListener("abort",i),c.apply(t,u)}),e.signal.addEventListener("abort",i)}const o=(...c)=>{r||ta.nextTick(()=>n.apply(t,c))};return E3(t[x3].promise,o,o),Lw}function N3(t,e){var n;let r=!1;return e===null&&(e=Pw),(n=e)!==null&&n!==void 0&&n.cleanup&&(y3(e.cleanup,"cleanup"),r=e.cleanup),new b3((i,o)=>{const c=eC(t,e,u=>{r&&c(),u?o(u):i()})})}Gy.exports=eC;Gy.exports.finished=N3;var Ra=Gy.exports;const Rs=Wc,{aggregateTwoErrors:T3,codes:{ERR_MULTIPLE_CALLBACK:O3},AbortError:P3}=Tr,{Symbol:tC}=mn,{kDestroyed:B3,isDestroyed:L3,isFinished:M3,isServerRequest:k3}=vo,nC=tC("kDestroy"),Mw=tC("kConstruct");function rC(t,e,n){t&&(t.stack,e&&!e.errored&&(e.errored=t),n&&!n.errored&&(n.errored=t))}function D3(t,e){const n=this._readableState,r=this._writableState,i=r||n;return r!=null&&r.destroyed||n!=null&&n.destroyed?(typeof e=="function"&&e(),this):(rC(t,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?Hv(this,t,e):this.once(nC,function(o){Hv(this,T3(o,t),e)}),this)}function Hv(t,e,n){let r=!1;function i(o){if(r)return;r=!0;const c=t._readableState,u=t._writableState;rC(o,u,c),u&&(u.closed=!0),c&&(c.closed=!0),typeof n=="function"&&n(o),o?Rs.nextTick($3,t,o):Rs.nextTick(iC,t)}try{t._destroy(e||null,i)}catch(o){i(o)}}function $3(t,e){kw(t,e),iC(t)}function iC(t){const e=t._readableState,n=t._writableState;n&&(n.closeEmitted=!0),e&&(e.closeEmitted=!0),(n!=null&&n.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function kw(t,e){const n=t._readableState,r=t._writableState;r!=null&&r.errorEmitted||n!=null&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),t.emit("error",e))}function U3(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Dw(t,e,n){const r=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),r&&!r.errored&&(r.errored=e),n?Rs.nextTick(kw,t,e):kw(t,e))}function F3(t,e){if(typeof t._construct!="function")return;const n=t._readableState,r=t._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),t.once(Mw,e),!(t.listenerCount(Mw)>1)&&Rs.nextTick(H3,t)}function H3(t){let e=!1;function n(r){if(e){Dw(t,r??new O3);return}e=!0;const i=t._readableState,o=t._writableState,c=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),c.destroyed?t.emit(nC,r):r?Dw(t,r,!0):Rs.nextTick(G3,t)}try{t._construct(r=>{Rs.nextTick(n,r)})}catch(r){Rs.nextTick(n,r)}}function G3(t){t.emit(Mw)}function Gv(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function sC(t){t.emit("close")}function W3(t,e){t.emit("error",e),Rs.nextTick(sC,t)}function j3(t,e){!t||L3(t)||(!e&&!M3(t)&&(e=new P3),k3(t)?(t.socket=null,t.destroy(e)):Gv(t)?t.abort():Gv(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Rs.nextTick(W3,t,e):Rs.nextTick(sC,t),t.destroyed||(t[B3]=!0))}var Zl={construct:F3,destroyer:j3,destroy:D3,undestroy:U3,errorOrDestroy:Dw},Wy={exports:{}},Ku=typeof Reflect=="object"?Reflect:null,Wv=Ku&&typeof Ku.apply=="function"?Ku.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},xg;Ku&&typeof Ku.ownKeys=="function"?xg=Ku.ownKeys:Object.getOwnPropertySymbols?xg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:xg=function(e){return Object.getOwnPropertyNames(e)};function V3(t){console&&console.warn&&console.warn(t)}var oC=Number.isNaN||function(e){return e!==e};function Tt(){Tt.init.call(this)}Wy.exports=Tt;Wy.exports.once=q3;Tt.EventEmitter=Tt;Tt.prototype._events=void 0;Tt.prototype._eventsCount=0;Tt.prototype._maxListeners=void 0;var jv=10;function Lp(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Tt,"defaultMaxListeners",{enumerable:!0,get:function(){return jv},set:function(t){if(typeof t!="number"||t<0||oC(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");jv=t}});Tt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Tt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||oC(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function aC(t){return t._maxListeners===void 0?Tt.defaultMaxListeners:t._maxListeners}Tt.prototype.getMaxListeners=function(){return aC(this)};Tt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")Wv(l,this,n);else for(var d=l.length,h=dC(l,d),r=0;r<d;++r)Wv(h[r],this,n);return!0};function cC(t,e,n,r){var i,o,c;if(Lp(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),c=o[e]),c===void 0)c=o[e]=n,++t._eventsCount;else if(typeof c=="function"?c=o[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),i=aC(t),i>0&&c.length>i&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=c.length,V3(u)}return t}Tt.prototype.addListener=function(e,n){return cC(this,e,n,!1)};Tt.prototype.on=Tt.prototype.addListener;Tt.prototype.prependListener=function(e,n){return cC(this,e,n,!0)};function z3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function uC(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=z3.bind(r);return i.listener=n,r.wrapFn=i,i}Tt.prototype.once=function(e,n){return Lp(n),this.on(e,uC(this,e,n)),this};Tt.prototype.prependOnceListener=function(e,n){return Lp(n),this.prependListener(e,uC(this,e,n)),this};Tt.prototype.removeListener=function(e,n){var r,i,o,c,u;if(Lp(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,c=r.length-1;c>=0;c--)if(r[c]===n||r[c].listener===n){u=r[c].listener,o=c;break}if(o<0)return this;o===0?r.shift():J3(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||n)}return this};Tt.prototype.off=Tt.prototype.removeListener;Tt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),c;for(i=0;i<o.length;++i)c=o[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function lC(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?K3(i):dC(i,i.length)}Tt.prototype.listeners=function(e){return lC(this,e,!0)};Tt.prototype.rawListeners=function(e){return lC(this,e,!1)};Tt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):fC.call(t,e)};Tt.prototype.listenerCount=fC;function fC(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Tt.prototype.eventNames=function(){return this._eventsCount>0?xg(this._events):[]};function dC(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function J3(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function K3(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function q3(t,e){return new Promise(function(n,r){function i(c){t.removeListener(e,o),r(c)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}hC(t,e,o,{once:!0}),e!=="error"&&Q3(t,i,{once:!0})})}function Q3(t,e,n){typeof t.on=="function"&&hC(t,"error",e,n)}function hC(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ef=Wy.exports;const Dz=Zi(ef),{ArrayIsArray:Y3,ObjectSetPrototypeOf:gC}=mn,{EventEmitter:Mp}=ef;function kp(t){Mp.call(this,t)}gC(kp.prototype,Mp.prototype);gC(kp,Mp);kp.prototype.pipe=function(t,e){const n=this;function r(h){t.writable&&t.write(h)===!1&&n.pause&&n.pause()}n.on("data",r);function i(){n.readable&&n.resume&&n.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(n.on("end",c),n.on("close",u));let o=!1;function c(){o||(o=!0,t.end())}function u(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function l(h){d(),Mp.listenerCount(this,"error")===0&&this.emit("error",h)}$w(n,"error",l),$w(t,"error",l);function d(){n.removeListener("data",r),t.removeListener("drain",i),n.removeListener("end",c),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",d),n.removeListener("close",d),t.removeListener("close",d)}return n.on("end",d),n.on("close",d),t.on("close",d),t.emit("pipe",n),t};function $w(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);!t._events||!t._events[e]?t.on(e,n):Y3(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]}var jy={Stream:kp,prependListener:$w},pC={exports:{}};(function(t){const{AbortError:e,codes:n}=Tr,{isNodeStream:r,isWebStream:i,kControllerErrorFunction:o}=vo,c=Ra,{ERR_INVALID_ARG_TYPE:u}=n,l=(d,h)=>{if(typeof d!="object"||!("aborted"in d))throw new u(h,"AbortSignal",d)};t.exports.addAbortSignal=function(h,p){if(l(h,"signal"),!r(p)&&!i(p))throw new u("stream",["ReadableStream","WritableStream","Stream"],p);return t.exports.addAbortSignalNoValidate(h,p)},t.exports.addAbortSignalNoValidate=function(d,h){if(typeof d!="object"||!("aborted"in d))return h;const p=r(h)?()=>{h.destroy(new e(void 0,{cause:d.reason}))}:()=>{h[o](new e(void 0,{cause:d.reason}))};return d.aborted?p():(d.addEventListener("abort",p),c(h,()=>d.removeEventListener("abort",p))),h}})(pC);var Dp=pC.exports;const{StringPrototypeSlice:Vv,SymbolIterator:X3,TypedArrayPrototypeSet:sg,Uint8Array:Z3}=mn,{Buffer:Dm}=xa,{inspect:eD}=Ao;var tD=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const n={data:e,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}unshift(e){const n={data:e,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let n=this.head,r=""+n.data;for(;(n=n.next)!==null;)r+=e+n.data;return r}concat(e){if(this.length===0)return Dm.alloc(0);const n=Dm.allocUnsafe(e>>>0);let r=this.head,i=0;for(;r;)sg(n,r.data,i),i+=r.data.length,r=r.next;return n}consume(e,n){const r=this.head.data;if(e<r.length){const i=r.slice(0,e);return this.head.data=r.slice(e),i}return e===r.length?this.shift():n?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[X3](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let n="",r=this.head,i=0;do{const o=r.data;if(e>o.length)n+=o,e-=o.length;else{e===o.length?(n+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(n+=Vv(o,0,e),this.head=r,r.data=Vv(o,e));break}++i}while((r=r.next)!==null);return this.length-=i,n}_getBuffer(e){const n=Dm.allocUnsafe(e),r=e;let i=this.head,o=0;do{const c=i.data;if(e>c.length)sg(n,c,r-e),e-=c.length;else{e===c.length?(sg(n,c,r-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(sg(n,new Z3(c.buffer,c.byteOffset,e),r-e),this.head=i,i.data=c.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,n}[Symbol.for("nodejs.util.inspect.custom")](e,n){return eD(this,{...n,depth:0,customInspect:!1})}};const{MathFloor:nD,NumberIsInteger:rD}=mn,{ERR_INVALID_ARG_VALUE:iD}=Tr.codes;function sD(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}function mC(t){return t?16:16*1024}function oD(t,e,n,r){const i=sD(e,r,n);if(i!=null){if(!rD(i)||i<0){const o=r?`options.${n}`:"options.highWaterMark";throw new iD(o,i)}return nD(i)}return mC(t.objectMode)}var Vy={getHighWaterMark:oD,getDefaultHighWaterMark:mC},wC={},Uw={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=xa,r=n.Buffer;function i(c,u){for(var l in c)u[l]=c[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(c,u,l){return r(c,u,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(c,u,l){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,u,l)},o.alloc=function(c,u,l){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=r(c);return u!==void 0?typeof l=="string"?d.fill(u,l):d.fill(u):d.fill(0),d},o.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},o.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(Uw,Uw.exports);var aD=Uw.exports,zy=aD.Buffer,zv=zy.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function cD(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function uD(t){var e=cD(t);if(typeof e!="string"&&(zy.isEncoding===zv||!zv(t)))throw new Error("Unknown encoding: "+t);return e||t}wC.StringDecoder=rh;function rh(t){this.encoding=uD(t);var e;switch(this.encoding){case"utf16le":this.text=pD,this.end=mD,e=4;break;case"utf8":this.fillLast=dD,e=4;break;case"base64":this.text=wD,this.end=yD,e=3;break;default:this.write=bD,this.end=ED;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=zy.allocUnsafe(e)}rh.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};rh.prototype.end=gD;rh.prototype.text=hD;rh.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function $m(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function lD(t,e,n){var r=e.length-1;if(r<n)return 0;var i=$m(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||i===-2?0:(i=$m(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||i===-2?0:(i=$m(e[r]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function fD(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function dD(t){var e=this.lastTotal-this.lastNeed,n=fD(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function hD(t,e){var n=lD(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function gD(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function pD(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function mD(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function wD(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function yD(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function bD(t){return t.toString(this.encoding)}function ED(t){return t&&t.length?this.write(t):""}const Jv=Wc,{PromisePrototypeThen:AD,SymbolAsyncIterator:Kv,SymbolIterator:qv}=mn,{Buffer:vD}=xa,{ERR_INVALID_ARG_TYPE:_D,ERR_STREAM_NULL_VALUES:SD}=Tr.codes;function CD(t,e,n){let r;if(typeof e=="string"||e instanceof vD)return new t({objectMode:!0,...n,read(){this.push(e),this.push(null)}});let i;if(e&&e[Kv])i=!0,r=e[Kv]();else if(e&&e[qv])i=!1,r=e[qv]();else throw new _D("iterable",["Iterable"],e);const o=new t({objectMode:!0,highWaterMark:1,...n});let c=!1;o._read=function(){c||(c=!0,l())},o._destroy=function(d,h){AD(u(d),()=>Jv.nextTick(h,d),p=>Jv.nextTick(h,p||d))};async function u(d){const h=d!=null,p=typeof r.throw=="function";if(h&&p){const{value:A,done:b}=await r.throw(d);if(await A,b)return}if(typeof r.return=="function"){const{value:A}=await r.return();await A}}async function l(){for(;;){try{const{value:d,done:h}=i?await r.next():r.next();if(h)o.push(null);else{const p=d&&typeof d.then=="function"?await d:d;if(p===null)throw c=!1,new SD;if(o.push(p))continue;c=!1}}catch(d){o.destroy(d)}break}}return o}var yC=CD,Um,Qv;function $p(){if(Qv)return Um;Qv=1;const t=Wc,{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:c,ObjectSetPrototypeOf:u,Promise:l,SafeSet:d,SymbolAsyncIterator:h,Symbol:p}=mn;Um=z,z.ReadableState=j;const{EventEmitter:A}=ef,{Stream:b,prependListener:S}=jy,{Buffer:N}=xa,{addAbortSignal:M}=Dp,$=Ra;let C=Ao.debuglog("stream",U=>{C=U});const ee=tD,ae=Zl,{getHighWaterMark:se,getDefaultHighWaterMark:V}=Vy,{aggregateTwoErrors:Y,codes:{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:v,ERR_STREAM_PUSH_AFTER_EOF:I,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:P}}=Tr,{validateObject:R}=Np,D=p("kPaused"),{StringDecoder:m}=wC,E=yC;u(z.prototype,b.prototype),u(z,b);const B=()=>{},{errorOrDestroy:k}=ae;function j(U,G,_e){typeof _e!="boolean"&&(_e=G instanceof yo()),this.objectMode=!!(U&&U.objectMode),_e&&(this.objectMode=this.objectMode||!!(U&&U.readableObjectMode)),this.highWaterMark=U?se(this,U,"readableHighWaterMark",_e):V(!1),this.buffer=new ee,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!U||U.emitClose!==!1,this.autoDestroy=!U||U.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=U&&U.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,U&&U.encoding&&(this.decoder=new m(U.encoding),this.encoding=U.encoding)}function z(U){if(!(this instanceof z))return new z(U);const G=this instanceof yo();this._readableState=new j(U,this,G),U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.construct=="function"&&(this._construct=U.construct),U.signal&&!G&&M(U.signal,this)),b.call(this,U),ae.construct(this,()=>{this._readableState.needReadable&&tt(this,this._readableState)})}z.prototype.destroy=ae.destroy,z.prototype._undestroy=ae.undestroy,z.prototype._destroy=function(U,G){G(U)},z.prototype[A.captureRejectionSymbol]=function(U){this.destroy(U)},z.prototype.push=function(U,G){return te(this,U,G,!1)},z.prototype.unshift=function(U,G){return te(this,U,G,!0)};function te(U,G,_e,ve){C("readableAddChunk",G);const Ne=U._readableState;let ft;if(Ne.objectMode||(typeof G=="string"?(_e=_e||Ne.defaultEncoding,Ne.encoding!==_e&&(ve&&Ne.encoding?G=N.from(G,_e).toString(Ne.encoding):(G=N.from(G,_e),_e=""))):G instanceof N?_e="":b._isUint8Array(G)?(G=b._uint8ArrayToBuffer(G),_e=""):G!=null&&(ft=new w("chunk",["string","Buffer","Uint8Array"],G))),ft)k(U,ft);else if(G===null)Ne.reading=!1,Be(U,Ne);else if(Ne.objectMode||G&&G.length>0)if(ve)if(Ne.endEmitted)k(U,new P);else{if(Ne.destroyed||Ne.errored)return!1;he(U,Ne,G,!0)}else if(Ne.ended)k(U,new I);else{if(Ne.destroyed||Ne.errored)return!1;Ne.reading=!1,Ne.decoder&&!_e?(G=Ne.decoder.write(G),Ne.objectMode||G.length!==0?he(U,Ne,G,!1):tt(U,Ne)):he(U,Ne,G,!1)}else ve||(Ne.reading=!1,tt(U,Ne));return!Ne.ended&&(Ne.length<Ne.highWaterMark||Ne.length===0)}function he(U,G,_e,ve){G.flowing&&G.length===0&&!G.sync&&U.listenerCount("data")>0?(G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null,G.dataEmitted=!0,U.emit("data",_e)):(G.length+=G.objectMode?1:_e.length,ve?G.buffer.unshift(_e):G.buffer.push(_e),G.needReadable&&He(U)),tt(U,G)}z.prototype.isPaused=function(){const U=this._readableState;return U[D]===!0||U.flowing===!1},z.prototype.setEncoding=function(U){const G=new m(U);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;const _e=this._readableState.buffer;let ve="";for(const Ne of _e)ve+=G.write(Ne);return _e.clear(),ve!==""&&_e.push(ve),this._readableState.length=ve.length,this};const Ee=1073741824;function Ce(U){if(U>Ee)throw new v("size","<= 1GiB",U);return U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++,U}function be(U,G){return U<=0||G.length===0&&G.ended?0:G.objectMode?1:r(U)?G.flowing&&G.length?G.buffer.first().length:G.length:U<=G.length?U:G.ended?G.length:0}z.prototype.read=function(U){C("read",U),U===void 0?U=NaN:n(U)||(U=i(U,10));const G=this._readableState,_e=U;if(U>G.highWaterMark&&(G.highWaterMark=Ce(U)),U!==0&&(G.emittedReadable=!1),U===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return C("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?Ut(this):He(this),null;if(U=be(U,G),U===0&&G.ended)return G.length===0&&Ut(this),null;let ve=G.needReadable;if(C("need readable",ve),(G.length===0||G.length-U<G.highWaterMark)&&(ve=!0,C("length less than watermark",ve)),G.ended||G.reading||G.destroyed||G.errored||!G.constructed)ve=!1,C("reading, ended or constructing",ve);else if(ve){C("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0);try{this._read(G.highWaterMark)}catch(ft){k(this,ft)}G.sync=!1,G.reading||(U=be(_e,G))}let Ne;return U>0?Ne=_t(U,G):Ne=null,Ne===null?(G.needReadable=G.length<=G.highWaterMark,U=0):(G.length-=U,G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null),G.length===0&&(G.ended||(G.needReadable=!0),_e!==U&&G.ended&&Ut(this)),Ne!==null&&!G.errorEmitted&&!G.closeEmitted&&(G.dataEmitted=!0,this.emit("data",Ne)),Ne};function Be(U,G){if(C("onEofChunk"),!G.ended){if(G.decoder){const _e=G.decoder.end();_e&&_e.length&&(G.buffer.push(_e),G.length+=G.objectMode?1:_e.length)}G.ended=!0,G.sync?He(U):(G.needReadable=!1,G.emittedReadable=!0,qe(U))}}function He(U){const G=U._readableState;C("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(C("emitReadable",G.flowing),G.emittedReadable=!0,t.nextTick(qe,U))}function qe(U){const G=U._readableState;C("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&!G.errored&&(G.length||G.ended)&&(U.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,Ie(U)}function tt(U,G){!G.readingMore&&G.constructed&&(G.readingMore=!0,t.nextTick(vt,U,G))}function vt(U,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){const _e=G.length;if(C("maybeReadMore read 0"),U.read(0),_e===G.length)break}G.readingMore=!1}z.prototype._read=function(U){throw new x("_read()")},z.prototype.pipe=function(U,G){const _e=this,ve=this._readableState;ve.pipes.length===1&&(ve.multiAwaitDrain||(ve.multiAwaitDrain=!0,ve.awaitDrainWriters=new d(ve.awaitDrainWriters?[ve.awaitDrainWriters]:[]))),ve.pipes.push(U),C("pipe count=%d opts=%j",ve.pipes.length,G);const ft=(!G||G.end!==!1)&&U!==t.stdout&&U!==t.stderr?qr:Pr;ve.endEmitted?t.nextTick(ft):_e.once("end",ft),U.on("unpipe",qt);function qt(bn,Tn){C("onunpipe"),bn===_e&&Tn&&Tn.hasUnpiped===!1&&(Tn.hasUnpiped=!0,Qr())}function qr(){C("onend"),U.end()}let $n,Ii=!1;function Qr(){C("cleanup"),U.removeListener("close",Un),U.removeListener("finish",ss),$n&&U.removeListener("drain",$n),U.removeListener("error",Os),U.removeListener("unpipe",qt),_e.removeListener("end",qr),_e.removeListener("end",Pr),_e.removeListener("data",wr),Ii=!0,$n&&ve.awaitDrainWriters&&(!U._writableState||U._writableState.needDrain)&&$n()}function Nn(){Ii||(ve.pipes.length===1&&ve.pipes[0]===U?(C("false write response, pause",0),ve.awaitDrainWriters=U,ve.multiAwaitDrain=!1):ve.pipes.length>1&&ve.pipes.includes(U)&&(C("false write response, pause",ve.awaitDrainWriters.size),ve.awaitDrainWriters.add(U)),_e.pause()),$n||($n=gt(_e,U),U.on("drain",$n))}_e.on("data",wr);function wr(bn){C("ondata");const Tn=U.write(bn);C("dest.write",Tn),Tn===!1&&Nn()}function Os(bn){if(C("onerror",bn),Pr(),U.removeListener("error",Os),U.listenerCount("error")===0){const Tn=U._writableState||U._readableState;Tn&&!Tn.errorEmitted?k(U,bn):U.emit("error",bn)}}S(U,"error",Os);function Un(){U.removeListener("finish",ss),Pr()}U.once("close",Un);function ss(){C("onfinish"),U.removeListener("close",Un),Pr()}U.once("finish",ss);function Pr(){C("unpipe"),_e.unpipe(U)}return U.emit("pipe",_e),U.writableNeedDrain===!0?ve.flowing&&Nn():ve.flowing||(C("pipe resume"),_e.resume()),U};function gt(U,G){return function(){const ve=U._readableState;ve.awaitDrainWriters===G?(C("pipeOnDrain",1),ve.awaitDrainWriters=null):ve.multiAwaitDrain&&(C("pipeOnDrain",ve.awaitDrainWriters.size),ve.awaitDrainWriters.delete(G)),(!ve.awaitDrainWriters||ve.awaitDrainWriters.size===0)&&U.listenerCount("data")&&U.resume()}}z.prototype.unpipe=function(U){const G=this._readableState,_e={hasUnpiped:!1};if(G.pipes.length===0)return this;if(!U){const Ne=G.pipes;G.pipes=[],this.pause();for(let ft=0;ft<Ne.length;ft++)Ne[ft].emit("unpipe",this,{hasUnpiped:!1});return this}const ve=e(G.pipes,U);return ve===-1?this:(G.pipes.splice(ve,1),G.pipes.length===0&&this.pause(),U.emit("unpipe",this,_e),this)},z.prototype.on=function(U,G){const _e=b.prototype.on.call(this,U,G),ve=this._readableState;return U==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):U==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,C("on readable",ve.length,ve.reading),ve.length?He(this):ve.reading||t.nextTick(q,this)),_e},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(U,G){const _e=b.prototype.removeListener.call(this,U,G);return U==="readable"&&t.nextTick(st,this),_e},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(U){const G=b.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&t.nextTick(st,this),G};function st(U){const G=U._readableState;G.readableListening=U.listenerCount("readable")>0,G.resumeScheduled&&G[D]===!1?G.flowing=!0:U.listenerCount("data")>0?U.resume():G.readableListening||(G.flowing=null)}function q(U){C("readable nexttick read 0"),U.read(0)}z.prototype.resume=function(){const U=this._readableState;return U.flowing||(C("resume"),U.flowing=!U.readableListening,Q(this,U)),U[D]=!1,this};function Q(U,G){G.resumeScheduled||(G.resumeScheduled=!0,t.nextTick(ue,U,G))}function ue(U,G){C("resume",G.reading),G.reading||U.read(0),G.resumeScheduled=!1,U.emit("resume"),Ie(U),G.flowing&&!G.reading&&U.read(0)}z.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this};function Ie(U){const G=U._readableState;for(C("flow",G.flowing);G.flowing&&U.read()!==null;);}z.prototype.wrap=function(U){let G=!1;U.on("data",ve=>{!this.push(ve)&&U.pause&&(G=!0,U.pause())}),U.on("end",()=>{this.push(null)}),U.on("error",ve=>{k(this,ve)}),U.on("close",()=>{this.destroy()}),U.on("destroy",()=>{this.destroy()}),this._read=()=>{G&&U.resume&&(G=!1,U.resume())};const _e=c(U);for(let ve=1;ve<_e.length;ve++){const Ne=_e[ve];this[Ne]===void 0&&typeof U[Ne]=="function"&&(this[Ne]=U[Ne].bind(U))}return this},z.prototype[h]=function(){return Re(this)},z.prototype.iterator=function(U){return U!==void 0&&R(U,"options"),Re(this,U)};function Re(U,G){typeof U.read!="function"&&(U=z.wrap(U,{objectMode:!0}));const _e=mt(U,G);return _e.stream=U,_e}async function*mt(U,G){let _e=B;function ve(qt){this===U?(_e(),_e=B):_e=qt}U.on("readable",ve);let Ne;const ft=$(U,{writable:!1},qt=>{Ne=qt?Y(Ne,qt):null,_e(),_e=B});try{for(;;){const qt=U.destroyed?null:U.read();if(qt!==null)yield qt;else{if(Ne)throw Ne;if(Ne===null)return;await new l(ve)}}}catch(qt){throw Ne=Y(Ne,qt),Ne}finally{(Ne||(G==null?void 0:G.destroyOnReturn)!==!1)&&(Ne===void 0||U._readableState.autoDestroy)?ae.destroyer(U,null):(U.off("readable",ve),ft())}}o(z.prototype,{readable:{__proto__:null,get(){const U=this._readableState;return!!U&&U.readable!==!1&&!U.destroyed&&!U.errorEmitted&&!U.endEmitted},set(U){this._readableState&&(this._readableState.readable=!!U)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(U){this._readableState&&(this._readableState.destroyed=U)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(j.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[D]!==!1},set(U){this[D]=!!U}}}),z._fromList=_t;function _t(U,G){if(G.length===0)return null;let _e;return G.objectMode?_e=G.buffer.shift():!U||U>=G.length?(G.decoder?_e=G.buffer.join(""):G.buffer.length===1?_e=G.buffer.first():_e=G.buffer.concat(G.length),G.buffer.clear()):_e=G.buffer.consume(U,G.decoder),_e}function Ut(U){const G=U._readableState;C("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,t.nextTick(Dt,G,U))}function Dt(U,G){if(C("endReadableNT",U.endEmitted,U.length),!U.errored&&!U.closeEmitted&&!U.endEmitted&&U.length===0){if(U.endEmitted=!0,G.emit("end"),G.writable&&G.allowHalfOpen===!1)t.nextTick(yn,G);else if(U.autoDestroy){const _e=G._writableState;(!_e||_e.autoDestroy&&(_e.finished||_e.writable===!1))&&G.destroy()}}}function yn(U){U.writable&&!U.writableEnded&&!U.destroyed&&U.end()}z.from=function(U,G){return E(z,U,G)};let Lt;function Ts(){return Lt===void 0&&(Lt={}),Lt}return z.fromWeb=function(U,G){return Ts().newStreamReadableFromReadableStream(U,G)},z.toWeb=function(U,G){return Ts().newReadableStreamFromStreamReadable(U,G)},z.wrap=function(U,G){var _e,ve;return new z({objectMode:(_e=(ve=U.readableObjectMode)!==null&&ve!==void 0?ve:U.objectMode)!==null&&_e!==void 0?_e:!0,...G,destroy(Ne,ft){ae.destroyer(U,Ne),ft(Ne)}}).wrap(U)},Um}var Fm,Yv;function bC(){if(Yv)return Fm;Yv=1;const t=Wc,{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:u,Symbol:l,SymbolHasInstance:d}=mn;Fm=m,m.WritableState=R;const{EventEmitter:h}=ef,p=jy.Stream,{Buffer:A}=xa,b=Zl,{addAbortSignal:S}=Dp,{getHighWaterMark:N,getDefaultHighWaterMark:M}=Vy,{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:ee,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:se,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:Y,ERR_STREAM_WRITE_AFTER_END:w,ERR_UNKNOWN_ENCODING:x}=Tr.codes,{errorOrDestroy:v}=b;c(m.prototype,p.prototype),c(m,p);function I(){}const P=l("kOnFinished");function R(q,Q,ue){typeof ue!="boolean"&&(ue=Q instanceof yo()),this.objectMode=!!(q&&q.objectMode),ue&&(this.objectMode=this.objectMode||!!(q&&q.writableObjectMode)),this.highWaterMark=q?N(this,q,"writableHighWaterMark",ue):M(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Ie=!!(q&&q.decodeStrings===!1);this.decodeStrings=!Ie,this.defaultEncoding=q&&q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=z.bind(void 0,Q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!q||q.emitClose!==!1,this.autoDestroy=!q||q.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function D(q){q.buffered=[],q.bufferedIndex=0,q.allBuffers=!0,q.allNoop=!0}R.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(R.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function m(q){const Q=this instanceof yo();if(!Q&&!r(m,this))return new m(q);this._writableState=new R(q,this,Q),q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final),typeof q.construct=="function"&&(this._construct=q.construct),q.signal&&S(q.signal,this)),p.call(this,q),b.construct(this,()=>{const ue=this._writableState;ue.writing||Ce(this,ue),qe(this,ue)})}i(m,d,{__proto__:null,value:function(q){return r(this,q)?!0:this!==m?!1:q&&q._writableState instanceof R}}),m.prototype.pipe=function(){v(this,new ae)};function E(q,Q,ue,Ie){const Re=q._writableState;if(typeof ue=="function")Ie=ue,ue=Re.defaultEncoding;else{if(!ue)ue=Re.defaultEncoding;else if(ue!=="buffer"&&!A.isEncoding(ue))throw new x(ue);typeof Ie!="function"&&(Ie=I)}if(Q===null)throw new Y;if(!Re.objectMode)if(typeof Q=="string")Re.decodeStrings!==!1&&(Q=A.from(Q,ue),ue="buffer");else if(Q instanceof A)ue="buffer";else if(p._isUint8Array(Q))Q=p._uint8ArrayToBuffer(Q),ue="buffer";else throw new $("chunk",["string","Buffer","Uint8Array"],Q);let mt;return Re.ending?mt=new w:Re.destroyed&&(mt=new se("write")),mt?(t.nextTick(Ie,mt),v(q,mt,!0),mt):(Re.pendingcb++,B(q,Re,Q,ue,Ie))}m.prototype.write=function(q,Q,ue){return E(this,q,Q,ue)===!0},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){const q=this._writableState;q.corked&&(q.corked--,q.writing||Ce(this,q))},m.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=u(Q)),!A.isEncoding(Q))throw new x(Q);return this._writableState.defaultEncoding=Q,this};function B(q,Q,ue,Ie,Re){const mt=Q.objectMode?1:ue.length;Q.length+=mt;const _t=Q.length<Q.highWaterMark;return _t||(Q.needDrain=!0),Q.writing||Q.corked||Q.errored||!Q.constructed?(Q.buffered.push({chunk:ue,encoding:Ie,callback:Re}),Q.allBuffers&&Ie!=="buffer"&&(Q.allBuffers=!1),Q.allNoop&&Re!==I&&(Q.allNoop=!1)):(Q.writelen=mt,Q.writecb=Re,Q.writing=!0,Q.sync=!0,q._write(ue,Ie,Q.onwrite),Q.sync=!1),_t&&!Q.errored&&!Q.destroyed}function k(q,Q,ue,Ie,Re,mt,_t){Q.writelen=Ie,Q.writecb=_t,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new se("write")):ue?q._writev(Re,Q.onwrite):q._write(Re,mt,Q.onwrite),Q.sync=!1}function j(q,Q,ue,Ie){--Q.pendingcb,Ie(ue),Ee(Q),v(q,ue)}function z(q,Q){const ue=q._writableState,Ie=ue.sync,Re=ue.writecb;if(typeof Re!="function"){v(q,new ee);return}ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0,Q?(Q.stack,ue.errored||(ue.errored=Q),q._readableState&&!q._readableState.errored&&(q._readableState.errored=Q),Ie?t.nextTick(j,q,ue,Q,Re):j(q,ue,Q,Re)):(ue.buffered.length>ue.bufferedIndex&&Ce(q,ue),Ie?ue.afterWriteTickInfo!==null&&ue.afterWriteTickInfo.cb===Re?ue.afterWriteTickInfo.count++:(ue.afterWriteTickInfo={count:1,cb:Re,stream:q,state:ue},t.nextTick(te,ue.afterWriteTickInfo)):he(q,ue,1,Re))}function te({stream:q,state:Q,count:ue,cb:Ie}){return Q.afterWriteTickInfo=null,he(q,Q,ue,Ie)}function he(q,Q,ue,Ie){for(!Q.ending&&!q.destroyed&&Q.length===0&&Q.needDrain&&(Q.needDrain=!1,q.emit("drain"));ue-- >0;)Q.pendingcb--,Ie();Q.destroyed&&Ee(Q),qe(q,Q)}function Ee(q){if(q.writing)return;for(let Re=q.bufferedIndex;Re<q.buffered.length;++Re){var Q;const{chunk:mt,callback:_t}=q.buffered[Re],Ut=q.objectMode?1:mt.length;q.length-=Ut,_t((Q=q.errored)!==null&&Q!==void 0?Q:new se("write"))}const ue=q[P].splice(0);for(let Re=0;Re<ue.length;Re++){var Ie;ue[Re]((Ie=q.errored)!==null&&Ie!==void 0?Ie:new se("end"))}D(q)}function Ce(q,Q){if(Q.corked||Q.bufferProcessing||Q.destroyed||!Q.constructed)return;const{buffered:ue,bufferedIndex:Ie,objectMode:Re}=Q,mt=ue.length-Ie;if(!mt)return;let _t=Ie;if(Q.bufferProcessing=!0,mt>1&&q._writev){Q.pendingcb-=mt-1;const Ut=Q.allNoop?I:yn=>{for(let Lt=_t;Lt<ue.length;++Lt)ue[Lt].callback(yn)},Dt=Q.allNoop&&_t===0?ue:e(ue,_t);Dt.allBuffers=Q.allBuffers,k(q,Q,!0,Q.length,Dt,"",Ut),D(Q)}else{do{const{chunk:Ut,encoding:Dt,callback:yn}=ue[_t];ue[_t++]=null;const Lt=Re?1:Ut.length;k(q,Q,!1,Lt,Ut,Dt,yn)}while(_t<ue.length&&!Q.writing);_t===ue.length?D(Q):_t>256?(ue.splice(0,_t),Q.bufferedIndex=0):Q.bufferedIndex=_t}Q.bufferProcessing=!1}m.prototype._write=function(q,Q,ue){if(this._writev)this._writev([{chunk:q,encoding:Q}],ue);else throw new C("_write()")},m.prototype._writev=null,m.prototype.end=function(q,Q,ue){const Ie=this._writableState;typeof q=="function"?(ue=q,q=null,Q=null):typeof Q=="function"&&(ue=Q,Q=null);let Re;if(q!=null){const mt=E(this,q,Q);mt instanceof n&&(Re=mt)}return Ie.corked&&(Ie.corked=1,this.uncork()),Re||(!Ie.errored&&!Ie.ending?(Ie.ending=!0,qe(this,Ie,!0),Ie.ended=!0):Ie.finished?Re=new V("end"):Ie.destroyed&&(Re=new se("end"))),typeof ue=="function"&&(Re||Ie.finished?t.nextTick(ue,Re):Ie[P].push(ue)),this};function be(q){return q.ending&&!q.destroyed&&q.constructed&&q.length===0&&!q.errored&&q.buffered.length===0&&!q.finished&&!q.writing&&!q.errorEmitted&&!q.closeEmitted}function Be(q,Q){let ue=!1;function Ie(Re){if(ue){v(q,Re??ee());return}if(ue=!0,Q.pendingcb--,Re){const mt=Q[P].splice(0);for(let _t=0;_t<mt.length;_t++)mt[_t](Re);v(q,Re,Q.sync)}else be(Q)&&(Q.prefinished=!0,q.emit("prefinish"),Q.pendingcb++,t.nextTick(tt,q,Q))}Q.sync=!0,Q.pendingcb++;try{q._final(Ie)}catch(Re){Ie(Re)}Q.sync=!1}function He(q,Q){!Q.prefinished&&!Q.finalCalled&&(typeof q._final=="function"&&!Q.destroyed?(Q.finalCalled=!0,Be(q,Q)):(Q.prefinished=!0,q.emit("prefinish")))}function qe(q,Q,ue){be(Q)&&(He(q,Q),Q.pendingcb===0&&(ue?(Q.pendingcb++,t.nextTick((Ie,Re)=>{be(Re)?tt(Ie,Re):Re.pendingcb--},q,Q)):be(Q)&&(Q.pendingcb++,tt(q,Q))))}function tt(q,Q){Q.pendingcb--,Q.finished=!0;const ue=Q[P].splice(0);for(let Ie=0;Ie<ue.length;Ie++)ue[Ie]();if(q.emit("finish"),Q.autoDestroy){const Ie=q._readableState;(!Ie||Ie.autoDestroy&&(Ie.endEmitted||Ie.readable===!1))&&q.destroy()}}o(m.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(q){this._writableState&&(this._writableState.destroyed=q)}},writable:{__proto__:null,get(){const q=this._writableState;return!!q&&q.writable!==!1&&!q.destroyed&&!q.errored&&!q.ending&&!q.ended},set(q){this._writableState&&(this._writableState.writable=!!q)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const q=this._writableState;return q?!q.destroyed&&!q.ending&&q.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const vt=b.destroy;m.prototype.destroy=function(q,Q){const ue=this._writableState;return!ue.destroyed&&(ue.bufferedIndex<ue.buffered.length||ue[P].length)&&t.nextTick(Ee,ue),vt.call(this,q,Q),this},m.prototype._undestroy=b.undestroy,m.prototype._destroy=function(q,Q){Q(q)},m.prototype[h.captureRejectionSymbol]=function(q){this.destroy(q)};let gt;function st(){return gt===void 0&&(gt={}),gt}return m.fromWeb=function(q,Q){return st().newStreamWritableFromWritableStream(q,Q)},m.toWeb=function(q){return st().newWritableStreamFromStreamWritable(q)},Fm}var Hm,Xv;function xD(){if(Xv)return Hm;Xv=1;const t=Wc,e=xa,{isReadable:n,isWritable:r,isIterable:i,isNodeStream:o,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:l}=vo,d=Ra,{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:A}}=Tr,{destroyer:b}=Zl,S=yo(),N=$p(),{createDeferredPromise:M}=Ao,$=yC,C=globalThis.Blob||e.Blob,ee=typeof C<"u"?function(v){return v instanceof C}:function(v){return!1},ae=globalThis.AbortController||Dy().AbortController,{FunctionPrototypeCall:se}=mn;class V extends S{constructor(v){super(v),(v==null?void 0:v.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(v==null?void 0:v.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Hm=function x(v,I){if(l(v))return v;if(c(v))return w({readable:v});if(u(v))return w({writable:v});if(o(v))return w({writable:!1,readable:!1});if(typeof v=="function"){const{value:R,write:D,final:m,destroy:E}=Y(v);if(i(R))return $(V,R,{objectMode:!0,write:D,final:m,destroy:E});const B=R==null?void 0:R.then;if(typeof B=="function"){let k;const j=se(B,R,z=>{if(z!=null)throw new A("nully","body",z)},z=>{b(k,z)});return k=new V({objectMode:!0,readable:!1,write:D,final(z){m(async()=>{try{await j,t.nextTick(z,null)}catch(te){t.nextTick(z,te)}})},destroy:E})}throw new A("Iterable, AsyncIterable or AsyncFunction",I,R)}if(ee(v))return x(v.arrayBuffer());if(i(v))return $(V,v,{objectMode:!0,writable:!1});if(typeof(v==null?void 0:v.writable)=="object"||typeof(v==null?void 0:v.readable)=="object"){const R=v!=null&&v.readable?c(v==null?void 0:v.readable)?v==null?void 0:v.readable:x(v.readable):void 0,D=v!=null&&v.writable?u(v==null?void 0:v.writable)?v==null?void 0:v.writable:x(v.writable):void 0;return w({readable:R,writable:D})}const P=v==null?void 0:v.then;if(typeof P=="function"){let R;return se(P,v,D=>{D!=null&&R.push(D),R.push(null)},D=>{b(R,D)}),R=new V({objectMode:!0,writable:!1,read(){}})}throw new p(I,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],v)};function Y(x){let{promise:v,resolve:I}=M();const P=new ae,R=P.signal;return{value:x(async function*(){for(;;){const m=v;v=null;const{chunk:E,done:B,cb:k}=await m;if(t.nextTick(k),B)return;if(R.aborted)throw new h(void 0,{cause:R.reason});({promise:v,resolve:I}=M()),yield E}}(),{signal:R}),write(m,E,B){const k=I;I=null,k({chunk:m,done:!1,cb:B})},final(m){const E=I;I=null,E({done:!0,cb:m})},destroy(m,E){P.abort(),E(m)}}}function w(x){const v=x.readable&&typeof x.readable.read!="function"?N.wrap(x.readable):x.readable,I=x.writable;let P=!!n(v),R=!!r(I),D,m,E,B,k;function j(z){const te=B;B=null,te?te(z):z&&k.destroy(z)}return k=new V({readableObjectMode:!!(v!=null&&v.readableObjectMode),writableObjectMode:!!(I!=null&&I.writableObjectMode),readable:P,writable:R}),R&&(d(I,z=>{R=!1,z&&b(v,z),j(z)}),k._write=function(z,te,he){I.write(z,te)?he():D=he},k._final=function(z){I.end(),m=z},I.on("drain",function(){if(D){const z=D;D=null,z()}}),I.on("finish",function(){if(m){const z=m;m=null,z()}})),P&&(d(v,z=>{P=!1,z&&b(v,z),j(z)}),v.on("readable",function(){if(E){const z=E;E=null,z()}}),v.on("end",function(){k.push(null)}),k._read=function(){for(;;){const z=v.read();if(z===null){E=k._read;return}if(!k.push(z))return}}),k._destroy=function(z,te){!z&&B!==null&&(z=new h),E=null,D=null,m=null,B===null?te(z):(B=te,b(I,z),b(v,z))},k}return Hm}var Gm,Zv;function yo(){if(Zv)return Gm;Zv=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=mn;Gm=c;const i=$p(),o=bC();r(c.prototype,i.prototype),r(c,i);{const h=n(o.prototype);for(let p=0;p<h.length;p++){const A=h[p];c.prototype[A]||(c.prototype[A]=o.prototype[A])}}function c(h){if(!(this instanceof c))return new c(h);i.call(this,h),o.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(c.prototype,{writable:{__proto__:null,...e(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(o.prototype,"writableLength")},writableFinished:{__proto__:null,...e(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let u;function l(){return u===void 0&&(u={}),u}c.fromWeb=function(h,p){return l().newStreamDuplexFromReadableWritablePair(h,p)},c.toWeb=function(h){return l().newReadableWritablePairFromDuplex(h)};let d;return c.from=function(h){return d||(d=xD()),d(h,"body")},Gm}const{ObjectSetPrototypeOf:EC,Symbol:RD}=mn;var AC=bo;const{ERR_METHOD_NOT_IMPLEMENTED:ID}=Tr.codes,Jy=yo(),{getHighWaterMark:ND}=Vy;EC(bo.prototype,Jy.prototype);EC(bo,Jy);const fd=RD("kCallback");function bo(t){if(!(this instanceof bo))return new bo(t);const e=t?ND(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Jy.call(this,t),this._readableState.sync=!1,this[fd]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",TD)}function Fw(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,n)=>{if(e){t?t(e):this.destroy(e);return}n!=null&&this.push(n),this.push(null),t&&t()}):(this.push(null),t&&t())}function TD(){this._final!==Fw&&Fw.call(this)}bo.prototype._final=Fw;bo.prototype._transform=function(t,e,n){throw new ID("_transform()")};bo.prototype._write=function(t,e,n){const r=this._readableState,i=this._writableState,o=r.length;this._transform(t,e,(c,u)=>{if(c){n(c);return}u!=null&&this.push(u),i.ended||o===r.length||r.length<r.highWaterMark?n():this[fd]=n})};bo.prototype._read=function(){if(this[fd]){const t=this[fd];this[fd]=null,t()}};const{ObjectSetPrototypeOf:vC}=mn;var _C=Ul;const Ky=AC;vC(Ul.prototype,Ky.prototype);vC(Ul,Ky);function Ul(t){if(!(this instanceof Ul))return new Ul(t);Ky.call(this,t)}Ul.prototype._transform=function(t,e,n){n(null,t)};const ed=Wc,{ArrayIsArray:OD,Promise:PD,SymbolAsyncIterator:BD}=mn,jg=Ra,{once:LD}=Ao,MD=Zl,e1=yo(),{aggregateTwoErrors:kD,codes:{ERR_INVALID_ARG_TYPE:Hw,ERR_INVALID_RETURN_VALUE:Wm,ERR_MISSING_ARGS:DD,ERR_STREAM_DESTROYED:$D,ERR_STREAM_PREMATURE_CLOSE:UD},AbortError:FD}=Tr,{validateFunction:HD,validateAbortSignal:GD}=Np,{isIterable:Xa,isReadable:jm,isReadableNodeStream:Rg,isNodeStream:t1,isTransformStream:Lu,isWebStream:WD,isReadableStream:Vm,isReadableEnded:jD}=vo,VD=globalThis.AbortController||Dy().AbortController;let zm,Jm;function n1(t,e,n){let r=!1;t.on("close",()=>{r=!0});const i=jg(t,{readable:e,writable:n},o=>{r=!o});return{destroy:o=>{r||(r=!0,MD.destroyer(t,o||new $D("pipe")))},cleanup:i}}function zD(t){return HD(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Km(t){if(Xa(t))return t;if(Rg(t))return JD(t);throw new Hw("val",["Readable","Iterable","AsyncIterable"],t)}async function*JD(t){Jm||(Jm=$p()),yield*Jm.prototype[BD].call(t)}async function og(t,e,n,{end:r}){let i,o=null;const c=d=>{if(d&&(i=d),o){const h=o;o=null,h()}},u=()=>new PD((d,h)=>{i?h(i):o=()=>{i?h(i):d()}});e.on("drain",c);const l=jg(e,{readable:!1},c);try{e.writableNeedDrain&&await u();for await(const d of t)e.write(d)||await u();r&&e.end(),await u(),n()}catch(d){n(i!==d?kD(i,d):d)}finally{l(),e.off("drain",c)}}async function qm(t,e,n,{end:r}){Lu(e)&&(e=e.writable);const i=e.getWriter();try{for await(const o of t)await i.ready,i.write(o).catch(()=>{});await i.ready,r&&await i.close(),n()}catch(o){try{await i.abort(o),n(o)}catch(c){n(c)}}}function KD(...t){return SC(t,LD(zD(t)))}function SC(t,e,n){if(t.length===1&&OD(t[0])&&(t=t[0]),t.length<2)throw new DD("streams");const r=new VD,i=r.signal,o=n==null?void 0:n.signal,c=[];GD(o,"options.signal");function u(){b(new FD)}o==null||o.addEventListener("abort",u);let l,d;const h=[];let p=0;function A($){b($,--p===0)}function b($,C){if($&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=$),!(!l&&!C)){for(;h.length;)h.shift()(l);o==null||o.removeEventListener("abort",u),r.abort(),C&&(l||c.forEach(ee=>ee()),ed.nextTick(e,l,d))}}let S;for(let $=0;$<t.length;$++){const C=t[$],ee=$<t.length-1,ae=$>0,se=ee||(n==null?void 0:n.end)!==!1,V=$===t.length-1;if(t1(C)){let Y=function(w){w&&w.name!=="AbortError"&&w.code!=="ERR_STREAM_PREMATURE_CLOSE"&&A(w)};if(se){const{destroy:w,cleanup:x}=n1(C,ee,ae);h.push(w),jm(C)&&V&&c.push(x)}C.on("error",Y),jm(C)&&V&&c.push(()=>{C.removeListener("error",Y)})}if($===0)if(typeof C=="function"){if(S=C({signal:i}),!Xa(S))throw new Wm("Iterable, AsyncIterable or Stream","source",S)}else Xa(C)||Rg(C)||Lu(C)?S=C:S=e1.from(C);else if(typeof C=="function"){if(Lu(S)){var N;S=Km((N=S)===null||N===void 0?void 0:N.readable)}else S=Km(S);if(S=C(S,{signal:i}),ee){if(!Xa(S,!0))throw new Wm("AsyncIterable",`transform[${$-1}]`,S)}else{var M;zm||(zm=_C);const Y=new zm({objectMode:!0}),w=(M=S)===null||M===void 0?void 0:M.then;if(typeof w=="function")p++,w.call(S,I=>{d=I,I!=null&&Y.write(I),se&&Y.end(),ed.nextTick(A)},I=>{Y.destroy(I),ed.nextTick(A,I)});else if(Xa(S,!0))p++,og(S,Y,A,{end:se});else if(Vm(S)||Lu(S)){const I=S.readable||S;p++,og(I,Y,A,{end:se})}else throw new Wm("AsyncIterable or Promise","destination",S);S=Y;const{destroy:x,cleanup:v}=n1(S,!1,!0);h.push(x),V&&c.push(v)}}else if(t1(C)){if(Rg(S)){p+=2;const Y=qD(S,C,A,{end:se});jm(C)&&V&&c.push(Y)}else if(Lu(S)||Vm(S)){const Y=S.readable||S;p++,og(Y,C,A,{end:se})}else if(Xa(S))p++,og(S,C,A,{end:se});else throw new Hw("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],S);S=C}else if(WD(C)){if(Rg(S))p++,qm(Km(S),C,A,{end:se});else if(Vm(S)||Xa(S))p++,qm(S,C,A,{end:se});else if(Lu(S))p++,qm(S.readable,C,A,{end:se});else throw new Hw("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],S);S=C}else S=e1.from(C)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&ed.nextTick(u),S}function qD(t,e,n,{end:r}){let i=!1;if(e.on("close",()=>{i||n(new UD)}),t.pipe(e,{end:!1}),r){let o=function(){i=!0,e.end()};jD(t)?ed.nextTick(o):t.once("end",o)}else n();return jg(t,{readable:!0,writable:!1},o=>{const c=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&c&&c.ended&&!c.errored&&!c.errorEmitted?t.once("end",n).once("error",n):n(o)}),jg(e,{readable:!1,writable:!0},n)}var qy={pipelineImpl:SC,pipeline:KD};const{pipeline:QD}=qy,ag=yo(),{destroyer:YD}=Zl,{isNodeStream:cg,isReadable:r1,isWritable:i1,isWebStream:Qm,isTransformStream:Qa,isWritableStream:s1,isReadableStream:o1}=vo,{AbortError:XD,codes:{ERR_INVALID_ARG_VALUE:a1,ERR_MISSING_ARGS:ZD}}=Tr,e$=Ra;var CC=function(...e){if(e.length===0)throw new ZD("streams");if(e.length===1)return ag.from(e[0]);const n=[...e];if(typeof e[0]=="function"&&(e[0]=ag.from(e[0])),typeof e[e.length-1]=="function"){const b=e.length-1;e[b]=ag.from(e[b])}for(let b=0;b<e.length;++b)if(!(!cg(e[b])&&!Qm(e[b]))){if(b<e.length-1&&!(r1(e[b])||o1(e[b])||Qa(e[b])))throw new a1(`streams[${b}]`,n[b],"must be readable");if(b>0&&!(i1(e[b])||s1(e[b])||Qa(e[b])))throw new a1(`streams[${b}]`,n[b],"must be writable")}let r,i,o,c,u;function l(b){const S=c;c=null,S?S(b):b?u.destroy(b):!A&&!p&&u.destroy()}const d=e[0],h=QD(e,l),p=!!(i1(d)||s1(d)||Qa(d)),A=!!(r1(h)||o1(h)||Qa(h));if(u=new ag({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(h!=null&&h.writableObjectMode),writable:p,readable:A}),p){if(cg(d))u._write=function(S,N,M){d.write(S,N)?M():r=M},u._final=function(S){d.end(),i=S},d.on("drain",function(){if(r){const S=r;r=null,S()}});else if(Qm(d)){const N=(Qa(d)?d.writable:d).getWriter();u._write=async function(M,$,C){try{await N.ready,N.write(M).catch(()=>{}),C()}catch(ee){C(ee)}},u._final=async function(M){try{await N.ready,N.close().catch(()=>{}),i=M}catch($){M($)}}}const b=Qa(h)?h.readable:h;e$(b,()=>{if(i){const S=i;i=null,S()}})}if(A){if(cg(h))h.on("readable",function(){if(o){const b=o;o=null,b()}}),h.on("end",function(){u.push(null)}),u._read=function(){for(;;){const b=h.read();if(b===null){o=u._read;return}if(!u.push(b))return}};else if(Qm(h)){const S=(Qa(h)?h.readable:h).getReader();u._read=async function(){for(;;)try{const{value:N,done:M}=await S.read();if(!u.push(N))return;if(M){u.push(null);return}}catch{return}}}}return u._destroy=function(b,S){!b&&c!==null&&(b=new XD),o=null,r=null,i=null,c===null?S(b):(c=S,cg(h)&&YD(h,b))},u};const xC=globalThis.AbortController||Dy().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t$,ERR_INVALID_ARG_TYPE:ih,ERR_MISSING_ARGS:n$,ERR_OUT_OF_RANGE:r$},AbortError:Is}=Tr,{validateAbortSignal:jc,validateInteger:i$,validateObject:Vc}=Np,s$=mn.Symbol("kWeak"),{finished:o$}=Ra,a$=CC,{addAbortSignalNoValidate:c$}=Dp,{isWritable:u$,isNodeStream:l$}=vo,{ArrayPrototypePush:f$,MathFloor:d$,Number:h$,NumberIsNaN:g$,Promise:c1,PromiseReject:u1,PromisePrototypeThen:p$,Symbol:RC}=mn,Vg=RC("kEmpty"),l1=RC("kEof");function m$(t,e){if(e!=null&&Vc(e,"options"),(e==null?void 0:e.signal)!=null&&jc(e.signal,"options.signal"),l$(t)&&!u$(t))throw new t$("stream",t,"must be writable");const n=a$(this,t);return e!=null&&e.signal&&c$(e.signal,n),n}function Up(t,e){if(typeof t!="function")throw new ih("fn",["Function","AsyncFunction"],t);e!=null&&Vc(e,"options"),(e==null?void 0:e.signal)!=null&&jc(e.signal,"options.signal");let n=1;return(e==null?void 0:e.concurrency)!=null&&(n=d$(e.concurrency)),i$(n,"concurrency",1),(async function*(){var i,o;const c=new xC,u=this,l=[],d=c.signal,h={signal:d},p=()=>c.abort();e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted&&p(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",p);let A,b,S=!1;function N(){S=!0}async function M(){try{for await(let ee of u){var $;if(S)return;if(d.aborted)throw new Is;try{ee=t(ee,h)}catch(ae){ee=u1(ae)}ee!==Vg&&(typeof(($=ee)===null||$===void 0?void 0:$.catch)=="function"&&ee.catch(N),l.push(ee),A&&(A(),A=null),!S&&l.length&&l.length>=n&&await new c1(ae=>{b=ae}))}l.push(l1)}catch(ee){const ae=u1(ee);p$(ae,void 0,N),l.push(ae)}finally{var C;S=!0,A&&(A(),A=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",p)}}M();try{for(;;){for(;l.length>0;){const $=await l[0];if($===l1)return;if(d.aborted)throw new Is;$!==Vg&&(yield $),l.shift(),b&&(b(),b=null)}await new c1($=>{A=$})}}finally{c.abort(),S=!0,b&&(b(),b=null)}}).call(this)}function w$(t=void 0){return t!=null&&Vc(t,"options"),(t==null?void 0:t.signal)!=null&&jc(t.signal,"options.signal"),(async function*(){let n=0;for await(const i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Is({cause:t.signal.reason});yield[n++,i]}}).call(this)}async function IC(t,e=void 0){for await(const n of Qy.call(this,t,e))return!0;return!1}async function y$(t,e=void 0){if(typeof t!="function")throw new ih("fn",["Function","AsyncFunction"],t);return!await IC.call(this,async(...n)=>!await t(...n),e)}async function b$(t,e){for await(const n of Qy.call(this,t,e))return n}async function E$(t,e){if(typeof t!="function")throw new ih("fn",["Function","AsyncFunction"],t);async function n(r,i){return await t(r,i),Vg}for await(const r of Up.call(this,n,e));}function Qy(t,e){if(typeof t!="function")throw new ih("fn",["Function","AsyncFunction"],t);async function n(r,i){return await t(r,i)?r:Vg}return Up.call(this,n,e)}class A$ extends n${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function v$(t,e,n){var r;if(typeof t!="function")throw new ih("reducer",["Function","AsyncFunction"],t);n!=null&&Vc(n,"options"),(n==null?void 0:n.signal)!=null&&jc(n.signal,"options.signal");let i=arguments.length>1;if(n!=null&&(r=n.signal)!==null&&r!==void 0&&r.aborted){const d=new Is(void 0,{cause:n.signal.reason});throw this.once("error",()=>{}),await o$(this.destroy(d)),d}const o=new xC,c=o.signal;if(n!=null&&n.signal){const d={once:!0,[s$]:this};n.signal.addEventListener("abort",()=>o.abort(),d)}let u=!1;try{for await(const d of this){var l;if(u=!0,n!=null&&(l=n.signal)!==null&&l!==void 0&&l.aborted)throw new Is;i?e=await t(e,d,{signal:c}):(e=d,i=!0)}if(!u&&!i)throw new A$}finally{o.abort()}return e}async function _$(t){t!=null&&Vc(t,"options"),(t==null?void 0:t.signal)!=null&&jc(t.signal,"options.signal");const e=[];for await(const r of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Is(void 0,{cause:t.signal.reason});f$(e,r)}return e}function S$(t,e){const n=Up.call(this,t,e);return(async function*(){for await(const i of n)yield*i}).call(this)}function NC(t){if(t=h$(t),g$(t))return 0;if(t<0)throw new r$("number",">= 0",t);return t}function C$(t,e=void 0){return e!=null&&Vc(e,"options"),(e==null?void 0:e.signal)!=null&&jc(e.signal,"options.signal"),t=NC(t),(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Is;for await(const o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Is;t--<=0&&(yield o)}}).call(this)}function x$(t,e=void 0){return e!=null&&Vc(e,"options"),(e==null?void 0:e.signal)!=null&&jc(e.signal,"options.signal"),t=NC(t),(async function*(){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Is;for await(const o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Is;if(t-- >0)yield o;else return}}).call(this)}ky.streamReturningOperators={asIndexedPairs:w$,drop:C$,filter:Qy,flatMap:S$,map:Up,take:x$,compose:m$};ky.promiseReturningOperators={every:y$,forEach:E$,reduce:v$,toArray:_$,some:IC,find:b$};var Ym,f1;function TC(){if(f1)return Ym;f1=1;const{ArrayPrototypePop:t,Promise:e}=mn,{isIterable:n,isNodeStream:r,isWebStream:i}=vo,{pipelineImpl:o}=qy,{finished:c}=Ra;OC();function u(...l){return new e((d,h)=>{let p,A;const b=l[l.length-1];if(b&&typeof b=="object"&&!r(b)&&!n(b)&&!i(b)){const S=t(l);p=S.signal,A=S.end}o(l,(S,N)=>{S?h(S):d(N)},{signal:p,end:A})})}return Ym={finished:c,pipeline:u},Ym}var d1;function OC(){if(d1)return Lm.exports;d1=1;const{Buffer:t}=xa,{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=mn,{promisify:{custom:i}}=Ao,{streamReturningOperators:o,promiseReturningOperators:c}=ky,{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Tr,l=CC,{pipeline:d}=qy,{destroyer:h}=Zl,p=Ra,A=TC(),b=vo,S=Lm.exports=jy.Stream;S.isDisturbed=b.isDisturbed,S.isErrored=b.isErrored,S.isReadable=b.isReadable,S.Readable=$p();for(const M of n(o)){let C=function(...ee){if(new.target)throw u();return S.Readable.from(r($,this,ee))};const $=o[M];e(C,"name",{__proto__:null,value:$.name}),e(C,"length",{__proto__:null,value:$.length}),e(S.Readable.prototype,M,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}for(const M of n(c)){let C=function(...ee){if(new.target)throw u();return r($,this,ee)};const $=c[M];e(C,"name",{__proto__:null,value:$.name}),e(C,"length",{__proto__:null,value:$.length}),e(S.Readable.prototype,M,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}S.Writable=bC(),S.Duplex=yo(),S.Transform=AC,S.PassThrough=_C,S.pipeline=d;const{addAbortSignal:N}=Dp;return S.addAbortSignal=N,S.finished=p,S.destroy=h,S.compose=l,e(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return A}}),e(d,i,{__proto__:null,enumerable:!0,get(){return A.pipeline}}),e(p,i,{__proto__:null,enumerable:!0,get(){return A.finished}}),S.Stream=S,S._isUint8Array=function($){return $ instanceof Uint8Array},S._uint8ArrayToBuffer=function($){return t.from($.buffer,$.byteOffset,$.byteLength)},Lm.exports}(function(t){const e=OC(),n=TC(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(BS);var Fp=BS.exports,PC=Ed;Ed.default=Ed;Ed.stable=MC;Ed.stableStringify=MC;var zg="[...]",BC="[Circular]",Lc=[],sc=[];function LC(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Ed(t,e,n,r){typeof r>"u"&&(r=LC()),Gw(t,"",0,[],void 0,0,r);var i;try{sc.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,kC(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Lc.length!==0;){var o=Lc.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function qu(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Lc.push([r,n,e,i])):sc.push([e,n,t]):(r[n]=t,Lc.push([r,n,e]))}function Gw(t,e,n,r,i,o,c){o+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<r.length;u++)if(r[u]===t){qu(BC,t,e,i);return}if(typeof c.depthLimit<"u"&&o>c.depthLimit){qu(zg,t,e,i);return}if(typeof c.edgesLimit<"u"&&n+1>c.edgesLimit){qu(zg,t,e,i);return}if(r.push(t),Array.isArray(t))for(u=0;u<t.length;u++)Gw(t[u],u,u,r,t,o,c);else{var l=Object.keys(t);for(u=0;u<l.length;u++){var d=l[u];Gw(t[d],d,u,r,t,o,c)}}r.pop()}}function R$(t,e){return t<e?-1:t>e?1:0}function MC(t,e,n,r){typeof r>"u"&&(r=LC());var i=Ww(t,"",0,[],void 0,0,r)||t,o;try{sc.length===0?o=JSON.stringify(i,e,n):o=JSON.stringify(i,kC(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Lc.length!==0;){var c=Lc.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return o}function Ww(t,e,n,r,i,o,c){o+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<r.length;u++)if(r[u]===t){qu(BC,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof c.depthLimit<"u"&&o>c.depthLimit){qu(zg,t,e,i);return}if(typeof c.edgesLimit<"u"&&n+1>c.edgesLimit){qu(zg,t,e,i);return}if(r.push(t),Array.isArray(t))for(u=0;u<t.length;u++)Ww(t[u],u,u,r,t,o,c);else{var l={},d=Object.keys(t).sort(R$);for(u=0;u<d.length;u++){var h=d[u];Ww(t[h],h,u,r,t,o,c),l[h]=t[h]}if(typeof i<"u")Lc.push([i,e,t]),i[e]=l;else return l}r.pop()}}function kC(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(sc.length>0)for(var r=0;r<sc.length;r++){var i=sc[r];if(i[1]===e&&i[0]===n){n=i[2],sc.splice(r,1);break}}return t.call(this,e,n)}}const DC=Zi(PC);var sn={},Mc={},fe={},tf={},ht={},Ri={},Ia={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});function I$(t,e){return t??e()}function N$(t){return Array.isArray(t)&&t.length>0}function T$(t){return t==null}function O$(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}var P$=(t,e)=>Object.hasOwnProperty.call(t,e);function B$(t){return Object.getOwnPropertyNames(t)}var $C=(t=>(t[t.Null=4]="Null",t[t.Comma=1]="Comma",t[t.Wrapper=1]="Wrapper",t[t.True=4]="True",t[t.False=5]="False",t[t.Quote=1]="Quote",t[t.Colon=1]="Colon",t[t.Date=24]="Date",t))($C||{}),UC=/"|\\|\n|\r|\t/gu;function L$(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function FC(t){return t.charCodeAt(0)<=127}function M$(t){return t.split("").reduce((n,r)=>FC(r)?n+1:n+2,0)+I$(t.match(UC),()=>[]).length}function k$(t){return t.toString().length}pr.isNonEmptyArray=N$;pr.isNullOrUndefined=T$;pr.isObject=O$;pr.hasProperty=P$;pr.getKnownPropertyNames=B$;pr.JsonSize=$C;pr.ESCAPE_CHARACTERS_REGEXP=UC;pr.isPlainObject=L$;pr.isASCII=FC;pr.calculateStringSize=M$;pr.calculateNumberSize=k$;let D$=class HC extends Error{constructor(e,{cause:n}={}){super(e),this.name=HC.name,n&&(this.cause=n),this.message=e}};const $$=Object.freeze(Object.defineProperty({__proto__:null,ErrorWithCause:D$},Symbol.toStringTag,{value:"Module"})),U$=nh($$),F$=(t,e)=>{if(!t||!e||!(t instanceof Error)||!(e.prototype instanceof Error)&&e!==Error)return;const n=new Set;let r=t;for(;r&&!n.has(r);){if(n.add(r),r instanceof e)return r;r=Hp(r)}},Hp=t=>{if(!(!t||typeof t!="object"||!("cause"in t)))if(typeof t.cause=="function"){const e=t.cause();return e instanceof Error?e:void 0}else return t.cause instanceof Error?t.cause:void 0},GC=(t,e)=>{if(!(t instanceof Error))return"";const n=t.stack||"";if(e.has(t))return n+`
causes have become circular...`;const r=Hp(t);return r?(e.add(t),n+`
caused by: `+GC(r,e)):n},H$=t=>GC(t,new Set),WC=(t,e,n)=>{if(!(t instanceof Error))return"";const r=n?"":t.message||"";if(e.has(t))return r+": ...";const i=Hp(t);if(i){e.add(t);const o="cause"in t&&typeof t.cause=="function";return r+(o?"":": ")+WC(i,e,o)}else return r},G$=t=>WC(t,new Set),W$=Object.freeze(Object.defineProperty({__proto__:null,findCauseByReference:F$,getErrorCause:Hp,messageWithCauses:G$,stackWithCauses:H$},Symbol.toStringTag,{value:"Module"})),j$=nh(W$),{ErrorWithCause:V$}=U$,{findCauseByReference:z$,getErrorCause:J$,messageWithCauses:K$,stackWithCauses:q$}=j$;var Q$={ErrorWithCause:V$,findCauseByReference:z$,getErrorCause:J$,stackWithCauses:q$,messageWithCauses:K$};Object.defineProperty(Ia,"__esModule",{value:!0});var jC=pr,Y$=Q$;function X$(t){return t instanceof Error||jC.isObject.call(void 0,t)&&t.constructor.name==="Error"}function VC(t){return typeof t=="object"&&t!==null&&"code"in t}function zC(t){return typeof t=="object"&&t!==null&&"message"in t}function Z$(t){return typeof t=="object"&&t!==null&&"stack"in t}function eU(t){return zC(t)&&typeof t.message=="string"?t.message:jC.isNullOrUndefined.call(void 0,t)?"":String(t)}function tU(t,e){if(X$(t)){const n=Error.length===2?new Error(e,{cause:t}):new Y$.ErrorWithCause(e,{cause:t});return VC(t)&&(n.code=t.code),n}return e.length>0?new Error(`${String(t)}: ${e}`):new Error(String(t))}Ia.isErrorWithCode=VC;Ia.isErrorWithMessage=zC;Ia.isErrorWithStack=Z$;Ia.getErrorMessage=eU;Ia.wrapError=tU;class JC extends TypeError{constructor(e,n){let r;const{message:i,explanation:o,...c}=e,{path:u}=e,l=u.length===0?i:`At path: ${u.join(".")} -- ${i}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function nU(t){return vi(t)&&typeof t[Symbol.iterator]=="function"}function vi(t){return typeof t=="object"&&t!=null}function h1(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function pn(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function rU(t){const{done:e,value:n}=t.next();return e?void 0:n}function iU(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:o}=e,{type:c}=n,{refinement:u,message:l=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${pn(r)}\``}=t;return{value:r,type:c,refinement:u,key:i[i.length-1],path:i,branch:o,...t,message:l}}function*jw(t,e,n,r){nU(t)||(t=[t]);for(const i of t){const o=iU(i,e,n,r);o&&(yield o)}}function*Yy(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:c=!1}=n,u={path:r,branch:i};if(o&&(t=e.coercer(t,u),c&&e.type!=="type"&&vi(e.schema)&&vi(t)&&!Array.isArray(t)))for(const d in t)e.schema[d]===void 0&&delete t[d];let l="valid";for(const d of e.validator(t,u))d.explanation=n.message,l="not_valid",yield[d,void 0];for(let[d,h,p]of e.entries(t,u)){const A=Yy(h,p,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,h],coerce:o,mask:c,message:n.message});for(const b of A)b[0]?(l=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):o&&(h=b[1],d===void 0?t=h:t instanceof Map?t.set(d,h):t instanceof Set?t.add(h):vi(t)&&(h!==void 0||d in t)&&(t[d]=h))}if(l!=="not_valid")for(const d of e.refiner(t,u))d.explanation=n.message,l="not_refined",yield[d,void 0];l==="valid"&&(yield[void 0,t])}class an{constructor(e){const{type:n,schema:r,validator:i,refiner:o,coercer:c=l=>l,entries:u=function*(){}}=e;this.type=n,this.schema=r,this.entries=u,this.coercer=c,i?this.validator=(l,d)=>{const h=i(l,d);return jw(h,d,this,l)}:this.validator=()=>[],o?this.refiner=(l,d)=>{const h=o(l,d);return jw(h,d,this,l)}:this.refiner=()=>[]}assert(e,n){return KC(e,this,n)}create(e,n){return qC(e,this,n)}is(e){return Xy(e,this)}mask(e,n){return QC(e,this,n)}validate(e,n={}){return nf(e,this,n)}}function KC(t,e,n){const r=nf(t,e,{message:n});if(r[0])throw r[0]}function qC(t,e,n){const r=nf(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function QC(t,e,n){const r=nf(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Xy(t,e){return!nf(t,e)[0]}function nf(t,e,n={}){const r=Yy(t,e,n),i=rU(r);return i[0]?[new JC(i[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function sU(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?eb(r):sh(r)}function Or(t,e){return new an({type:t,schema:null,validator:e})}function oU(t,e){return new an({...t,refiner:(n,r)=>n===void 0||t.refiner(n,r),validator(n,r){return n===void 0?!0:(e(n,r),t.validator(n,r))}})}function aU(t){return new an({type:"dynamic",schema:null,*entries(e,n){yield*t(e,n).entries(e,n)},validator(e,n){return t(e,n).validator(e,n)},coercer(e,n){return t(e,n).coercer(e,n)},refiner(e,n){return t(e,n).refiner(e,n)}})}function cU(t){let e;return new an({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator(n,r){return e??(e=t()),e.validator(n,r)},coercer(n,r){return e??(e=t()),e.coercer(n,r)},refiner(n,r){return e??(e=t()),e.refiner(n,r)}})}function uU(t,e){const{schema:n}=t,r={...n};for(const i of e)delete r[i];switch(t.type){case"type":return eb(r);default:return sh(r)}}function lU(t){const e=t instanceof an?{...t.schema}:{...t};for(const n in e)e[n]=YC(e[n]);return sh(e)}function fU(t,e){const{schema:n}=t,r={};for(const i of e)r[i]=n[i];return sh(r)}function dU(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Or(t,e)}function hU(){return Or("any",()=>!0)}function gU(t){return new an({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pn(e)}`}})}function pU(){return Or("bigint",t=>typeof t=="bigint")}function mU(){return Or("boolean",t=>typeof t=="boolean")}function wU(){return Or("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${pn(t)}`)}function yU(t){const e={},n=t.map(r=>pn(r)).join();for(const r of t)e[r]=r;return new an({type:"enums",schema:e,validator(r){return t.includes(r)||`Expected one of \`${n}\`, but received: ${pn(r)}`}})}function bU(){return Or("func",t=>typeof t=="function"||`Expected a function, but received: ${pn(t)}`)}function EU(t){return Or("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${pn(e)}`)}function AU(){return Or("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${pn(t)}`)}function vU(t){return new an({type:"intersection",schema:null,*entries(e,n){for(const r of t)yield*r.entries(e,n)},*validator(e,n){for(const r of t)yield*r.validator(e,n)},*refiner(e,n){for(const r of t)yield*r.refiner(e,n)}})}function _U(t){const e=pn(t),n=typeof t;return new an({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${pn(r)}`}})}function SU(t,e){return new an({type:"map",schema:null,*entries(n){if(t&&e&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,t],yield[r,i,e]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${pn(n)}`}})}function Zy(){return Or("never",()=>!1)}function CU(t){return new an({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function xU(){return Or("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${pn(t)}`)}function sh(t){const e=t?Object.keys(t):[],n=Zy();return new an({type:"object",schema:t||null,*entries(r){if(t&&vi(r)){const i=new Set(Object.keys(r));for(const o of e)i.delete(o),yield[o,r[o],t[o]];for(const o of i)yield[o,r[o],n]}},validator(r){return vi(r)||`Expected an object, but received: ${pn(r)}`},coercer(r){return vi(r)?{...r}:r}})}function YC(t){return new an({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function RU(t,e){return new an({type:"record",schema:null,*entries(n){if(vi(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return vi(n)||`Expected an object, but received: ${pn(n)}`}})}function IU(){return Or("regexp",t=>t instanceof RegExp)}function NU(t){return new an({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const n of e)yield[n,n,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${pn(e)}`}})}function XC(){return Or("string",t=>typeof t=="string"||`Expected a string, but received: ${pn(t)}`)}function TU(t){const e=Zy();return new an({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${pn(n)}`}})}function eb(t){const e=Object.keys(t);return new an({type:"type",schema:t,*entries(n){if(vi(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return vi(n)||`Expected an object, but received: ${pn(n)}`},coercer(n){return vi(n)?{...n}:n}})}function OU(t){const e=t.map(n=>n.type).join(" | ");return new an({type:"union",schema:null,coercer(n){for(const r of t){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of t){const[...c]=Yy(n,o,r),[u]=c;if(u[0])for(const[l]of c)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pn(n)}`,...i]}})}function ZC(){return Or("unknown",()=>!0)}function tb(t,e,n){return new an({...t,coercer:(r,i)=>Xy(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function PU(t,e,n={}){return tb(t,ZC(),r=>{const i=typeof e=="function"?e():e;if(r===void 0)return i;if(!n.strict&&h1(r)&&h1(i)){const o={...r};let c=!1;for(const u in i)o[u]===void 0&&(o[u]=i[u],c=!0);if(c)return o}return r})}function BU(t){return tb(t,XC(),e=>e.trim())}function LU(t){return zc(t,"empty",e=>{const n=ex(e);return n===0||`Expected an empty ${t.type} but received one with a size of \`${n}\``})}function ex(t){return t instanceof Map||t instanceof Set?t.size:t.length}function MU(t,e,n={}){const{exclusive:r}=n;return zc(t,"max",i=>r?i<e:i<=e||`Expected a ${t.type} less than ${r?"":"or equal to "}${e} but received \`${i}\``)}function kU(t,e,n={}){const{exclusive:r}=n;return zc(t,"min",i=>r?i>e:i>=e||`Expected a ${t.type} greater than ${r?"":"or equal to "}${e} but received \`${i}\``)}function DU(t){return zc(t,"nonempty",e=>ex(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function $U(t,e){return zc(t,"pattern",n=>e.test(n)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${n}"`)}function UU(t,e,n=e){const r=`Expected a ${t.type}`,i=e===n?`of \`${e}\``:`between \`${e}\` and \`${n}\``;return zc(t,"size",o=>{if(typeof o=="number"||o instanceof Date)return e<=o&&o<=n||`${r} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:c}=o;return e<=c&&c<=n||`${r} with a size ${i} but received one with a size of \`${c}\``}else{const{length:c}=o;return e<=c&&c<=n||`${r} with a length ${i} but received one with a length of \`${c}\``}})}function zc(t,e,n){return new an({...t,*refiner(r,i){yield*t.refiner(r,i);const o=n(r,i),c=jw(o,i,t,r);for(const u of c)yield{...u,refinement:e}}})}const FU=Object.freeze(Object.defineProperty({__proto__:null,Struct:an,StructError:JC,any:hU,array:gU,assert:KC,assign:sU,bigint:pU,boolean:mU,coerce:tb,create:qC,date:wU,defaulted:PU,define:Or,deprecated:oU,dynamic:aU,empty:LU,enums:yU,func:bU,instance:EU,integer:AU,intersection:vU,is:Xy,lazy:cU,literal:_U,map:SU,mask:QC,max:MU,min:kU,never:Zy,nonempty:DU,nullable:CU,number:xU,object:sh,omit:uU,optional:YC,partial:lU,pattern:$U,pick:fU,record:RU,refine:zc,regexp:IU,set:NU,size:UU,string:XC,struct:dU,trimmed:BU,tuple:TU,type:eb,union:OU,unknown:ZC,validate:nf},Symbol.toStringTag,{value:"Module"})),Na=nh(FU);Object.defineProperty(Ri,"__esModule",{value:!0});function HU(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...c)=>n.call(e,...c)),e=void 0)}return n}var GU=Ia,WU=Na;function jU(t){return typeof HU([t,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.constructor,"optionalAccess",e=>e.name])=="string"}function VU(t){return GU.getErrorMessage.call(void 0,t).replace(/\.$/u,"")}function tx(t,e){return jU(t)?new t({message:e}):t({message:e})}var nb=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function zU(t,e="Assertion failed.",n=nb){if(!t)throw e instanceof Error?e:tx(n,e)}function JU(t,e,n="Assertion failed",r=nb){try{WU.assert.call(void 0,t,e)}catch(i){throw tx(r,`${n}: ${VU(i)}.`)}}function KU(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Ri.AssertionError=nb;Ri.assert=zU;Ri.assertStruct=JU;Ri.assertExhaustive=KU;var kt={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.output=or.exists=or.hash=or.bytes=or.bool=or.number=void 0;function Jg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}or.number=Jg;function nx(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}or.bool=nx;function rb(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}or.bytes=rb;function rx(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jg(t.outputLen),Jg(t.blockLen)}or.hash=rx;function ix(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}or.exists=ix;function sx(t,e){rb(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}or.output=sx;const qU={number:Jg,bool:nx,bytes:rb,hash:rx,exists:ix,output:sx};or.default=qU;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.add5L=Je.add5H=Je.add4H=Je.add4L=Je.add3H=Je.add3L=Je.add=Je.rotlBL=Je.rotlBH=Je.rotlSL=Je.rotlSH=Je.rotr32L=Je.rotr32H=Je.rotrBL=Je.rotrBH=Je.rotrSL=Je.rotrSH=Je.shrSL=Je.shrSH=Je.toBig=Je.split=Je.fromBig=void 0;const ug=BigInt(2**32-1),Vw=BigInt(32);function ib(t,e=!1){return e?{h:Number(t&ug),l:Number(t>>Vw&ug)}:{h:Number(t>>Vw&ug)|0,l:Number(t&ug)|0}}Je.fromBig=ib;function ox(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:c}=ib(t[i],e);[n[i],r[i]]=[o,c]}return[n,r]}Je.split=ox;const ax=(t,e)=>BigInt(t>>>0)<<Vw|BigInt(e>>>0);Je.toBig=ax;const cx=(t,e,n)=>t>>>n;Je.shrSH=cx;const ux=(t,e,n)=>t<<32-n|e>>>n;Je.shrSL=ux;const lx=(t,e,n)=>t>>>n|e<<32-n;Je.rotrSH=lx;const fx=(t,e,n)=>t<<32-n|e>>>n;Je.rotrSL=fx;const dx=(t,e,n)=>t<<64-n|e>>>n-32;Je.rotrBH=dx;const hx=(t,e,n)=>t>>>n-32|e<<64-n;Je.rotrBL=hx;const gx=(t,e)=>e;Je.rotr32H=gx;const px=(t,e)=>t;Je.rotr32L=px;const mx=(t,e,n)=>t<<n|e>>>32-n;Je.rotlSH=mx;const wx=(t,e,n)=>e<<n|t>>>32-n;Je.rotlSL=wx;const yx=(t,e,n)=>e<<n-32|t>>>64-n;Je.rotlBH=yx;const bx=(t,e,n)=>t<<n-32|e>>>64-n;Je.rotlBL=bx;function Ex(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}Je.add=Ex;const Ax=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);Je.add3L=Ax;const vx=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;Je.add3H=vx;const _x=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);Je.add4L=_x;const Sx=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;Je.add4H=Sx;const Cx=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);Je.add5L=Cx;const xx=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0;Je.add5H=xx;const QU={fromBig:ib,split:ox,toBig:ax,shrSH:cx,shrSL:ux,rotrSH:lx,rotrSL:fx,rotrBH:dx,rotrBL:hx,rotr32H:gx,rotr32L:px,rotlSH:mx,rotlSL:wx,rotlBH:yx,rotlBL:bx,add:Ex,add3L:Ax,add3H:vx,add4L:_x,add4H:Sx,add5H:xx,add5L:Cx};Je.default=QU;var Rx={};const Ig=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,YU=Object.freeze(Object.defineProperty({__proto__:null,crypto:Ig},Symbol.toStringTag,{value:"Module"})),XU=nh(YU);(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=XU,n=V=>V instanceof Uint8Array,r=V=>new Uint8Array(V.buffer,V.byteOffset,V.byteLength);t.u8=r;const i=V=>new Uint32Array(V.buffer,V.byteOffset,Math.floor(V.byteLength/4));t.u32=i;const o=V=>new DataView(V.buffer,V.byteOffset,V.byteLength);t.createView=o;const c=(V,Y)=>V<<32-Y|V>>>Y;if(t.rotr=c,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const u=Array.from({length:256},(V,Y)=>Y.toString(16).padStart(2,"0"));function l(V){if(!n(V))throw new Error("Uint8Array expected");let Y="";for(let w=0;w<V.length;w++)Y+=u[V[w]];return Y}t.bytesToHex=l;function d(V){if(typeof V!="string")throw new Error("hex string expected, got "+typeof V);const Y=V.length;if(Y%2)throw new Error("padded hex string expected, got unpadded hex of length "+Y);const w=new Uint8Array(Y/2);for(let x=0;x<w.length;x++){const v=x*2,I=V.slice(v,v+2),P=Number.parseInt(I,16);if(Number.isNaN(P)||P<0)throw new Error("Invalid byte sequence");w[x]=P}return w}t.hexToBytes=d;const h=async()=>{};t.nextTick=h;async function p(V,Y,w){let x=Date.now();for(let v=0;v<V;v++){w(v);const I=Date.now()-x;I>=0&&I<Y||(await(0,t.nextTick)(),x+=I)}}t.asyncLoop=p;function A(V){if(typeof V!="string")throw new Error(`utf8ToBytes expected string, got ${typeof V}`);return new Uint8Array(new TextEncoder().encode(V))}t.utf8ToBytes=A;function b(V){if(typeof V=="string"&&(V=A(V)),!n(V))throw new Error(`expected Uint8Array, got ${typeof V}`);return V}t.toBytes=b;function S(...V){const Y=new Uint8Array(V.reduce((x,v)=>x+v.length,0));let w=0;return V.forEach(x=>{if(!n(x))throw new Error("Uint8Array expected");Y.set(x,w),w+=x.length}),Y}t.concatBytes=S;class N{clone(){return this._cloneInto()}}t.Hash=N;const M={}.toString;function $(V,Y){if(Y!==void 0&&M.call(Y)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(V,Y)}t.checkOpts=$;function C(V){const Y=x=>V().update(b(x)).digest(),w=V();return Y.outputLen=w.outputLen,Y.blockLen=w.blockLen,Y.create=()=>V(),Y}t.wrapConstructor=C;function ee(V){const Y=(x,v)=>V(v).update(b(x)).digest(),w=V({});return Y.outputLen=w.outputLen,Y.blockLen=w.blockLen,Y.create=x=>V(x),Y}t.wrapConstructorWithOpts=ee;function ae(V){const Y=(x,v)=>V(v).update(b(x)).digest(),w=V({});return Y.outputLen=w.outputLen,Y.blockLen=w.blockLen,Y.create=x=>V(x),Y}t.wrapXOFConstructorWithOpts=ae;function se(V=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(V));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=se})(Rx);Object.defineProperty(kt,"__esModule",{value:!0});kt.shake256=kt.shake128=kt.keccak_512=kt.keccak_384=kt.keccak_256=kt.keccak_224=kt.sha3_512=kt.sha3_384=kt.sha3_256=kt.sha3_224=kt.Keccak=kt.keccakP=void 0;const Ru=or,Ad=Je,dd=Rx,[Ix,Nx,Tx]=[[],[],[]],ZU=BigInt(0),zf=BigInt(1),e8=BigInt(2),t8=BigInt(7),n8=BigInt(256),r8=BigInt(113);for(let t=0,e=zf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ix.push(2*(5*r+n)),Nx.push((t+1)*(t+2)/2%64);let i=ZU;for(let o=0;o<7;o++)e=(e<<zf^(e>>t8)*r8)%n8,e&e8&&(i^=zf<<(zf<<BigInt(o))-zf);Tx.push(i)}const[i8,s8]=(0,Ad.split)(Tx,!0),g1=(t,e,n)=>n>32?(0,Ad.rotlBH)(t,e,n):(0,Ad.rotlSH)(t,e,n),p1=(t,e,n)=>n>32?(0,Ad.rotlBL)(t,e,n):(0,Ad.rotlSL)(t,e,n);function Ox(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,l=(c+2)%10,d=n[l],h=n[l+1],p=g1(d,h,1)^n[u],A=p1(d,h,1)^n[u+1];for(let b=0;b<50;b+=10)t[c+b]^=p,t[c+b+1]^=A}let i=t[2],o=t[3];for(let c=0;c<24;c++){const u=Nx[c],l=g1(i,o,u),d=p1(i,o,u),h=Ix[c];i=t[h],o=t[h+1],t[h]=l,t[h+1]=d}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=i8[r],t[1]^=s8[r]}n.fill(0)}kt.keccakP=Ox;let sb=class Px extends dd.Hash{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Ru.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,dd.u32)(this.state)}keccak(){Ox(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,Ru.exists)(this);const{blockLen:n,state:r}=this;e=(0,dd.toBytes)(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(n-this.pos,i-o);for(let u=0;u<c;u++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Ru.exists)(this,!1),(0,Ru.bytes)(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Ru.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Ru.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:c}=this;return e||(e=new Px(n,r,i,c,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}};kt.Keccak=sb;const Ta=(t,e,n)=>(0,dd.wrapConstructor)(()=>new sb(e,t,n));kt.sha3_224=Ta(6,144,224/8);kt.sha3_256=Ta(6,136,256/8);kt.sha3_384=Ta(6,104,384/8);kt.sha3_512=Ta(6,72,512/8);kt.keccak_224=Ta(1,144,224/8);kt.keccak_256=Ta(1,136,256/8);kt.keccak_384=Ta(1,104,384/8);kt.keccak_512=Ta(1,72,512/8);const Bx=(t,e,n)=>(0,dd.wrapXOFConstructorWithOpts)((r={})=>new sb(e,t,r.dkLen===void 0?n:r.dkLen,!0));kt.shake128=Bx(31,168,128/8);kt.shake256=Bx(31,136,256/8);var Lx={};(function(t){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0;function e(I){if(!Number.isSafeInteger(I))throw new Error(`Wrong integer: ${I}`)}t.assertNumber=e;function n(...I){const P=(m,E)=>B=>m(E(B)),R=Array.from(I).reverse().reduce((m,E)=>m?P(m,E.encode):E.encode,void 0),D=I.reduce((m,E)=>m?P(m,E.decode):E.decode,void 0);return{encode:R,decode:D}}function r(I){return{encode:P=>{if(!Array.isArray(P)||P.length&&typeof P[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return P.map(R=>{if(R<0||R>=I.length)throw new Error(`Digit index outside alphabet: ${R} (alphabet: ${I.length})`);return I[R]})},decode:P=>{if(!Array.isArray(P)||P.length&&typeof P[0]!="string")throw new Error("alphabet.decode input should be array of strings");return P.map(R=>{if(typeof R!="string")throw new Error(`alphabet.decode: not string element=${R}`);const D=I.indexOf(R);if(D===-1)throw new Error(`Unknown letter: "${R}". Allowed: ${I}`);return D})}}}function i(I=""){if(typeof I!="string")throw new Error("join separator should be string");return{encode:P=>{if(!Array.isArray(P)||P.length&&typeof P[0]!="string")throw new Error("join.encode input should be array of strings");for(let R of P)if(typeof R!="string")throw new Error(`join.encode: non-string input=${R}`);return P.join(I)},decode:P=>{if(typeof P!="string")throw new Error("join.decode input should be string");return P.split(I)}}}function o(I,P="="){if(typeof P!="string")throw new Error("padding chr should be string");return{encode(R){if(!Array.isArray(R)||R.length&&typeof R[0]!="string")throw new Error("padding.encode input should be array of strings");for(let D of R)if(typeof D!="string")throw new Error(`padding.encode: non-string input=${D}`);for(;R.length*I%8;)R.push(P);return R},decode(R){if(!Array.isArray(R)||R.length&&typeof R[0]!="string")throw new Error("padding.encode input should be array of strings");for(let m of R)if(typeof m!="string")throw new Error(`padding.decode: non-string input=${m}`);let D=R.length;if(D*I%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;D>0&&R[D-1]===P;D--)if(!((D-1)*I%8))throw new Error("Invalid padding: string has too much padding");return R.slice(0,D)}}}function c(I){if(typeof I!="function")throw new Error("normalize fn should be function");return{encode:P=>P,decode:P=>I(P)}}function u(I,P,R){if(P<2)throw new Error(`convertRadix: wrong from=${P}, base cannot be less than 2`);if(R<2)throw new Error(`convertRadix: wrong to=${R}, base cannot be less than 2`);if(!Array.isArray(I))throw new Error("convertRadix: data should be array");if(!I.length)return[];let D=0;const m=[],E=Array.from(I);for(E.forEach(B=>{if(B<0||B>=P)throw new Error(`Wrong integer: ${B}`)});;){let B=0,k=!0;for(let j=D;j<E.length;j++){const z=E[j],te=P*B+z;if(!Number.isSafeInteger(te)||P*B/P!==B||te-z!==P*B)throw new Error("convertRadix: carry overflow");B=te%R;const he=Math.floor(te/R);if(E[j]=he,!Number.isSafeInteger(he)||he*R+B!==te)throw new Error("convertRadix: carry overflow");if(k)he?k=!1:D=j;else continue}if(m.push(B),k)break}for(let B=0;B<I.length-1&&I[B]===0;B++)m.push(0);return m.reverse()}const l=(I,P)=>P?l(P,I%P):I,d=(I,P)=>I+(P-l(I,P));function h(I,P,R,D){if(!Array.isArray(I))throw new Error("convertRadix2: data should be array");if(P<=0||P>32)throw new Error(`convertRadix2: wrong from=${P}`);if(R<=0||R>32)throw new Error(`convertRadix2: wrong to=${R}`);if(d(P,R)>32)throw new Error(`convertRadix2: carry overflow from=${P} to=${R} carryBits=${d(P,R)}`);let m=0,E=0;const B=2**R-1,k=[];for(const j of I){if(j>=2**P)throw new Error(`convertRadix2: invalid data word=${j} from=${P}`);if(m=m<<P|j,E+P>32)throw new Error(`convertRadix2: carry overflow pos=${E} from=${P}`);for(E+=P;E>=R;E-=R)k.push((m>>E-R&B)>>>0);m&=2**E-1}if(m=m<<R-E&B,!D&&E>=P)throw new Error("Excess padding");if(!D&&m)throw new Error(`Non-zero padding: ${m}`);return D&&E>0&&k.push(m>>>0),k}function p(I){return{encode:P=>{if(!(P instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(P),2**8,I)},decode:P=>{if(!Array.isArray(P)||P.length&&typeof P[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(P,I,2**8))}}}function A(I,P=!1){if(I<=0||I>32)throw new Error("radix2: bits should be in (0..32]");if(d(8,I)>32||d(I,8)>32)throw new Error("radix2: carry overflow");return{encode:R=>{if(!(R instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(R),8,I,!P)},decode:R=>{if(!Array.isArray(R)||R.length&&typeof R[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(R,I,8,P))}}}function b(I){if(typeof I!="function")throw new Error("unsafeWrapper fn should be function");return function(...P){try{return I.apply(null,P)}catch{}}}function S(I,P){if(typeof P!="function")throw new Error("checksum fn should be function");return{encode(R){if(!(R instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const D=P(R).slice(0,I),m=new Uint8Array(R.length+I);return m.set(R),m.set(D,R.length),m},decode(R){if(!(R instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const D=R.slice(0,-I),m=P(D).slice(0,I),E=R.slice(-I);for(let B=0;B<I;B++)if(m[B]!==E[B])throw new Error("Invalid checksum");return D}}}t.utils={alphabet:r,chain:n,checksum:S,radix:p,radix2:A,join:i,padding:o},t.base16=n(A(4),r("0123456789ABCDEF"),i("")),t.base32=n(A(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),i("")),t.base32hex=n(A(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),i("")),t.base32crockford=n(A(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),c(I=>I.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=n(A(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),i("")),t.base64url=n(A(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),i("")),t.base64urlnopad=n(A(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),i(""));const N=I=>n(p(58),r(I),i(""));t.base58=N("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=N("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=N("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const M=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(I){let P="";for(let R=0;R<I.length;R+=8){const D=I.subarray(R,R+8);P+=t.base58.encode(D).padStart(M[D.length],"1")}return P},decode(I){let P=[];for(let R=0;R<I.length;R+=11){const D=I.slice(R,R+11),m=M.indexOf(D.length),E=t.base58.decode(D);for(let B=0;B<E.length-m;B++)if(E[B]!==0)throw new Error("base58xmr: wrong padding");P=P.concat(Array.from(E.slice(E.length-m)))}return Uint8Array.from(P)}};const $=I=>n(S(4,P=>I(I(P))),t.base58);t.base58check=$;const C=n(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),ee=[996825010,642813549,513874426,1027748829,705979059];function ae(I){const P=I>>25;let R=(I&33554431)<<5;for(let D=0;D<ee.length;D++)(P>>D&1)===1&&(R^=ee[D]);return R}function se(I,P,R=1){const D=I.length;let m=1;for(let E=0;E<D;E++){const B=I.charCodeAt(E);if(B<33||B>126)throw new Error(`Invalid prefix (${I})`);m=ae(m)^B>>5}m=ae(m);for(let E=0;E<D;E++)m=ae(m)^I.charCodeAt(E)&31;for(let E of P)m=ae(m)^E;for(let E=0;E<6;E++)m=ae(m);return m^=R,C.encode(h([m%2**30],30,5,!1))}function V(I){const P=I==="bech32"?1:734539939,R=A(5),D=R.decode,m=R.encode,E=b(D);function B(te,he,Ee=90){if(typeof te!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof te}`);if(!Array.isArray(he)||he.length&&typeof he[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof he}`);const Ce=te.length+7+he.length;if(Ee!==!1&&Ce>Ee)throw new TypeError(`Length ${Ce} exceeds limit ${Ee}`);const be=te.toLowerCase(),Be=se(be,he,P);return`${be}1${C.encode(he)}${Be}`}function k(te,he=90){if(typeof te!="string")throw new Error(`bech32.decode input should be string, not ${typeof te}`);if(te.length<8||he!==!1&&te.length>he)throw new TypeError(`Wrong string length: ${te.length} (${te}). Expected (8..${he})`);const Ee=te.toLowerCase();if(te!==Ee&&te!==te.toUpperCase())throw new Error("String must be lowercase or uppercase");te=Ee;const Ce=te.lastIndexOf("1");if(Ce===0||Ce===-1)throw new Error('Letter "1" must be present between prefix and data only');const be=te.slice(0,Ce),Be=te.slice(Ce+1);if(Be.length<6)throw new Error("Data must be at least 6 characters long");const He=C.decode(Be).slice(0,-6),qe=se(be,He,P);if(!Be.endsWith(qe))throw new Error(`Invalid checksum in ${te}: expected "${qe}"`);return{prefix:be,words:He}}const j=b(k);function z(te){const{prefix:he,words:Ee}=k(te,!1);return{prefix:he,words:Ee,bytes:D(Ee)}}return{encode:B,decode:k,decodeToBytes:z,decodeUnsafe:j,fromWords:D,fromWordsUnsafe:E,toWords:m}}t.bech32=V("bech32"),t.bech32m=V("bech32m"),t.utf8={encode:I=>new TextDecoder().decode(I),decode:I=>new TextEncoder().encode(I)},t.hex=n(A(4),r("0123456789abcdef"),i(""),c(I=>{if(typeof I!="string"||I.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof I} with length ${I.length}`);return I.toLowerCase()}));const Y={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},w="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",x=(I,P)=>{if(typeof I!="string"||!Y.hasOwnProperty(I))throw new TypeError(w);if(!(P instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return Y[I].encode(P)};t.bytesToString=x,t.str=t.bytesToString;const v=(I,P)=>{if(!Y.hasOwnProperty(I))throw new TypeError(w);if(typeof P!="string")throw new TypeError("stringToBytes() expects string");return Y[I].decode(P)};t.stringToBytes=v,t.bytes=t.stringToBytes})(Lx);Object.defineProperty(ht,"__esModule",{value:!0});function o8(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...c)=>n.call(e,...c)),e=void 0)}return n}var xn=Ri,a8=kt,fr=Na,Mx=Lx,m1=48,w1=58,y1=87;function c8(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}var u8=c8();function ob(t){return t instanceof Uint8Array}function Jc(t){xn.assert.call(void 0,ob(t),"Value must be a Uint8Array.")}function ab(t){if(Jc(t),t.length===0)return"0x";const e=u8(),n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return qx(n.join(""))}function kx(t){Jc(t);const e=ab(t);return BigInt(e)}function l8(t){Jc(t);let e=BigInt(0);for(const n of t)e=(e<<BigInt(8))+BigInt(n);return BigInt.asIntN(t.length*8,e)}function f8(t){Jc(t);const e=kx(t);return xn.assert.call(void 0,e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}function d8(t){return Jc(t),new TextDecoder().decode(t)}function h8(t){return Jc(t),Mx.base64.encode(t)}function Gp(t){if(o8([t,"optionalAccess",i=>i.toLowerCase,"optionalCall",i=>i()])==="0x")return new Uint8Array;zx(t);const e=Kg(t).toLowerCase(),n=e.length%2===0?e:`0${e}`,r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=n.charCodeAt(i*2),c=n.charCodeAt(i*2+1),u=o-(o<w1?m1:y1),l=c-(c<w1?m1:y1);r[i]=u*16+l}return r}function Dx(t){xn.assert.call(void 0,typeof t=="bigint","Value must be a bigint."),xn.assert.call(void 0,t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Gp(e)}function g8(t,e){xn.assert.call(void 0,e>0);const n=t>>BigInt(31);return!((~t&n)+(t&~n)>>BigInt(e*8+-1))}function p8(t,e){xn.assert.call(void 0,typeof t=="bigint","Value must be a bigint."),xn.assert.call(void 0,typeof e=="number","Byte length must be a number."),xn.assert.call(void 0,e>0,"Byte length must be greater than 0."),xn.assert.call(void 0,g8(t,e),"Byte length is too small to represent the given value.");let n=t;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()}function $x(t){xn.assert.call(void 0,typeof t=="number","Value must be a number."),xn.assert.call(void 0,t>=0,"Value must be a non-negative number."),xn.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Gp(e)}function Ux(t){return xn.assert.call(void 0,typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}function m8(t){return xn.assert.call(void 0,typeof t=="string","Value must be a string."),Mx.base64.decode(t)}function Fx(t){if(typeof t=="bigint")return Dx(t);if(typeof t=="number")return $x(t);if(typeof t=="string")return t.startsWith("0x")?Gp(t):Ux(t);if(ob(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}function w8(t){const e=new Array(t.length);let n=0;for(let i=0;i<t.length;i++){const o=Fx(t[i]);e[i]=o,n+=o.length}const r=new Uint8Array(n);for(let i=0,o=0;i<e.length;i++)r.set(e[i],o),o+=e[i].length;return r}function y8(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}var Hx=fr.pattern.call(void 0,fr.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),Gx=fr.pattern.call(void 0,fr.string.call(void 0),/^0x[0-9a-f]+$/iu),Wx=fr.pattern.call(void 0,fr.string.call(void 0),/^0x[0-9a-f]{40}$/u),cb=fr.pattern.call(void 0,fr.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function jx(t){return fr.is.call(void 0,t,Hx)}function Vx(t){return fr.is.call(void 0,t,Gx)}function zx(t){xn.assert.call(void 0,jx(t),"Value must be a hexadecimal string.")}function b8(t){xn.assert.call(void 0,Vx(t),'Value must be a hexadecimal string, starting with "0x".')}function E8(t){return fr.is.call(void 0,t,Wx)||Kx(t)}function Jx(t){xn.assert.call(void 0,fr.is.call(void 0,t,cb),"Invalid hex address.");const e=Kg(t.toLowerCase()),n=Kg(ab(a8.keccak_256.call(void 0,e)));return`0x${e.split("").map((r,i)=>{const o=n[i];return xn.assert.call(void 0,fr.is.call(void 0,o,fr.string.call(void 0)),"Hash shorter than address."),parseInt(o,16)>7?r.toUpperCase():r}).join("")}`}function Kx(t){return fr.is.call(void 0,t,cb)?Jx(t)===t:!1}function qx(t){return t.startsWith("0x")?t:t.startsWith("0X")?`0x${t.substring(2)}`:`0x${t}`}function Kg(t){return t.startsWith("0x")||t.startsWith("0X")?t.substring(2):t}ht.HexStruct=Hx;ht.StrictHexStruct=Gx;ht.HexAddressStruct=Wx;ht.HexChecksumAddressStruct=cb;ht.isHexString=jx;ht.isStrictHexString=Vx;ht.assertIsHexString=zx;ht.assertIsStrictHexString=b8;ht.isValidHexAddress=E8;ht.getChecksumAddress=Jx;ht.isValidChecksumAddress=Kx;ht.add0x=qx;ht.remove0x=Kg;ht.isBytes=ob;ht.assertIsBytes=Jc;ht.bytesToHex=ab;ht.bytesToBigInt=kx;ht.bytesToSignedBigInt=l8;ht.bytesToNumber=f8;ht.bytesToString=d8;ht.bytesToBase64=h8;ht.hexToBytes=Gp;ht.bigIntToBytes=Dx;ht.signedBigIntToBytes=p8;ht.numberToBytes=$x;ht.stringToBytes=Ux;ht.base64ToBytes=m8;ht.valueToBytes=Fx;ht.concatBytes=w8;ht.createDataView=y8;Object.defineProperty(tf,"__esModule",{value:!0});var vd=ht,Qu=Ri,A8=t=>(Qu.assert.call(void 0,typeof t=="number","Value must be a number."),Qu.assert.call(void 0,t>=0,"Value must be a non-negative number."),Qu.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),vd.add0x.call(void 0,t.toString(16))),v8=t=>(Qu.assert.call(void 0,typeof t=="bigint","Value must be a bigint."),Qu.assert.call(void 0,t>=0,"Value must be a non-negative bigint."),vd.add0x.call(void 0,t.toString(16))),_8=t=>{vd.assertIsHexString.call(void 0,t);const e=parseInt(t,16);return Qu.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e},S8=t=>(vd.assertIsHexString.call(void 0,t),BigInt(vd.add0x.call(void 0,t)));tf.numberToHex=A8;tf.bigIntToHex=v8;tf.hexToNumber=_8;tf.hexToBigInt=S8;var oh={};Object.defineProperty(oh,"__esModule",{value:!0});var Qx=(t=>(t[t.Millisecond=1]="Millisecond",t[t.Second=1e3]="Second",t[t.Minute=6e4]="Minute",t[t.Hour=36e5]="Hour",t[t.Day=864e5]="Day",t[t.Week=6048e5]="Week",t[t.Year=31536e6]="Year",t))(Qx||{}),C8=t=>Number.isInteger(t)&&t>=0,Yx=(t,e)=>{if(!C8(t))throw new Error(`"${e}" must be a non-negative integer. Received: "${t}".`)};function x8(t,e){return Yx(t,"count"),t*e}function R8(t){return Yx(t,"timestamp"),Date.now()-t}oh.Duration=Qx;oh.inMilliseconds=x8;oh.timeSince=R8;var es={},zw={exports:{}};const I8="2.0.0",Xx=256,N8=Number.MAX_SAFE_INTEGER||9007199254740991,T8=16,O8=Xx-6,P8=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Wp={MAX_LENGTH:Xx,MAX_SAFE_COMPONENT_LENGTH:T8,MAX_SAFE_BUILD_LENGTH:O8,MAX_SAFE_INTEGER:N8,RELEASE_TYPES:P8,SEMVER_SPEC_VERSION:I8,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const B8=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var jp=B8;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Wp,o=jp;e=t.exports={};const c=e.re=[],u=e.safeRe=[],l=e.src=[],d=e.t={};let h=0;const p="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",i],[p,r]],b=N=>{for(const[M,$]of A)N=N.split(`${M}*`).join(`${M}{0,${$}}`).split(`${M}+`).join(`${M}{1,${$}}`);return N},S=(N,M,$)=>{const C=b(M),ee=h++;o(N,ee,M),d[N]=ee,l[ee]=M,c[ee]=new RegExp(M,$?"g":void 0),u[ee]=new RegExp(C,$?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),S("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${l[d.NUMERICIDENTIFIER]}|${l[d.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NUMERICIDENTIFIERLOOSE]}|${l[d.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${p}+`),S("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),S("FULL",`^${l[d.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),S("LOOSE",`^${l[d.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),S("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),S("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),S("COERCERTL",l[d.COERCE],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",S("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",S("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(zw,zw.exports);var ah=zw.exports;const L8=Object.freeze({loose:!0}),M8=Object.freeze({}),k8=t=>t?typeof t!="object"?L8:t:M8;var ub=k8;const b1=/^[0-9]+$/,Zx=(t,e)=>{const n=b1.test(t),r=b1.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},D8=(t,e)=>Zx(e,t);var eR={compareIdentifiers:Zx,rcompareIdentifiers:D8};const lg=jp,{MAX_LENGTH:E1,MAX_SAFE_INTEGER:fg}=Wp,{safeRe:A1,t:v1}=ah,$8=ub,{compareIdentifiers:Iu}=eR;let U8=class ps{constructor(e,n){if(n=$8(n),e instanceof ps){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>E1)throw new TypeError(`version is longer than ${E1} characters`);lg("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?A1[v1.LOOSE]:A1[v1.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>fg||this.major<0)throw new TypeError("Invalid major version");if(this.minor>fg||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>fg||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<fg)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(lg("SemVer.compare",this.version,this.options,e),!(e instanceof ps)){if(typeof e=="string"&&e===this.version)return 0;e=new ps(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ps||(e=new ps(e,this.options)),Iu(this.major,e.major)||Iu(this.minor,e.minor)||Iu(this.patch,e.patch)}comparePre(e){if(e instanceof ps||(e=new ps(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(lg("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Iu(r,i)}while(++n)}compareBuild(e){e instanceof ps||(e=new ps(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(lg("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Iu(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Iu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var mr=U8;const _1=mr,F8=(t,e,n=!1)=>{if(t instanceof _1)return t;try{return new _1(t,e)}catch(r){if(!n)return null;throw r}};var rf=F8;const H8=rf,G8=(t,e)=>{const n=H8(t,e);return n?n.version:null};var W8=G8;const j8=rf,V8=(t,e)=>{const n=j8(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var z8=V8;const S1=mr,J8=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new S1(t instanceof S1?t.version:t,n).inc(e,r,i).version}catch{return null}};var K8=J8;const C1=rf,q8=(t,e)=>{const n=C1(t,null,!0),r=C1(e,null,!0),i=n.compare(r);if(i===0)return null;const o=i>0,c=o?n:r,u=o?r:n,l=!!c.prerelease.length;if(!!u.prerelease.length&&!l)return!u.patch&&!u.minor?"major":c.patch?"patch":c.minor?"minor":"major";const h=l?"pre":"";return n.major!==r.major?h+"major":n.minor!==r.minor?h+"minor":n.patch!==r.patch?h+"patch":"prerelease"};var Q8=q8;const Y8=mr,X8=(t,e)=>new Y8(t,e).major;var Z8=X8;const eF=mr,tF=(t,e)=>new eF(t,e).minor;var nF=tF;const rF=mr,iF=(t,e)=>new rF(t,e).patch;var sF=iF;const oF=rf,aF=(t,e)=>{const n=oF(t,e);return n&&n.prerelease.length?n.prerelease:null};var cF=aF;const x1=mr,uF=(t,e,n)=>new x1(t,n).compare(new x1(e,n));var ts=uF;const lF=ts,fF=(t,e,n)=>lF(e,t,n);var dF=fF;const hF=ts,gF=(t,e)=>hF(t,e,!0);var pF=gF;const R1=mr,mF=(t,e,n)=>{const r=new R1(t,n),i=new R1(e,n);return r.compare(i)||r.compareBuild(i)};var lb=mF;const wF=lb,yF=(t,e)=>t.sort((n,r)=>wF(n,r,e));var bF=yF;const EF=lb,AF=(t,e)=>t.sort((n,r)=>EF(r,n,e));var vF=AF;const _F=ts,SF=(t,e,n)=>_F(t,e,n)>0;var Vp=SF;const CF=ts,xF=(t,e,n)=>CF(t,e,n)<0;var fb=xF;const RF=ts,IF=(t,e,n)=>RF(t,e,n)===0;var tR=IF;const NF=ts,TF=(t,e,n)=>NF(t,e,n)!==0;var nR=TF;const OF=ts,PF=(t,e,n)=>OF(t,e,n)>=0;var db=PF;const BF=ts,LF=(t,e,n)=>BF(t,e,n)<=0;var hb=LF;const MF=tR,kF=nR,DF=Vp,$F=db,UF=fb,FF=hb,HF=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return MF(t,n,r);case"!=":return kF(t,n,r);case">":return DF(t,n,r);case">=":return $F(t,n,r);case"<":return UF(t,n,r);case"<=":return FF(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var rR=HF;const GF=mr,WF=rf,{safeRe:dg,t:hg}=ah,jF=(t,e)=>{if(t instanceof GF)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(dg[hg.COERCE]);else{let r;for(;(r=dg[hg.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),dg[hg.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;dg[hg.COERCERTL].lastIndex=-1}return n===null?null:WF(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};var VF=jF,Xm,I1;function zF(){return I1||(I1=1,Xm=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Xm}var JF=yt;yt.Node=kc;yt.create=yt;function yt(t){var e=this;if(e instanceof yt||(e=new yt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}yt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};yt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};yt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};yt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)qF(this,arguments[t]);return this.length};yt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)QF(this,arguments[t]);return this.length};yt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};yt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};yt.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};yt.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};yt.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};yt.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};yt.prototype.map=function(t,e){e=e||this;for(var n=new yt,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};yt.prototype.mapReverse=function(t,e){e=e||this;for(var n=new yt,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};yt.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};yt.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};yt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};yt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};yt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new yt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};yt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new yt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};yt.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var o=[],r=0;i&&r<e;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=KF(this,i,n[r]);return o};yt.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function KF(t,e,n){var r=e===t.head?new kc(n,null,e,t):new kc(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function qF(t,e){t.tail=new kc(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function QF(t,e){t.head=new kc(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function kc(t,e,n,r){if(!(this instanceof kc))return new kc(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{zF()(yt)}catch{}const YF=JF,Za=Symbol("max"),Qs=Symbol("length"),Nu=Symbol("lengthCalculator"),hd=Symbol("allowStale"),oc=Symbol("maxAge"),Js=Symbol("dispose"),N1=Symbol("noDisposeOnSet"),_n=Symbol("lruList"),Ui=Symbol("cache"),iR=Symbol("updateAgeOnGet"),Zm=()=>1;class XF{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Za]=e.max||1/0;const n=e.length||Zm;if(this[Nu]=typeof n!="function"?Zm:n,this[hd]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[oc]=e.maxAge||0,this[Js]=e.dispose,this[N1]=e.noDisposeOnSet||!1,this[iR]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Za]=e||1/0,Jf(this)}get max(){return this[Za]}set allowStale(e){this[hd]=!!e}get allowStale(){return this[hd]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[oc]=e,Jf(this)}get maxAge(){return this[oc]}set lengthCalculator(e){typeof e!="function"&&(e=Zm),e!==this[Nu]&&(this[Nu]=e,this[Qs]=0,this[_n].forEach(n=>{n.length=this[Nu](n.value,n.key),this[Qs]+=n.length})),Jf(this)}get lengthCalculator(){return this[Nu]}get length(){return this[Qs]}get itemCount(){return this[_n].length}rforEach(e,n){n=n||this;for(let r=this[_n].tail;r!==null;){const i=r.prev;T1(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[_n].head;r!==null;){const i=r.next;T1(this,e,r,n),r=i}}keys(){return this[_n].toArray().map(e=>e.key)}values(){return this[_n].toArray().map(e=>e.value)}reset(){this[Js]&&this[_n]&&this[_n].length&&this[_n].forEach(e=>this[Js](e.key,e.value)),this[Ui]=new Map,this[_n]=new YF,this[Qs]=0}dump(){return this[_n].map(e=>qg(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[_n]}set(e,n,r){if(r=r||this[oc],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[Nu](n,e);if(this[Ui].has(e)){if(o>this[Za])return Yu(this,this[Ui].get(e)),!1;const l=this[Ui].get(e).value;return this[Js]&&(this[N1]||this[Js](e,l.value)),l.now=i,l.maxAge=r,l.value=n,this[Qs]+=o-l.length,l.length=o,this.get(e),Jf(this),!0}const c=new ZF(e,n,o,i,r);return c.length>this[Za]?(this[Js]&&this[Js](e,n),!1):(this[Qs]+=c.length,this[_n].unshift(c),this[Ui].set(e,this[_n].head),Jf(this),!0)}has(e){if(!this[Ui].has(e))return!1;const n=this[Ui].get(e).value;return!qg(this,n)}get(e){return ew(this,e,!0)}peek(e){return ew(this,e,!1)}pop(){const e=this[_n].tail;return e?(Yu(this,e),e.value):null}del(e){Yu(this,this[Ui].get(e))}load(e){this.reset();const n=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const c=o-n;c>0&&this.set(i.k,i.v,c)}}}prune(){this[Ui].forEach((e,n)=>ew(this,n,!1))}}const ew=(t,e,n)=>{const r=t[Ui].get(e);if(r){const i=r.value;if(qg(t,i)){if(Yu(t,r),!t[hd])return}else n&&(t[iR]&&(r.value.now=Date.now()),t[_n].unshiftNode(r));return i.value}},qg=(t,e)=>{if(!e||!e.maxAge&&!t[oc])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[oc]&&n>t[oc]},Jf=t=>{if(t[Qs]>t[Za])for(let e=t[_n].tail;t[Qs]>t[Za]&&e!==null;){const n=e.prev;Yu(t,e),e=n}},Yu=(t,e)=>{if(e){const n=e.value;t[Js]&&t[Js](n.key,n.value),t[Qs]-=n.length,t[Ui].delete(n.key),t[_n].removeNode(e)}};class ZF{constructor(e,n,r,i,o){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const T1=(t,e,n,r)=>{let i=n.value;qg(t,i)&&(Yu(t,n),t[hd]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};var e4=XF,tw,O1;function ns(){if(O1)return tw;O1=1;class t{constructor(D,m){if(m=r(m),D instanceof t)return D.loose===!!m.loose&&D.includePrerelease===!!m.includePrerelease?D:new t(D.raw,m);if(D instanceof i)return this.raw=D.value,this.set=[[D]],this.format(),this;if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=D.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(E=>this.parseRange(E.trim())).filter(E=>E.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const E=this.set[0];if(this.set=this.set.filter(B=>!S(B[0])),this.set.length===0)this.set=[E];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&N(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(D=>D.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(D){const E=((this.options.includePrerelease&&A)|(this.options.loose&&b))+":"+D,B=n.get(E);if(B)return B;const k=this.options.loose,j=k?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];D=D.replace(j,I(this.options.includePrerelease)),o("hyphen replace",D),D=D.replace(u[l.COMPARATORTRIM],d),o("comparator trim",D),D=D.replace(u[l.TILDETRIM],h),o("tilde trim",D),D=D.replace(u[l.CARETTRIM],p),o("caret trim",D);let z=D.split(" ").map(Ce=>$(Ce,this.options)).join(" ").split(/\s+/).map(Ce=>v(Ce,this.options));k&&(z=z.filter(Ce=>(o("loose invalid filter",Ce,this.options),!!Ce.match(u[l.COMPARATORLOOSE])))),o("range list",z);const te=new Map,he=z.map(Ce=>new i(Ce,this.options));for(const Ce of he){if(S(Ce))return[Ce];te.set(Ce.value,Ce)}te.size>1&&te.has("")&&te.delete("");const Ee=[...te.values()];return n.set(E,Ee),Ee}intersects(D,m){if(!(D instanceof t))throw new TypeError("a Range is required");return this.set.some(E=>M(E,m)&&D.set.some(B=>M(B,m)&&E.every(k=>B.every(j=>k.intersects(j,m)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new c(D,this.options)}catch{return!1}for(let m=0;m<this.set.length;m++)if(P(this.set[m],D,this.options))return!0;return!1}}tw=t;const e=e4,n=new e({max:1e3}),r=ub,i=zp(),o=jp,c=mr,{safeRe:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=ah,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:b}=Wp,S=R=>R.value==="<0.0.0-0",N=R=>R.value==="",M=(R,D)=>{let m=!0;const E=R.slice();let B=E.pop();for(;m&&E.length;)m=E.every(k=>B.intersects(k,D)),B=E.pop();return m},$=(R,D)=>(o("comp",R,D),R=se(R,D),o("caret",R),R=ee(R,D),o("tildes",R),R=Y(R,D),o("xrange",R),R=x(R,D),o("stars",R),R),C=R=>!R||R.toLowerCase()==="x"||R==="*",ee=(R,D)=>R.trim().split(/\s+/).map(m=>ae(m,D)).join(" "),ae=(R,D)=>{const m=D.loose?u[l.TILDELOOSE]:u[l.TILDE];return R.replace(m,(E,B,k,j,z)=>{o("tilde",R,E,B,k,j,z);let te;return C(B)?te="":C(k)?te=`>=${B}.0.0 <${+B+1}.0.0-0`:C(j)?te=`>=${B}.${k}.0 <${B}.${+k+1}.0-0`:z?(o("replaceTilde pr",z),te=`>=${B}.${k}.${j}-${z} <${B}.${+k+1}.0-0`):te=`>=${B}.${k}.${j} <${B}.${+k+1}.0-0`,o("tilde return",te),te})},se=(R,D)=>R.trim().split(/\s+/).map(m=>V(m,D)).join(" "),V=(R,D)=>{o("caret",R,D);const m=D.loose?u[l.CARETLOOSE]:u[l.CARET],E=D.includePrerelease?"-0":"";return R.replace(m,(B,k,j,z,te)=>{o("caret",R,B,k,j,z,te);let he;return C(k)?he="":C(j)?he=`>=${k}.0.0${E} <${+k+1}.0.0-0`:C(z)?k==="0"?he=`>=${k}.${j}.0${E} <${k}.${+j+1}.0-0`:he=`>=${k}.${j}.0${E} <${+k+1}.0.0-0`:te?(o("replaceCaret pr",te),k==="0"?j==="0"?he=`>=${k}.${j}.${z}-${te} <${k}.${j}.${+z+1}-0`:he=`>=${k}.${j}.${z}-${te} <${k}.${+j+1}.0-0`:he=`>=${k}.${j}.${z}-${te} <${+k+1}.0.0-0`):(o("no pr"),k==="0"?j==="0"?he=`>=${k}.${j}.${z}${E} <${k}.${j}.${+z+1}-0`:he=`>=${k}.${j}.${z}${E} <${k}.${+j+1}.0-0`:he=`>=${k}.${j}.${z} <${+k+1}.0.0-0`),o("caret return",he),he})},Y=(R,D)=>(o("replaceXRanges",R,D),R.split(/\s+/).map(m=>w(m,D)).join(" ")),w=(R,D)=>{R=R.trim();const m=D.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return R.replace(m,(E,B,k,j,z,te)=>{o("xRange",R,E,B,k,j,z,te);const he=C(k),Ee=he||C(j),Ce=Ee||C(z),be=Ce;return B==="="&&be&&(B=""),te=D.includePrerelease?"-0":"",he?B===">"||B==="<"?E="<0.0.0-0":E="*":B&&be?(Ee&&(j=0),z=0,B===">"?(B=">=",Ee?(k=+k+1,j=0,z=0):(j=+j+1,z=0)):B==="<="&&(B="<",Ee?k=+k+1:j=+j+1),B==="<"&&(te="-0"),E=`${B+k}.${j}.${z}${te}`):Ee?E=`>=${k}.0.0${te} <${+k+1}.0.0-0`:Ce&&(E=`>=${k}.${j}.0${te} <${k}.${+j+1}.0-0`),o("xRange return",E),E})},x=(R,D)=>(o("replaceStars",R,D),R.trim().replace(u[l.STAR],"")),v=(R,D)=>(o("replaceGTE0",R,D),R.trim().replace(u[D.includePrerelease?l.GTE0PRE:l.GTE0],"")),I=R=>(D,m,E,B,k,j,z,te,he,Ee,Ce,be,Be)=>(C(E)?m="":C(B)?m=`>=${E}.0.0${R?"-0":""}`:C(k)?m=`>=${E}.${B}.0${R?"-0":""}`:j?m=`>=${m}`:m=`>=${m}${R?"-0":""}`,C(he)?te="":C(Ee)?te=`<${+he+1}.0.0-0`:C(Ce)?te=`<${he}.${+Ee+1}.0-0`:be?te=`<=${he}.${Ee}.${Ce}-${be}`:R?te=`<${he}.${Ee}.${+Ce+1}-0`:te=`<=${te}`,`${m} ${te}`.trim()),P=(R,D,m)=>{for(let E=0;E<R.length;E++)if(!R[E].test(D))return!1;if(D.prerelease.length&&!m.includePrerelease){for(let E=0;E<R.length;E++)if(o(R[E].semver),R[E].semver!==i.ANY&&R[E].semver.prerelease.length>0){const B=R[E].semver;if(B.major===D.major&&B.minor===D.minor&&B.patch===D.patch)return!0}return!1}return!0};return tw}var nw,P1;function zp(){if(P1)return nw;P1=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,p){if(p=n(p),h instanceof e){if(h.loose===!!p.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),c("comparator",h,p),this.options=p,this.loose=!!p.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(h){const p=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],A=h.match(p);if(!A)throw new TypeError(`Invalid comparator: ${h}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new u(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(c("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new u(h,this.options)}catch{return!1}return o(h,this.operator,this.semver,this.options)}intersects(h,p){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(h.value,p).test(this.value):h.operator===""?h.value===""?!0:new l(this.value,p).test(h.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||o(this.semver,"<",h.semver,p)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||o(this.semver,">",h.semver,p)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}nw=e;const n=ub,{safeRe:r,t:i}=ah,o=rR,c=jp,u=mr,l=ns();return nw}const t4=ns(),n4=(t,e,n)=>{try{e=new t4(e,n)}catch{return!1}return e.test(t)};var Jp=n4;const r4=ns(),i4=(t,e)=>new r4(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var s4=i4;const o4=mr,a4=ns(),c4=(t,e,n)=>{let r=null,i=null,o=null;try{o=new a4(e,n)}catch{return null}return t.forEach(c=>{o.test(c)&&(!r||i.compare(c)===-1)&&(r=c,i=new o4(r,n))}),r};var u4=c4;const l4=mr,f4=ns(),d4=(t,e,n)=>{let r=null,i=null,o=null;try{o=new f4(e,n)}catch{return null}return t.forEach(c=>{o.test(c)&&(!r||i.compare(c)===1)&&(r=c,i=new l4(r,n))}),r};var h4=d4;const rw=mr,g4=ns(),B1=Vp,p4=(t,e)=>{t=new g4(t,e);let n=new rw("0.0.0");if(t.test(n)||(n=new rw("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let o=null;i.forEach(c=>{const u=new rw(c.semver.version);switch(c.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!o||B1(u,o))&&(o=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),o&&(!n||B1(n,o))&&(n=o)}return n&&t.test(n)?n:null};var m4=p4;const w4=ns(),y4=(t,e)=>{try{return new w4(t,e).range||"*"}catch{return null}};var b4=y4;const E4=mr,sR=zp(),{ANY:A4}=sR,v4=ns(),_4=Jp,L1=Vp,M1=fb,S4=hb,C4=db,x4=(t,e,n,r)=>{t=new E4(t,r),e=new v4(e,r);let i,o,c,u,l;switch(n){case">":i=L1,o=S4,c=M1,u=">",l=">=";break;case"<":i=M1,o=C4,c=L1,u="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_4(t,e,r))return!1;for(let d=0;d<e.set.length;++d){const h=e.set[d];let p=null,A=null;if(h.forEach(b=>{b.semver===A4&&(b=new sR(">=0.0.0")),p=p||b,A=A||b,i(b.semver,p.semver,r)?p=b:c(b.semver,A.semver,r)&&(A=b)}),p.operator===u||p.operator===l||(!A.operator||A.operator===u)&&o(t,A.semver))return!1;if(A.operator===l&&c(t,A.semver))return!1}return!0};var gb=x4;const R4=gb,I4=(t,e,n)=>R4(t,e,">",n);var N4=I4;const T4=gb,O4=(t,e,n)=>T4(t,e,"<",n);var P4=O4;const k1=ns(),B4=(t,e,n)=>(t=new k1(t,n),e=new k1(e,n),t.intersects(e,n));var L4=B4;const M4=Jp,k4=ts;var D4=(t,e,n)=>{const r=[];let i=null,o=null;const c=t.sort((h,p)=>k4(h,p,n));for(const h of c)M4(h,e,n)?(o=h,i||(i=h)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);const u=[];for(const[h,p]of r)h===p?u.push(h):!p&&h===c[0]?u.push("*"):p?h===c[0]?u.push(`<=${p}`):u.push(`${h} - ${p}`):u.push(`>=${h}`);const l=u.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return l.length<d.length?l:e};const D1=ns(),pb=zp(),{ANY:iw}=pb,Kf=Jp,mb=ts,$4=(t,e,n={})=>{if(t===e)return!0;t=new D1(t,n),e=new D1(e,n);let r=!1;e:for(const i of t.set){for(const o of e.set){const c=F4(i,o,n);if(r=r||c!==null,c)continue e}if(r)return!1}return!0},U4=[new pb(">=0.0.0-0")],$1=[new pb(">=0.0.0")],F4=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===iw){if(e.length===1&&e[0].semver===iw)return!0;n.includePrerelease?t=U4:t=$1}if(e.length===1&&e[0].semver===iw){if(n.includePrerelease)return!0;e=$1}const r=new Set;let i,o;for(const b of t)b.operator===">"||b.operator===">="?i=U1(i,b,n):b.operator==="<"||b.operator==="<="?o=F1(o,b,n):r.add(b.semver);if(r.size>1)return null;let c;if(i&&o){if(c=mb(i.semver,o.semver,n),c>0)return null;if(c===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const b of r){if(i&&!Kf(b,String(i),n)||o&&!Kf(b,String(o),n))return null;for(const S of e)if(!Kf(b,String(S),n))return!1;return!0}let u,l,d,h,p=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,A=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&o.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const b of e){if(h=h||b.operator===">"||b.operator===">=",d=d||b.operator==="<"||b.operator==="<=",i){if(A&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===A.major&&b.semver.minor===A.minor&&b.semver.patch===A.patch&&(A=!1),b.operator===">"||b.operator===">="){if(u=U1(i,b,n),u===b&&u!==i)return!1}else if(i.operator===">="&&!Kf(i.semver,String(b),n))return!1}if(o){if(p&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===p.major&&b.semver.minor===p.minor&&b.semver.patch===p.patch&&(p=!1),b.operator==="<"||b.operator==="<="){if(l=F1(o,b,n),l===b&&l!==o)return!1}else if(o.operator==="<="&&!Kf(o.semver,String(b),n))return!1}if(!b.operator&&(o||i)&&c!==0)return!1}return!(i&&d&&!o&&c!==0||o&&h&&!i&&c!==0||A||p)},U1=(t,e,n)=>{if(!t)return e;const r=mb(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},F1=(t,e,n)=>{if(!t)return e;const r=mb(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var H4=$4;const sw=ah,H1=Wp,G4=mr,G1=eR,W4=rf,j4=W8,V4=z8,z4=K8,J4=Q8,K4=Z8,q4=nF,Q4=sF,Y4=cF,X4=ts,Z4=dF,e6=pF,t6=lb,n6=bF,r6=vF,i6=Vp,s6=fb,o6=tR,a6=nR,c6=db,u6=hb,l6=rR,f6=VF,d6=zp(),h6=ns(),g6=Jp,p6=s4,m6=u4,w6=h4,y6=m4,b6=b4,E6=gb,A6=N4,v6=P4,_6=L4,S6=D4,C6=H4;var x6={parse:W4,valid:j4,clean:V4,inc:z4,diff:J4,major:K4,minor:q4,patch:Q4,prerelease:Y4,compare:X4,rcompare:Z4,compareLoose:e6,compareBuild:t6,sort:n6,rsort:r6,gt:i6,lt:s6,eq:o6,neq:a6,gte:c6,lte:u6,cmp:l6,coerce:f6,Comparator:d6,Range:h6,satisfies:g6,toComparators:p6,maxSatisfying:m6,minSatisfying:w6,minVersion:y6,validRange:b6,outside:E6,gtr:A6,ltr:v6,intersects:_6,simplifyRange:S6,subset:C6,SemVer:G4,re:sw.re,src:sw.src,tokens:sw.t,SEMVER_SPEC_VERSION:H1.SEMVER_SPEC_VERSION,RELEASE_TYPES:H1.RELEASE_TYPES,compareIdentifiers:G1.compareIdentifiers,rcompareIdentifiers:G1.rcompareIdentifiers};Object.defineProperty(es,"__esModule",{value:!0});var oR=Ri,ch=x6,Fl=Na,wb=Fl.refine.call(void 0,Fl.string.call(void 0),"Version",t=>ch.valid.call(void 0,t)===null?`Expected SemVer version, got "${t}"`:!0),yb=Fl.refine.call(void 0,Fl.string.call(void 0),"Version range",t=>ch.validRange.call(void 0,t)===null?`Expected SemVer range, got "${t}"`:!0);function R6(t){return Fl.is.call(void 0,t,wb)}function I6(t){return Fl.is.call(void 0,t,yb)}function N6(t){oR.assertStruct.call(void 0,t,wb)}function T6(t){oR.assertStruct.call(void 0,t,yb)}function O6(t,e){return ch.gt.call(void 0,t,e)}function P6(t,e){return ch.gtr.call(void 0,t,e)}function B6(t,e){return ch.satisfies.call(void 0,t,e,{includePrerelease:!0})}es.VersionStruct=wb;es.VersionRangeStruct=yb;es.isValidSemVerVersion=R6;es.isValidSemVerRange=I6;es.assertIsSemVerVersion=N6;es.assertIsSemVerRange=T6;es.gtVersion=O6;es.gtRange=P6;es.satisfiesVersionRange=B6;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});var _o=Ri,L6=pr,Ze=Na,sf=t=>Ze.object.call(void 0,t);function W1({path:t,branch:e}){const n=t[t.length-1];return L6.hasProperty.call(void 0,e[e.length-2],n)}function _d(t){return new Ze.Struct({...t,type:`optional ${t.type}`,validator:(e,n)=>!W1(n)||t.validator(e,n),refiner:(e,n)=>!W1(n)||t.refiner(e,n)})}var M6=()=>Ze.define.call(void 0,"finite number",t=>Ze.is.call(void 0,t,Ze.number.call(void 0))&&Number.isFinite(t)),Sd=Ze.union.call(void 0,[Ze.literal.call(void 0,null),Ze.boolean.call(void 0),M6(),Ze.string.call(void 0),Ze.array.call(void 0,Ze.lazy.call(void 0,()=>Sd)),Ze.record.call(void 0,Ze.string.call(void 0),Ze.lazy.call(void 0,()=>Sd))]),Dc=Ze.coerce.call(void 0,Sd,Ze.any.call(void 0),t=>(_o.assertStruct.call(void 0,t,Sd),JSON.parse(JSON.stringify(t,(e,n)=>{if(!(e==="__proto__"||e==="constructor"))return n}))));function k6(t){try{return aR(t),!0}catch{return!1}}function aR(t){return Ze.create.call(void 0,t,Dc)}function D6(t){_o.assertStruct.call(void 0,t,Dc,"Invalid JSON value");const e=JSON.stringify(t);return new TextEncoder().encode(e).byteLength}var cR="2.0",of=Ze.literal.call(void 0,cR),uh=Ze.nullable.call(void 0,Ze.union.call(void 0,[Ze.number.call(void 0),Ze.string.call(void 0)])),lh=sf({code:Ze.integer.call(void 0),message:Ze.string.call(void 0),data:_d(Dc),stack:_d(Ze.string.call(void 0))}),bb=Ze.union.call(void 0,[Ze.record.call(void 0,Ze.string.call(void 0),Dc),Ze.array.call(void 0,Dc)]),Eb=sf({id:uh,jsonrpc:of,method:Ze.string.call(void 0),params:_d(bb)}),Ab=sf({jsonrpc:of,method:Ze.string.call(void 0),params:_d(bb)});function $6(t){return Ze.is.call(void 0,t,Ab)}function U6(t,e){_o.assertStruct.call(void 0,t,Ab,"Invalid JSON-RPC notification",e)}function F6(t){return Ze.is.call(void 0,t,Eb)}function H6(t,e){_o.assertStruct.call(void 0,t,Eb,"Invalid JSON-RPC request",e)}var vb=Ze.object.call(void 0,{id:uh,jsonrpc:of,result:Ze.optional.call(void 0,Ze.unknown.call(void 0)),error:Ze.optional.call(void 0,lh)}),Kp=sf({id:uh,jsonrpc:of,result:Dc}),qp=sf({id:uh,jsonrpc:of,error:lh}),_b=Ze.union.call(void 0,[Kp,qp]);function G6(t){return Ze.is.call(void 0,t,vb)}function W6(t,e){_o.assertStruct.call(void 0,t,vb,"Invalid pending JSON-RPC response",e)}function j6(t){return Ze.is.call(void 0,t,_b)}function V6(t,e){_o.assertStruct.call(void 0,t,_b,"Invalid JSON-RPC response",e)}function z6(t){return Ze.is.call(void 0,t,Kp)}function J6(t,e){_o.assertStruct.call(void 0,t,Kp,"Invalid JSON-RPC success response",e)}function K6(t){return Ze.is.call(void 0,t,qp)}function q6(t,e){_o.assertStruct.call(void 0,t,qp,"Invalid JSON-RPC failure response",e)}function Q6(t){return Ze.is.call(void 0,t,lh)}function Y6(t,e){_o.assertStruct.call(void 0,t,lh,"Invalid JSON-RPC error",e)}function X6(t){const{permitEmptyString:e,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...t};return o=>!!(typeof o=="number"&&(n||Number.isInteger(o))||typeof o=="string"&&(e||o.length>0)||r&&o===null)}lt.object=sf;lt.exactOptional=_d;lt.UnsafeJsonStruct=Sd;lt.JsonStruct=Dc;lt.isValidJson=k6;lt.getSafeJson=aR;lt.getJsonSize=D6;lt.jsonrpc2=cR;lt.JsonRpcVersionStruct=of;lt.JsonRpcIdStruct=uh;lt.JsonRpcErrorStruct=lh;lt.JsonRpcParamsStruct=bb;lt.JsonRpcRequestStruct=Eb;lt.JsonRpcNotificationStruct=Ab;lt.isJsonRpcNotification=$6;lt.assertIsJsonRpcNotification=U6;lt.isJsonRpcRequest=F6;lt.assertIsJsonRpcRequest=H6;lt.PendingJsonRpcResponseStruct=vb;lt.JsonRpcSuccessStruct=Kp;lt.JsonRpcFailureStruct=qp;lt.JsonRpcResponseStruct=_b;lt.isPendingJsonRpcResponse=G6;lt.assertIsPendingJsonRpcResponse=W6;lt.isJsonRpcResponse=j6;lt.assertIsJsonRpcResponse=V6;lt.isJsonRpcSuccess=z6;lt.assertIsJsonRpcSuccess=J6;lt.isJsonRpcFailure=K6;lt.assertIsJsonRpcFailure=q6;lt.isJsonRpcError=Q6;lt.assertIsJsonRpcError=Y6;lt.getJsonRpcIdValidator=X6;var Qp={},Jw={exports:{}},ow,j1;function Z6(){if(j1)return ow;j1=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,o=r*365.25;ow=function(h,p){p=p||{};var A=typeof h;if(A==="string"&&h.length>0)return c(h);if(A==="number"&&isFinite(h))return p.long?l(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function c(h){if(h=String(h),!(h.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var A=parseFloat(p[1]),b=(p[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return A*o;case"weeks":case"week":case"w":return A*i;case"days":case"day":case"d":return A*r;case"hours":case"hour":case"hrs":case"hr":case"h":return A*n;case"minutes":case"minute":case"mins":case"min":case"m":return A*e;case"seconds":case"second":case"secs":case"sec":case"s":return A*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}function u(h){var p=Math.abs(h);return p>=r?Math.round(h/r)+"d":p>=n?Math.round(h/n)+"h":p>=e?Math.round(h/e)+"m":p>=t?Math.round(h/t)+"s":h+"ms"}function l(h){var p=Math.abs(h);return p>=r?d(h,p,r,"day"):p>=n?d(h,p,n,"hour"):p>=e?d(h,p,e,"minute"):p>=t?d(h,p,t,"second"):h+" ms"}function d(h,p,A,b){var S=p>=A*1.5;return Math.round(h/A)+" "+b+(S?"s":"")}return ow}function e5(t){n.debug=n,n.default=n,n.coerce=l,n.disable=o,n.enable=i,n.enabled=c,n.humanize=Z6(),n.destroy=d,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let p=0;for(let A=0;A<h.length;A++)p=(p<<5)-p+h.charCodeAt(A),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=e;function n(h){let p,A=null,b,S;function N(...M){if(!N.enabled)return;const $=N,C=Number(new Date),ee=C-(p||C);$.diff=ee,$.prev=p,$.curr=C,p=C,M[0]=n.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let ae=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(V,Y)=>{if(V==="%%")return"%";ae++;const w=n.formatters[Y];if(typeof w=="function"){const x=M[ae];V=w.call($,x),M.splice(ae,1),ae--}return V}),n.formatArgs.call($,M),($.log||n.log).apply($,M)}return N.namespace=h,N.useColors=n.useColors(),N.color=n.selectColor(h),N.extend=r,N.destroy=n.destroy,Object.defineProperty(N,"enabled",{enumerable:!0,configurable:!1,get:()=>A!==null?A:(b!==n.namespaces&&(b=n.namespaces,S=n.enabled(h)),S),set:M=>{A=M}}),typeof n.init=="function"&&n.init(N),N}function r(h,p){const A=n(this.namespace+(typeof p>"u"?":":p)+h);return A.log=this.log,A}function i(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let p;const A=(typeof h=="string"?h:"").split(/[\s,]+/),b=A.length;for(p=0;p<b;p++)A[p]&&(h=A[p].replace(/\*/g,".*?"),h[0]==="-"?n.skips.push(new RegExp("^"+h.slice(1)+"$")):n.names.push(new RegExp("^"+h+"$")))}function o(){const h=[...n.names.map(u),...n.skips.map(u).map(p=>"-"+p)].join(",");return n.enable(""),h}function c(h){if(h[h.length-1]==="*")return!0;let p,A;for(p=0,A=n.skips.length;p<A;p++)if(n.skips[p].test(h))return!1;for(p=0,A=n.names.length;p<A;p++)if(n.names[p].test(h))return!0;return!1}function u(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function l(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var t5=e5;(function(t,e){e.formatArgs=r,e.save=i,e.load=o,e.useColors=n,e.storage=c(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;l.splice(1,0,d,"color: inherit");let h=0,p=0;l[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(h++,A==="%c"&&(p=h))}),l.splice(p,0,d)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function c(){try{return localStorage}catch{}}t.exports=t5(e);const{formatters:u}=t.exports;u.j=function(l){try{return JSON.stringify(l)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(Jw,Jw.exports);var n5=Jw.exports;Object.defineProperty(Qp,"__esModule",{value:!0});function r5(t){return t&&t.__esModule?t:{default:t}}var i5=n5,s5=r5(i5),o5=s5.default.call(void 0,"metamask");function a5(t){return o5.extend(t)}function c5(t,e){return t.extend(e)}Qp.createProjectLogger=a5;Qp.createModuleLogger=c5;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});function uR(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...c)=>n.call(e,...c)),e=void 0)}return n}var hr=Na,Sb=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,lR=/^[-a-z0-9]{3,8}$/u,fR=/^[-_a-zA-Z0-9]{1,32}$/u,Cb=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,dR=/^[-.%a-zA-Z0-9]{1,128}$/u,hR=hr.pattern.call(void 0,hr.string.call(void 0),Sb),gR=hr.pattern.call(void 0,hr.string.call(void 0),lR),pR=hr.pattern.call(void 0,hr.string.call(void 0),fR),mR=hr.pattern.call(void 0,hr.string.call(void 0),Cb),wR=hr.pattern.call(void 0,hr.string.call(void 0),dR);function u5(t){return hr.is.call(void 0,t,hR)}function l5(t){return hr.is.call(void 0,t,gR)}function f5(t){return hr.is.call(void 0,t,pR)}function d5(t){return hr.is.call(void 0,t,mR)}function h5(t){return hr.is.call(void 0,t,wR)}function g5(t){const e=Sb.exec(t);if(!uR([e,"optionalAccess",n=>n.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:e.groups.namespace,reference:e.groups.reference}}function p5(t){const e=Cb.exec(t);if(!uR([e,"optionalAccess",n=>n.groups]))throw new Error("Invalid CAIP account ID.");return{address:e.groups.accountAddress,chainId:e.groups.chainId,chain:{namespace:e.groups.namespace,reference:e.groups.reference}}}wn.CAIP_CHAIN_ID_REGEX=Sb;wn.CAIP_NAMESPACE_REGEX=lR;wn.CAIP_REFERENCE_REGEX=fR;wn.CAIP_ACCOUNT_ID_REGEX=Cb;wn.CAIP_ACCOUNT_ADDRESS_REGEX=dR;wn.CaipChainIdStruct=hR;wn.CaipNamespaceStruct=gR;wn.CaipReferenceStruct=pR;wn.CaipAccountIdStruct=mR;wn.CaipAccountAddressStruct=wR;wn.isCaipChainId=u5;wn.isCaipNamespace=l5;wn.isCaipReference=f5;wn.isCaipAccountId=d5;wn.isCaipAccountAddress=h5;wn.parseCaipChainId=g5;wn.parseCaipAccountId=p5;var xb={},Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});function V1(t,e){return t??e()}var m5=Ri,w5=Na,y5=(t,e={})=>{const n=V1(e.paddingRequired,()=>!1),r=V1(e.characterSet,()=>"base64");let i;r==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(m5.assert.call(void 0,r==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let o;return n?o=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):o=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),w5.pattern.call(void 0,t,o)};Yp.base64=y5;Object.defineProperty(xb,"__esModule",{value:!0});var b5=Yp,z1=Na,E5=z1.size.call(void 0,b5.base64.call(void 0,z1.string.call(void 0),{paddingRequired:!0}),44,44);xb.ChecksumStruct=E5;var af={};Object.defineProperty(af,"__esModule",{value:!0});var Hl=ht,A5=Ri,Jt=Na,yR=Jt.union.call(void 0,[Jt.number.call(void 0),Jt.bigint.call(void 0),Jt.string.call(void 0),Hl.StrictHexStruct]),v5=Jt.coerce.call(void 0,Jt.number.call(void 0),yR,Number),_5=Jt.coerce.call(void 0,Jt.bigint.call(void 0),yR,BigInt);Jt.union.call(void 0,[Hl.StrictHexStruct,Jt.instance.call(void 0,Uint8Array)]);var S5=Jt.coerce.call(void 0,Jt.instance.call(void 0,Uint8Array),Jt.union.call(void 0,[Hl.StrictHexStruct]),Hl.hexToBytes),C5=Jt.coerce.call(void 0,Hl.StrictHexStruct,Jt.instance.call(void 0,Uint8Array),Hl.bytesToHex);function x5(t){try{const e=Jt.create.call(void 0,t,v5);return A5.assert.call(void 0,Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Jt.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}function R5(t){try{return Jt.create.call(void 0,t,_5)}catch(e){throw e instanceof Jt.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}function I5(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return Jt.create.call(void 0,t,S5)}catch(e){throw e instanceof Jt.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}function N5(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return Jt.create.call(void 0,t,C5)}catch(e){throw e instanceof Jt.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}af.createNumber=x5;af.createBigInt=R5;af.createBytes=I5;af.createHex=N5;var Xp={},fh={};Object.defineProperty(fh,"__esModule",{value:!0});var bR=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},T5=(t,e,n)=>(bR(t,e,"read from private field"),n?n.call(t):e.get(t)),O5=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},P5=(t,e,n,r)=>(bR(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);fh.__privateGet=T5;fh.__privateAdd=O5;fh.__privateSet=P5;Object.defineProperty(Xp,"__esModule",{value:!0});var hn=fh,Di,Rb=class{constructor(t){hn.__privateAdd.call(void 0,this,Di,void 0),hn.__privateSet.call(void 0,this,Di,new Map(t)),Object.freeze(this)}get size(){return hn.__privateGet.call(void 0,this,Di).size}[Symbol.iterator](){return hn.__privateGet.call(void 0,this,Di)[Symbol.iterator]()}entries(){return hn.__privateGet.call(void 0,this,Di).entries()}forEach(t,e){return hn.__privateGet.call(void 0,this,Di).forEach((n,r,i)=>t.call(e,n,r,this))}get(t){return hn.__privateGet.call(void 0,this,Di).get(t)}has(t){return hn.__privateGet.call(void 0,this,Di).has(t)}keys(){return hn.__privateGet.call(void 0,this,Di).keys()}values(){return hn.__privateGet.call(void 0,this,Di).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,e])=>`${String(t)} => ${String(e)}`).join(", ")} `:""}}`}};Di=new WeakMap;var ms,Ib=class{constructor(t){hn.__privateAdd.call(void 0,this,ms,void 0),hn.__privateSet.call(void 0,this,ms,new Set(t)),Object.freeze(this)}get size(){return hn.__privateGet.call(void 0,this,ms).size}[Symbol.iterator](){return hn.__privateGet.call(void 0,this,ms)[Symbol.iterator]()}entries(){return hn.__privateGet.call(void 0,this,ms).entries()}forEach(t,e){return hn.__privateGet.call(void 0,this,ms).forEach((n,r,i)=>t.call(e,n,r,this))}has(t){return hn.__privateGet.call(void 0,this,ms).has(t)}keys(){return hn.__privateGet.call(void 0,this,ms).keys()}values(){return hn.__privateGet.call(void 0,this,ms).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}};ms=new WeakMap;Object.freeze(Rb);Object.freeze(Rb.prototype);Object.freeze(Ib);Object.freeze(Ib.prototype);Xp.FrozenMap=Rb;Xp.FrozenSet=Ib;Object.defineProperty(fe,"__esModule",{value:!0});var Zp=tf,Nb=oh,So=es,pt=lt,ER=Qp,Dn=wn,B5=xb,L5=Yp,e0=af,Rt=ht,t0=Ri,dh=Ia,rs=pr,AR=Xp;fe.AssertionError=t0.AssertionError;fe.CAIP_ACCOUNT_ADDRESS_REGEX=Dn.CAIP_ACCOUNT_ADDRESS_REGEX;fe.CAIP_ACCOUNT_ID_REGEX=Dn.CAIP_ACCOUNT_ID_REGEX;fe.CAIP_CHAIN_ID_REGEX=Dn.CAIP_CHAIN_ID_REGEX;fe.CAIP_NAMESPACE_REGEX=Dn.CAIP_NAMESPACE_REGEX;fe.CAIP_REFERENCE_REGEX=Dn.CAIP_REFERENCE_REGEX;fe.CaipAccountAddressStruct=Dn.CaipAccountAddressStruct;fe.CaipAccountIdStruct=Dn.CaipAccountIdStruct;fe.CaipChainIdStruct=Dn.CaipChainIdStruct;fe.CaipNamespaceStruct=Dn.CaipNamespaceStruct;fe.CaipReferenceStruct=Dn.CaipReferenceStruct;fe.ChecksumStruct=B5.ChecksumStruct;fe.Duration=Nb.Duration;fe.ESCAPE_CHARACTERS_REGEXP=rs.ESCAPE_CHARACTERS_REGEXP;fe.FrozenMap=AR.FrozenMap;fe.FrozenSet=AR.FrozenSet;fe.HexAddressStruct=Rt.HexAddressStruct;fe.HexChecksumAddressStruct=Rt.HexChecksumAddressStruct;fe.HexStruct=Rt.HexStruct;fe.JsonRpcErrorStruct=pt.JsonRpcErrorStruct;fe.JsonRpcFailureStruct=pt.JsonRpcFailureStruct;fe.JsonRpcIdStruct=pt.JsonRpcIdStruct;fe.JsonRpcNotificationStruct=pt.JsonRpcNotificationStruct;fe.JsonRpcParamsStruct=pt.JsonRpcParamsStruct;fe.JsonRpcRequestStruct=pt.JsonRpcRequestStruct;fe.JsonRpcResponseStruct=pt.JsonRpcResponseStruct;fe.JsonRpcSuccessStruct=pt.JsonRpcSuccessStruct;fe.JsonRpcVersionStruct=pt.JsonRpcVersionStruct;fe.JsonSize=rs.JsonSize;fe.JsonStruct=pt.JsonStruct;fe.PendingJsonRpcResponseStruct=pt.PendingJsonRpcResponseStruct;fe.StrictHexStruct=Rt.StrictHexStruct;fe.UnsafeJsonStruct=pt.UnsafeJsonStruct;fe.VersionRangeStruct=So.VersionRangeStruct;fe.VersionStruct=So.VersionStruct;fe.add0x=Rt.add0x;fe.assert=t0.assert;fe.assertExhaustive=t0.assertExhaustive;fe.assertIsBytes=Rt.assertIsBytes;fe.assertIsHexString=Rt.assertIsHexString;fe.assertIsJsonRpcError=pt.assertIsJsonRpcError;fe.assertIsJsonRpcFailure=pt.assertIsJsonRpcFailure;fe.assertIsJsonRpcNotification=pt.assertIsJsonRpcNotification;fe.assertIsJsonRpcRequest=pt.assertIsJsonRpcRequest;fe.assertIsJsonRpcResponse=pt.assertIsJsonRpcResponse;fe.assertIsJsonRpcSuccess=pt.assertIsJsonRpcSuccess;fe.assertIsPendingJsonRpcResponse=pt.assertIsPendingJsonRpcResponse;fe.assertIsSemVerRange=So.assertIsSemVerRange;fe.assertIsSemVerVersion=So.assertIsSemVerVersion;fe.assertIsStrictHexString=Rt.assertIsStrictHexString;fe.assertStruct=t0.assertStruct;fe.base64=L5.base64;fe.base64ToBytes=Rt.base64ToBytes;fe.bigIntToBytes=Rt.bigIntToBytes;fe.bigIntToHex=Zp.bigIntToHex;fe.bytesToBase64=Rt.bytesToBase64;fe.bytesToBigInt=Rt.bytesToBigInt;fe.bytesToHex=Rt.bytesToHex;fe.bytesToNumber=Rt.bytesToNumber;fe.bytesToSignedBigInt=Rt.bytesToSignedBigInt;fe.bytesToString=Rt.bytesToString;fe.calculateNumberSize=rs.calculateNumberSize;fe.calculateStringSize=rs.calculateStringSize;fe.concatBytes=Rt.concatBytes;fe.createBigInt=e0.createBigInt;fe.createBytes=e0.createBytes;fe.createDataView=Rt.createDataView;fe.createHex=e0.createHex;fe.createModuleLogger=ER.createModuleLogger;fe.createNumber=e0.createNumber;fe.createProjectLogger=ER.createProjectLogger;fe.exactOptional=pt.exactOptional;fe.getChecksumAddress=Rt.getChecksumAddress;fe.getErrorMessage=dh.getErrorMessage;fe.getJsonRpcIdValidator=pt.getJsonRpcIdValidator;fe.getJsonSize=pt.getJsonSize;fe.getKnownPropertyNames=rs.getKnownPropertyNames;fe.getSafeJson=pt.getSafeJson;fe.gtRange=So.gtRange;fe.gtVersion=So.gtVersion;fe.hasProperty=rs.hasProperty;fe.hexToBigInt=Zp.hexToBigInt;fe.hexToBytes=Rt.hexToBytes;fe.hexToNumber=Zp.hexToNumber;fe.inMilliseconds=Nb.inMilliseconds;fe.isASCII=rs.isASCII;fe.isBytes=Rt.isBytes;fe.isCaipAccountAddress=Dn.isCaipAccountAddress;fe.isCaipAccountId=Dn.isCaipAccountId;fe.isCaipChainId=Dn.isCaipChainId;fe.isCaipNamespace=Dn.isCaipNamespace;fe.isCaipReference=Dn.isCaipReference;fe.isErrorWithCode=dh.isErrorWithCode;fe.isErrorWithMessage=dh.isErrorWithMessage;fe.isErrorWithStack=dh.isErrorWithStack;fe.isHexString=Rt.isHexString;fe.isJsonRpcError=pt.isJsonRpcError;fe.isJsonRpcFailure=pt.isJsonRpcFailure;fe.isJsonRpcNotification=pt.isJsonRpcNotification;fe.isJsonRpcRequest=pt.isJsonRpcRequest;fe.isJsonRpcResponse=pt.isJsonRpcResponse;fe.isJsonRpcSuccess=pt.isJsonRpcSuccess;fe.isNonEmptyArray=rs.isNonEmptyArray;fe.isNullOrUndefined=rs.isNullOrUndefined;fe.isObject=rs.isObject;fe.isPendingJsonRpcResponse=pt.isPendingJsonRpcResponse;fe.isPlainObject=rs.isPlainObject;fe.isStrictHexString=Rt.isStrictHexString;fe.isValidChecksumAddress=Rt.isValidChecksumAddress;fe.isValidHexAddress=Rt.isValidHexAddress;fe.isValidJson=pt.isValidJson;fe.isValidSemVerRange=So.isValidSemVerRange;fe.isValidSemVerVersion=So.isValidSemVerVersion;fe.jsonrpc2=pt.jsonrpc2;fe.numberToBytes=Rt.numberToBytes;fe.numberToHex=Zp.numberToHex;fe.object=pt.object;fe.parseCaipAccountId=Dn.parseCaipAccountId;fe.parseCaipChainId=Dn.parseCaipChainId;fe.remove0x=Rt.remove0x;fe.satisfiesVersionRange=So.satisfiesVersionRange;fe.signedBigIntToBytes=Rt.signedBigIntToBytes;fe.stringToBytes=Rt.stringToBytes;fe.timeSince=Nb.timeSince;fe.valueToBytes=Rt.valueToBytes;fe.wrapError=dh.wrapError;var n0={},va={};Object.defineProperty(va,"__esModule",{value:!0});va.errorValues=va.errorCodes=void 0;va.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};va.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeCause=t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=fe,n=va,r=n.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",o={code:r,message:c(r)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function c(b,S=i){if(u(b)){const N=b.toString();if((0,e.hasProperty)(n.errorValues,N))return n.errorValues[N].message;if(h(b))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return S}t.getMessageFromCode=c;function u(b){return Number.isInteger(b)}t.isValidCode=u;function l(b,{fallbackError:S=o,shouldIncludeStack:N=!0}={}){if(!(0,e.isJsonRpcError)(S))throw new Error("Must provide fallback error with integer number code and string message.");const M=d(b,S);return N||delete M.stack,M}t.serializeError=l;function d(b,S){if(b&&typeof b=="object"&&"serialize"in b&&typeof b.serialize=="function")return b.serialize();if((0,e.isJsonRpcError)(b))return b;const N=p(b);return{...S,data:{cause:N}}}function h(b){return b>=-32099&&b<=-32e3}function p(b){return Array.isArray(b)?b.map(S=>(0,e.isValidJson)(S)?S:(0,e.isObject)(S)?A(S):null):(0,e.isObject)(b)?A(b):(0,e.isValidJson)(b)?b:null}t.serializeCause=p;function A(b){return Object.getOwnPropertyNames(b).reduce((S,N)=>{const M=b[N];return(0,e.isValidJson)(M)&&(S[N]=M),S},{})}})(n0);var M5=Gg&&Gg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.EthereumProviderError=Mc.JsonRpcError=void 0;const k5=fe,D5=M5(PC),$5=n0;class vR extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a non-empty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,(0,k5.isPlainObject)(this.data)&&(e.data.cause=(0,$5.serializeCause)(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return(0,D5.default)(this.serialize(),H5,2)}}Mc.JsonRpcError=vR;class U5 extends vR{constructor(e,n,r){if(!F5(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}Mc.EthereumProviderError=U5;function F5(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function H5(t,e){if(e!=="[Circular]")return e}var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.providerErrors=Gl.rpcErrors=void 0;const Tb=Mc,Jn=va,_R=n0;Gl.rpcErrors={parse:t=>si(Jn.errorCodes.rpc.parse,t),invalidRequest:t=>si(Jn.errorCodes.rpc.invalidRequest,t),invalidParams:t=>si(Jn.errorCodes.rpc.invalidParams,t),methodNotFound:t=>si(Jn.errorCodes.rpc.methodNotFound,t),internal:t=>si(Jn.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return si(e,t)},invalidInput:t=>si(Jn.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>si(Jn.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>si(Jn.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>si(Jn.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>si(Jn.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>si(Jn.errorCodes.rpc.limitExceeded,t)};Gl.providerErrors={userRejectedRequest:t=>qf(Jn.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>qf(Jn.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>qf(Jn.errorCodes.provider.unsupportedMethod,t),disconnected:t=>qf(Jn.errorCodes.provider.disconnected,t),chainDisconnected:t=>qf(Jn.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Tb.EthereumProviderError(e,n,r)}};function si(t,e){const[n,r]=SR(e);return new Tb.JsonRpcError(t,n??(0,_R.getMessageFromCode)(t),r)}function qf(t,e){const[n,r]=SR(e);return new Tb.EthereumProviderError(t,n??(0,_R.getMessageFromCode)(t),r)}function SR(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodes=t.providerErrors=t.rpcErrors=t.getMessageFromCode=t.serializeError=t.serializeCause=t.EthereumProviderError=t.JsonRpcError=void 0;var e=Mc;Object.defineProperty(t,"JsonRpcError",{enumerable:!0,get:function(){return e.JsonRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});var n=n0;Object.defineProperty(t,"serializeCause",{enumerable:!0,get:function(){return n.serializeCause}}),Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});var r=Gl;Object.defineProperty(t,"rpcErrors",{enumerable:!0,get:function(){return r.rpcErrors}}),Object.defineProperty(t,"providerErrors",{enumerable:!0,get:function(){return r.providerErrors}});var i=va;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(sn);var Ob={exports:{}},G5=CR;function CR(t,e){if(t&&e)return CR(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(r){n[r]=t[r]}),n;function n(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var o=t.apply(this,r),c=r[r.length-1];return typeof o=="function"&&o!==c&&Object.keys(c).forEach(function(u){o[u]=c[u]}),o}}var xR=G5;Ob.exports=xR(Ng);Ob.exports.strict=xR(RR);Ng.proto=Ng(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ng(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return RR(this)},configurable:!0})});function Ng(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function RR(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}var Pb=Ob.exports;const W5=Zi(Pb);var j5=Pb,V5=function(){},z5=function(t){return t.setHeader&&typeof t.abort=="function"},J5=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},IR=function(t,e,n){if(typeof e=="function")return IR(t,null,e);e||(e={}),n=j5(n||V5);var r=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,c=e.writable||e.writable!==!1&&t.writable,u=!1,l=function(){t.writable||d()},d=function(){c=!1,o||n.call(t)},h=function(){o=!1,c||n.call(t)},p=function(M){n.call(t,M?new Error("exited with error code: "+M):null)},A=function(M){n.call(t,M)},b=function(){process.nextTick(S)},S=function(){if(!u){if(o&&!(i&&i.ended&&!i.destroyed))return n.call(t,new Error("premature close"));if(c&&!(r&&r.ended&&!r.destroyed))return n.call(t,new Error("premature close"))}},N=function(){t.req.on("finish",d)};return z5(t)?(t.on("complete",d),t.on("abort",b),t.req?N():t.on("request",N)):c&&!r&&(t.on("end",l),t.on("close",l)),J5(t)&&t.on("exit",p),t.on("end",h),t.on("finish",d),e.error!==!1&&t.on("error",A),t.on("close",b),function(){u=!0,t.removeListener("complete",d),t.removeListener("abort",b),t.removeListener("request",N),t.req&&t.req.removeListener("finish",d),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("exit",p),t.removeListener("end",h),t.removeListener("error",A),t.removeListener("close",b)}},NR=IR;const J1=Zi(NR),K5={},q5=Object.freeze(Object.defineProperty({__proto__:null,default:K5},Symbol.toStringTag,{value:"Module"})),Q5=nh(q5);var Y5=Pb,X5=NR,aw=Q5,Cd=function(){},Z5=/^v?\.0/.test(process.version),r0=function(t){return typeof t=="function"},eH=function(t){return!Z5||!aw?!1:(t instanceof(aw.ReadStream||Cd)||t instanceof(aw.WriteStream||Cd))&&r0(t.close)},tH=function(t){return t.setHeader&&r0(t.abort)},nH=function(t,e,n,r){r=Y5(r);var i=!1;t.on("close",function(){i=!0}),X5(t,{readable:e,writable:n},function(c){if(c)return r(c);i=!0,r()});var o=!1;return function(c){if(!i&&!o){if(o=!0,eH(t))return t.close(Cd);if(tH(t))return t.abort();if(r0(t.destroy))return t.destroy();r(c||new Error("stream was destroyed"))}}},K1=function(t){t()},rH=function(t,e){return t.pipe(e)},iH=function(){var t=Array.prototype.slice.call(arguments),e=r0(t[t.length-1]||Cd)&&t.pop()||Cd;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n,r=t.map(function(i,o){var c=o<t.length-1,u=o>0;return nH(i,c,u,function(l){n||(n=l),l&&r.forEach(K1),!c&&(r.forEach(K1),e(n))})});return t.reduce(rH)},sH=iH;const oH=Zi(sH);function gg(){}const q1="SYN",cw="ACK",Q1="BRK";class Uz extends Fp.Duplex{constructor(e){let{name:n,target:r,targetWindow:i=window,targetOrigin:o="*"}=e;if(super({objectMode:!0}),Se(this,"_init",void 0),Se(this,"_haveSyn",void 0),Se(this,"_name",void 0),Se(this,"_target",void 0),Se(this,"_targetWindow",void 0),Se(this,"_targetOrigin",void 0),Se(this,"_onMessage",void 0),Se(this,"_synIntervalId",void 0),!n||!r)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=n,this._target=r,this._targetWindow=i,this._targetOrigin=o,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(Q1,null,gg),this._haveSyn=!1,this._init=!1}_handShake(){this._write(q1,null,gg),this.cork()}_onData(e){if(!this._init)e===q1?(this._haveSyn=!0,this._write(cw,null,gg)):e===cw&&(this._init=!0,this._haveSyn||this._write(cw,null,gg),this.uncork());else if(e===Q1)this._break();else try{this.push(e)}catch(n){this.emit("error",n)}}_postMessage(e){const n=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},n)}onMessage(e){const n=e.data;this._targetOrigin!=="*"&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||typeof n!="object"||n.target!==this._name||!n.data||this._onData(n.data)}_read(){}_write(e,n,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function Y1(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function aH(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}let i0=class extends ef.EventEmitter{emit(e){let n=e==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];if(n){let l;if(o.length>0&&([l]=o),l instanceof Error)throw l;const d=new Error(`Unhandled error.${l?` (${l.message})`:""}`);throw d.context=l,d}const u=r[e];if(u===void 0)return!1;if(typeof u=="function")Y1(u,this,o);else{const l=u.length,d=aH(u);for(let h=0;h<l;h+=1)Y1(d[h],this,o)}return!0}},Qf=class extends Error{constructor(e){let{code:n,message:r,data:i}=e;if(!Number.isInteger(n))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),Se(this,"code",void 0),Se(this,"data",void 0),this.code=n,i!==void 0&&(this.data=i)}toString(){return DC({code:this.code,message:this.message,data:this.data,stack:this.stack})}};const Gz=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)}};function Wz(){const t={};function e(){return!1}const n=new i0;function r(l){const d=t[l.id];if(!d)throw new Error(`StreamMiddleware - Unknown response id "${l.id}"`);delete t[l.id],Object.assign(d.res,l),setTimeout(d.end)}function i(l){n.emit("notification",l)}function o(l,d,h){let p;try{!l.id?i(l):r(l)}catch(A){p=A}h(p)}const c=new Fp.Duplex({objectMode:!0,read:e,write:o});return{events:n,middleware:(l,d,h,p)=>{c.push(l),t[l.id]={req:l,res:d,next:h,end:p}},stream:c}}function jz(t){return(e,n,r,i)=>{const o=t[e.method];return o===void 0?r():typeof o=="function"?o(e,n,r,i):(n.result=o,i())}}function Vz(){return(t,e,n,r)=>{const i=t.id,o=Math.random().toString(36).slice(2);t.id=o,e.id=o,n(c=>{t.id=i,e.id=i,c()})}}function zz(t){return async(e,n,r,i)=>{let o;const c=new Promise(h=>{o=h});let u=null,l=!1;const d=async()=>{l=!0,r(h=>{u=h,o()}),await c};try{await t(e,n,d),l?(await c,u(null)):i(null)}catch(h){const p=h;u?u(p):i(p)}}}let cH=class Xo extends i0{constructor(){super(),Se(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){const i=[];let o=null,c=!1;for(const u of r)if([o,c]=await Xo._runMiddleware(e,n,u,i),c)break;return[o,c,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(o=>{const c=l=>{const d=l||n.error;d&&(n.error=sn.serializeError(d)),o([d,!0])},u=l=>{n.error?c(n.error):(l&&(typeof l!="function"&&c(new Qf({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(l)),o([null,!1]))};try{r(e,n,u,c)}catch(l){c(l)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(o=>o?i(o):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Qf({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Qf({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[o,c,u]=await Xo._runAllMiddleware(e,n,this._middleware);return c?(await Xo._runReturnHandlers(u),i(o)):r(async l=>{try{await Xo._runReturnHandlers(u)}catch(d){return l(d)}return l()})}catch(o){return i(o)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const c=new Qf({code:-32603,message:"request must be plain object"});return n(c,{id:void 0,jsonrpc:"2.0",error:c})}if(typeof e.method!="string"){const c=new Qf({code:-32603,message:"method must be string"});return n(c,{id:e.id,jsonrpc:"2.0",error:c})}const r=Me({},e),i={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,i)}catch(c){o=c}return o&&(delete i.result,i.error||(i.error=sn.serializeError(o))),n(o,i)}async _processRequest(e,n){const[r,i,o]=await Xo._runAllMiddleware(e,n,this._middleware);if(Xo._checkForCompletion(e,n,i),await Xo._runReturnHandlers(o),r)throw r}};function Jz(t){const e=new cH;return t.forEach(n=>e.push(n)),e.asMiddleware()}function Kz(t){const e=new i0;return e.sendAsync=async n=>{const r=await t.handle(n);if(r.error){var i,o;const c=sn.serializeError(r.error,{fallbackError:{message:((i=r.error)===null||i===void 0?void 0:i.message)||r.error.toString(),code:((o=r.error)===null||o===void 0?void 0:o.code)||-32603}});throw sn.rpcErrors.internal(c)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{const r=Me(Me({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}class uH extends Fp.Duplex{constructor(e){let{parent:n,name:r}=e;super({objectMode:!0}),Se(this,"_parent",void 0),Se(this,"_name",void 0),this._parent=n,this._name=r}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}const X1=Symbol("IGNORE_SUBSTREAM");class lH extends Fp.Duplex{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(Me(Me({},e),{},{objectMode:!0})),Se(this,"_substreams",void 0),Se(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const n=new uH({parent:this,name:e});return this._substreams[e]=n,fH(this,r=>n.destroy(r||void 0)),n}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=X1}_read(){}_write(e,n,r){const{name:i,data:o}=e;if(!i)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();const c=this._substreams[i];return c?(c!==X1&&c.push(o),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),r())}}function fH(t,e){const n=W5(e);J1(t,{readable:!1},n),J1(t,{writable:!1},n)}function qz(t){const e=new lH;return e.getStream=function(r){return this._substreams[r]?this._substreams[r]:this.createStream(r)},oH(t,e,t,n=>{n&&window.console.error(n)}),e}var TR={exports:{}},Bb={},Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});function dH(t){var e=4,n=t.length,r=n%e;if(!r)return t;var i=n,o=e-r,c=n+o,u=Buffer.alloc(c);for(u.write(t);o--;)u.write("=",i++);return u.toString()}Lb.default=dH;Object.defineProperty(Bb,"__esModule",{value:!0});var hH=Lb;function OR(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?Kw(t.toString("base64")):Kw(Buffer.from(t,e).toString("base64"))}function gH(t,e){return e===void 0&&(e="utf8"),Buffer.from(Mb(t),"base64").toString(e)}function Mb(t){return t=t.toString(),hH.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function Kw(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pH(t){return Buffer.from(Mb(t),"base64")}var cf=OR;cf.encode=OR;cf.decode=gH;cf.toBase64=Mb;cf.fromBase64=Kw;cf.toBuffer=pH;Bb.default=cf;(function(t){t.exports=Bb.default,t.exports.default=t.exports})(TR);var mH=TR.exports;const wH=Zi(mH),Vt={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},ec={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};Vt.MAINNET+"",Vt.TESTNET+"",Vt.CYAN+"",Vt.AQUA+"",Vt.CELESTE+"";Vt.CELESTE;Vt.AQUA+"",ec.SAPPHIRE_MAINNET,Vt.CELESTE+"",ec.SAPPHIRE_MAINNET,Vt.CYAN+"",ec.SAPPHIRE_MAINNET,Vt.MAINNET+"",ec.SAPPHIRE_MAINNET,Vt.TESTNET+"",ec.SAPPHIRE_DEVNET;Vt.MAINNET+"",Vt.TESTNET+"",Vt.CYAN+"",Vt.AQUA+"",Vt.CELESTE+"";Vt.MAINNET+"",Vt.TESTNET+"",Vt.CYAN+"",Vt.AQUA+"",Vt.CELESTE+"";function Z1(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0}}let yH=class{constructor(){Se(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,n){this.store[e]=n}},bH=class{constructor(e,n){Se(this,"storage",void 0),Se(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local";if(!this.instance){let r;n==="local"&&Z1("localStorage")?r=window.localStorage:n==="session"&&Z1("sessionStorage")?r=window.sessionStorage:r=new yH,this.instance=new this(e,r)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}};Se(bH,"instance",void 0);const EH=Me(Me({},ec),Vt),Xz={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt"};function AH(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function vH(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var _H=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PR=function(t){_H(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),AH(o,i.prototype),vH(o),o}return e}(Error),Qg={exports:{}};Qg.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,o=16,c=9007199254740991,u="[object Arguments]",l="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",A="[object Error]",b="[object Function]",S="[object GeneratorFunction]",N="[object Map]",M="[object Number]",$="[object Null]",C="[object Object]",ee="[object Proxy]",ae="[object RegExp]",se="[object Set]",V="[object String]",Y="[object Undefined]",w="[object WeakMap]",x="[object ArrayBuffer]",v="[object DataView]",I="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",D="[object Int16Array]",m="[object Int32Array]",E="[object Uint8Array]",B="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,Ee={};Ee[I]=Ee[P]=Ee[R]=Ee[D]=Ee[m]=Ee[E]=Ee[B]=Ee[k]=Ee[j]=!0,Ee[u]=Ee[l]=Ee[x]=Ee[h]=Ee[v]=Ee[p]=Ee[A]=Ee[b]=Ee[N]=Ee[M]=Ee[C]=Ee[ae]=Ee[se]=Ee[V]=Ee[w]=!1;var Ce=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,be=typeof self=="object"&&self&&self.Object===Object&&self,Be=Ce||be||Function("return this")(),He=e&&!e.nodeType&&e,qe=He&&!0&&t&&!t.nodeType&&t,tt=qe&&qe.exports===He,vt=tt&&Ce.process,gt=function(){try{var _=qe&&qe.require&&qe.require("util").types;return _||vt&&vt.binding&&vt.binding("util")}catch{}}(),st=gt&&gt.isTypedArray;function q(_,H,re){switch(re.length){case 0:return _.call(H);case 1:return _.call(H,re[0]);case 2:return _.call(H,re[0],re[1]);case 3:return _.call(H,re[0],re[1],re[2])}return _.apply(H,re)}function Q(_,H){for(var re=-1,me=Array(_);++re<_;)me[re]=H(re);return me}function ue(_){return function(H){return _(H)}}function Ie(_,H){return _==null?void 0:_[H]}function Re(_,H){return function(re){return _(H(re))}}var mt=Array.prototype,_t=Function.prototype,Ut=Object.prototype,Dt=Be["__core-js_shared__"],yn=_t.toString,Lt=Ut.hasOwnProperty,Ts=function(){var _=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),U=Ut.toString,G=yn.call(Object),_e=RegExp("^"+yn.call(Lt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=tt?Be.Buffer:void 0,Ne=Be.Symbol,ft=Be.Uint8Array,qt=ve?ve.allocUnsafe:void 0,qr=Re(Object.getPrototypeOf,Object),$n=Object.create,Ii=Ut.propertyIsEnumerable,Qr=mt.splice,Nn=Ne?Ne.toStringTag:void 0,wr=function(){try{var _=No(Object,"defineProperty");return _({},"",{}),_}catch{}}(),Os=ve?ve.isBuffer:void 0,Un=Math.max,ss=Date.now,Pr=No(Be,"Map"),bn=No(Object,"create"),Tn=function(){function _(){}return function(H){if(!yr(H))return{};if($n)return $n(H);_.prototype=H;var re=new _;return _.prototype=void 0,re}}();function Qn(_){var H=-1,re=_==null?0:_.length;for(this.clear();++H<re;){var me=_[H];this.set(me[0],me[1])}}function Pa(){this.__data__=bn?bn(null):{},this.size=0}function Ba(_){var H=this.has(_)&&delete this.__data__[_];return this.size-=H?1:0,H}function Ro(_){var H=this.__data__;if(bn){var re=H[_];return re===r?void 0:re}return Lt.call(H,_)?H[_]:void 0}function Ps(_){var H=this.__data__;return bn?H[_]!==void 0:Lt.call(H,_)}function ff(_,H){var re=this.__data__;return this.size+=this.has(_)?0:1,re[_]=bn&&H===void 0?r:H,this}Qn.prototype.clear=Pa,Qn.prototype.delete=Ba,Qn.prototype.get=Ro,Qn.prototype.has=Ps,Qn.prototype.set=ff;function Br(_){var H=-1,re=_==null?0:_.length;for(this.clear();++H<re;){var me=_[H];this.set(me[0],me[1])}}function La(){this.__data__=[],this.size=0}function df(_){var H=this.__data__,re=Ti(H,_);if(re<0)return!1;var me=H.length-1;return re==me?H.pop():Qr.call(H,re,1),--this.size,!0}function Ma(_){var H=this.__data__,re=Ti(H,_);return re<0?void 0:H[re][1]}function qc(_){return Ti(this.__data__,_)>-1}function ka(_,H){var re=this.__data__,me=Ti(re,_);return me<0?(++this.size,re.push([_,H])):re[me][1]=H,this}Br.prototype.clear=La,Br.prototype.delete=df,Br.prototype.get=Ma,Br.prototype.has=qc,Br.prototype.set=ka;function Fn(_){var H=-1,re=_==null?0:_.length;for(this.clear();++H<re;){var me=_[H];this.set(me[0],me[1])}}function hf(){this.size=0,this.__data__={hash:new Qn,map:new(Pr||Br),string:new Qn}}function gf(_){var H=Io(this,_).delete(_);return this.size-=H?1:0,H}function pf(_){return Io(this,_).get(_)}function mf(_){return Io(this,_).has(_)}function wf(_,H){var re=Io(this,_),me=re.size;return re.set(_,H),this.size+=re.size==me?0:1,this}Fn.prototype.clear=hf,Fn.prototype.delete=gf,Fn.prototype.get=pf,Fn.prototype.has=mf,Fn.prototype.set=wf;function cn(_){var H=this.__data__=new Br(_);this.size=H.size}function yf(){this.__data__=new Br,this.size=0}function bf(_){var H=this.__data__,re=H.delete(_);return this.size=H.size,re}function Ef(_){return this.__data__.get(_)}function Af(_){return this.__data__.has(_)}function vf(_,H){var re=this.__data__;if(re instanceof Br){var me=re.__data__;if(!Pr||me.length<n-1)return me.push([_,H]),this.size=++re.size,this;re=this.__data__=new Fn(me)}return re.set(_,H),this.size=re.size,this}cn.prototype.clear=yf,cn.prototype.delete=bf,cn.prototype.get=Ef,cn.prototype.has=Af,cn.prototype.set=vf;function Ni(_,H){var re=Lo(_),me=!re&&Mr(_),ke=!re&&!me&&uu(_),ze=!re&&!me&&!ke&&us(_),De=re||me||ke||ze,Le=De?Q(_.length,String):[],Ke=Le.length;for(var Ot in _)(H||Lt.call(_,Ot))&&!(De&&(Ot=="length"||ke&&(Ot=="offset"||Ot=="parent")||ze&&(Ot=="buffer"||Ot=="byteLength"||Ot=="byteOffset")||nu(Ot,Ke)))&&Le.push(Ot);return Le}function os(_,H,re){(re!==void 0&&!Bo(_[H],re)||re===void 0&&!(H in _))&&Da(_,H,re)}function _f(_,H,re){var me=_[H];(!(Lt.call(_,H)&&Bo(me,re))||re===void 0&&!(H in _))&&Da(_,H,re)}function Ti(_,H){for(var re=_.length;re--;)if(Bo(_[re][0],H))return re;return-1}function Da(_,H,re){H=="__proto__"&&wr?wr(_,H,{configurable:!0,enumerable:!0,value:re,writable:!0}):_[H]=re}var Sf=eu();function Oi(_){return _==null?_===void 0?Y:$:Nn&&Nn in Object(_)?tu(_):su(_)}function $a(_){return cs(_)&&Oi(_)==u}function Qc(_){if(!yr(_)||as(_))return!1;var H=ks(_)?_e:te;return H.test(cu(_))}function Lr(_){return cs(_)&&lu(_.length)&&!!Ee[Oi(_)]}function Cf(_){if(!yr(_))return iu(_);var H=Hn(_),re=[];for(var me in _)me=="constructor"&&(H||!Lt.call(_,me))||re.push(me);return re}function Yc(_,H,re,me,ke){_!==H&&Sf(H,function(ze,De){if(ke||(ke=new cn),yr(ze))xf(_,H,De,re,Yc,me,ke);else{var Le=me?me(Po(_,De),ze,De+"",_,H,ke):void 0;Le===void 0&&(Le=ze),os(_,De,Le)}},hu)}function xf(_,H,re,me,ke,ze,De){var Le=Po(_,re),Ke=Po(H,re),Ot=De.get(Ke);if(Ot){os(_,re,Ot);return}var dt=ze?ze(Le,Ke,re+"",_,H,De):void 0,bt=dt===void 0;if(bt){var un=Lo(Ke),Yn=!un&&uu(Ke),Xn=!un&&!Yn&&us(Ke);dt=Ke,un||Yn||Xn?Lo(Le)?dt=Le:ko(Le)?dt=Ls(Le):Yn?(bt=!1,dt=Zc(Ke,!0)):Xn?(bt=!1,dt=Ua(Ke,!0)):dt=[]:fu(Ke)||Mr(Ke)?(dt=Le,Mr(Le)?dt=du(Le):(!yr(Le)||ks(Le))&&(dt=To(Ke))):bt=!1}bt&&(De.set(Ke,dt),ke(dt,Ke,me,ze,De),De.delete(Ke)),os(_,re,dt)}function Rf(_,H){return ou(Yr(_,H,F),_+"")}var Xc=wr?function(_,H){return wr(_,"toString",{configurable:!0,enumerable:!1,value:St(H),writable:!0})}:F;function Zc(_,H){if(H)return _.slice();var re=_.length,me=qt?qt(re):new _.constructor(re);return _.copy(me),me}function Bs(_){var H=new _.constructor(_.byteLength);return new ft(H).set(new ft(_)),H}function Ua(_,H){var re=H?Bs(_.buffer):_.buffer;return new _.constructor(re,_.byteOffset,_.length)}function Ls(_,H){var re=-1,me=_.length;for(H||(H=Array(me));++re<me;)H[re]=_[re];return H}function Fa(_,H,re,me){var ke=!re;re||(re={});for(var ze=-1,De=H.length;++ze<De;){var Le=H[ze],Ke=me?me(re[Le],_[Le],Le,re,_):void 0;Ke===void 0&&(Ke=_[Le]),ke?Da(re,Le,Ke):_f(re,Le,Ke)}return re}function Ms(_){return Rf(function(H,re){var me=-1,ke=re.length,ze=ke>1?re[ke-1]:void 0,De=ke>2?re[2]:void 0;for(ze=_.length>3&&typeof ze=="function"?(ke--,ze):void 0,De&&ru(re[0],re[1],De)&&(ze=ke<3?void 0:ze,ke=1),H=Object(H);++me<ke;){var Le=re[me];Le&&_(H,Le,me,ze)}return H})}function eu(_){return function(H,re,me){for(var ke=-1,ze=Object(H),De=me(H),Le=De.length;Le--;){var Ke=De[_?Le:++ke];if(re(ze[Ke],Ke,ze)===!1)break}return H}}function Io(_,H){var re=_.__data__;return Oo(H)?re[typeof H=="string"?"string":"hash"]:re.map}function No(_,H){var re=Ie(_,H);return Qc(re)?re:void 0}function tu(_){var H=Lt.call(_,Nn),re=_[Nn];try{_[Nn]=void 0;var me=!0}catch{}var ke=U.call(_);return me&&(H?_[Nn]=re:delete _[Nn]),ke}function To(_){return typeof _.constructor=="function"&&!Hn(_)?Tn(qr(_)):{}}function nu(_,H){var re=typeof _;return H=H??c,!!H&&(re=="number"||re!="symbol"&&he.test(_))&&_>-1&&_%1==0&&_<H}function ru(_,H,re){if(!yr(re))return!1;var me=typeof H;return(me=="number"?Mo(re)&&nu(H,re.length):me=="string"&&H in re)?Bo(re[H],_):!1}function Oo(_){var H=typeof _;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?_!=="__proto__":_===null}function as(_){return!!Ts&&Ts in _}function Hn(_){var H=_&&_.constructor,re=typeof H=="function"&&H.prototype||Ut;return _===re}function iu(_){var H=[];if(_!=null)for(var re in Object(_))H.push(re);return H}function su(_){return U.call(_)}function Yr(_,H,re){return H=Un(H===void 0?_.length-1:H,0),function(){for(var me=arguments,ke=-1,ze=Un(me.length-H,0),De=Array(ze);++ke<ze;)De[ke]=me[H+ke];ke=-1;for(var Le=Array(H+1);++ke<H;)Le[ke]=me[ke];return Le[H]=re(De),q(_,this,Le)}}function Po(_,H){if(!(H==="constructor"&&typeof _[H]=="function")&&H!="__proto__")return _[H]}var ou=au(Xc);function au(_){var H=0,re=0;return function(){var me=ss(),ke=o-(me-re);if(re=me,ke>0){if(++H>=i)return arguments[0]}else H=0;return _.apply(void 0,arguments)}}function cu(_){if(_!=null){try{return yn.call(_)}catch{}try{return _+""}catch{}}return""}function Bo(_,H){return _===H||_!==_&&H!==H}var Mr=$a(function(){return arguments}())?$a:function(_){return cs(_)&&Lt.call(_,"callee")&&!Ii.call(_,"callee")},Lo=Array.isArray;function Mo(_){return _!=null&&lu(_.length)&&!ks(_)}function ko(_){return cs(_)&&Mo(_)}var uu=Os||X;function ks(_){if(!yr(_))return!1;var H=Oi(_);return H==b||H==S||H==d||H==ee}function lu(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=c}function yr(_){var H=typeof _;return _!=null&&(H=="object"||H=="function")}function cs(_){return _!=null&&typeof _=="object"}function fu(_){if(!cs(_)||Oi(_)!=C)return!1;var H=qr(_);if(H===null)return!0;var re=Lt.call(H,"constructor")&&H.constructor;return typeof re=="function"&&re instanceof re&&yn.call(re)==G}var us=st?ue(st):Lr;function du(_){return Fa(_,hu(_))}function hu(_){return Mo(_)?Ni(_,!0):Cf(_)}var It=Ms(function(_,H,re){Yc(_,H,re)});function St(_){return function(){return _}}function F(_){return _}function X(){return!1}t.exports=It})(Qg,Qg.exports);var SH=Qg.exports;const s0=Zi(SH);var BR={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Gg,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(N,M){var $=N[M];if(typeof $.bind=="function")return $.bind(N);try{return Function.prototype.bind.call($,N)}catch{return function(){return Function.prototype.apply.apply($,[N,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(N){return N==="debug"&&(N="log"),typeof console===n?!1:N==="trace"&&r?c:console[N]!==void 0?o(console,N):console.log!==void 0?o(console,"log"):e}function l(N,M){for(var $=0;$<i.length;$++){var C=i[$];this[C]=$<N?e:this.methodFactory(C,N,M)}this.log=this.debug}function d(N,M,$){return function(){typeof console!==n&&(l.call(this,M,$),this[N].apply(this,arguments))}}function h(N,M,$){return u(N)||d.apply(this,arguments)}function p(N,M,$){var C=this,ee;M=M??"WARN";var ae="loglevel";typeof N=="string"?ae+=":"+N:typeof N=="symbol"&&(ae=void 0);function se(x){var v=(i[x]||"silent").toUpperCase();if(!(typeof window===n||!ae)){try{window.localStorage[ae]=v;return}catch{}try{window.document.cookie=encodeURIComponent(ae)+"="+v+";"}catch{}}}function V(){var x;if(!(typeof window===n||!ae)){try{x=window.localStorage[ae]}catch{}if(typeof x===n)try{var v=window.document.cookie,I=v.indexOf(encodeURIComponent(ae)+"=");I!==-1&&(x=/^([^;]+)/.exec(v.slice(I))[1])}catch{}return C.levels[x]===void 0&&(x=void 0),x}}function Y(){if(!(typeof window===n||!ae)){try{window.localStorage.removeItem(ae);return}catch{}try{window.document.cookie=encodeURIComponent(ae)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}C.name=N,C.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},C.methodFactory=$||h,C.getLevel=function(){return ee},C.setLevel=function(x,v){if(typeof x=="string"&&C.levels[x.toUpperCase()]!==void 0&&(x=C.levels[x.toUpperCase()]),typeof x=="number"&&x>=0&&x<=C.levels.SILENT){if(ee=x,v!==!1&&se(x),l.call(C,x,N),typeof console===n&&x<C.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+x},C.setDefaultLevel=function(x){M=x,V()||C.setLevel(x,!1)},C.resetLevel=function(){C.setLevel(M,!1),Y()},C.enableAll=function(x){C.setLevel(C.levels.TRACE,x)},C.disableAll=function(x){C.setLevel(C.levels.SILENT,x)};var w=V();w==null&&(w=M),C.setLevel(w,!1)}var A=new p,b={};A.getLogger=function(M){if(typeof M!="symbol"&&typeof M!="string"||M==="")throw new TypeError("You must supply a name when creating a logger.");var $=b[M];return $||($=b[M]=new p(M,A.getLevel(),A.methodFactory)),$};var S=typeof window!==n?window.log:void 0;return A.noConflict=function(){return typeof window!==n&&window.log===A&&(window.log=S),A},A.getLoggers=function(){return b},A.default=A,A})})(BR);var LR=BR.exports;const kb=Zi(LR),xd=kb.getLogger("http-helpers");xd.setLevel(LR.levels.INFO);let qw="torus-default";const CH="x-api-key";function Zz(t){qw=t}function eJ(t){xd.setLevel(t)}async function o0(t,e){let n=null;try{n=new URL(t)}catch{}return fetch(t,e)}function a0(){const t={};return qw&&(t[CH]=qw),t}function c0(t){xd.info(`Response: ${t.status} ${t.statusText}`),xd.info(`Url: ${t.url}`)}function xH(t){xd.info(`Request tracing with traceID=${t.headers.get("x-web3-correlation-id")}`)}const RH=(t,e)=>{const n=new Promise((r,i)=>{const o=setTimeout(()=>{clearTimeout(o),i(new Error(`Timed out in ${t}ms`))},t)});return Promise.race([e,n])},tJ=async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={mode:"cors",headers:{}};n.useAPIKey&&(r.headers=Me(Me({},r.headers),a0()));const i=s0(r,e,{method:"GET"}),o=await o0(t,i);if(o.ok){const c=o.headers.get("content-type");return c!=null&&c.includes("application/json")?o.json():o.text()}throw c0(o),o},u0=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=Me(Me({},i.headers),a0()));const o=s0(i,n,{method:"POST"});return r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),RH(r.timeout||6e4,o0(t,o).then(c=>{if(r.logTracingHeader&&xH(c),c.ok){const u=c.headers.get("content-type");return u!=null&&u.includes("application/json")?c.json():c.text()}throw c0(c),c}))},nJ=async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=Me(Me({},i.headers),a0()));const o=s0(i,n,{method:"PATCH"});r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const c=await o0(t,o);if(c.ok){const u=c.headers.get("content-type");return u!=null&&u.includes("application/json")?c.json():c.text()}throw c0(c),c},rJ=async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};r.useAPIKey&&(i.headers=Me(Me({},i.headers),a0()));const o=s0(i,n,{method:"PUT"});r.isUrlEncodedData?(o.body=e,o.headers["Content-Type"]==="application/json; charset=utf-8"&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e);const c=await o0(t,o);if(c.ok){const u=c.headers.get("content-type");return u!=null&&u.includes("application/json")?c.json():c.text()}throw c0(c),c};function Qw(t){this.message=t}Qw.prototype=new Error,Qw.prototype.name="InvalidCharacterError";var e_=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Qw("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,c="";r=e.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?c+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return c};function IH(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(e_(n).replace(/(.)/g,function(r,i){var o=i.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(e)}catch{return e_(e)}}function Yg(t){this.message=t}function NH(t,e){if(typeof t!="string")throw new Yg("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(IH(t.split(".")[n]))}catch(r){throw new Yg("Invalid token specified: "+r.message)}}Yg.prototype=new Error,Yg.prototype.name="InvalidTokenError";const Qi={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},TH={EIP155:"eip155",SOLANA:"solana",XRPL:"xrpl",MULTICHAIN:"multichain"},OH=t=>{if(t===Qi.EIP155)return 1;if(t===Qi.SOLANA)return 1;throw new Error(`Chain namespace ${t} is not supported`)},PH=t=>{const e=Qi.EIP155;return t===1?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===5?{chainNamespace:e,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===11155111?{chainNamespace:e,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorer:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===137?{chainNamespace:e,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:t===80001?{chainNamespace:e,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon",decimals:18}:t===56?{chainNamespace:e,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===97?{chainNamespace:e,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===25?{chainNamespace:e,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:t===338?{chainNamespace:e,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:t===8217?{chainNamespace:e,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:null},BH=t=>{const e=Qi.SOLANA;return t===1?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:t===2?{chainNamespace:e,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:t===3?{chainNamespace:e,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},MR=(t,e)=>{if(t===Qi.OTHER)return null;const n=e?typeof e=="number"?e:parseInt(e,16):OH(t);return t===Qi.EIP155?PH(n):t===Qi.SOLANA?BH(n):null};let hh=class extends PR{constructor(e,n){super(n),Se(this,"code",void 0),Se(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}},ws=class nr extends hh{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new nr(e,`${nr.messages[e]}, ${n}`)}static notFound(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5001,e)}static notInstalled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5002,e)}static notReady(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5003,e)}static windowBlocked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5004,e)}static windowClosed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5005,e)}static incompatibleChainNameSpace(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5006,e)}static duplicateAdapterError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5007,e)}static invalidProviderConfigError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5008,e)}static providerNotReadyError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5009,e)}static rpcConnectionError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5010,e)}static invalidParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5011,e)}static invalidNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return nr.fromCode(5013,e)}};Se(ws,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});let zr=class ui extends hh{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new ui(e,`${ui.messages[e]}. ${n}`)}static connectionError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5111,e)}static disconnectionError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5112,e)}static notConnectedError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5113,e)}static popupClosed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5114,e)}static mfaEnabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5115,e)}static chainConfigNotAdded(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5116,e)}static unsupportedOperation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5117,e)}static coreKitKeyNotFound(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5118,e)}static userNotLoggedIn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ui.fromCode(5119,e)}};Se(zr,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});let Uu=class Mu extends hh{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Mu(e,`${Mu.messages[e]}, ${n}`)}static chainIDNotAllowed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Mu.fromCode(5201,e)}static operationNotAllowed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Mu.fromCode(5202,e)}static chainNamespaceNotAllowed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Mu.fromCode(5203,e)}};Se(Uu,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});let LH=class kR extends hh{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Uu(e,`${kR.messages[e]}, ${n}`)}static invalidRequestArgs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Uu.fromCode(5301,e)}static invalidRequestMethod(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Uu.fromCode(5302,e)}static invalidRequestParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Uu.fromCode(5303,e)}};Se(LH,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const Xg={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2"},td=Me({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},Xg),Tg=Me({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},Xg),nd=Me(Me({},Tg),td),sJ={[Xg.OPENLOGIN]:"OpenLogin",[Xg.WALLET_CONNECT_V2]:"Wallet Connect v2",[td.TORUS_SOLANA]:"Torus",[td.PHANTOM]:"Phantom",[td.SOLFLARE]:"Solflare",[td.SLOPE]:"Slope",[Tg.TORUS_EVM]:"Torus",[Tg.METAMASK]:"Metamask",[Tg.COINBASE]:"Coinbase"},MH={EXTERNAL:"external",IN_APP:"in_app"},rn={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},tc=Me(Me({},rn),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});let kH=class extends i0{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Se(this,"adapterData",{}),Se(this,"sessionTime",86400),Se(this,"clientId",void 0),Se(this,"web3AuthNetwork",EH.MAINNET),Se(this,"rehydrated",!1),Se(this,"chainConfig",null),Se(this,"knownChainConfigs",{}),Se(this,"adapterNamespace",void 0),Se(this,"currentChainNamespace",void 0),Se(this,"type",void 0),Se(this,"name",void 0),Se(this,"status",void 0),this.setAdapterSettings(e)}get chainConfigProxy(){return this.chainConfig?Me({},this.chainConfig):null}get connnected(){return this.status===rn.CONNECTED}setAdapterSettings(e){if(this.status===rn.READY)return;e!=null&&e.sessionTime&&(this.sessionTime=e.sessionTime),e!=null&&e.clientId&&(this.clientId=e.clientId),e!=null&&e.web3AuthNetwork&&(this.web3AuthNetwork=e.web3AuthNetwork);const n=e.chainConfig;if(n){if(!n.chainNamespace)throw ws.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=n.chainNamespace;const r=MR(n.chainNamespace,n.chainId),i=Me(Me({},r||{}),n);this.chainConfig=i,this.addChainConfig(i)}}checkConnectionRequirements(){if(!(this.name===nd.WALLET_CONNECT_V2&&this.status===rn.CONNECTING)){if(this.status===rn.CONNECTING)throw ws.notReady("Already connecting");if(this.status===rn.CONNECTED)throw zr.connectionError("Already connected");if(this.status!==rn.READY)throw zr.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw ws.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==Qi.OTHER)throw ws.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==Qi.OTHER)throw ws.invalidParams("chainID is required in chainConfig");if(this.status!==rn.NOT_READY){if(this.status===rn.CONNECTED)throw ws.notReady("Already connected");if(this.status===rn.READY)throw ws.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==rn.CONNECTED)throw zr.disconnectionError("Not connected with wallet")}checkAddChainRequirements(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&!this.provider)throw zr.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==e.chainNamespace)throw Uu.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements(e){let{chainId:n}=e;if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&!this.provider)throw zr.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[n])throw zr.chainConfigNotAdded("Invalid chainId")}updateAdapterData(e){this.adapterData=e,this.emit(tc.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}addChainConfig(e){const n=this.knownChainConfigs[e.chainId];this.knownChainConfigs[e.chainId]=Me(Me({},n||{}),e)}getChainConfig(e){return this.knownChainConfigs[e]||null}};const DR="https://authjs.web3auth.io";var $R=kb.getLogger("web3auth-logger");function Db(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}const aJ=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),DH=t=>{const e=NH(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},$H=async(t,e)=>{const o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},c=await u0(`${DR}/siww/get`,o);if(!c.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return c.challenge},UH=async(t,e,n,r,i,o,c)=>{const l={signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window.location<"u"?window.location.hostname:"com://reactnative",timeout:i},d=await u0(`${DR}/siww/verify`,l,{headers:{client_id:o,wallet_provider:r,web3auth_network:c}});if(!d.success)throw $R.error("Failed to authenticate user, ,message verification failed",d.error),new Error("Failed to authenticate user, ,message verification failed");return d.token},FH=(t,e)=>Db("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,HH=(t,e,n)=>Db("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,GH=(t,e)=>Db("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null;function Zg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function UR(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function $b(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function FR(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zg(t.outputLen),Zg(t.blockLen)}function HR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GR(t,e){$b(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const qi={number:Zg,bool:UR,bytes:$b,hash:FR,exists:HR,output:GR},cJ=Object.freeze(Object.defineProperty({__proto__:null,bool:UR,bytes:$b,default:qi,exists:HR,hash:FR,number:Zg,output:GR},Symbol.toStringTag,{value:"Module"})),uw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ub=t=>t instanceof Uint8Array,WH=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),jH=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Og=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$i=(t,e)=>t<<32-e|t>>>e,WR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!WR)throw new Error("Non little-endian hardware is not supported");const VH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zH(t){if(!Ub(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=VH[t[n]];return e}function jR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}const VR=async()=>{};async function JH(t,e,n){let r=Date.now();for(let i=0;i<t;i++){n(i);const o=Date.now()-r;o>=0&&o<e||(await VR(),r+=o)}}function zR(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function uf(t){if(typeof t=="string"&&(t=zR(t)),!Ub(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function JR(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Ub(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let Fb=class{clone(){return this._cloneInto()}};const KH=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function qH(t,e){if(e!==void 0&&(typeof e!="object"||!KH(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Hb(t){const e=r=>t().update(uf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function QH(t){const e=(r,i)=>t(i).update(uf(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function YH(t){const e=(r,i)=>t(i).update(uf(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Gb(t=32){if(uw&&typeof uw.getRandomValues=="function")return uw.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const lJ=Object.freeze(Object.defineProperty({__proto__:null,Hash:Fb,asyncLoop:JH,bytesToHex:zH,checkOpts:qH,concatBytes:JR,createView:Og,hexToBytes:jR,isLE:WR,nextTick:VR,randomBytes:Gb,rotr:$i,toBytes:uf,u32:jH,u8:WH,utf8ToBytes:zR,wrapConstructor:Hb,wrapConstructorWithOpts:QH,wrapXOFConstructorWithOpts:YH},Symbol.toStringTag,{value:"Module"}));function XH(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),c=Number(n>>i&o),u=Number(n&o),l=r?4:0,d=r?0:4;t.setUint32(e+l,c,r),t.setUint32(e+d,u,r)}let ZH=class extends Fb{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Og(this.buffer)}update(e){qi.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=uf(e);const o=e.length;for(let c=0;c<o;){const u=Math.min(i-this.pos,o-c);if(u===i){const l=Og(e);for(;i<=o-c;c+=i)this.process(l,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qi.exists(this),qi.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let p=c;p<i;p++)n[p]=0;XH(r,i-8,BigInt(this.length*8),o),this.process(r,0);const u=Og(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)u.setUint32(4*p,h[p],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=c,i%n&&e.buffer.set(r),e}};const eG=(t,e,n)=>t&e^~t&n,tG=(t,e,n)=>t&e^t&n^e&n,nG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jo=new Uint32Array(64);let KR=class extends ZH{constructor(){super(64,32,8,!1),this.A=zo[0]|0,this.B=zo[1]|0,this.C=zo[2]|0,this.D=zo[3]|0,this.E=zo[4]|0,this.F=zo[5]|0,this.G=zo[6]|0,this.H=zo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:c,G:u,H:l}=this;return[e,n,r,i,o,c,u,l]}set(e,n,r,i,o,c,u,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=c|0,this.G=u|0,this.H=l|0}process(e,n){for(let p=0;p<16;p++,n+=4)Jo[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const A=Jo[p-15],b=Jo[p-2],S=$i(A,7)^$i(A,18)^A>>>3,N=$i(b,17)^$i(b,19)^b>>>10;Jo[p]=N+Jo[p-7]+S+Jo[p-16]|0}let{A:r,B:i,C:o,D:c,E:u,F:l,G:d,H:h}=this;for(let p=0;p<64;p++){const A=$i(u,6)^$i(u,11)^$i(u,25),b=h+A+eG(u,l,d)+nG[p]+Jo[p]|0,N=($i(r,2)^$i(r,13)^$i(r,22))+tG(r,i,o)|0;h=d,d=l,l=u,u=c+b|0,c=o,o=i,i=r,r=b+N|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,c=c+this.D|0,u=u+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,o,c,u,l,d,h)}roundClean(){Jo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class rG extends KR{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ep=Hb(()=>new KR);Hb(()=>new rG);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qR=BigInt(0),l0=BigInt(1),iG=BigInt(2),f0=t=>t instanceof Uint8Array,sG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wl(t){if(!f0(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=sG[t[n]];return e}function QR(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Wb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function jl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function dr(t){return Wb(Wl(t))}function jb(t){if(!f0(t))throw new Error("Uint8Array expected");return Wb(Wl(Uint8Array.from(t).reverse()))}function Ea(t,e){return jl(t.toString(16).padStart(e*2,"0"))}function YR(t,e){return Ea(t,e).reverse()}function oG(t){return jl(QR(t))}function Bn(t,e,n){let r;if(typeof e=="string")try{r=jl(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(f0(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Jr(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!f0(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function aG(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function d0(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function cG(t){let e;for(e=0;t>qR;t>>=l0,e+=1);return e}function uG(t,e){return t>>BigInt(e)&l0}const lG=(t,e,n)=>t|(n?l0:qR)<<BigInt(e),Vb=t=>(iG<<BigInt(t-1))-l0,lw=t=>new Uint8Array(t),t_=t=>Uint8Array.from(t);function XR(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=lw(t),i=lw(t),o=0;const c=()=>{r.fill(1),i.fill(0),o=0},u=(...p)=>n(i,r,...p),l=(p=lw())=>{i=u(t_([0]),p),r=u(),p.length!==0&&(i=u(t_([1]),p),r=u())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){r=u();const b=r.slice();A.push(b),p+=r.length}return Jr(...A)};return(p,A)=>{c(),l(p);let b;for(;!(b=A(d()));)l();return c(),b}}const fG={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function lf(t,e,n={}){const r=(i,o,c)=>{const u=fG[o];if(typeof u!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(c&&l===void 0)&&!u(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const dG=Object.freeze(Object.defineProperty({__proto__:null,bitGet:uG,bitLen:cG,bitMask:Vb,bitSet:lG,bytesToHex:Wl,bytesToNumberBE:dr,bytesToNumberLE:jb,concatBytes:Jr,createHmacDrbg:XR,ensureBytes:Bn,equalBytes:aG,hexToBytes:jl,hexToNumber:Wb,numberToBytesBE:Ea,numberToBytesLE:YR,numberToHexUnpadded:QR,numberToVarBytesBE:oG,utf8ToBytes:d0,validateObject:lf},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rn=BigInt(0),on=BigInt(1),nc=BigInt(2),hG=BigInt(3),Yw=BigInt(4),n_=BigInt(5),r_=BigInt(8);BigInt(9);BigInt(16);function Cn(t,e){const n=t%e;return n>=Rn?n:e+n}function gG(t,e,n){if(n<=Rn||e<Rn)throw new Error("Expected power/modulo > 0");if(n===on)return Rn;let r=on;for(;e>Rn;)e&on&&(r=r*t%n),t=t*t%n,e>>=on;return r}function oi(t,e,n){let r=t;for(;e-- >Rn;)r*=r,r%=n;return r}function Xw(t,e){if(t===Rn||e<=Rn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Cn(t,e),r=e,i=Rn,o=on;for(;n!==Rn;){const u=r/n,l=r%n,d=i-o*u;r=n,n=l,i=o,o=d}if(r!==on)throw new Error("invert: does not exist");return Cn(i,e)}function pG(t){const e=(t-on)/nc;let n,r,i;for(n=t-on,r=0;n%nc===Rn;n/=nc,r++);for(i=nc;i<t&&gG(i,e,t)!==t-on;i++);if(r===1){const c=(t+on)/Yw;return function(l,d){const h=l.pow(d,c);if(!l.eql(l.sqr(h),d))throw new Error("Cannot find square root");return h}}const o=(n+on)/nc;return function(u,l){if(u.pow(l,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let d=r,h=u.pow(u.mul(u.ONE,i),n),p=u.pow(l,o),A=u.pow(l,n);for(;!u.eql(A,u.ONE);){if(u.eql(A,u.ZERO))return u.ZERO;let b=1;for(let N=u.sqr(A);b<d&&!u.eql(N,u.ONE);b++)N=u.sqr(N);const S=u.pow(h,on<<BigInt(d-b-1));h=u.sqr(S),p=u.mul(p,S),A=u.mul(A,h),d=b}return p}}function mG(t){if(t%Yw===hG){const e=(t+on)/Yw;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%r_===n_){const e=(t-n_)/r_;return function(r,i){const o=r.mul(i,nc),c=r.pow(o,e),u=r.mul(i,c),l=r.mul(r.mul(u,nc),c),d=r.mul(u,r.sub(l,r.ONE));if(!r.eql(r.sqr(d),i))throw new Error("Cannot find square root");return d}}return pG(t)}const wG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ZR(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=wG.reduce((r,i)=>(r[i]="function",r),e);return lf(t,n)}function yG(t,e,n){if(n<Rn)throw new Error("Expected power > 0");if(n===Rn)return t.ONE;if(n===on)return e;let r=t.ONE,i=e;for(;n>Rn;)n&on&&(r=t.mul(r,i)),i=t.sqr(i),n>>=on;return r}function bG(t,e){const n=new Array(e.length),r=e.reduce((o,c,u)=>t.is0(c)?o:(n[u]=o,t.mul(o,c)),t.ONE),i=t.inv(r);return e.reduceRight((o,c,u)=>t.is0(c)?o:(n[u]=t.mul(o,n[u]),t.mul(o,c)),i),n}function zb(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function EG(t,e,n=!1,r={}){if(t<=Rn)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=zb(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=mG(t),u=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:Vb(i),ZERO:Rn,ONE:on,create:l=>Cn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Rn<=l&&l<t},is0:l=>l===Rn,isOdd:l=>(l&on)===on,neg:l=>Cn(-l,t),eql:(l,d)=>l===d,sqr:l=>Cn(l*l,t),add:(l,d)=>Cn(l+d,t),sub:(l,d)=>Cn(l-d,t),mul:(l,d)=>Cn(l*d,t),pow:(l,d)=>yG(u,l,d),div:(l,d)=>Cn(l*Xw(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>Xw(l,t),sqrt:r.sqrt||(l=>c(u,l)),invertBatch:l=>bG(u,l),cmov:(l,d,h)=>h?d:l,toBytes:l=>n?YR(l,o):Ea(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?jb(l):dr(l)}});return Object.freeze(u)}function AG(t,e,n=!1){t=Bn("privateHash",t);const r=t.length,i=zb(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const o=n?jb(t):dr(t);return Cn(o,e-on)+on}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vG=BigInt(0),fw=BigInt(1);function _G(t,e){const n=(i,o)=>{const c=o.negate();return i?c:o},r=i=>{const o=Math.ceil(e/i)+1,c=2**(i-1);return{windows:o,windowSize:c}};return{constTimeNegate:n,unsafeLadder(i,o){let c=t.ZERO,u=i;for(;o>vG;)o&fw&&(c=c.add(u)),u=u.double(),o>>=fw;return c},precomputeWindow(i,o){const{windows:c,windowSize:u}=r(o),l=[];let d=i,h=d;for(let p=0;p<c;p++){h=d,l.push(h);for(let A=1;A<u;A++)h=h.add(d),l.push(h);d=h.double()}return l},wNAF(i,o,c){const{windows:u,windowSize:l}=r(i);let d=t.ZERO,h=t.BASE;const p=BigInt(2**i-1),A=2**i,b=BigInt(i);for(let S=0;S<u;S++){const N=S*l;let M=Number(c&p);c>>=b,M>l&&(M-=A,c+=fw);const $=N,C=N+Math.abs(M)-1,ee=S%2!==0,ae=M<0;M===0?h=h.add(n(ee,o[$])):d=d.add(n(ae,o[C]))}return{p:d,f:h}},wNAFCached(i,o,c,u){const l=i._WINDOW_SIZE||1;let d=o.get(i);return d||(d=this.precomputeWindow(i,l),l!==1&&o.set(i,u(d))),this.wNAF(l,d,c)}}}function eI(t){return ZR(t.Fp),lf(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zb(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SG(t){const e=eI(t);lf(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:CG,hexToBytes:xG}=dG,ac={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ac;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:CG(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ac,n=typeof t=="string"?xG(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=ac._parseInt(n.subarray(2)),{d:c,l:u}=ac._parseInt(o);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(t){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,n=d=>{const h=d.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,c=i.length/2,u=n(o),l=n(c);return`30${n(c+o+4)}02${l}${i}02${u}${r}`}},Ji=BigInt(0),Xt=BigInt(1),Ko=BigInt(2),tp=BigInt(3),i_=BigInt(4);function RG(t){const e=SG(t),{Fp:n}=e,r=e.toBytes||((S,N,M)=>{const $=N.toAffine();return Jr(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),i=e.fromBytes||(S=>{const N=S.subarray(1),M=n.fromBytes(N.subarray(0,n.BYTES)),$=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:M,y:$}});function o(S){const{a:N,b:M}=e,$=n.sqr(S),C=n.mul($,S);return n.add(n.add(C,n.mul(S,N)),M)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function c(S){return typeof S=="bigint"&&Ji<S&&S<e.n}function u(S){if(!c(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(S){const{allowedPrivateKeyLengths:N,nByteLength:M,wrapPrivateKey:$,n:C}=e;if(N&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Wl(S)),typeof S!="string"||!N.includes(S.length))throw new Error("Invalid key");S=S.padStart(M*2,"0")}let ee;try{ee=typeof S=="bigint"?S:dr(Bn("private key",S,M))}catch{throw new Error(`private key must be ${M} bytes, hex or bigint, not ${typeof S}`)}return $&&(ee=Cn(ee,C)),u(ee),ee}const d=new Map;function h(S){if(!(S instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(N,M,$){if(this.px=N,this.py=M,this.pz=$,N==null||!n.isValid(N))throw new Error("x required");if(M==null||!n.isValid(M))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required")}static fromAffine(N){const{x:M,y:$}=N||{};if(!N||!n.isValid(M)||!n.isValid($))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");const C=ee=>n.eql(ee,n.ZERO);return C(M)&&C($)?p.ZERO:new p(M,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const M=n.invertBatch(N.map($=>$.pz));return N.map(($,C)=>$.toAffine(M[C])).map(p.fromAffine)}static fromHex(N){const M=p.fromAffine(i(Bn("pointHex",N)));return M.assertValidity(),M}static fromPrivateKey(N){return p.BASE.multiply(l(N))}_setWindowSize(N){this._WINDOW_SIZE=N,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:N,y:M}=this.toAffine();if(!n.isValid(N)||!n.isValid(M))throw new Error("bad point: x or y not FE");const $=n.sqr(M),C=o(N);if(!n.eql($,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:N}=this.toAffine();if(n.isOdd)return!n.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){h(N);const{px:M,py:$,pz:C}=this,{px:ee,py:ae,pz:se}=N,V=n.eql(n.mul(M,se),n.mul(ee,C)),Y=n.eql(n.mul($,se),n.mul(ae,C));return V&&Y}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:M}=e,$=n.mul(M,tp),{px:C,py:ee,pz:ae}=this;let se=n.ZERO,V=n.ZERO,Y=n.ZERO,w=n.mul(C,C),x=n.mul(ee,ee),v=n.mul(ae,ae),I=n.mul(C,ee);return I=n.add(I,I),Y=n.mul(C,ae),Y=n.add(Y,Y),se=n.mul(N,Y),V=n.mul($,v),V=n.add(se,V),se=n.sub(x,V),V=n.add(x,V),V=n.mul(se,V),se=n.mul(I,se),Y=n.mul($,Y),v=n.mul(N,v),I=n.sub(w,v),I=n.mul(N,I),I=n.add(I,Y),Y=n.add(w,w),w=n.add(Y,w),w=n.add(w,v),w=n.mul(w,I),V=n.add(V,w),v=n.mul(ee,ae),v=n.add(v,v),w=n.mul(v,I),se=n.sub(se,w),Y=n.mul(v,x),Y=n.add(Y,Y),Y=n.add(Y,Y),new p(se,V,Y)}add(N){h(N);const{px:M,py:$,pz:C}=this,{px:ee,py:ae,pz:se}=N;let V=n.ZERO,Y=n.ZERO,w=n.ZERO;const x=e.a,v=n.mul(e.b,tp);let I=n.mul(M,ee),P=n.mul($,ae),R=n.mul(C,se),D=n.add(M,$),m=n.add(ee,ae);D=n.mul(D,m),m=n.add(I,P),D=n.sub(D,m),m=n.add(M,C);let E=n.add(ee,se);return m=n.mul(m,E),E=n.add(I,R),m=n.sub(m,E),E=n.add($,C),V=n.add(ae,se),E=n.mul(E,V),V=n.add(P,R),E=n.sub(E,V),w=n.mul(x,m),V=n.mul(v,R),w=n.add(V,w),V=n.sub(P,w),w=n.add(P,w),Y=n.mul(V,w),P=n.add(I,I),P=n.add(P,I),R=n.mul(x,R),m=n.mul(v,m),P=n.add(P,R),R=n.sub(I,R),R=n.mul(x,R),m=n.add(m,R),I=n.mul(P,m),Y=n.add(Y,I),I=n.mul(E,m),V=n.mul(D,V),V=n.sub(V,I),I=n.mul(D,P),w=n.mul(E,w),w=n.add(w,I),new p(V,Y,w)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return b.wNAFCached(this,d,N,M=>{const $=n.invertBatch(M.map(C=>C.pz));return M.map((C,ee)=>C.toAffine($[ee])).map(p.fromAffine)})}multiplyUnsafe(N){const M=p.ZERO;if(N===Ji)return M;if(u(N),N===Xt)return this;const{endo:$}=e;if(!$)return b.unsafeLadder(this,N);let{k1neg:C,k1:ee,k2neg:ae,k2:se}=$.splitScalar(N),V=M,Y=M,w=this;for(;ee>Ji||se>Ji;)ee&Xt&&(V=V.add(w)),se&Xt&&(Y=Y.add(w)),w=w.double(),ee>>=Xt,se>>=Xt;return C&&(V=V.negate()),ae&&(Y=Y.negate()),Y=new p(n.mul(Y.px,$.beta),Y.py,Y.pz),V.add(Y)}multiply(N){u(N);let M=N,$,C;const{endo:ee}=e;if(ee){const{k1neg:ae,k1:se,k2neg:V,k2:Y}=ee.splitScalar(M);let{p:w,f:x}=this.wNAF(se),{p:v,f:I}=this.wNAF(Y);w=b.constTimeNegate(ae,w),v=b.constTimeNegate(V,v),v=new p(n.mul(v.px,ee.beta),v.py,v.pz),$=w.add(v),C=x.add(I)}else{const{p:ae,f:se}=this.wNAF(M);$=ae,C=se}return p.normalizeZ([$,C])[0]}multiplyAndAddUnsafe(N,M,$){const C=p.BASE,ee=(se,V)=>V===Ji||V===Xt||!se.equals(C)?se.multiplyUnsafe(V):se.multiply(V),ae=ee(this,M).add(ee(N,$));return ae.is0()?void 0:ae}toAffine(N){const{px:M,py:$,pz:C}=this,ee=this.is0();N==null&&(N=ee?n.ONE:n.inv(C));const ae=n.mul(M,N),se=n.mul($,N),V=n.mul(C,N);if(ee)return{x:n.ZERO,y:n.ZERO};if(!n.eql(V,n.ONE))throw new Error("invZ was invalid");return{x:ae,y:se}}isTorsionFree(){const{h:N,isTorsionFree:M}=e;if(N===Xt)return!0;if(M)return M(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:M}=e;return N===Xt?this:M?M(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),r(p,this,N)}toHex(N=!0){return Wl(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const A=e.nBitLength,b=_G(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:c}}function IG(t){const e=eI(t);return lf(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function NG(t){const e=IG(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function c(m){return Ji<m&&m<n.ORDER}function u(m){return Cn(m,r)}function l(m){return Xw(m,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:A}=RG({...e,toBytes(m,E,B){const k=E.toAffine(),j=n.toBytes(k.x),z=Jr;return B?z(Uint8Array.from([E.hasEvenY()?2:3]),j):z(Uint8Array.from([4]),j,n.toBytes(k.y))},fromBytes(m){const E=m.length,B=m[0],k=m.subarray(1);if(E===i&&(B===2||B===3)){const j=dr(k);if(!c(j))throw new Error("Point is not on curve");const z=p(j);let te=n.sqrt(z);const he=(te&Xt)===Xt;return(B&1)===1!==he&&(te=n.neg(te)),{x:j,y:te}}else if(E===o&&B===4){const j=n.fromBytes(k.subarray(0,n.BYTES)),z=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:j,y:z}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),b=m=>Wl(Ea(m,e.nByteLength));function S(m){const E=r>>Xt;return m>E}function N(m){return S(m)?u(-m):m}const M=(m,E,B)=>dr(m.slice(E,B));class ${constructor(E,B,k){this.r=E,this.s=B,this.recovery=k,this.assertValidity()}static fromCompact(E){const B=e.nByteLength;return E=Bn("compactSignature",E,B*2),new $(M(E,0,B),M(E,B,2*B))}static fromDER(E){const{r:B,s:k}=ac.toSig(Bn("DER",E));return new $(B,k)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new $(this.r,this.s,E)}recoverPublicKey(E){const{r:B,s:k,recovery:j}=this,z=Y(Bn("msgHash",E));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const te=j===2||j===3?B+e.n:B;if(te>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const he=j&1?"03":"02",Ee=d.fromHex(he+b(te)),Ce=l(te),be=u(-z*Ce),Be=u(k*Ce),He=d.BASE.multiplyAndAddUnsafe(Ee,be,Be);if(!He)throw new Error("point at infinify");return He.assertValidity(),He}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return jl(this.toDERHex())}toDERHex(){return ac.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jl(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const C={isValidPrivateKey(m){try{return h(m),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const m=e.randomBytes(n.BYTES+8),E=AG(m,r);return Ea(E,e.nByteLength)},precompute(m=8,E=d.BASE){return E._setWindowSize(m),E.multiply(BigInt(3)),E}};function ee(m,E=!0){return d.fromPrivateKey(m).toRawBytes(E)}function ae(m){const E=m instanceof Uint8Array,B=typeof m=="string",k=(E||B)&&m.length;return E?k===i||k===o:B?k===2*i||k===2*o:m instanceof d}function se(m,E,B=!0){if(ae(m))throw new Error("first arg must be private key");if(!ae(E))throw new Error("second arg must be public key");return d.fromHex(E).multiply(h(m)).toRawBytes(B)}const V=e.bits2int||function(m){const E=dr(m),B=m.length*8-e.nBitLength;return B>0?E>>BigInt(B):E},Y=e.bits2int_modN||function(m){return u(V(m))},w=Vb(e.nBitLength);function x(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(Ji<=m&&m<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ea(m,e.nByteLength)}function v(m,E,B=I){if(["recovered","canonical"].some(tt=>tt in B))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:j}=e;let{lowS:z,prehash:te,extraEntropy:he}=B;z==null&&(z=!0),m=Bn("msgHash",m),te&&(m=Bn("prehashed msgHash",k(m)));const Ee=Y(m),Ce=h(E),be=[x(Ce),x(Ee)];if(he!=null){const tt=he===!0?j(n.BYTES):he;be.push(Bn("extraEntropy",tt,n.BYTES))}const Be=Jr(...be),He=Ee;function qe(tt){const vt=V(tt);if(!A(vt))return;const gt=l(vt),st=d.BASE.multiply(vt).toAffine(),q=u(st.x);if(q===Ji)return;const Q=u(gt*u(He+q*Ce));if(Q===Ji)return;let ue=(st.x===q?0:2)|Number(st.y&Xt),Ie=Q;return z&&S(Q)&&(Ie=N(Q),ue^=1),new $(q,Ie,ue)}return{seed:Be,k2sig:qe}}const I={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function R(m,E,B=I){const{seed:k,k2sig:j}=v(m,E,B),z=e;return XR(z.hash.outputLen,z.nByteLength,z.hmac)(k,j)}d.BASE._setWindowSize(8);function D(m,E,B,k=P){var st;const j=m;if(E=Bn("msgHash",E),B=Bn("publicKey",B),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:z,prehash:te}=k;let he,Ee;try{if(typeof j=="string"||j instanceof Uint8Array)try{he=$.fromDER(j)}catch(q){if(!(q instanceof ac.Err))throw q;he=$.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){const{r:q,s:Q}=j;he=new $(q,Q)}else throw new Error("PARSE");Ee=d.fromHex(B)}catch(q){if(q.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(z&&he.hasHighS())return!1;te&&(E=e.hash(E));const{r:Ce,s:be}=he,Be=Y(E),He=l(be),qe=u(Be*He),tt=u(Ce*He),vt=(st=d.BASE.multiplyAndAddUnsafe(Ee,qe,tt))==null?void 0:st.toAffine();return vt?u(vt.x)===Ce:!1}return{CURVE:e,getPublicKey:ee,getSharedSecret:se,sign:R,verify:D,ProjectivePoint:d,Signature:$,utils:C}}function TG(t,e){const n=t.ORDER;let r=Ji;for(let S=n-Xt;S%Ko===Ji;S/=Ko)r+=Xt;const i=r,o=Ko<<i-Xt-Xt,c=o*Ko,u=(n-Xt)/c,l=(u-Xt)/Ko,d=c-Xt,h=o,p=t.pow(e,u),A=t.pow(e,(u+Xt)/Ko);let b=(S,N)=>{let M=p,$=t.pow(N,d),C=t.sqr($);C=t.mul(C,N);let ee=t.mul(S,C);ee=t.pow(ee,l),ee=t.mul(ee,$),$=t.mul(ee,N),C=t.mul(ee,S);let ae=t.mul(C,$);ee=t.pow(ae,h);let se=t.eql(ee,t.ONE);$=t.mul(C,A),ee=t.mul(ae,M),C=t.cmov($,C,se),ae=t.cmov(ee,ae,se);for(let V=i;V>Xt;V--){let Y=V-Ko;Y=Ko<<Y-Xt;let w=t.pow(ae,Y);const x=t.eql(w,t.ONE);$=t.mul(C,M),M=t.mul(M,M),w=t.mul(ae,M),C=t.cmov($,C,x),ae=t.cmov(w,ae,x)}return{isValid:se,value:C}};if(t.ORDER%i_===tp){const S=(t.ORDER-tp)/i_,N=t.sqrt(t.neg(e));b=(M,$)=>{let C=t.sqr($);const ee=t.mul(M,$);C=t.mul(C,ee);let ae=t.pow(C,S);ae=t.mul(ae,ee);const se=t.mul(ae,N),V=t.mul(t.sqr(ae),$),Y=t.eql(V,M);let w=t.cmov(se,ae,Y);return{isValid:Y,value:w}}}return b}function OG(t,e){if(ZR(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=TG(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,c,u,l,d,h,p;i=t.sqr(r),i=t.mul(i,e.Z),o=t.sqr(i),o=t.add(o,i),c=t.add(o,t.ONE),c=t.mul(c,e.B),u=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),u=t.mul(u,e.A),o=t.sqr(c),d=t.sqr(u),l=t.mul(d,e.A),o=t.add(o,l),o=t.mul(o,c),d=t.mul(d,u),l=t.mul(d,e.B),o=t.add(o,l),h=t.mul(i,c);const{isValid:A,value:b}=n(o,d);p=t.mul(i,r),p=t.mul(p,b),h=t.cmov(h,c,A),p=t.cmov(p,b,A);const S=t.isOdd(r)===t.isOdd(p);return p=t.cmov(t.neg(p),p,S),h=t.div(h,u),{x:h,y:p}}}function PG(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return d0(t);throw new Error("DST must be Uint8Array or string")}const BG=dr;function na(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function LG(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Rd(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function Jb(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function MG(t,e,n,r){Rd(t),Rd(e),Jb(n),e.length>255&&(e=r(Jr(d0("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=r,c=Math.ceil(n/i);if(c>255)throw new Error("Invalid xmd length");const u=Jr(e,na(e.length,1)),l=na(0,o),d=na(n,2),h=new Array(c),p=r(Jr(l,t,d,na(0,1),u));h[0]=r(Jr(p,na(1,1),u));for(let b=1;b<=c;b++){const S=[LG(p,h[b-1]),na(b+1,1),u];h[b]=r(Jr(...S))}return Jr(...h).slice(0,n)}function kG(t,e,n,r,i){if(Rd(t),Rd(e),Jb(n),e.length>255){const o=Math.ceil(2*r/8);e=i.create({dkLen:o}).update(d0("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(na(n,2)).update(e).update(na(e.length,1)).digest()}function s_(t,e,n){lf(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:c,expand:u,DST:l}=n;Rd(t),Jb(e);const d=PG(l),h=r.toString(2).length,p=Math.ceil((h+i)/8),A=e*o*p;let b;if(u==="xmd")b=MG(t,d,A,c);else if(u==="xof")b=kG(t,d,A,i,c);else if(u==="_internal_pass")b=t;else throw new Error('expand must be "xmd" or "xof"');const S=new Array(e);for(let N=0;N<e;N++){const M=new Array(o);for(let $=0;$<o;$++){const C=p*($+N*o),ee=b.subarray(C,C+p);M[$]=Cn(BG(ee),r)}S[N]=M}return S}function DG(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[o,c,u,l]=n.map(d=>d.reduce((h,p)=>t.add(t.mul(h,r),p)));return r=t.div(o,c),i=t.mul(i,t.div(u,l)),{x:r,y:i}}}function $G(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=s_(r,2,{...n,DST:n.DST,...i}),c=t.fromAffine(e(o[0])),u=t.fromAffine(e(o[1])),l=c.add(u).clearCofactor();return l.assertValidity(),l},encodeToCurve(r,i){const o=s_(r,1,{...n,DST:n.encodeDST,...i}),c=t.fromAffine(e(o[0])).clearCofactor();return c.assertValidity(),c}}}let tI=class extends Fb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,qi.hash(e);const r=uf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return qi.exists(this),this.iHash.update(e),this}digestInto(e){qi.exists(this),qi.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:c,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const nI=(t,e,n)=>new tI(t,e).update(n).digest();nI.create=(t,e)=>new tI(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function UG(t){return{hash:t,hmac:(e,...n)=>nI(t,e,JR(...n)),randomBytes:Gb}}function FG(t,e){const n=r=>NG({...t,...UG(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const h0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),np=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rI=BigInt(1),rp=BigInt(2),o_=(t,e)=>(t+e/rp)/e;function iI(t){const e=h0,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),c=BigInt(23),u=BigInt(44),l=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=oi(h,n,e)*h%e,A=oi(p,n,e)*h%e,b=oi(A,rp,e)*d%e,S=oi(b,i,e)*b%e,N=oi(S,o,e)*S%e,M=oi(N,u,e)*N%e,$=oi(M,l,e)*M%e,C=oi($,u,e)*N%e,ee=oi(C,n,e)*h%e,ae=oi(ee,c,e)*S%e,se=oi(ae,r,e)*d%e,V=oi(se,rp,e);if(!_a.eql(_a.sqr(V),t))throw new Error("Cannot find square root");return V}const _a=EG(h0,void 0,void 0,{sqrt:iI}),Co=FG({a:BigInt(0),b:BigInt(7),Fp:_a,n:np,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=np,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rI*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,c=BigInt("0x100000000000000000000000000000000"),u=o_(o*t,e),l=o_(-r*t,e);let d=Cn(t-u*n-l*i,e),h=Cn(-u*r-l*o,e);const p=d>c,A=h>c;if(p&&(d=e-d),A&&(h=e-h),d>c||h>c)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:A,k2:h}}}},ep),g0=BigInt(0),sI=t=>typeof t=="bigint"&&g0<t&&t<h0,HG=t=>typeof t=="bigint"&&g0<t&&t<np,a_={};function ip(t,...e){let n=a_[t];if(n===void 0){const r=ep(Uint8Array.from(t,i=>i.charCodeAt(0)));n=Jr(r,r),a_[t]=n}return ep(Jr(n,...e))}const Kb=t=>t.toRawBytes(!0).slice(1),Zw=t=>Ea(t,32),dw=t=>Cn(t,h0),Id=t=>Cn(t,np),qb=Co.ProjectivePoint,GG=(t,e,n)=>qb.BASE.multiplyAndAddUnsafe(t,e,n);function ey(t){let e=Co.utils.normPrivateKeyToScalar(t),n=qb.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Id(-e),bytes:Kb(n)}}function oI(t){if(!sI(t))throw new Error("bad x: need 0 < x < p");const e=dw(t*t),n=dw(e*t+BigInt(7));let r=iI(n);r%rp!==g0&&(r=dw(-r));const i=new qb(t,r,rI);return i.assertValidity(),i}function aI(...t){return Id(dr(ip("BIP0340/challenge",...t)))}function WG(t){return ey(t).bytes}function jG(t,e,n=Gb(32)){const r=Bn("message",t),{bytes:i,scalar:o}=ey(e),c=Bn("auxRand",n,32),u=Zw(o^dr(ip("BIP0340/aux",c))),l=ip("BIP0340/nonce",u,i,r),d=Id(dr(l));if(d===g0)throw new Error("sign failed: k is zero");const{bytes:h,scalar:p}=ey(d),A=aI(h,i,r),b=new Uint8Array(64);if(b.set(h,0),b.set(Zw(Id(p+A*o)),32),!cI(b,r,i))throw new Error("sign: Invalid signature produced");return b}function cI(t,e,n){const r=Bn("signature",t,64),i=Bn("message",e),o=Bn("publicKey",n,32);try{const c=oI(dr(o)),u=dr(r.subarray(0,32));if(!sI(u))return!1;const l=dr(r.subarray(32,64));if(!HG(l))return!1;const d=aI(Zw(u),Kb(c),i),h=GG(c,l,Id(-d));return!(!h||!h.hasEvenY()||h.toAffine().x!==u)}catch{return!1}}const VG=(()=>({getPublicKey:WG,sign:jG,verify:cI,utils:{randomPrivateKey:Co.utils.randomPrivateKey,lift_x:oI,pointToBytes:Kb,numberToBytesBE:Ea,bytesToNumberBE:dr,taggedHash:ip,mod:Cn}}))(),zG=(()=>DG(_a,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))))(),JG=(()=>OG(_a,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:_a.create(BigInt("-11"))}))(),uI=(()=>$G(Co.ProjectivePoint,t=>{const{x:e,y:n}=JG(_a.create(t[0]));return zG(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:_a.ORDER,m:1,k:128,expand:"xmd",hash:ep}))(),KG=(()=>uI.hashToCurve)(),qG=(()=>uI.encodeToCurve)(),pJ=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:qG,hashToCurve:KG,schnorr:VG,secp256k1:Co},Symbol.toStringTag,{value:"Module"}));qi.bool;qi.bytes;function QG(t){const e=t.startsWith("0x")?t.substring(2):t;return jR(e)}function mJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function wJ(t){return e=>(qi.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();var YG=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,hw=Math.ceil,li=Math.floor,_r="[BigNumber Error] ",c_=_r+"Number primitive has more than 15 significant digits: ",ki=1e14,Xe=14,gw=9007199254740991,pw=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],qo=1e7,vn=1e9;function lI(t){var e,n,r,i=C.prototype={constructor:C,toString:null,valueOf:null},o=new C(1),c=20,u=4,l=-7,d=21,h=-1e7,p=1e7,A=!1,b=1,S=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function C(w,x){var v,I,P,R,D,m,E,B,k=this;if(!(k instanceof C))return new C(w,x);if(x==null){if(w&&w._isBigNumber===!0){k.s=w.s,!w.c||w.e>p?k.c=k.e=null:w.e<h?k.c=[k.e=0]:(k.e=w.e,k.c=w.c.slice());return}if((m=typeof w=="number")&&w*0==0){if(k.s=1/w<0?(w=-w,-1):1,w===~~w){for(R=0,D=w;D>=10;D/=10,R++);R>p?k.c=k.e=null:(k.e=R,k.c=[w]);return}B=String(w)}else{if(!YG.test(B=String(w)))return r(k,B,m);k.s=B.charCodeAt(0)==45?(B=B.slice(1),-1):1}(R=B.indexOf("."))>-1&&(B=B.replace(".","")),(D=B.search(/e/i))>0?(R<0&&(R=D),R+=+B.slice(D+1),B=B.substring(0,D)):R<0&&(R=B.length)}else{if(Ht(x,2,M.length,"Base"),x==10&&$)return k=new C(w),V(k,c+k.e+1,u);if(B=String(w),m=typeof w=="number"){if(w*0!=0)return r(k,B,m,x);if(k.s=1/w<0?(B=B.slice(1),-1):1,C.DEBUG&&B.replace(/^0\.0*|\./,"").length>15)throw Error(c_+w)}else k.s=B.charCodeAt(0)===45?(B=B.slice(1),-1):1;for(v=M.slice(0,x),R=D=0,E=B.length;D<E;D++)if(v.indexOf(I=B.charAt(D))<0){if(I=="."){if(D>R){R=E;continue}}else if(!P&&(B==B.toUpperCase()&&(B=B.toLowerCase())||B==B.toLowerCase()&&(B=B.toUpperCase()))){P=!0,D=-1,R=0;continue}return r(k,String(w),m,x)}m=!1,B=n(B,x,10,k.s),(R=B.indexOf("."))>-1?B=B.replace(".",""):R=B.length}for(D=0;B.charCodeAt(D)===48;D++);for(E=B.length;B.charCodeAt(--E)===48;);if(B=B.slice(D,++E)){if(E-=D,m&&C.DEBUG&&E>15&&(w>gw||w!==li(w)))throw Error(c_+k.s*w);if((R=R-D-1)>p)k.c=k.e=null;else if(R<h)k.c=[k.e=0];else{if(k.e=R,k.c=[],D=(R+1)%Xe,R<0&&(D+=Xe),D<E){for(D&&k.c.push(+B.slice(0,D)),E-=Xe;D<E;)k.c.push(+B.slice(D,D+=Xe));D=Xe-(B=B.slice(D)).length}else D-=E;for(;D--;B+="0");k.c.push(+B)}}else k.c=[k.e=0]}C.clone=lI,C.ROUND_UP=0,C.ROUND_DOWN=1,C.ROUND_CEIL=2,C.ROUND_FLOOR=3,C.ROUND_HALF_UP=4,C.ROUND_HALF_DOWN=5,C.ROUND_HALF_EVEN=6,C.ROUND_HALF_CEIL=7,C.ROUND_HALF_FLOOR=8,C.EUCLID=9,C.config=C.set=function(w){var x,v;if(w!=null)if(typeof w=="object"){if(w.hasOwnProperty(x="DECIMAL_PLACES")&&(v=w[x],Ht(v,0,vn,x),c=v),w.hasOwnProperty(x="ROUNDING_MODE")&&(v=w[x],Ht(v,0,8,x),u=v),w.hasOwnProperty(x="EXPONENTIAL_AT")&&(v=w[x],v&&v.pop?(Ht(v[0],-vn,0,x),Ht(v[1],0,vn,x),l=v[0],d=v[1]):(Ht(v,-vn,vn,x),l=-(d=v<0?-v:v))),w.hasOwnProperty(x="RANGE"))if(v=w[x],v&&v.pop)Ht(v[0],-vn,-1,x),Ht(v[1],1,vn,x),h=v[0],p=v[1];else if(Ht(v,-vn,vn,x),v)h=-(p=v<0?-v:v);else throw Error(_r+x+" cannot be zero: "+v);if(w.hasOwnProperty(x="CRYPTO"))if(v=w[x],v===!!v)if(v)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))A=v;else throw A=!v,Error(_r+"crypto unavailable");else A=v;else throw Error(_r+x+" not true or false: "+v);if(w.hasOwnProperty(x="MODULO_MODE")&&(v=w[x],Ht(v,0,9,x),b=v),w.hasOwnProperty(x="POW_PRECISION")&&(v=w[x],Ht(v,0,vn,x),S=v),w.hasOwnProperty(x="FORMAT"))if(v=w[x],typeof v=="object")N=v;else throw Error(_r+x+" not an object: "+v);if(w.hasOwnProperty(x="ALPHABET"))if(v=w[x],typeof v=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(v))$=v.slice(0,10)=="0123456789",M=v;else throw Error(_r+x+" invalid: "+v)}else throw Error(_r+"Object expected: "+w);return{DECIMAL_PLACES:c,ROUNDING_MODE:u,EXPONENTIAL_AT:[l,d],RANGE:[h,p],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:N,ALPHABET:M}},C.isBigNumber=function(w){if(!w||w._isBigNumber!==!0)return!1;if(!C.DEBUG)return!0;var x,v,I=w.c,P=w.e,R=w.s;e:if({}.toString.call(I)=="[object Array]"){if((R===1||R===-1)&&P>=-vn&&P<=vn&&P===li(P)){if(I[0]===0){if(P===0&&I.length===1)return!0;break e}if(x=(P+1)%Xe,x<1&&(x+=Xe),String(I[0]).length==x){for(x=0;x<I.length;x++)if(v=I[x],v<0||v>=ki||v!==li(v))break e;if(v!==0)return!0}}}else if(I===null&&P===null&&(R===null||R===1||R===-1))return!0;throw Error(_r+"Invalid BigNumber: "+w)},C.maximum=C.max=function(){return ae(arguments,-1)},C.minimum=C.min=function(){return ae(arguments,1)},C.random=function(){var w=9007199254740992,x=Math.random()*w&2097151?function(){return li(Math.random()*w)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(v){var I,P,R,D,m,E=0,B=[],k=new C(o);if(v==null?v=c:Ht(v,0,vn),D=hw(v/Xe),A)if(crypto.getRandomValues){for(I=crypto.getRandomValues(new Uint32Array(D*=2));E<D;)m=I[E]*131072+(I[E+1]>>>11),m>=9e15?(P=crypto.getRandomValues(new Uint32Array(2)),I[E]=P[0],I[E+1]=P[1]):(B.push(m%1e14),E+=2);E=D/2}else if(crypto.randomBytes){for(I=crypto.randomBytes(D*=7);E<D;)m=(I[E]&31)*281474976710656+I[E+1]*1099511627776+I[E+2]*4294967296+I[E+3]*16777216+(I[E+4]<<16)+(I[E+5]<<8)+I[E+6],m>=9e15?crypto.randomBytes(7).copy(I,E):(B.push(m%1e14),E+=7);E=D/7}else throw A=!1,Error(_r+"crypto unavailable");if(!A)for(;E<D;)m=x(),m<9e15&&(B[E++]=m%1e14);for(D=B[--E],v%=Xe,D&&v&&(m=pw[Xe-v],B[E]=li(D/m)*m);B[E]===0;B.pop(),E--);if(E<0)B=[R=0];else{for(R=-1;B[0]===0;B.splice(0,1),R-=Xe);for(E=1,m=B[0];m>=10;m/=10,E++);E<Xe&&(R-=Xe-E)}return k.e=R,k.c=B,k}}(),C.sum=function(){for(var w=1,x=arguments,v=new C(x[0]);w<x.length;)v=v.plus(x[w++]);return v},n=function(){var w="0123456789";function x(v,I,P,R){for(var D,m=[0],E,B=0,k=v.length;B<k;){for(E=m.length;E--;m[E]*=I);for(m[0]+=R.indexOf(v.charAt(B++)),D=0;D<m.length;D++)m[D]>P-1&&(m[D+1]==null&&(m[D+1]=0),m[D+1]+=m[D]/P|0,m[D]%=P)}return m.reverse()}return function(v,I,P,R,D){var m,E,B,k,j,z,te,he,Ee=v.indexOf("."),Ce=c,be=u;for(Ee>=0&&(k=S,S=0,v=v.replace(".",""),he=new C(I),z=he.pow(v.length-Ee),S=k,he.c=x(zs(ai(z.c),z.e,"0"),10,P,w),he.e=he.c.length),te=x(v,I,P,D?(m=M,w):(m=w,M)),B=k=te.length;te[--k]==0;te.pop());if(!te[0])return m.charAt(0);if(Ee<0?--B:(z.c=te,z.e=B,z.s=R,z=e(z,he,Ce,be,P),te=z.c,j=z.r,B=z.e),E=B+Ce+1,Ee=te[E],k=P/2,j=j||E<0||te[E+1]!=null,j=be<4?(Ee!=null||j)&&(be==0||be==(z.s<0?3:2)):Ee>k||Ee==k&&(be==4||j||be==6&&te[E-1]&1||be==(z.s<0?8:7)),E<1||!te[0])v=j?zs(m.charAt(1),-Ce,m.charAt(0)):m.charAt(0);else{if(te.length=E,j)for(--P;++te[--E]>P;)te[E]=0,E||(++B,te=[1].concat(te));for(k=te.length;!te[--k];);for(Ee=0,v="";Ee<=k;v+=m.charAt(te[Ee++]));v=zs(v,B,m.charAt(0))}return v}}(),e=function(){function w(I,P,R){var D,m,E,B,k=0,j=I.length,z=P%qo,te=P/qo|0;for(I=I.slice();j--;)E=I[j]%qo,B=I[j]/qo|0,D=te*E+B*z,m=z*E+D%qo*qo+k,k=(m/R|0)+(D/qo|0)+te*B,I[j]=m%R;return k&&(I=[k].concat(I)),I}function x(I,P,R,D){var m,E;if(R!=D)E=R>D?1:-1;else for(m=E=0;m<R;m++)if(I[m]!=P[m]){E=I[m]>P[m]?1:-1;break}return E}function v(I,P,R,D){for(var m=0;R--;)I[R]-=m,m=I[R]<P[R]?1:0,I[R]=m*D+I[R]-P[R];for(;!I[0]&&I.length>1;I.splice(0,1));}return function(I,P,R,D,m){var E,B,k,j,z,te,he,Ee,Ce,be,Be,He,qe,tt,vt,gt,st,q=I.s==P.s?1:-1,Q=I.c,ue=P.c;if(!Q||!Q[0]||!ue||!ue[0])return new C(!I.s||!P.s||(Q?ue&&Q[0]==ue[0]:!ue)?NaN:Q&&Q[0]==0||!ue?q*0:q/0);for(Ee=new C(q),Ce=Ee.c=[],B=I.e-P.e,q=R+B+1,m||(m=ki,B=fi(I.e/Xe)-fi(P.e/Xe),q=q/Xe|0),k=0;ue[k]==(Q[k]||0);k++);if(ue[k]>(Q[k]||0)&&B--,q<0)Ce.push(1),j=!0;else{for(tt=Q.length,gt=ue.length,k=0,q+=2,z=li(m/(ue[0]+1)),z>1&&(ue=w(ue,z,m),Q=w(Q,z,m),gt=ue.length,tt=Q.length),qe=gt,be=Q.slice(0,gt),Be=be.length;Be<gt;be[Be++]=0);st=ue.slice(),st=[0].concat(st),vt=ue[0],ue[1]>=m/2&&vt++;do{if(z=0,E=x(ue,be,gt,Be),E<0){if(He=be[0],gt!=Be&&(He=He*m+(be[1]||0)),z=li(He/vt),z>1)for(z>=m&&(z=m-1),te=w(ue,z,m),he=te.length,Be=be.length;x(te,be,he,Be)==1;)z--,v(te,gt<he?st:ue,he,m),he=te.length,E=1;else z==0&&(E=z=1),te=ue.slice(),he=te.length;if(he<Be&&(te=[0].concat(te)),v(be,te,Be,m),Be=be.length,E==-1)for(;x(ue,be,gt,Be)<1;)z++,v(be,gt<Be?st:ue,Be,m),Be=be.length}else E===0&&(z++,be=[0]);Ce[k++]=z,be[0]?be[Be++]=Q[qe]||0:(be=[Q[qe]],Be=1)}while((qe++<tt||be[0]!=null)&&q--);j=be[0]!=null,Ce[0]||Ce.splice(0,1)}if(m==ki){for(k=1,q=Ce[0];q>=10;q/=10,k++);V(Ee,R+(Ee.e=k+B*Xe-1)+1,D,j)}else Ee.e=B,Ee.r=+j;return Ee}}();function ee(w,x,v,I){var P,R,D,m,E;if(v==null?v=u:Ht(v,0,8),!w.c)return w.toString();if(P=w.c[0],D=w.e,x==null)E=ai(w.c),E=I==1||I==2&&(D<=l||D>=d)?mg(E,D):zs(E,D,"0");else if(w=V(new C(w),x,v),R=w.e,E=ai(w.c),m=E.length,I==1||I==2&&(x<=R||R<=l)){for(;m<x;E+="0",m++);E=mg(E,R)}else if(x-=D,E=zs(E,R,"0"),R+1>m){if(--x>0)for(E+=".";x--;E+="0");}else if(x+=R-m,x>0)for(R+1==m&&(E+=".");x--;E+="0");return w.s<0&&P?"-"+E:E}function ae(w,x){for(var v,I,P=1,R=new C(w[0]);P<w.length;P++)I=new C(w[P]),(!I.s||(v=Ya(R,I))===x||v===0&&R.s===x)&&(R=I);return R}function se(w,x,v){for(var I=1,P=x.length;!x[--P];x.pop());for(P=x[0];P>=10;P/=10,I++);return(v=I+v*Xe-1)>p?w.c=w.e=null:v<h?w.c=[w.e=0]:(w.e=v,w.c=x),w}r=function(){var w=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,v=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(R,D,m,E){var B,k=m?D:D.replace(P,"");if(I.test(k))R.s=isNaN(k)?null:k<0?-1:1;else{if(!m&&(k=k.replace(w,function(j,z,te){return B=(te=te.toLowerCase())=="x"?16:te=="b"?2:8,!E||E==B?z:j}),E&&(B=E,k=k.replace(x,"$1").replace(v,"0.$1")),D!=k))return new C(k,B);if(C.DEBUG)throw Error(_r+"Not a"+(E?" base "+E:"")+" number: "+D);R.s=null}R.c=R.e=null}}();function V(w,x,v,I){var P,R,D,m,E,B,k,j=w.c,z=pw;if(j){e:{for(P=1,m=j[0];m>=10;m/=10,P++);if(R=x-P,R<0)R+=Xe,D=x,E=j[B=0],k=li(E/z[P-D-1]%10);else if(B=hw((R+1)/Xe),B>=j.length)if(I){for(;j.length<=B;j.push(0));E=k=0,P=1,R%=Xe,D=R-Xe+1}else break e;else{for(E=m=j[B],P=1;m>=10;m/=10,P++);R%=Xe,D=R-Xe+P,k=D<0?0:li(E/z[P-D-1]%10)}if(I=I||x<0||j[B+1]!=null||(D<0?E:E%z[P-D-1]),I=v<4?(k||I)&&(v==0||v==(w.s<0?3:2)):k>5||k==5&&(v==4||I||v==6&&(R>0?D>0?E/z[P-D]:0:j[B-1])%10&1||v==(w.s<0?8:7)),x<1||!j[0])return j.length=0,I?(x-=w.e+1,j[0]=z[(Xe-x%Xe)%Xe],w.e=-x||0):j[0]=w.e=0,w;if(R==0?(j.length=B,m=1,B--):(j.length=B+1,m=z[Xe-R],j[B]=D>0?li(E/z[P-D]%z[D])*m:0),I)for(;;)if(B==0){for(R=1,D=j[0];D>=10;D/=10,R++);for(D=j[0]+=m,m=1;D>=10;D/=10,m++);R!=m&&(w.e++,j[0]==ki&&(j[0]=1));break}else{if(j[B]+=m,j[B]!=ki)break;j[B--]=0,m=1}for(R=j.length;j[--R]===0;j.pop());}w.e>p?w.c=w.e=null:w.e<h&&(w.c=[w.e=0])}return w}function Y(w){var x,v=w.e;return v===null?w.toString():(x=ai(w.c),x=v<=l||v>=d?mg(x,v):zs(x,v,"0"),w.s<0?"-"+x:x)}return i.absoluteValue=i.abs=function(){var w=new C(this);return w.s<0&&(w.s=1),w},i.comparedTo=function(w,x){return Ya(this,new C(w,x))},i.decimalPlaces=i.dp=function(w,x){var v,I,P,R=this;if(w!=null)return Ht(w,0,vn),x==null?x=u:Ht(x,0,8),V(new C(R),w+R.e+1,x);if(!(v=R.c))return null;if(I=((P=v.length-1)-fi(this.e/Xe))*Xe,P=v[P])for(;P%10==0;P/=10,I--);return I<0&&(I=0),I},i.dividedBy=i.div=function(w,x){return e(this,new C(w,x),c,u)},i.dividedToIntegerBy=i.idiv=function(w,x){return e(this,new C(w,x),0,1)},i.exponentiatedBy=i.pow=function(w,x){var v,I,P,R,D,m,E,B,k,j=this;if(w=new C(w),w.c&&!w.isInteger())throw Error(_r+"Exponent not an integer: "+Y(w));if(x!=null&&(x=new C(x)),m=w.e>14,!j.c||!j.c[0]||j.c[0]==1&&!j.e&&j.c.length==1||!w.c||!w.c[0])return k=new C(Math.pow(+Y(j),m?w.s*(2-pg(w)):+Y(w))),x?k.mod(x):k;if(E=w.s<0,x){if(x.c?!x.c[0]:!x.s)return new C(NaN);I=!E&&j.isInteger()&&x.isInteger(),I&&(j=j.mod(x))}else{if(w.e>9&&(j.e>0||j.e<-1||(j.e==0?j.c[0]>1||m&&j.c[1]>=24e7:j.c[0]<8e13||m&&j.c[0]<=9999975e7)))return R=j.s<0&&pg(w)?-0:0,j.e>-1&&(R=1/R),new C(E?1/R:R);S&&(R=hw(S/Xe+2))}for(m?(v=new C(.5),E&&(w.s=1),B=pg(w)):(P=Math.abs(+Y(w)),B=P%2),k=new C(o);;){if(B){if(k=k.times(j),!k.c)break;R?k.c.length>R&&(k.c.length=R):I&&(k=k.mod(x))}if(P){if(P=li(P/2),P===0)break;B=P%2}else if(w=w.times(v),V(w,w.e+1,1),w.e>14)B=pg(w);else{if(P=+Y(w),P===0)break;B=P%2}j=j.times(j),R?j.c&&j.c.length>R&&(j.c.length=R):I&&(j=j.mod(x))}return I?k:(E&&(k=o.div(k)),x?k.mod(x):R?V(k,S,u,D):k)},i.integerValue=function(w){var x=new C(this);return w==null?w=u:Ht(w,0,8),V(x,x.e+1,w)},i.isEqualTo=i.eq=function(w,x){return Ya(this,new C(w,x))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(w,x){return Ya(this,new C(w,x))>0},i.isGreaterThanOrEqualTo=i.gte=function(w,x){return(x=Ya(this,new C(w,x)))===1||x===0},i.isInteger=function(){return!!this.c&&fi(this.e/Xe)>this.c.length-2},i.isLessThan=i.lt=function(w,x){return Ya(this,new C(w,x))<0},i.isLessThanOrEqualTo=i.lte=function(w,x){return(x=Ya(this,new C(w,x)))===-1||x===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(w,x){var v,I,P,R,D=this,m=D.s;if(w=new C(w,x),x=w.s,!m||!x)return new C(NaN);if(m!=x)return w.s=-x,D.plus(w);var E=D.e/Xe,B=w.e/Xe,k=D.c,j=w.c;if(!E||!B){if(!k||!j)return k?(w.s=-x,w):new C(j?D:NaN);if(!k[0]||!j[0])return j[0]?(w.s=-x,w):new C(k[0]?D:u==3?-0:0)}if(E=fi(E),B=fi(B),k=k.slice(),m=E-B){for((R=m<0)?(m=-m,P=k):(B=E,P=j),P.reverse(),x=m;x--;P.push(0));P.reverse()}else for(I=(R=(m=k.length)<(x=j.length))?m:x,m=x=0;x<I;x++)if(k[x]!=j[x]){R=k[x]<j[x];break}if(R&&(P=k,k=j,j=P,w.s=-w.s),x=(I=j.length)-(v=k.length),x>0)for(;x--;k[v++]=0);for(x=ki-1;I>m;){if(k[--I]<j[I]){for(v=I;v&&!k[--v];k[v]=x);--k[v],k[I]+=ki}k[I]-=j[I]}for(;k[0]==0;k.splice(0,1),--B);return k[0]?se(w,k,B):(w.s=u==3?-1:1,w.c=[w.e=0],w)},i.modulo=i.mod=function(w,x){var v,I,P=this;return w=new C(w,x),!P.c||!w.s||w.c&&!w.c[0]?new C(NaN):!w.c||P.c&&!P.c[0]?new C(P):(b==9?(I=w.s,w.s=1,v=e(P,w,0,3),w.s=I,v.s*=I):v=e(P,w,0,b),w=P.minus(v.times(w)),!w.c[0]&&b==1&&(w.s=P.s),w)},i.multipliedBy=i.times=function(w,x){var v,I,P,R,D,m,E,B,k,j,z,te,he,Ee,Ce,be=this,Be=be.c,He=(w=new C(w,x)).c;if(!Be||!He||!Be[0]||!He[0])return!be.s||!w.s||Be&&!Be[0]&&!He||He&&!He[0]&&!Be?w.c=w.e=w.s=null:(w.s*=be.s,!Be||!He?w.c=w.e=null:(w.c=[0],w.e=0)),w;for(I=fi(be.e/Xe)+fi(w.e/Xe),w.s*=be.s,E=Be.length,j=He.length,E<j&&(he=Be,Be=He,He=he,P=E,E=j,j=P),P=E+j,he=[];P--;he.push(0));for(Ee=ki,Ce=qo,P=j;--P>=0;){for(v=0,z=He[P]%Ce,te=He[P]/Ce|0,D=E,R=P+D;R>P;)B=Be[--D]%Ce,k=Be[D]/Ce|0,m=te*B+k*z,B=z*B+m%Ce*Ce+he[R]+v,v=(B/Ee|0)+(m/Ce|0)+te*k,he[R--]=B%Ee;he[R]=v}return v?++I:he.splice(0,1),se(w,he,I)},i.negated=function(){var w=new C(this);return w.s=-w.s||null,w},i.plus=function(w,x){var v,I=this,P=I.s;if(w=new C(w,x),x=w.s,!P||!x)return new C(NaN);if(P!=x)return w.s=-x,I.minus(w);var R=I.e/Xe,D=w.e/Xe,m=I.c,E=w.c;if(!R||!D){if(!m||!E)return new C(P/0);if(!m[0]||!E[0])return E[0]?w:new C(m[0]?I:P*0)}if(R=fi(R),D=fi(D),m=m.slice(),P=R-D){for(P>0?(D=R,v=E):(P=-P,v=m),v.reverse();P--;v.push(0));v.reverse()}for(P=m.length,x=E.length,P-x<0&&(v=E,E=m,m=v,x=P),P=0;x;)P=(m[--x]=m[x]+E[x]+P)/ki|0,m[x]=ki===m[x]?0:m[x]%ki;return P&&(m=[P].concat(m),++D),se(w,m,D)},i.precision=i.sd=function(w,x){var v,I,P,R=this;if(w!=null&&w!==!!w)return Ht(w,1,vn),x==null?x=u:Ht(x,0,8),V(new C(R),w,x);if(!(v=R.c))return null;if(P=v.length-1,I=P*Xe+1,P=v[P]){for(;P%10==0;P/=10,I--);for(P=v[0];P>=10;P/=10,I++);}return w&&R.e+1>I&&(I=R.e+1),I},i.shiftedBy=function(w){return Ht(w,-gw,gw),this.times("1e"+w)},i.squareRoot=i.sqrt=function(){var w,x,v,I,P,R=this,D=R.c,m=R.s,E=R.e,B=c+4,k=new C("0.5");if(m!==1||!D||!D[0])return new C(!m||m<0&&(!D||D[0])?NaN:D?R:1/0);if(m=Math.sqrt(+Y(R)),m==0||m==1/0?(x=ai(D),(x.length+E)%2==0&&(x+="0"),m=Math.sqrt(+x),E=fi((E+1)/2)-(E<0||E%2),m==1/0?x="5e"+E:(x=m.toExponential(),x=x.slice(0,x.indexOf("e")+1)+E),v=new C(x)):v=new C(m+""),v.c[0]){for(E=v.e,m=E+B,m<3&&(m=0);;)if(P=v,v=k.times(P.plus(e(R,P,B,1))),ai(P.c).slice(0,m)===(x=ai(v.c)).slice(0,m))if(v.e<E&&--m,x=x.slice(m-3,m+1),x=="9999"||!I&&x=="4999"){if(!I&&(V(P,P.e+c+2,0),P.times(P).eq(R))){v=P;break}B+=4,m+=4,I=1}else{(!+x||!+x.slice(1)&&x.charAt(0)=="5")&&(V(v,v.e+c+2,1),w=!v.times(v).eq(R));break}}return V(v,v.e+c+1,u,w)},i.toExponential=function(w,x){return w!=null&&(Ht(w,0,vn),w++),ee(this,w,x,1)},i.toFixed=function(w,x){return w!=null&&(Ht(w,0,vn),w=w+this.e+1),ee(this,w,x)},i.toFormat=function(w,x,v){var I,P=this;if(v==null)w!=null&&x&&typeof x=="object"?(v=x,x=null):w&&typeof w=="object"?(v=w,w=x=null):v=N;else if(typeof v!="object")throw Error(_r+"Argument not an object: "+v);if(I=P.toFixed(w,x),P.c){var R,D=I.split("."),m=+v.groupSize,E=+v.secondaryGroupSize,B=v.groupSeparator||"",k=D[0],j=D[1],z=P.s<0,te=z?k.slice(1):k,he=te.length;if(E&&(R=m,m=E,E=R,he-=R),m>0&&he>0){for(R=he%m||m,k=te.substr(0,R);R<he;R+=m)k+=B+te.substr(R,m);E>0&&(k+=B+te.slice(R)),z&&(k="-"+k)}I=j?k+(v.decimalSeparator||"")+((E=+v.fractionGroupSize)?j.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(v.fractionGroupSeparator||"")):j):k}return(v.prefix||"")+I+(v.suffix||"")},i.toFraction=function(w){var x,v,I,P,R,D,m,E,B,k,j,z,te=this,he=te.c;if(w!=null&&(m=new C(w),!m.isInteger()&&(m.c||m.s!==1)||m.lt(o)))throw Error(_r+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+Y(m));if(!he)return new C(te);for(x=new C(o),B=v=new C(o),I=E=new C(o),z=ai(he),R=x.e=z.length-te.e-1,x.c[0]=pw[(D=R%Xe)<0?Xe+D:D],w=!w||m.comparedTo(x)>0?R>0?x:B:m,D=p,p=1/0,m=new C(z),E.c[0]=0;k=e(m,x,0,1),P=v.plus(k.times(I)),P.comparedTo(w)!=1;)v=I,I=P,B=E.plus(k.times(P=B)),E=P,x=m.minus(k.times(P=x)),m=P;return P=e(w.minus(v),I,0,1),E=E.plus(P.times(B)),v=v.plus(P.times(I)),E.s=B.s=te.s,R=R*2,j=e(B,I,R,u).minus(te).abs().comparedTo(e(E,v,R,u).minus(te).abs())<1?[B,I]:[E,v],p=D,j},i.toNumber=function(){return+Y(this)},i.toPrecision=function(w,x){return w!=null&&Ht(w,1,vn),ee(this,w,x,2)},i.toString=function(w){var x,v=this,I=v.s,P=v.e;return P===null?I?(x="Infinity",I<0&&(x="-"+x)):x="NaN":(w==null?x=P<=l||P>=d?mg(ai(v.c),P):zs(ai(v.c),P,"0"):w===10&&$?(v=V(new C(v),c+P+1,u),x=zs(ai(v.c),v.e,"0")):(Ht(w,2,M.length,"Base"),x=n(zs(ai(v.c),P,"0"),10,w,I,!0)),I<0&&v.c[0]&&(x="-"+x)),x},i.valueOf=i.toJSON=function(){return Y(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&C.set(t),C}function fi(t){var e=t|0;return t>0||t===e?e:e-1}function ai(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=Xe-e.length;n--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function Ya(t,e){var n,r,i=t.c,o=e.c,c=t.s,u=e.s,l=t.e,d=e.e;if(!c||!u)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-u:c;if(c!=u)return c;if(n=c<0,r=l==d,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>d^n?1:-1;for(u=(l=i.length)<(d=o.length)?l:d,c=0;c<u;c++)if(i[c]!=o[c])return i[c]>o[c]^n?1:-1;return l==d?0:l>d^n?1:-1}function Ht(t,e,n,r){if(t<e||t>n||t!==li(t))throw Error(_r+(r||"Argument")+(typeof t=="number"?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function pg(t){var e=t.c.length-1;return fi(t.e/Xe)==e&&t.c[e]%2!=0}function mg(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function zs(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(r=t.length,++e>r){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var yJ=lI();const XG={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},fI={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},nn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},rr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Zo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class we{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const i=we.getVersionPrecision(e),o=we.getVersionPrecision(n);let c=Math.max(i,o),u=0;const l=we.map([e,n],d=>{const h=c-we.getVersionPrecision(d),p=d+new Array(h+1).join(".0");return we.map(p.split("."),A=>new Array(20-A.length).join("0")+A).reverse()});for(r&&(u=c-Math.min(i,o)),c-=1;c>=u;){if(l[0][c]>l[1][c])return 1;if(l[0][c]===l[1][c]){if(c===u)return 0;c-=1}else if(l[0][c]<l[1][c])return-1}}static map(e,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(i=0;i<e.length;i+=1)r.push(n(e[i]));return r}static find(e,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let i,o;if(Object.assign)return Object.assign(e,...n);for(i=0,o=n.length;i<o;i+=1){const c=n[i];typeof c=="object"&&c!==null&&Object.keys(c).forEach(l=>{r[l]=c[l]})}return e}static getBrowserAlias(e){return XG[e]}static getBrowserTypeByAlias(e){return fI[e]||""}}const Bt=/version\/(\d+(\.?_?\d+)+)/i,ZG=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=we.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=we.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=we.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=we.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=we.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=we.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=we.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=we.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=we.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=we.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=we.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=we.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=we.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=we.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=we.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=we.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=we.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=we.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=we.getFirstMatch(Bt,t)||we.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=we.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=we.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=we.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=we.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=we.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=we.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=we.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=we.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=we.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=we.getFirstMatch(Bt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?n:e;return{name:we.getFirstMatch(i,t),version:we.getSecondMatch(i,t)}}}],e9=[{test:[/Roku\/DVP/],describe(t){const e=we.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:rr.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=we.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:rr.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=we.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=we.getWindowsVersionName(e);return{name:rr.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:rr.iOS},n=we.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=we.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=we.getMacOSVersionName(e),r={name:rr.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=we.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:rr.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=we.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=we.getAndroidVersionName(e),r={name:rr.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=we.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:rr.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=we.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||we.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||we.getFirstMatch(/\bbb(\d+)/i,t);return{name:rr.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=we.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:rr.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=we.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:rr.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:rr.Linux}}},{test:[/CrOS/],describe(){return{name:rr.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=we.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:rr.PlayStation4,version:e}}}],t9=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=we.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:nn.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:nn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:nn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:nn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:nn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:nn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:nn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=we.getFirstMatch(/(ipod|iphone)/i,t);return{type:nn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:nn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:nn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:nn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:nn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:nn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:nn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:nn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:nn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:nn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:nn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:nn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:nn.tv}}}],n9=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Zo.Blink};const n=we.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Zo.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Zo.Trident},n=we.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Zo.Presto},n=we.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Zo.Gecko},n=we.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Zo.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Zo.WebKit},n=we.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class u_{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=we.find(ZG,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=we.find(e9,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=we.find(t9,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=we.find(n9,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return we.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(u=>{const l=e[u];typeof l=="string"?(i[u]=l,o+=1):typeof l=="object"&&(n[u]=l,r+=1)}),r>0){const u=Object.keys(n),l=we.find(u,h=>this.isOS(h));if(l){const h=this.satisfies(n[l]);if(h!==void 0)return h}const d=we.find(u,h=>this.isPlatform(h));if(d){const h=this.satisfies(n[d]);if(h!==void 0)return h}}if(o>0){const u=Object.keys(i),l=we.find(u,d=>this.isBrowser(d,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=we.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let n=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),n.indexOf(we.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class bJ{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new u_(e,n)}static parse(e){return new u_(e).getResult()}static get BROWSER_MAP(){return fI}static get ENGINE_MAP(){return Zo}static get OS_MAP(){return rr}static get PLATFORMS_MAP(){return nn}}var sp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */sp.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",p=1,A=2,b=4,S=1,N=2,M=1,$=2,C=4,ee=8,ae=16,se=32,V=64,Y=128,w=256,x=512,v=30,I="...",P=800,R=16,D=1,m=2,E=3,B=1/0,k=9007199254740991,j=17976931348623157e292,z=0/0,te=4294967295,he=te-1,Ee=te>>>1,Ce=[["ary",Y],["bind",M],["bindKey",$],["curry",ee],["curryRight",ae],["flip",x],["partial",se],["partialRight",V],["rearg",w]],be="[object Arguments]",Be="[object Array]",He="[object AsyncFunction]",qe="[object Boolean]",tt="[object Date]",vt="[object DOMException]",gt="[object Error]",st="[object Function]",q="[object GeneratorFunction]",Q="[object Map]",ue="[object Number]",Ie="[object Null]",Re="[object Object]",mt="[object Promise]",_t="[object Proxy]",Ut="[object RegExp]",Dt="[object Set]",yn="[object String]",Lt="[object Symbol]",Ts="[object Undefined]",U="[object WeakMap]",G="[object WeakSet]",_e="[object ArrayBuffer]",ve="[object DataView]",Ne="[object Float32Array]",ft="[object Float64Array]",qt="[object Int8Array]",qr="[object Int16Array]",$n="[object Int32Array]",Ii="[object Uint8Array]",Qr="[object Uint8ClampedArray]",Nn="[object Uint16Array]",wr="[object Uint32Array]",Os=/\b__p \+= '';/g,Un=/\b(__p \+=) '' \+/g,ss=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pr=/&(?:amp|lt|gt|quot|#39);/g,bn=/[&<>"']/g,Tn=RegExp(Pr.source),Qn=RegExp(bn.source),Pa=/<%-([\s\S]+?)%>/g,Ba=/<%([\s\S]+?)%>/g,Ro=/<%=([\s\S]+?)%>/g,Ps=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ff=/^\w*$/,Br=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,La=/[\\^$.*+?()[\]{}|]/g,df=RegExp(La.source),Ma=/^\s+/,qc=/\s/,ka=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fn=/\{\n\/\* \[wrapped with (.+)\] \*/,hf=/,? & /,gf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pf=/[()=,{}\[\]\/\s]/,mf=/\\(\\)?/g,wf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cn=/\w*$/,yf=/^[-+]0x[0-9a-f]+$/i,bf=/^0b[01]+$/i,Ef=/^\[object .+?Constructor\]$/,Af=/^0o[0-7]+$/i,vf=/^(?:0|[1-9]\d*)$/,Ni=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,os=/($^)/,_f=/['\n\r\u2028\u2029\\]/g,Ti="\\ud800-\\udfff",Da="\\u0300-\\u036f",Sf="\\ufe20-\\ufe2f",Oi="\\u20d0-\\u20ff",$a=Da+Sf+Oi,Qc="\\u2700-\\u27bf",Lr="a-z\\xdf-\\xf6\\xf8-\\xff",Cf="\\xac\\xb1\\xd7\\xf7",Yc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xf="\\u2000-\\u206f",Rf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xc="A-Z\\xc0-\\xd6\\xd8-\\xde",Zc="\\ufe0e\\ufe0f",Bs=Cf+Yc+xf+Rf,Ua="['’]",Ls="["+Ti+"]",Fa="["+Bs+"]",Ms="["+$a+"]",eu="\\d+",Io="["+Qc+"]",No="["+Lr+"]",tu="[^"+Ti+Bs+eu+Qc+Lr+Xc+"]",To="\\ud83c[\\udffb-\\udfff]",nu="(?:"+Ms+"|"+To+")",ru="[^"+Ti+"]",Oo="(?:\\ud83c[\\udde6-\\uddff]){2}",as="[\\ud800-\\udbff][\\udc00-\\udfff]",Hn="["+Xc+"]",iu="\\u200d",su="(?:"+No+"|"+tu+")",Yr="(?:"+Hn+"|"+tu+")",Po="(?:"+Ua+"(?:d|ll|m|re|s|t|ve))?",ou="(?:"+Ua+"(?:D|LL|M|RE|S|T|VE))?",au=nu+"?",cu="["+Zc+"]?",Bo="(?:"+iu+"(?:"+[ru,Oo,as].join("|")+")"+cu+au+")*",Mr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mo=cu+au+Bo,ko="(?:"+[Io,Oo,as].join("|")+")"+Mo,uu="(?:"+[ru+Ms+"?",Ms,Oo,as,Ls].join("|")+")",ks=RegExp(Ua,"g"),lu=RegExp(Ms,"g"),yr=RegExp(To+"(?="+To+")|"+uu+Mo,"g"),cs=RegExp([Hn+"?"+No+"+"+Po+"(?="+[Fa,Hn,"$"].join("|")+")",Yr+"+"+ou+"(?="+[Fa,Hn+su,"$"].join("|")+")",Hn+"?"+su+"+"+Po,Hn+"+"+ou,Lo,Mr,eu,ko].join("|"),"g"),fu=RegExp("["+iu+Ti+$a+Zc+"]"),us=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,du=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hu=-1,It={};It[Ne]=It[ft]=It[qt]=It[qr]=It[$n]=It[Ii]=It[Qr]=It[Nn]=It[wr]=!0,It[be]=It[Be]=It[_e]=It[qe]=It[ve]=It[tt]=It[gt]=It[st]=It[Q]=It[ue]=It[Re]=It[Ut]=It[Dt]=It[yn]=It[U]=!1;var St={};St[be]=St[Be]=St[_e]=St[ve]=St[qe]=St[tt]=St[Ne]=St[ft]=St[qt]=St[qr]=St[$n]=St[Q]=St[ue]=St[Re]=St[Ut]=St[Dt]=St[yn]=St[Lt]=St[Ii]=St[Qr]=St[Nn]=St[wr]=!0,St[gt]=St[st]=St[U]=!1;var F={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},X={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},H={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},re=parseFloat,me=parseInt,ke=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ze=typeof self=="object"&&self&&self.Object===Object&&self,De=ke||ze||Function("return this")(),Le=e&&!e.nodeType&&e,Ke=Le&&!0&&t&&!t.nodeType&&t,Ot=Ke&&Ke.exports===Le,dt=Ot&&ke.process,bt=function(){try{var Z=Ke&&Ke.require&&Ke.require("util").types;return Z||dt&&dt.binding&&dt.binding("util")}catch{}}(),un=bt&&bt.isArrayBuffer,Yn=bt&&bt.isDate,Xn=bt&&bt.isMap,ls=bt&&bt.isRegExp,If=bt&&bt.isSet,Ha=bt&&bt.isTypedArray;function En(Z,de,ce){switch(ce.length){case 0:return Z.call(de);case 1:return Z.call(de,ce[0]);case 2:return Z.call(de,ce[0],ce[1]);case 3:return Z.call(de,ce[0],ce[1],ce[2])}return Z.apply(de,ce)}function ST(Z,de,ce,Oe){for(var Qe=-1,Et=Z==null?0:Z.length;++Qe<Et;){var ln=Z[Qe];de(Oe,ln,ce(ln),Z)}return Oe}function Xr(Z,de){for(var ce=-1,Oe=Z==null?0:Z.length;++ce<Oe&&de(Z[ce],ce,Z)!==!1;);return Z}function CT(Z,de){for(var ce=Z==null?0:Z.length;ce--&&de(Z[ce],ce,Z)!==!1;);return Z}function CE(Z,de){for(var ce=-1,Oe=Z==null?0:Z.length;++ce<Oe;)if(!de(Z[ce],ce,Z))return!1;return!0}function Do(Z,de){for(var ce=-1,Oe=Z==null?0:Z.length,Qe=0,Et=[];++ce<Oe;){var ln=Z[ce];de(ln,ce,Z)&&(Et[Qe++]=ln)}return Et}function Eh(Z,de){var ce=Z==null?0:Z.length;return!!ce&&gu(Z,de,0)>-1}function T0(Z,de,ce){for(var Oe=-1,Qe=Z==null?0:Z.length;++Oe<Qe;)if(ce(de,Z[Oe]))return!0;return!1}function $t(Z,de){for(var ce=-1,Oe=Z==null?0:Z.length,Qe=Array(Oe);++ce<Oe;)Qe[ce]=de(Z[ce],ce,Z);return Qe}function $o(Z,de){for(var ce=-1,Oe=de.length,Qe=Z.length;++ce<Oe;)Z[Qe+ce]=de[ce];return Z}function O0(Z,de,ce,Oe){var Qe=-1,Et=Z==null?0:Z.length;for(Oe&&Et&&(ce=Z[++Qe]);++Qe<Et;)ce=de(ce,Z[Qe],Qe,Z);return ce}function xT(Z,de,ce,Oe){var Qe=Z==null?0:Z.length;for(Oe&&Qe&&(ce=Z[--Qe]);Qe--;)ce=de(ce,Z[Qe],Qe,Z);return ce}function P0(Z,de){for(var ce=-1,Oe=Z==null?0:Z.length;++ce<Oe;)if(de(Z[ce],ce,Z))return!0;return!1}var RT=B0("length");function IT(Z){return Z.split("")}function NT(Z){return Z.match(gf)||[]}function xE(Z,de,ce){var Oe;return ce(Z,function(Qe,Et,ln){if(de(Qe,Et,ln))return Oe=Et,!1}),Oe}function Ah(Z,de,ce,Oe){for(var Qe=Z.length,Et=ce+(Oe?1:-1);Oe?Et--:++Et<Qe;)if(de(Z[Et],Et,Z))return Et;return-1}function gu(Z,de,ce){return de===de?HT(Z,de,ce):Ah(Z,RE,ce)}function TT(Z,de,ce,Oe){for(var Qe=ce-1,Et=Z.length;++Qe<Et;)if(Oe(Z[Qe],de))return Qe;return-1}function RE(Z){return Z!==Z}function IE(Z,de){var ce=Z==null?0:Z.length;return ce?M0(Z,de)/ce:z}function B0(Z){return function(de){return de==null?n:de[Z]}}function L0(Z){return function(de){return Z==null?n:Z[de]}}function NE(Z,de,ce,Oe,Qe){return Qe(Z,function(Et,ln,Pt){ce=Oe?(Oe=!1,Et):de(ce,Et,ln,Pt)}),ce}function OT(Z,de){var ce=Z.length;for(Z.sort(de);ce--;)Z[ce]=Z[ce].value;return Z}function M0(Z,de){for(var ce,Oe=-1,Qe=Z.length;++Oe<Qe;){var Et=de(Z[Oe]);Et!==n&&(ce=ce===n?Et:ce+Et)}return ce}function k0(Z,de){for(var ce=-1,Oe=Array(Z);++ce<Z;)Oe[ce]=de(ce);return Oe}function PT(Z,de){return $t(de,function(ce){return[ce,Z[ce]]})}function TE(Z){return Z&&Z.slice(0,LE(Z)+1).replace(Ma,"")}function kr(Z){return function(de){return Z(de)}}function D0(Z,de){return $t(de,function(ce){return Z[ce]})}function Nf(Z,de){return Z.has(de)}function OE(Z,de){for(var ce=-1,Oe=Z.length;++ce<Oe&&gu(de,Z[ce],0)>-1;);return ce}function PE(Z,de){for(var ce=Z.length;ce--&&gu(de,Z[ce],0)>-1;);return ce}function BT(Z,de){for(var ce=Z.length,Oe=0;ce--;)Z[ce]===de&&++Oe;return Oe}var LT=L0(F),MT=L0(X);function kT(Z){return"\\"+H[Z]}function DT(Z,de){return Z==null?n:Z[de]}function pu(Z){return fu.test(Z)}function $T(Z){return us.test(Z)}function UT(Z){for(var de,ce=[];!(de=Z.next()).done;)ce.push(de.value);return ce}function $0(Z){var de=-1,ce=Array(Z.size);return Z.forEach(function(Oe,Qe){ce[++de]=[Qe,Oe]}),ce}function BE(Z,de){return function(ce){return Z(de(ce))}}function Uo(Z,de){for(var ce=-1,Oe=Z.length,Qe=0,Et=[];++ce<Oe;){var ln=Z[ce];(ln===de||ln===h)&&(Z[ce]=h,Et[Qe++]=ce)}return Et}function vh(Z){var de=-1,ce=Array(Z.size);return Z.forEach(function(Oe){ce[++de]=Oe}),ce}function FT(Z){var de=-1,ce=Array(Z.size);return Z.forEach(function(Oe){ce[++de]=[Oe,Oe]}),ce}function HT(Z,de,ce){for(var Oe=ce-1,Qe=Z.length;++Oe<Qe;)if(Z[Oe]===de)return Oe;return-1}function GT(Z,de,ce){for(var Oe=ce+1;Oe--;)if(Z[Oe]===de)return Oe;return Oe}function mu(Z){return pu(Z)?jT(Z):RT(Z)}function Pi(Z){return pu(Z)?VT(Z):IT(Z)}function LE(Z){for(var de=Z.length;de--&&qc.test(Z.charAt(de)););return de}var WT=L0(_);function jT(Z){for(var de=yr.lastIndex=0;yr.test(Z);)++de;return de}function VT(Z){return Z.match(yr)||[]}function zT(Z){return Z.match(cs)||[]}var JT=function Z(de){de=de==null?De:wu.defaults(De.Object(),de,wu.pick(De,du));var ce=de.Array,Oe=de.Date,Qe=de.Error,Et=de.Function,ln=de.Math,Pt=de.Object,U0=de.RegExp,KT=de.String,Zr=de.TypeError,_h=ce.prototype,qT=Et.prototype,yu=Pt.prototype,Sh=de["__core-js_shared__"],Ch=qT.toString,Nt=yu.hasOwnProperty,QT=0,ME=function(){var s=/[^.]+$/.exec(Sh&&Sh.keys&&Sh.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),xh=yu.toString,YT=Ch.call(Pt),XT=De._,ZT=U0("^"+Ch.call(Nt).replace(La,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rh=Ot?de.Buffer:n,Fo=de.Symbol,Ih=de.Uint8Array,kE=Rh?Rh.allocUnsafe:n,Nh=BE(Pt.getPrototypeOf,Pt),DE=Pt.create,$E=yu.propertyIsEnumerable,Th=_h.splice,UE=Fo?Fo.isConcatSpreadable:n,Tf=Fo?Fo.iterator:n,Ga=Fo?Fo.toStringTag:n,Oh=function(){try{var s=Ja(Pt,"defineProperty");return s({},"",{}),s}catch{}}(),eO=de.clearTimeout!==De.clearTimeout&&de.clearTimeout,tO=Oe&&Oe.now!==De.Date.now&&Oe.now,nO=de.setTimeout!==De.setTimeout&&de.setTimeout,Ph=ln.ceil,Bh=ln.floor,F0=Pt.getOwnPropertySymbols,rO=Rh?Rh.isBuffer:n,FE=de.isFinite,iO=_h.join,sO=BE(Pt.keys,Pt),fn=ln.max,Gn=ln.min,oO=Oe.now,aO=de.parseInt,HE=ln.random,cO=_h.reverse,H0=Ja(de,"DataView"),Of=Ja(de,"Map"),G0=Ja(de,"Promise"),bu=Ja(de,"Set"),Pf=Ja(de,"WeakMap"),Bf=Ja(Pt,"create"),Lh=Pf&&new Pf,Eu={},uO=Ka(H0),lO=Ka(Of),fO=Ka(G0),dO=Ka(bu),hO=Ka(Pf),Mh=Fo?Fo.prototype:n,Lf=Mh?Mh.valueOf:n,GE=Mh?Mh.toString:n;function T(s){if(Qt(s)&&!Ye(s)&&!(s instanceof ct)){if(s instanceof ei)return s;if(Nt.call(s,"__wrapped__"))return WA(s)}return new ei(s)}var Au=function(){function s(){}return function(a){if(!Ft(a))return{};if(DE)return DE(a);s.prototype=a;var f=new s;return s.prototype=n,f}}();function kh(){}function ei(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}T.templateSettings={escape:Pa,evaluate:Ba,interpolate:Ro,variable:"",imports:{_:T}},T.prototype=kh.prototype,T.prototype.constructor=T,ei.prototype=Au(kh.prototype),ei.prototype.constructor=ei;function ct(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function gO(){var s=new ct(this.__wrapped__);return s.__actions__=br(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=br(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=br(this.__views__),s}function pO(){if(this.__filtered__){var s=new ct(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function mO(){var s=this.__wrapped__.value(),a=this.__dir__,f=Ye(s),g=a<0,y=f?s.length:0,L=IP(0,y,this.__views__),W=L.start,K=L.end,ne=K-W,ge=g?K:W-1,pe=this.__iteratees__,ye=pe.length,xe=0,$e=Gn(ne,this.__takeCount__);if(!f||!g&&y==ne&&$e==ne)return dA(s,this.__actions__);var We=[];e:for(;ne--&&xe<$e;){ge+=a;for(var nt=-1,je=s[ge];++nt<ye;){var ot=pe[nt],ut=ot.iteratee,Ur=ot.type,tr=ut(je);if(Ur==m)je=tr;else if(!tr){if(Ur==D)continue e;break e}}We[xe++]=je}return We}ct.prototype=Au(kh.prototype),ct.prototype.constructor=ct;function Wa(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var g=s[a];this.set(g[0],g[1])}}function wO(){this.__data__=Bf?Bf(null):{},this.size=0}function yO(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function bO(s){var a=this.__data__;if(Bf){var f=a[s];return f===l?n:f}return Nt.call(a,s)?a[s]:n}function EO(s){var a=this.__data__;return Bf?a[s]!==n:Nt.call(a,s)}function AO(s,a){var f=this.__data__;return this.size+=this.has(s)?0:1,f[s]=Bf&&a===n?l:a,this}Wa.prototype.clear=wO,Wa.prototype.delete=yO,Wa.prototype.get=bO,Wa.prototype.has=EO,Wa.prototype.set=AO;function Ds(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var g=s[a];this.set(g[0],g[1])}}function vO(){this.__data__=[],this.size=0}function _O(s){var a=this.__data__,f=Dh(a,s);if(f<0)return!1;var g=a.length-1;return f==g?a.pop():Th.call(a,f,1),--this.size,!0}function SO(s){var a=this.__data__,f=Dh(a,s);return f<0?n:a[f][1]}function CO(s){return Dh(this.__data__,s)>-1}function xO(s,a){var f=this.__data__,g=Dh(f,s);return g<0?(++this.size,f.push([s,a])):f[g][1]=a,this}Ds.prototype.clear=vO,Ds.prototype.delete=_O,Ds.prototype.get=SO,Ds.prototype.has=CO,Ds.prototype.set=xO;function $s(s){var a=-1,f=s==null?0:s.length;for(this.clear();++a<f;){var g=s[a];this.set(g[0],g[1])}}function RO(){this.size=0,this.__data__={hash:new Wa,map:new(Of||Ds),string:new Wa}}function IO(s){var a=qh(this,s).delete(s);return this.size-=a?1:0,a}function NO(s){return qh(this,s).get(s)}function TO(s){return qh(this,s).has(s)}function OO(s,a){var f=qh(this,s),g=f.size;return f.set(s,a),this.size+=f.size==g?0:1,this}$s.prototype.clear=RO,$s.prototype.delete=IO,$s.prototype.get=NO,$s.prototype.has=TO,$s.prototype.set=OO;function ja(s){var a=-1,f=s==null?0:s.length;for(this.__data__=new $s;++a<f;)this.add(s[a])}function PO(s){return this.__data__.set(s,l),this}function BO(s){return this.__data__.has(s)}ja.prototype.add=ja.prototype.push=PO,ja.prototype.has=BO;function Bi(s){var a=this.__data__=new Ds(s);this.size=a.size}function LO(){this.__data__=new Ds,this.size=0}function MO(s){var a=this.__data__,f=a.delete(s);return this.size=a.size,f}function kO(s){return this.__data__.get(s)}function DO(s){return this.__data__.has(s)}function $O(s,a){var f=this.__data__;if(f instanceof Ds){var g=f.__data__;if(!Of||g.length<i-1)return g.push([s,a]),this.size=++f.size,this;f=this.__data__=new $s(g)}return f.set(s,a),this.size=f.size,this}Bi.prototype.clear=LO,Bi.prototype.delete=MO,Bi.prototype.get=kO,Bi.prototype.has=DO,Bi.prototype.set=$O;function WE(s,a){var f=Ye(s),g=!f&&qa(s),y=!f&&!g&&Vo(s),L=!f&&!g&&!y&&Cu(s),W=f||g||y||L,K=W?k0(s.length,KT):[],ne=K.length;for(var ge in s)(a||Nt.call(s,ge))&&!(W&&(ge=="length"||y&&(ge=="offset"||ge=="parent")||L&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||Gs(ge,ne)))&&K.push(ge);return K}function jE(s){var a=s.length;return a?s[Z0(0,a-1)]:n}function UO(s,a){return Qh(br(s),Va(a,0,s.length))}function FO(s){return Qh(br(s))}function W0(s,a,f){(f!==n&&!Li(s[a],f)||f===n&&!(a in s))&&Us(s,a,f)}function Mf(s,a,f){var g=s[a];(!(Nt.call(s,a)&&Li(g,f))||f===n&&!(a in s))&&Us(s,a,f)}function Dh(s,a){for(var f=s.length;f--;)if(Li(s[f][0],a))return f;return-1}function HO(s,a,f,g){return Ho(s,function(y,L,W){a(g,y,f(y),W)}),g}function VE(s,a){return s&&ds(a,An(a),s)}function GO(s,a){return s&&ds(a,Ar(a),s)}function Us(s,a,f){a=="__proto__"&&Oh?Oh(s,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):s[a]=f}function j0(s,a){for(var f=-1,g=a.length,y=ce(g),L=s==null;++f<g;)y[f]=L?n:Sm(s,a[f]);return y}function Va(s,a,f){return s===s&&(f!==n&&(s=s<=f?s:f),a!==n&&(s=s>=a?s:a)),s}function ti(s,a,f,g,y,L){var W,K=a&p,ne=a&A,ge=a&b;if(f&&(W=y?f(s,g,y,L):f(s)),W!==n)return W;if(!Ft(s))return s;var pe=Ye(s);if(pe){if(W=TP(s),!K)return br(s,W)}else{var ye=Wn(s),xe=ye==st||ye==q;if(Vo(s))return pA(s,K);if(ye==Re||ye==be||xe&&!y){if(W=ne||xe?{}:LA(s),!K)return ne?bP(s,GO(W,s)):yP(s,VE(W,s))}else{if(!St[ye])return y?s:{};W=OP(s,ye,K)}}L||(L=new Bi);var $e=L.get(s);if($e)return $e;L.set(s,W),uv(s)?s.forEach(function(je){W.add(ti(je,a,f,je,s,L))}):av(s)&&s.forEach(function(je,ot){W.set(ot,ti(je,a,f,ot,s,L))});var We=ge?ne?lm:um:ne?Ar:An,nt=pe?n:We(s);return Xr(nt||s,function(je,ot){nt&&(ot=je,je=s[ot]),Mf(W,ot,ti(je,a,f,ot,s,L))}),W}function WO(s){var a=An(s);return function(f){return zE(f,s,a)}}function zE(s,a,f){var g=f.length;if(s==null)return!g;for(s=Pt(s);g--;){var y=f[g],L=a[y],W=s[y];if(W===n&&!(y in s)||!L(W))return!1}return!0}function JE(s,a,f){if(typeof s!="function")throw new Zr(c);return Gf(function(){s.apply(n,f)},a)}function kf(s,a,f,g){var y=-1,L=Eh,W=!0,K=s.length,ne=[],ge=a.length;if(!K)return ne;f&&(a=$t(a,kr(f))),g?(L=T0,W=!1):a.length>=i&&(L=Nf,W=!1,a=new ja(a));e:for(;++y<K;){var pe=s[y],ye=f==null?pe:f(pe);if(pe=g||pe!==0?pe:0,W&&ye===ye){for(var xe=ge;xe--;)if(a[xe]===ye)continue e;ne.push(pe)}else L(a,ye,g)||ne.push(pe)}return ne}var Ho=EA(fs),KE=EA(z0,!0);function jO(s,a){var f=!0;return Ho(s,function(g,y,L){return f=!!a(g,y,L),f}),f}function $h(s,a,f){for(var g=-1,y=s.length;++g<y;){var L=s[g],W=a(L);if(W!=null&&(K===n?W===W&&!$r(W):f(W,K)))var K=W,ne=L}return ne}function VO(s,a,f,g){var y=s.length;for(f=et(f),f<0&&(f=-f>y?0:y+f),g=g===n||g>y?y:et(g),g<0&&(g+=y),g=f>g?0:fv(g);f<g;)s[f++]=a;return s}function qE(s,a){var f=[];return Ho(s,function(g,y,L){a(g,y,L)&&f.push(g)}),f}function On(s,a,f,g,y){var L=-1,W=s.length;for(f||(f=BP),y||(y=[]);++L<W;){var K=s[L];a>0&&f(K)?a>1?On(K,a-1,f,g,y):$o(y,K):g||(y[y.length]=K)}return y}var V0=AA(),QE=AA(!0);function fs(s,a){return s&&V0(s,a,An)}function z0(s,a){return s&&QE(s,a,An)}function Uh(s,a){return Do(a,function(f){return Ws(s[f])})}function za(s,a){a=Wo(a,s);for(var f=0,g=a.length;s!=null&&f<g;)s=s[hs(a[f++])];return f&&f==g?s:n}function YE(s,a,f){var g=a(s);return Ye(s)?g:$o(g,f(s))}function Zn(s){return s==null?s===n?Ts:Ie:Ga&&Ga in Pt(s)?RP(s):FP(s)}function J0(s,a){return s>a}function zO(s,a){return s!=null&&Nt.call(s,a)}function JO(s,a){return s!=null&&a in Pt(s)}function KO(s,a,f){return s>=Gn(a,f)&&s<fn(a,f)}function K0(s,a,f){for(var g=f?T0:Eh,y=s[0].length,L=s.length,W=L,K=ce(L),ne=1/0,ge=[];W--;){var pe=s[W];W&&a&&(pe=$t(pe,kr(a))),ne=Gn(pe.length,ne),K[W]=!f&&(a||y>=120&&pe.length>=120)?new ja(W&&pe):n}pe=s[0];var ye=-1,xe=K[0];e:for(;++ye<y&&ge.length<ne;){var $e=pe[ye],We=a?a($e):$e;if($e=f||$e!==0?$e:0,!(xe?Nf(xe,We):g(ge,We,f))){for(W=L;--W;){var nt=K[W];if(!(nt?Nf(nt,We):g(s[W],We,f)))continue e}xe&&xe.push(We),ge.push($e)}}return ge}function qO(s,a,f,g){return fs(s,function(y,L,W){a(g,f(y),L,W)}),g}function Df(s,a,f){a=Wo(a,s),s=$A(s,a);var g=s==null?s:s[hs(ri(a))];return g==null?n:En(g,s,f)}function XE(s){return Qt(s)&&Zn(s)==be}function QO(s){return Qt(s)&&Zn(s)==_e}function YO(s){return Qt(s)&&Zn(s)==tt}function $f(s,a,f,g,y){return s===a?!0:s==null||a==null||!Qt(s)&&!Qt(a)?s!==s&&a!==a:XO(s,a,f,g,$f,y)}function XO(s,a,f,g,y,L){var W=Ye(s),K=Ye(a),ne=W?Be:Wn(s),ge=K?Be:Wn(a);ne=ne==be?Re:ne,ge=ge==be?Re:ge;var pe=ne==Re,ye=ge==Re,xe=ne==ge;if(xe&&Vo(s)){if(!Vo(a))return!1;W=!0,pe=!1}if(xe&&!pe)return L||(L=new Bi),W||Cu(s)?OA(s,a,f,g,y,L):CP(s,a,ne,f,g,y,L);if(!(f&S)){var $e=pe&&Nt.call(s,"__wrapped__"),We=ye&&Nt.call(a,"__wrapped__");if($e||We){var nt=$e?s.value():s,je=We?a.value():a;return L||(L=new Bi),y(nt,je,f,g,L)}}return xe?(L||(L=new Bi),xP(s,a,f,g,y,L)):!1}function ZO(s){return Qt(s)&&Wn(s)==Q}function q0(s,a,f,g){var y=f.length,L=y,W=!g;if(s==null)return!L;for(s=Pt(s);y--;){var K=f[y];if(W&&K[2]?K[1]!==s[K[0]]:!(K[0]in s))return!1}for(;++y<L;){K=f[y];var ne=K[0],ge=s[ne],pe=K[1];if(W&&K[2]){if(ge===n&&!(ne in s))return!1}else{var ye=new Bi;if(g)var xe=g(ge,pe,ne,s,a,ye);if(!(xe===n?$f(pe,ge,S|N,g,ye):xe))return!1}}return!0}function ZE(s){if(!Ft(s)||MP(s))return!1;var a=Ws(s)?ZT:Ef;return a.test(Ka(s))}function eP(s){return Qt(s)&&Zn(s)==Ut}function tP(s){return Qt(s)&&Wn(s)==Dt}function nP(s){return Qt(s)&&ng(s.length)&&!!It[Zn(s)]}function eA(s){return typeof s=="function"?s:s==null?vr:typeof s=="object"?Ye(s)?rA(s[0],s[1]):nA(s):vv(s)}function Q0(s){if(!Hf(s))return sO(s);var a=[];for(var f in Pt(s))Nt.call(s,f)&&f!="constructor"&&a.push(f);return a}function rP(s){if(!Ft(s))return UP(s);var a=Hf(s),f=[];for(var g in s)g=="constructor"&&(a||!Nt.call(s,g))||f.push(g);return f}function Y0(s,a){return s<a}function tA(s,a){var f=-1,g=Er(s)?ce(s.length):[];return Ho(s,function(y,L,W){g[++f]=a(y,L,W)}),g}function nA(s){var a=dm(s);return a.length==1&&a[0][2]?kA(a[0][0],a[0][1]):function(f){return f===s||q0(f,s,a)}}function rA(s,a){return gm(s)&&MA(a)?kA(hs(s),a):function(f){var g=Sm(f,s);return g===n&&g===a?Cm(f,s):$f(a,g,S|N)}}function Fh(s,a,f,g,y){s!==a&&V0(a,function(L,W){if(y||(y=new Bi),Ft(L))iP(s,a,W,f,Fh,g,y);else{var K=g?g(mm(s,W),L,W+"",s,a,y):n;K===n&&(K=L),W0(s,W,K)}},Ar)}function iP(s,a,f,g,y,L,W){var K=mm(s,f),ne=mm(a,f),ge=W.get(ne);if(ge){W0(s,f,ge);return}var pe=L?L(K,ne,f+"",s,a,W):n,ye=pe===n;if(ye){var xe=Ye(ne),$e=!xe&&Vo(ne),We=!xe&&!$e&&Cu(ne);pe=ne,xe||$e||We?Ye(K)?pe=K:en(K)?pe=br(K):$e?(ye=!1,pe=pA(ne,!0)):We?(ye=!1,pe=mA(ne,!0)):pe=[]:Wf(ne)||qa(ne)?(pe=K,qa(K)?pe=dv(K):(!Ft(K)||Ws(K))&&(pe=LA(ne))):ye=!1}ye&&(W.set(ne,pe),y(pe,ne,g,L,W),W.delete(ne)),W0(s,f,pe)}function iA(s,a){var f=s.length;if(f)return a+=a<0?f:0,Gs(a,f)?s[a]:n}function sA(s,a,f){a.length?a=$t(a,function(L){return Ye(L)?function(W){return za(W,L.length===1?L[0]:L)}:L}):a=[vr];var g=-1;a=$t(a,kr(Ge()));var y=tA(s,function(L,W,K){var ne=$t(a,function(ge){return ge(L)});return{criteria:ne,index:++g,value:L}});return OT(y,function(L,W){return wP(L,W,f)})}function sP(s,a){return oA(s,a,function(f,g){return Cm(s,g)})}function oA(s,a,f){for(var g=-1,y=a.length,L={};++g<y;){var W=a[g],K=za(s,W);f(K,W)&&Uf(L,Wo(W,s),K)}return L}function oP(s){return function(a){return za(a,s)}}function X0(s,a,f,g){var y=g?TT:gu,L=-1,W=a.length,K=s;for(s===a&&(a=br(a)),f&&(K=$t(s,kr(f)));++L<W;)for(var ne=0,ge=a[L],pe=f?f(ge):ge;(ne=y(K,pe,ne,g))>-1;)K!==s&&Th.call(K,ne,1),Th.call(s,ne,1);return s}function aA(s,a){for(var f=s?a.length:0,g=f-1;f--;){var y=a[f];if(f==g||y!==L){var L=y;Gs(y)?Th.call(s,y,1):nm(s,y)}}return s}function Z0(s,a){return s+Bh(HE()*(a-s+1))}function aP(s,a,f,g){for(var y=-1,L=fn(Ph((a-s)/(f||1)),0),W=ce(L);L--;)W[g?L:++y]=s,s+=f;return W}function em(s,a){var f="";if(!s||a<1||a>k)return f;do a%2&&(f+=s),a=Bh(a/2),a&&(s+=s);while(a);return f}function it(s,a){return wm(DA(s,a,vr),s+"")}function cP(s){return jE(xu(s))}function uP(s,a){var f=xu(s);return Qh(f,Va(a,0,f.length))}function Uf(s,a,f,g){if(!Ft(s))return s;a=Wo(a,s);for(var y=-1,L=a.length,W=L-1,K=s;K!=null&&++y<L;){var ne=hs(a[y]),ge=f;if(ne==="__proto__"||ne==="constructor"||ne==="prototype")return s;if(y!=W){var pe=K[ne];ge=g?g(pe,ne,K):n,ge===n&&(ge=Ft(pe)?pe:Gs(a[y+1])?[]:{})}Mf(K,ne,ge),K=K[ne]}return s}var cA=Lh?function(s,a){return Lh.set(s,a),s}:vr,lP=Oh?function(s,a){return Oh(s,"toString",{configurable:!0,enumerable:!1,value:Rm(a),writable:!0})}:vr;function fP(s){return Qh(xu(s))}function ni(s,a,f){var g=-1,y=s.length;a<0&&(a=-a>y?0:y+a),f=f>y?y:f,f<0&&(f+=y),y=a>f?0:f-a>>>0,a>>>=0;for(var L=ce(y);++g<y;)L[g]=s[g+a];return L}function dP(s,a){var f;return Ho(s,function(g,y,L){return f=a(g,y,L),!f}),!!f}function Hh(s,a,f){var g=0,y=s==null?g:s.length;if(typeof a=="number"&&a===a&&y<=Ee){for(;g<y;){var L=g+y>>>1,W=s[L];W!==null&&!$r(W)&&(f?W<=a:W<a)?g=L+1:y=L}return y}return tm(s,a,vr,f)}function tm(s,a,f,g){var y=0,L=s==null?0:s.length;if(L===0)return 0;a=f(a);for(var W=a!==a,K=a===null,ne=$r(a),ge=a===n;y<L;){var pe=Bh((y+L)/2),ye=f(s[pe]),xe=ye!==n,$e=ye===null,We=ye===ye,nt=$r(ye);if(W)var je=g||We;else ge?je=We&&(g||xe):K?je=We&&xe&&(g||!$e):ne?je=We&&xe&&!$e&&(g||!nt):$e||nt?je=!1:je=g?ye<=a:ye<a;je?y=pe+1:L=pe}return Gn(L,he)}function uA(s,a){for(var f=-1,g=s.length,y=0,L=[];++f<g;){var W=s[f],K=a?a(W):W;if(!f||!Li(K,ne)){var ne=K;L[y++]=W===0?0:W}}return L}function lA(s){return typeof s=="number"?s:$r(s)?z:+s}function Dr(s){if(typeof s=="string")return s;if(Ye(s))return $t(s,Dr)+"";if($r(s))return GE?GE.call(s):"";var a=s+"";return a=="0"&&1/s==-B?"-0":a}function Go(s,a,f){var g=-1,y=Eh,L=s.length,W=!0,K=[],ne=K;if(f)W=!1,y=T0;else if(L>=i){var ge=a?null:_P(s);if(ge)return vh(ge);W=!1,y=Nf,ne=new ja}else ne=a?[]:K;e:for(;++g<L;){var pe=s[g],ye=a?a(pe):pe;if(pe=f||pe!==0?pe:0,W&&ye===ye){for(var xe=ne.length;xe--;)if(ne[xe]===ye)continue e;a&&ne.push(ye),K.push(pe)}else y(ne,ye,f)||(ne!==K&&ne.push(ye),K.push(pe))}return K}function nm(s,a){return a=Wo(a,s),s=$A(s,a),s==null||delete s[hs(ri(a))]}function fA(s,a,f,g){return Uf(s,a,f(za(s,a)),g)}function Gh(s,a,f,g){for(var y=s.length,L=g?y:-1;(g?L--:++L<y)&&a(s[L],L,s););return f?ni(s,g?0:L,g?L+1:y):ni(s,g?L+1:0,g?y:L)}function dA(s,a){var f=s;return f instanceof ct&&(f=f.value()),O0(a,function(g,y){return y.func.apply(y.thisArg,$o([g],y.args))},f)}function rm(s,a,f){var g=s.length;if(g<2)return g?Go(s[0]):[];for(var y=-1,L=ce(g);++y<g;)for(var W=s[y],K=-1;++K<g;)K!=y&&(L[y]=kf(L[y]||W,s[K],a,f));return Go(On(L,1),a,f)}function hA(s,a,f){for(var g=-1,y=s.length,L=a.length,W={};++g<y;){var K=g<L?a[g]:n;f(W,s[g],K)}return W}function im(s){return en(s)?s:[]}function sm(s){return typeof s=="function"?s:vr}function Wo(s,a){return Ye(s)?s:gm(s,a)?[s]:GA(Ct(s))}var hP=it;function jo(s,a,f){var g=s.length;return f=f===n?g:f,!a&&f>=g?s:ni(s,a,f)}var gA=eO||function(s){return De.clearTimeout(s)};function pA(s,a){if(a)return s.slice();var f=s.length,g=kE?kE(f):new s.constructor(f);return s.copy(g),g}function om(s){var a=new s.constructor(s.byteLength);return new Ih(a).set(new Ih(s)),a}function gP(s,a){var f=a?om(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.byteLength)}function pP(s){var a=new s.constructor(s.source,cn.exec(s));return a.lastIndex=s.lastIndex,a}function mP(s){return Lf?Pt(Lf.call(s)):{}}function mA(s,a){var f=a?om(s.buffer):s.buffer;return new s.constructor(f,s.byteOffset,s.length)}function wA(s,a){if(s!==a){var f=s!==n,g=s===null,y=s===s,L=$r(s),W=a!==n,K=a===null,ne=a===a,ge=$r(a);if(!K&&!ge&&!L&&s>a||L&&W&&ne&&!K&&!ge||g&&W&&ne||!f&&ne||!y)return 1;if(!g&&!L&&!ge&&s<a||ge&&f&&y&&!g&&!L||K&&f&&y||!W&&y||!ne)return-1}return 0}function wP(s,a,f){for(var g=-1,y=s.criteria,L=a.criteria,W=y.length,K=f.length;++g<W;){var ne=wA(y[g],L[g]);if(ne){if(g>=K)return ne;var ge=f[g];return ne*(ge=="desc"?-1:1)}}return s.index-a.index}function yA(s,a,f,g){for(var y=-1,L=s.length,W=f.length,K=-1,ne=a.length,ge=fn(L-W,0),pe=ce(ne+ge),ye=!g;++K<ne;)pe[K]=a[K];for(;++y<W;)(ye||y<L)&&(pe[f[y]]=s[y]);for(;ge--;)pe[K++]=s[y++];return pe}function bA(s,a,f,g){for(var y=-1,L=s.length,W=-1,K=f.length,ne=-1,ge=a.length,pe=fn(L-K,0),ye=ce(pe+ge),xe=!g;++y<pe;)ye[y]=s[y];for(var $e=y;++ne<ge;)ye[$e+ne]=a[ne];for(;++W<K;)(xe||y<L)&&(ye[$e+f[W]]=s[y++]);return ye}function br(s,a){var f=-1,g=s.length;for(a||(a=ce(g));++f<g;)a[f]=s[f];return a}function ds(s,a,f,g){var y=!f;f||(f={});for(var L=-1,W=a.length;++L<W;){var K=a[L],ne=g?g(f[K],s[K],K,f,s):n;ne===n&&(ne=s[K]),y?Us(f,K,ne):Mf(f,K,ne)}return f}function yP(s,a){return ds(s,hm(s),a)}function bP(s,a){return ds(s,PA(s),a)}function Wh(s,a){return function(f,g){var y=Ye(f)?ST:HO,L=a?a():{};return y(f,s,Ge(g,2),L)}}function vu(s){return it(function(a,f){var g=-1,y=f.length,L=y>1?f[y-1]:n,W=y>2?f[2]:n;for(L=s.length>3&&typeof L=="function"?(y--,L):n,W&&er(f[0],f[1],W)&&(L=y<3?n:L,y=1),a=Pt(a);++g<y;){var K=f[g];K&&s(a,K,g,L)}return a})}function EA(s,a){return function(f,g){if(f==null)return f;if(!Er(f))return s(f,g);for(var y=f.length,L=a?y:-1,W=Pt(f);(a?L--:++L<y)&&g(W[L],L,W)!==!1;);return f}}function AA(s){return function(a,f,g){for(var y=-1,L=Pt(a),W=g(a),K=W.length;K--;){var ne=W[s?K:++y];if(f(L[ne],ne,L)===!1)break}return a}}function EP(s,a,f){var g=a&M,y=Ff(s);function L(){var W=this&&this!==De&&this instanceof L?y:s;return W.apply(g?f:this,arguments)}return L}function vA(s){return function(a){a=Ct(a);var f=pu(a)?Pi(a):n,g=f?f[0]:a.charAt(0),y=f?jo(f,1).join(""):a.slice(1);return g[s]()+y}}function _u(s){return function(a){return O0(Ev(bv(a).replace(ks,"")),s,"")}}function Ff(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=Au(s.prototype),g=s.apply(f,a);return Ft(g)?g:f}}function AP(s,a,f){var g=Ff(s);function y(){for(var L=arguments.length,W=ce(L),K=L,ne=Su(y);K--;)W[K]=arguments[K];var ge=L<3&&W[0]!==ne&&W[L-1]!==ne?[]:Uo(W,ne);if(L-=ge.length,L<f)return RA(s,a,jh,y.placeholder,n,W,ge,n,n,f-L);var pe=this&&this!==De&&this instanceof y?g:s;return En(pe,this,W)}return y}function _A(s){return function(a,f,g){var y=Pt(a);if(!Er(a)){var L=Ge(f,3);a=An(a),f=function(K){return L(y[K],K,y)}}var W=s(a,f,g);return W>-1?y[L?a[W]:W]:n}}function SA(s){return Hs(function(a){var f=a.length,g=f,y=ei.prototype.thru;for(s&&a.reverse();g--;){var L=a[g];if(typeof L!="function")throw new Zr(c);if(y&&!W&&Kh(L)=="wrapper")var W=new ei([],!0)}for(g=W?g:f;++g<f;){L=a[g];var K=Kh(L),ne=K=="wrapper"?fm(L):n;ne&&pm(ne[0])&&ne[1]==(Y|ee|se|w)&&!ne[4].length&&ne[9]==1?W=W[Kh(ne[0])].apply(W,ne[3]):W=L.length==1&&pm(L)?W[K]():W.thru(L)}return function(){var ge=arguments,pe=ge[0];if(W&&ge.length==1&&Ye(pe))return W.plant(pe).value();for(var ye=0,xe=f?a[ye].apply(this,ge):pe;++ye<f;)xe=a[ye].call(this,xe);return xe}})}function jh(s,a,f,g,y,L,W,K,ne,ge){var pe=a&Y,ye=a&M,xe=a&$,$e=a&(ee|ae),We=a&x,nt=xe?n:Ff(s);function je(){for(var ot=arguments.length,ut=ce(ot),Ur=ot;Ur--;)ut[Ur]=arguments[Ur];if($e)var tr=Su(je),Fr=BT(ut,tr);if(g&&(ut=yA(ut,g,y,$e)),L&&(ut=bA(ut,L,W,$e)),ot-=Fr,$e&&ot<ge){var tn=Uo(ut,tr);return RA(s,a,jh,je.placeholder,f,ut,tn,K,ne,ge-ot)}var Mi=ye?f:this,Vs=xe?Mi[s]:s;return ot=ut.length,K?ut=HP(ut,K):We&&ot>1&&ut.reverse(),pe&&ne<ot&&(ut.length=ne),this&&this!==De&&this instanceof je&&(Vs=nt||Ff(Vs)),Vs.apply(Mi,ut)}return je}function CA(s,a){return function(f,g){return qO(f,s,a(g),{})}}function Vh(s,a){return function(f,g){var y;if(f===n&&g===n)return a;if(f!==n&&(y=f),g!==n){if(y===n)return g;typeof f=="string"||typeof g=="string"?(f=Dr(f),g=Dr(g)):(f=lA(f),g=lA(g)),y=s(f,g)}return y}}function am(s){return Hs(function(a){return a=$t(a,kr(Ge())),it(function(f){var g=this;return s(a,function(y){return En(y,g,f)})})})}function zh(s,a){a=a===n?" ":Dr(a);var f=a.length;if(f<2)return f?em(a,s):a;var g=em(a,Ph(s/mu(a)));return pu(a)?jo(Pi(g),0,s).join(""):g.slice(0,s)}function vP(s,a,f,g){var y=a&M,L=Ff(s);function W(){for(var K=-1,ne=arguments.length,ge=-1,pe=g.length,ye=ce(pe+ne),xe=this&&this!==De&&this instanceof W?L:s;++ge<pe;)ye[ge]=g[ge];for(;ne--;)ye[ge++]=arguments[++K];return En(xe,y?f:this,ye)}return W}function xA(s){return function(a,f,g){return g&&typeof g!="number"&&er(a,f,g)&&(f=g=n),a=js(a),f===n?(f=a,a=0):f=js(f),g=g===n?a<f?1:-1:js(g),aP(a,f,g,s)}}function Jh(s){return function(a,f){return typeof a=="string"&&typeof f=="string"||(a=ii(a),f=ii(f)),s(a,f)}}function RA(s,a,f,g,y,L,W,K,ne,ge){var pe=a&ee,ye=pe?W:n,xe=pe?n:W,$e=pe?L:n,We=pe?n:L;a|=pe?se:V,a&=~(pe?V:se),a&C||(a&=~(M|$));var nt=[s,a,y,$e,ye,We,xe,K,ne,ge],je=f.apply(n,nt);return pm(s)&&UA(je,nt),je.placeholder=g,FA(je,s,a)}function cm(s){var a=ln[s];return function(f,g){if(f=ii(f),g=g==null?0:Gn(et(g),292),g&&FE(f)){var y=(Ct(f)+"e").split("e"),L=a(y[0]+"e"+(+y[1]+g));return y=(Ct(L)+"e").split("e"),+(y[0]+"e"+(+y[1]-g))}return a(f)}}var _P=bu&&1/vh(new bu([,-0]))[1]==B?function(s){return new bu(s)}:Tm;function IA(s){return function(a){var f=Wn(a);return f==Q?$0(a):f==Dt?FT(a):PT(a,s(a))}}function Fs(s,a,f,g,y,L,W,K){var ne=a&$;if(!ne&&typeof s!="function")throw new Zr(c);var ge=g?g.length:0;if(ge||(a&=~(se|V),g=y=n),W=W===n?W:fn(et(W),0),K=K===n?K:et(K),ge-=y?y.length:0,a&V){var pe=g,ye=y;g=y=n}var xe=ne?n:fm(s),$e=[s,a,f,g,y,pe,ye,L,W,K];if(xe&&$P($e,xe),s=$e[0],a=$e[1],f=$e[2],g=$e[3],y=$e[4],K=$e[9]=$e[9]===n?ne?0:s.length:fn($e[9]-ge,0),!K&&a&(ee|ae)&&(a&=~(ee|ae)),!a||a==M)var We=EP(s,a,f);else a==ee||a==ae?We=AP(s,a,K):(a==se||a==(M|se))&&!y.length?We=vP(s,a,f,g):We=jh.apply(n,$e);var nt=xe?cA:UA;return FA(nt(We,$e),s,a)}function NA(s,a,f,g){return s===n||Li(s,yu[f])&&!Nt.call(g,f)?a:s}function TA(s,a,f,g,y,L){return Ft(s)&&Ft(a)&&(L.set(a,s),Fh(s,a,n,TA,L),L.delete(a)),s}function SP(s){return Wf(s)?n:s}function OA(s,a,f,g,y,L){var W=f&S,K=s.length,ne=a.length;if(K!=ne&&!(W&&ne>K))return!1;var ge=L.get(s),pe=L.get(a);if(ge&&pe)return ge==a&&pe==s;var ye=-1,xe=!0,$e=f&N?new ja:n;for(L.set(s,a),L.set(a,s);++ye<K;){var We=s[ye],nt=a[ye];if(g)var je=W?g(nt,We,ye,a,s,L):g(We,nt,ye,s,a,L);if(je!==n){if(je)continue;xe=!1;break}if($e){if(!P0(a,function(ot,ut){if(!Nf($e,ut)&&(We===ot||y(We,ot,f,g,L)))return $e.push(ut)})){xe=!1;break}}else if(!(We===nt||y(We,nt,f,g,L))){xe=!1;break}}return L.delete(s),L.delete(a),xe}function CP(s,a,f,g,y,L,W){switch(f){case ve:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case _e:return!(s.byteLength!=a.byteLength||!L(new Ih(s),new Ih(a)));case qe:case tt:case ue:return Li(+s,+a);case gt:return s.name==a.name&&s.message==a.message;case Ut:case yn:return s==a+"";case Q:var K=$0;case Dt:var ne=g&S;if(K||(K=vh),s.size!=a.size&&!ne)return!1;var ge=W.get(s);if(ge)return ge==a;g|=N,W.set(s,a);var pe=OA(K(s),K(a),g,y,L,W);return W.delete(s),pe;case Lt:if(Lf)return Lf.call(s)==Lf.call(a)}return!1}function xP(s,a,f,g,y,L){var W=f&S,K=um(s),ne=K.length,ge=um(a),pe=ge.length;if(ne!=pe&&!W)return!1;for(var ye=ne;ye--;){var xe=K[ye];if(!(W?xe in a:Nt.call(a,xe)))return!1}var $e=L.get(s),We=L.get(a);if($e&&We)return $e==a&&We==s;var nt=!0;L.set(s,a),L.set(a,s);for(var je=W;++ye<ne;){xe=K[ye];var ot=s[xe],ut=a[xe];if(g)var Ur=W?g(ut,ot,xe,a,s,L):g(ot,ut,xe,s,a,L);if(!(Ur===n?ot===ut||y(ot,ut,f,g,L):Ur)){nt=!1;break}je||(je=xe=="constructor")}if(nt&&!je){var tr=s.constructor,Fr=a.constructor;tr!=Fr&&"constructor"in s&&"constructor"in a&&!(typeof tr=="function"&&tr instanceof tr&&typeof Fr=="function"&&Fr instanceof Fr)&&(nt=!1)}return L.delete(s),L.delete(a),nt}function Hs(s){return wm(DA(s,n,zA),s+"")}function um(s){return YE(s,An,hm)}function lm(s){return YE(s,Ar,PA)}var fm=Lh?function(s){return Lh.get(s)}:Tm;function Kh(s){for(var a=s.name+"",f=Eu[a],g=Nt.call(Eu,a)?f.length:0;g--;){var y=f[g],L=y.func;if(L==null||L==s)return y.name}return a}function Su(s){var a=Nt.call(T,"placeholder")?T:s;return a.placeholder}function Ge(){var s=T.iteratee||Im;return s=s===Im?eA:s,arguments.length?s(arguments[0],arguments[1]):s}function qh(s,a){var f=s.__data__;return LP(a)?f[typeof a=="string"?"string":"hash"]:f.map}function dm(s){for(var a=An(s),f=a.length;f--;){var g=a[f],y=s[g];a[f]=[g,y,MA(y)]}return a}function Ja(s,a){var f=DT(s,a);return ZE(f)?f:n}function RP(s){var a=Nt.call(s,Ga),f=s[Ga];try{s[Ga]=n;var g=!0}catch{}var y=xh.call(s);return g&&(a?s[Ga]=f:delete s[Ga]),y}var hm=F0?function(s){return s==null?[]:(s=Pt(s),Do(F0(s),function(a){return $E.call(s,a)}))}:Om,PA=F0?function(s){for(var a=[];s;)$o(a,hm(s)),s=Nh(s);return a}:Om,Wn=Zn;(H0&&Wn(new H0(new ArrayBuffer(1)))!=ve||Of&&Wn(new Of)!=Q||G0&&Wn(G0.resolve())!=mt||bu&&Wn(new bu)!=Dt||Pf&&Wn(new Pf)!=U)&&(Wn=function(s){var a=Zn(s),f=a==Re?s.constructor:n,g=f?Ka(f):"";if(g)switch(g){case uO:return ve;case lO:return Q;case fO:return mt;case dO:return Dt;case hO:return U}return a});function IP(s,a,f){for(var g=-1,y=f.length;++g<y;){var L=f[g],W=L.size;switch(L.type){case"drop":s+=W;break;case"dropRight":a-=W;break;case"take":a=Gn(a,s+W);break;case"takeRight":s=fn(s,a-W);break}}return{start:s,end:a}}function NP(s){var a=s.match(Fn);return a?a[1].split(hf):[]}function BA(s,a,f){a=Wo(a,s);for(var g=-1,y=a.length,L=!1;++g<y;){var W=hs(a[g]);if(!(L=s!=null&&f(s,W)))break;s=s[W]}return L||++g!=y?L:(y=s==null?0:s.length,!!y&&ng(y)&&Gs(W,y)&&(Ye(s)||qa(s)))}function TP(s){var a=s.length,f=new s.constructor(a);return a&&typeof s[0]=="string"&&Nt.call(s,"index")&&(f.index=s.index,f.input=s.input),f}function LA(s){return typeof s.constructor=="function"&&!Hf(s)?Au(Nh(s)):{}}function OP(s,a,f){var g=s.constructor;switch(a){case _e:return om(s);case qe:case tt:return new g(+s);case ve:return gP(s,f);case Ne:case ft:case qt:case qr:case $n:case Ii:case Qr:case Nn:case wr:return mA(s,f);case Q:return new g;case ue:case yn:return new g(s);case Ut:return pP(s);case Dt:return new g;case Lt:return mP(s)}}function PP(s,a){var f=a.length;if(!f)return s;var g=f-1;return a[g]=(f>1?"& ":"")+a[g],a=a.join(f>2?", ":" "),s.replace(ka,`{
/* [wrapped with `+a+`] */
`)}function BP(s){return Ye(s)||qa(s)||!!(UE&&s&&s[UE])}function Gs(s,a){var f=typeof s;return a=a??k,!!a&&(f=="number"||f!="symbol"&&vf.test(s))&&s>-1&&s%1==0&&s<a}function er(s,a,f){if(!Ft(f))return!1;var g=typeof a;return(g=="number"?Er(f)&&Gs(a,f.length):g=="string"&&a in f)?Li(f[a],s):!1}function gm(s,a){if(Ye(s))return!1;var f=typeof s;return f=="number"||f=="symbol"||f=="boolean"||s==null||$r(s)?!0:ff.test(s)||!Ps.test(s)||a!=null&&s in Pt(a)}function LP(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function pm(s){var a=Kh(s),f=T[a];if(typeof f!="function"||!(a in ct.prototype))return!1;if(s===f)return!0;var g=fm(f);return!!g&&s===g[0]}function MP(s){return!!ME&&ME in s}var kP=Sh?Ws:Pm;function Hf(s){var a=s&&s.constructor,f=typeof a=="function"&&a.prototype||yu;return s===f}function MA(s){return s===s&&!Ft(s)}function kA(s,a){return function(f){return f==null?!1:f[s]===a&&(a!==n||s in Pt(f))}}function DP(s){var a=eg(s,function(g){return f.size===d&&f.clear(),g}),f=a.cache;return a}function $P(s,a){var f=s[1],g=a[1],y=f|g,L=y<(M|$|Y),W=g==Y&&f==ee||g==Y&&f==w&&s[7].length<=a[8]||g==(Y|w)&&a[7].length<=a[8]&&f==ee;if(!(L||W))return s;g&M&&(s[2]=a[2],y|=f&M?0:C);var K=a[3];if(K){var ne=s[3];s[3]=ne?yA(ne,K,a[4]):K,s[4]=ne?Uo(s[3],h):a[4]}return K=a[5],K&&(ne=s[5],s[5]=ne?bA(ne,K,a[6]):K,s[6]=ne?Uo(s[5],h):a[6]),K=a[7],K&&(s[7]=K),g&Y&&(s[8]=s[8]==null?a[8]:Gn(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=y,s}function UP(s){var a=[];if(s!=null)for(var f in Pt(s))a.push(f);return a}function FP(s){return xh.call(s)}function DA(s,a,f){return a=fn(a===n?s.length-1:a,0),function(){for(var g=arguments,y=-1,L=fn(g.length-a,0),W=ce(L);++y<L;)W[y]=g[a+y];y=-1;for(var K=ce(a+1);++y<a;)K[y]=g[y];return K[a]=f(W),En(s,this,K)}}function $A(s,a){return a.length<2?s:za(s,ni(a,0,-1))}function HP(s,a){for(var f=s.length,g=Gn(a.length,f),y=br(s);g--;){var L=a[g];s[g]=Gs(L,f)?y[L]:n}return s}function mm(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var UA=HA(cA),Gf=nO||function(s,a){return De.setTimeout(s,a)},wm=HA(lP);function FA(s,a,f){var g=a+"";return wm(s,PP(g,GP(NP(g),f)))}function HA(s){var a=0,f=0;return function(){var g=oO(),y=R-(g-f);if(f=g,y>0){if(++a>=P)return arguments[0]}else a=0;return s.apply(n,arguments)}}function Qh(s,a){var f=-1,g=s.length,y=g-1;for(a=a===n?g:a;++f<a;){var L=Z0(f,y),W=s[L];s[L]=s[f],s[f]=W}return s.length=a,s}var GA=DP(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(Br,function(f,g,y,L){a.push(y?L.replace(mf,"$1"):g||f)}),a});function hs(s){if(typeof s=="string"||$r(s))return s;var a=s+"";return a=="0"&&1/s==-B?"-0":a}function Ka(s){if(s!=null){try{return Ch.call(s)}catch{}try{return s+""}catch{}}return""}function GP(s,a){return Xr(Ce,function(f){var g="_."+f[0];a&f[1]&&!Eh(s,g)&&s.push(g)}),s.sort()}function WA(s){if(s instanceof ct)return s.clone();var a=new ei(s.__wrapped__,s.__chain__);return a.__actions__=br(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function WP(s,a,f){(f?er(s,a,f):a===n)?a=1:a=fn(et(a),0);var g=s==null?0:s.length;if(!g||a<1)return[];for(var y=0,L=0,W=ce(Ph(g/a));y<g;)W[L++]=ni(s,y,y+=a);return W}function jP(s){for(var a=-1,f=s==null?0:s.length,g=0,y=[];++a<f;){var L=s[a];L&&(y[g++]=L)}return y}function VP(){var s=arguments.length;if(!s)return[];for(var a=ce(s-1),f=arguments[0],g=s;g--;)a[g-1]=arguments[g];return $o(Ye(f)?br(f):[f],On(a,1))}var zP=it(function(s,a){return en(s)?kf(s,On(a,1,en,!0)):[]}),JP=it(function(s,a){var f=ri(a);return en(f)&&(f=n),en(s)?kf(s,On(a,1,en,!0),Ge(f,2)):[]}),KP=it(function(s,a){var f=ri(a);return en(f)&&(f=n),en(s)?kf(s,On(a,1,en,!0),n,f):[]});function qP(s,a,f){var g=s==null?0:s.length;return g?(a=f||a===n?1:et(a),ni(s,a<0?0:a,g)):[]}function QP(s,a,f){var g=s==null?0:s.length;return g?(a=f||a===n?1:et(a),a=g-a,ni(s,0,a<0?0:a)):[]}function YP(s,a){return s&&s.length?Gh(s,Ge(a,3),!0,!0):[]}function XP(s,a){return s&&s.length?Gh(s,Ge(a,3),!0):[]}function ZP(s,a,f,g){var y=s==null?0:s.length;return y?(f&&typeof f!="number"&&er(s,a,f)&&(f=0,g=y),VO(s,a,f,g)):[]}function jA(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var y=f==null?0:et(f);return y<0&&(y=fn(g+y,0)),Ah(s,Ge(a,3),y)}function VA(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var y=g-1;return f!==n&&(y=et(f),y=f<0?fn(g+y,0):Gn(y,g-1)),Ah(s,Ge(a,3),y,!0)}function zA(s){var a=s==null?0:s.length;return a?On(s,1):[]}function e2(s){var a=s==null?0:s.length;return a?On(s,B):[]}function t2(s,a){var f=s==null?0:s.length;return f?(a=a===n?1:et(a),On(s,a)):[]}function n2(s){for(var a=-1,f=s==null?0:s.length,g={};++a<f;){var y=s[a];g[y[0]]=y[1]}return g}function JA(s){return s&&s.length?s[0]:n}function r2(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var y=f==null?0:et(f);return y<0&&(y=fn(g+y,0)),gu(s,a,y)}function i2(s){var a=s==null?0:s.length;return a?ni(s,0,-1):[]}var s2=it(function(s){var a=$t(s,im);return a.length&&a[0]===s[0]?K0(a):[]}),o2=it(function(s){var a=ri(s),f=$t(s,im);return a===ri(f)?a=n:f.pop(),f.length&&f[0]===s[0]?K0(f,Ge(a,2)):[]}),a2=it(function(s){var a=ri(s),f=$t(s,im);return a=typeof a=="function"?a:n,a&&f.pop(),f.length&&f[0]===s[0]?K0(f,n,a):[]});function c2(s,a){return s==null?"":iO.call(s,a)}function ri(s){var a=s==null?0:s.length;return a?s[a-1]:n}function u2(s,a,f){var g=s==null?0:s.length;if(!g)return-1;var y=g;return f!==n&&(y=et(f),y=y<0?fn(g+y,0):Gn(y,g-1)),a===a?GT(s,a,y):Ah(s,RE,y,!0)}function l2(s,a){return s&&s.length?iA(s,et(a)):n}var f2=it(KA);function KA(s,a){return s&&s.length&&a&&a.length?X0(s,a):s}function d2(s,a,f){return s&&s.length&&a&&a.length?X0(s,a,Ge(f,2)):s}function h2(s,a,f){return s&&s.length&&a&&a.length?X0(s,a,n,f):s}var g2=Hs(function(s,a){var f=s==null?0:s.length,g=j0(s,a);return aA(s,$t(a,function(y){return Gs(y,f)?+y:y}).sort(wA)),g});function p2(s,a){var f=[];if(!(s&&s.length))return f;var g=-1,y=[],L=s.length;for(a=Ge(a,3);++g<L;){var W=s[g];a(W,g,s)&&(f.push(W),y.push(g))}return aA(s,y),f}function ym(s){return s==null?s:cO.call(s)}function m2(s,a,f){var g=s==null?0:s.length;return g?(f&&typeof f!="number"&&er(s,a,f)?(a=0,f=g):(a=a==null?0:et(a),f=f===n?g:et(f)),ni(s,a,f)):[]}function w2(s,a){return Hh(s,a)}function y2(s,a,f){return tm(s,a,Ge(f,2))}function b2(s,a){var f=s==null?0:s.length;if(f){var g=Hh(s,a);if(g<f&&Li(s[g],a))return g}return-1}function E2(s,a){return Hh(s,a,!0)}function A2(s,a,f){return tm(s,a,Ge(f,2),!0)}function v2(s,a){var f=s==null?0:s.length;if(f){var g=Hh(s,a,!0)-1;if(Li(s[g],a))return g}return-1}function _2(s){return s&&s.length?uA(s):[]}function S2(s,a){return s&&s.length?uA(s,Ge(a,2)):[]}function C2(s){var a=s==null?0:s.length;return a?ni(s,1,a):[]}function x2(s,a,f){return s&&s.length?(a=f||a===n?1:et(a),ni(s,0,a<0?0:a)):[]}function R2(s,a,f){var g=s==null?0:s.length;return g?(a=f||a===n?1:et(a),a=g-a,ni(s,a<0?0:a,g)):[]}function I2(s,a){return s&&s.length?Gh(s,Ge(a,3),!1,!0):[]}function N2(s,a){return s&&s.length?Gh(s,Ge(a,3)):[]}var T2=it(function(s){return Go(On(s,1,en,!0))}),O2=it(function(s){var a=ri(s);return en(a)&&(a=n),Go(On(s,1,en,!0),Ge(a,2))}),P2=it(function(s){var a=ri(s);return a=typeof a=="function"?a:n,Go(On(s,1,en,!0),n,a)});function B2(s){return s&&s.length?Go(s):[]}function L2(s,a){return s&&s.length?Go(s,Ge(a,2)):[]}function M2(s,a){return a=typeof a=="function"?a:n,s&&s.length?Go(s,n,a):[]}function bm(s){if(!(s&&s.length))return[];var a=0;return s=Do(s,function(f){if(en(f))return a=fn(f.length,a),!0}),k0(a,function(f){return $t(s,B0(f))})}function qA(s,a){if(!(s&&s.length))return[];var f=bm(s);return a==null?f:$t(f,function(g){return En(a,n,g)})}var k2=it(function(s,a){return en(s)?kf(s,a):[]}),D2=it(function(s){return rm(Do(s,en))}),$2=it(function(s){var a=ri(s);return en(a)&&(a=n),rm(Do(s,en),Ge(a,2))}),U2=it(function(s){var a=ri(s);return a=typeof a=="function"?a:n,rm(Do(s,en),n,a)}),F2=it(bm);function H2(s,a){return hA(s||[],a||[],Mf)}function G2(s,a){return hA(s||[],a||[],Uf)}var W2=it(function(s){var a=s.length,f=a>1?s[a-1]:n;return f=typeof f=="function"?(s.pop(),f):n,qA(s,f)});function QA(s){var a=T(s);return a.__chain__=!0,a}function j2(s,a){return a(s),s}function Yh(s,a){return a(s)}var V2=Hs(function(s){var a=s.length,f=a?s[0]:0,g=this.__wrapped__,y=function(L){return j0(L,s)};return a>1||this.__actions__.length||!(g instanceof ct)||!Gs(f)?this.thru(y):(g=g.slice(f,+f+(a?1:0)),g.__actions__.push({func:Yh,args:[y],thisArg:n}),new ei(g,this.__chain__).thru(function(L){return a&&!L.length&&L.push(n),L}))});function z2(){return QA(this)}function J2(){return new ei(this.value(),this.__chain__)}function K2(){this.__values__===n&&(this.__values__=lv(this.value()));var s=this.__index__>=this.__values__.length,a=s?n:this.__values__[this.__index__++];return{done:s,value:a}}function q2(){return this}function Q2(s){for(var a,f=this;f instanceof kh;){var g=WA(f);g.__index__=0,g.__values__=n,a?y.__wrapped__=g:a=g;var y=g;f=f.__wrapped__}return y.__wrapped__=s,a}function Y2(){var s=this.__wrapped__;if(s instanceof ct){var a=s;return this.__actions__.length&&(a=new ct(this)),a=a.reverse(),a.__actions__.push({func:Yh,args:[ym],thisArg:n}),new ei(a,this.__chain__)}return this.thru(ym)}function X2(){return dA(this.__wrapped__,this.__actions__)}var Z2=Wh(function(s,a,f){Nt.call(s,f)?++s[f]:Us(s,f,1)});function eB(s,a,f){var g=Ye(s)?CE:jO;return f&&er(s,a,f)&&(a=n),g(s,Ge(a,3))}function tB(s,a){var f=Ye(s)?Do:qE;return f(s,Ge(a,3))}var nB=_A(jA),rB=_A(VA);function iB(s,a){return On(Xh(s,a),1)}function sB(s,a){return On(Xh(s,a),B)}function oB(s,a,f){return f=f===n?1:et(f),On(Xh(s,a),f)}function YA(s,a){var f=Ye(s)?Xr:Ho;return f(s,Ge(a,3))}function XA(s,a){var f=Ye(s)?CT:KE;return f(s,Ge(a,3))}var aB=Wh(function(s,a,f){Nt.call(s,f)?s[f].push(a):Us(s,f,[a])});function cB(s,a,f,g){s=Er(s)?s:xu(s),f=f&&!g?et(f):0;var y=s.length;return f<0&&(f=fn(y+f,0)),rg(s)?f<=y&&s.indexOf(a,f)>-1:!!y&&gu(s,a,f)>-1}var uB=it(function(s,a,f){var g=-1,y=typeof a=="function",L=Er(s)?ce(s.length):[];return Ho(s,function(W){L[++g]=y?En(a,W,f):Df(W,a,f)}),L}),lB=Wh(function(s,a,f){Us(s,f,a)});function Xh(s,a){var f=Ye(s)?$t:tA;return f(s,Ge(a,3))}function fB(s,a,f,g){return s==null?[]:(Ye(a)||(a=a==null?[]:[a]),f=g?n:f,Ye(f)||(f=f==null?[]:[f]),sA(s,a,f))}var dB=Wh(function(s,a,f){s[f?0:1].push(a)},function(){return[[],[]]});function hB(s,a,f){var g=Ye(s)?O0:NE,y=arguments.length<3;return g(s,Ge(a,4),f,y,Ho)}function gB(s,a,f){var g=Ye(s)?xT:NE,y=arguments.length<3;return g(s,Ge(a,4),f,y,KE)}function pB(s,a){var f=Ye(s)?Do:qE;return f(s,tg(Ge(a,3)))}function mB(s){var a=Ye(s)?jE:cP;return a(s)}function wB(s,a,f){(f?er(s,a,f):a===n)?a=1:a=et(a);var g=Ye(s)?UO:uP;return g(s,a)}function yB(s){var a=Ye(s)?FO:fP;return a(s)}function bB(s){if(s==null)return 0;if(Er(s))return rg(s)?mu(s):s.length;var a=Wn(s);return a==Q||a==Dt?s.size:Q0(s).length}function EB(s,a,f){var g=Ye(s)?P0:dP;return f&&er(s,a,f)&&(a=n),g(s,Ge(a,3))}var AB=it(function(s,a){if(s==null)return[];var f=a.length;return f>1&&er(s,a[0],a[1])?a=[]:f>2&&er(a[0],a[1],a[2])&&(a=[a[0]]),sA(s,On(a,1),[])}),Zh=tO||function(){return De.Date.now()};function vB(s,a){if(typeof a!="function")throw new Zr(c);return s=et(s),function(){if(--s<1)return a.apply(this,arguments)}}function ZA(s,a,f){return a=f?n:a,a=s&&a==null?s.length:a,Fs(s,Y,n,n,n,n,a)}function ev(s,a){var f;if(typeof a!="function")throw new Zr(c);return s=et(s),function(){return--s>0&&(f=a.apply(this,arguments)),s<=1&&(a=n),f}}var Em=it(function(s,a,f){var g=M;if(f.length){var y=Uo(f,Su(Em));g|=se}return Fs(s,g,a,f,y)}),tv=it(function(s,a,f){var g=M|$;if(f.length){var y=Uo(f,Su(tv));g|=se}return Fs(a,g,s,f,y)});function nv(s,a,f){a=f?n:a;var g=Fs(s,ee,n,n,n,n,n,a);return g.placeholder=nv.placeholder,g}function rv(s,a,f){a=f?n:a;var g=Fs(s,ae,n,n,n,n,n,a);return g.placeholder=rv.placeholder,g}function iv(s,a,f){var g,y,L,W,K,ne,ge=0,pe=!1,ye=!1,xe=!0;if(typeof s!="function")throw new Zr(c);a=ii(a)||0,Ft(f)&&(pe=!!f.leading,ye="maxWait"in f,L=ye?fn(ii(f.maxWait)||0,a):L,xe="trailing"in f?!!f.trailing:xe);function $e(tn){var Mi=g,Vs=y;return g=y=n,ge=tn,W=s.apply(Vs,Mi),W}function We(tn){return ge=tn,K=Gf(ot,a),pe?$e(tn):W}function nt(tn){var Mi=tn-ne,Vs=tn-ge,_v=a-Mi;return ye?Gn(_v,L-Vs):_v}function je(tn){var Mi=tn-ne,Vs=tn-ge;return ne===n||Mi>=a||Mi<0||ye&&Vs>=L}function ot(){var tn=Zh();if(je(tn))return ut(tn);K=Gf(ot,nt(tn))}function ut(tn){return K=n,xe&&g?$e(tn):(g=y=n,W)}function Ur(){K!==n&&gA(K),ge=0,g=ne=y=K=n}function tr(){return K===n?W:ut(Zh())}function Fr(){var tn=Zh(),Mi=je(tn);if(g=arguments,y=this,ne=tn,Mi){if(K===n)return We(ne);if(ye)return gA(K),K=Gf(ot,a),$e(ne)}return K===n&&(K=Gf(ot,a)),W}return Fr.cancel=Ur,Fr.flush=tr,Fr}var _B=it(function(s,a){return JE(s,1,a)}),SB=it(function(s,a,f){return JE(s,ii(a)||0,f)});function CB(s){return Fs(s,x)}function eg(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new Zr(c);var f=function(){var g=arguments,y=a?a.apply(this,g):g[0],L=f.cache;if(L.has(y))return L.get(y);var W=s.apply(this,g);return f.cache=L.set(y,W)||L,W};return f.cache=new(eg.Cache||$s),f}eg.Cache=$s;function tg(s){if(typeof s!="function")throw new Zr(c);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function xB(s){return ev(2,s)}var RB=hP(function(s,a){a=a.length==1&&Ye(a[0])?$t(a[0],kr(Ge())):$t(On(a,1),kr(Ge()));var f=a.length;return it(function(g){for(var y=-1,L=Gn(g.length,f);++y<L;)g[y]=a[y].call(this,g[y]);return En(s,this,g)})}),Am=it(function(s,a){var f=Uo(a,Su(Am));return Fs(s,se,n,a,f)}),sv=it(function(s,a){var f=Uo(a,Su(sv));return Fs(s,V,n,a,f)}),IB=Hs(function(s,a){return Fs(s,w,n,n,n,a)});function NB(s,a){if(typeof s!="function")throw new Zr(c);return a=a===n?a:et(a),it(s,a)}function TB(s,a){if(typeof s!="function")throw new Zr(c);return a=a==null?0:fn(et(a),0),it(function(f){var g=f[a],y=jo(f,0,a);return g&&$o(y,g),En(s,this,y)})}function OB(s,a,f){var g=!0,y=!0;if(typeof s!="function")throw new Zr(c);return Ft(f)&&(g="leading"in f?!!f.leading:g,y="trailing"in f?!!f.trailing:y),iv(s,a,{leading:g,maxWait:a,trailing:y})}function PB(s){return ZA(s,1)}function BB(s,a){return Am(sm(a),s)}function LB(){if(!arguments.length)return[];var s=arguments[0];return Ye(s)?s:[s]}function MB(s){return ti(s,b)}function kB(s,a){return a=typeof a=="function"?a:n,ti(s,b,a)}function DB(s){return ti(s,p|b)}function $B(s,a){return a=typeof a=="function"?a:n,ti(s,p|b,a)}function UB(s,a){return a==null||zE(s,a,An(a))}function Li(s,a){return s===a||s!==s&&a!==a}var FB=Jh(J0),HB=Jh(function(s,a){return s>=a}),qa=XE(function(){return arguments}())?XE:function(s){return Qt(s)&&Nt.call(s,"callee")&&!$E.call(s,"callee")},Ye=ce.isArray,GB=un?kr(un):QO;function Er(s){return s!=null&&ng(s.length)&&!Ws(s)}function en(s){return Qt(s)&&Er(s)}function WB(s){return s===!0||s===!1||Qt(s)&&Zn(s)==qe}var Vo=rO||Pm,jB=Yn?kr(Yn):YO;function VB(s){return Qt(s)&&s.nodeType===1&&!Wf(s)}function zB(s){if(s==null)return!0;if(Er(s)&&(Ye(s)||typeof s=="string"||typeof s.splice=="function"||Vo(s)||Cu(s)||qa(s)))return!s.length;var a=Wn(s);if(a==Q||a==Dt)return!s.size;if(Hf(s))return!Q0(s).length;for(var f in s)if(Nt.call(s,f))return!1;return!0}function JB(s,a){return $f(s,a)}function KB(s,a,f){f=typeof f=="function"?f:n;var g=f?f(s,a):n;return g===n?$f(s,a,n,f):!!g}function vm(s){if(!Qt(s))return!1;var a=Zn(s);return a==gt||a==vt||typeof s.message=="string"&&typeof s.name=="string"&&!Wf(s)}function qB(s){return typeof s=="number"&&FE(s)}function Ws(s){if(!Ft(s))return!1;var a=Zn(s);return a==st||a==q||a==He||a==_t}function ov(s){return typeof s=="number"&&s==et(s)}function ng(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=k}function Ft(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function Qt(s){return s!=null&&typeof s=="object"}var av=Xn?kr(Xn):ZO;function QB(s,a){return s===a||q0(s,a,dm(a))}function YB(s,a,f){return f=typeof f=="function"?f:n,q0(s,a,dm(a),f)}function XB(s){return cv(s)&&s!=+s}function ZB(s){if(kP(s))throw new Qe(o);return ZE(s)}function eL(s){return s===null}function tL(s){return s==null}function cv(s){return typeof s=="number"||Qt(s)&&Zn(s)==ue}function Wf(s){if(!Qt(s)||Zn(s)!=Re)return!1;var a=Nh(s);if(a===null)return!0;var f=Nt.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&Ch.call(f)==YT}var _m=ls?kr(ls):eP;function nL(s){return ov(s)&&s>=-k&&s<=k}var uv=If?kr(If):tP;function rg(s){return typeof s=="string"||!Ye(s)&&Qt(s)&&Zn(s)==yn}function $r(s){return typeof s=="symbol"||Qt(s)&&Zn(s)==Lt}var Cu=Ha?kr(Ha):nP;function rL(s){return s===n}function iL(s){return Qt(s)&&Wn(s)==U}function sL(s){return Qt(s)&&Zn(s)==G}var oL=Jh(Y0),aL=Jh(function(s,a){return s<=a});function lv(s){if(!s)return[];if(Er(s))return rg(s)?Pi(s):br(s);if(Tf&&s[Tf])return UT(s[Tf]());var a=Wn(s),f=a==Q?$0:a==Dt?vh:xu;return f(s)}function js(s){if(!s)return s===0?s:0;if(s=ii(s),s===B||s===-B){var a=s<0?-1:1;return a*j}return s===s?s:0}function et(s){var a=js(s),f=a%1;return a===a?f?a-f:a:0}function fv(s){return s?Va(et(s),0,te):0}function ii(s){if(typeof s=="number")return s;if($r(s))return z;if(Ft(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=Ft(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=TE(s);var f=bf.test(s);return f||Af.test(s)?me(s.slice(2),f?2:8):yf.test(s)?z:+s}function dv(s){return ds(s,Ar(s))}function cL(s){return s?Va(et(s),-k,k):s===0?s:0}function Ct(s){return s==null?"":Dr(s)}var uL=vu(function(s,a){if(Hf(a)||Er(a)){ds(a,An(a),s);return}for(var f in a)Nt.call(a,f)&&Mf(s,f,a[f])}),hv=vu(function(s,a){ds(a,Ar(a),s)}),ig=vu(function(s,a,f,g){ds(a,Ar(a),s,g)}),lL=vu(function(s,a,f,g){ds(a,An(a),s,g)}),fL=Hs(j0);function dL(s,a){var f=Au(s);return a==null?f:VE(f,a)}var hL=it(function(s,a){s=Pt(s);var f=-1,g=a.length,y=g>2?a[2]:n;for(y&&er(a[0],a[1],y)&&(g=1);++f<g;)for(var L=a[f],W=Ar(L),K=-1,ne=W.length;++K<ne;){var ge=W[K],pe=s[ge];(pe===n||Li(pe,yu[ge])&&!Nt.call(s,ge))&&(s[ge]=L[ge])}return s}),gL=it(function(s){return s.push(n,TA),En(gv,n,s)});function pL(s,a){return xE(s,Ge(a,3),fs)}function mL(s,a){return xE(s,Ge(a,3),z0)}function wL(s,a){return s==null?s:V0(s,Ge(a,3),Ar)}function yL(s,a){return s==null?s:QE(s,Ge(a,3),Ar)}function bL(s,a){return s&&fs(s,Ge(a,3))}function EL(s,a){return s&&z0(s,Ge(a,3))}function AL(s){return s==null?[]:Uh(s,An(s))}function vL(s){return s==null?[]:Uh(s,Ar(s))}function Sm(s,a,f){var g=s==null?n:za(s,a);return g===n?f:g}function _L(s,a){return s!=null&&BA(s,a,zO)}function Cm(s,a){return s!=null&&BA(s,a,JO)}var SL=CA(function(s,a,f){a!=null&&typeof a.toString!="function"&&(a=xh.call(a)),s[a]=f},Rm(vr)),CL=CA(function(s,a,f){a!=null&&typeof a.toString!="function"&&(a=xh.call(a)),Nt.call(s,a)?s[a].push(f):s[a]=[f]},Ge),xL=it(Df);function An(s){return Er(s)?WE(s):Q0(s)}function Ar(s){return Er(s)?WE(s,!0):rP(s)}function RL(s,a){var f={};return a=Ge(a,3),fs(s,function(g,y,L){Us(f,a(g,y,L),g)}),f}function IL(s,a){var f={};return a=Ge(a,3),fs(s,function(g,y,L){Us(f,y,a(g,y,L))}),f}var NL=vu(function(s,a,f){Fh(s,a,f)}),gv=vu(function(s,a,f,g){Fh(s,a,f,g)}),TL=Hs(function(s,a){var f={};if(s==null)return f;var g=!1;a=$t(a,function(L){return L=Wo(L,s),g||(g=L.length>1),L}),ds(s,lm(s),f),g&&(f=ti(f,p|A|b,SP));for(var y=a.length;y--;)nm(f,a[y]);return f});function OL(s,a){return pv(s,tg(Ge(a)))}var PL=Hs(function(s,a){return s==null?{}:sP(s,a)});function pv(s,a){if(s==null)return{};var f=$t(lm(s),function(g){return[g]});return a=Ge(a),oA(s,f,function(g,y){return a(g,y[0])})}function BL(s,a,f){a=Wo(a,s);var g=-1,y=a.length;for(y||(y=1,s=n);++g<y;){var L=s==null?n:s[hs(a[g])];L===n&&(g=y,L=f),s=Ws(L)?L.call(s):L}return s}function LL(s,a,f){return s==null?s:Uf(s,a,f)}function ML(s,a,f,g){return g=typeof g=="function"?g:n,s==null?s:Uf(s,a,f,g)}var mv=IA(An),wv=IA(Ar);function kL(s,a,f){var g=Ye(s),y=g||Vo(s)||Cu(s);if(a=Ge(a,4),f==null){var L=s&&s.constructor;y?f=g?new L:[]:Ft(s)?f=Ws(L)?Au(Nh(s)):{}:f={}}return(y?Xr:fs)(s,function(W,K,ne){return a(f,W,K,ne)}),f}function DL(s,a){return s==null?!0:nm(s,a)}function $L(s,a,f){return s==null?s:fA(s,a,sm(f))}function UL(s,a,f,g){return g=typeof g=="function"?g:n,s==null?s:fA(s,a,sm(f),g)}function xu(s){return s==null?[]:D0(s,An(s))}function FL(s){return s==null?[]:D0(s,Ar(s))}function HL(s,a,f){return f===n&&(f=a,a=n),f!==n&&(f=ii(f),f=f===f?f:0),a!==n&&(a=ii(a),a=a===a?a:0),Va(ii(s),a,f)}function GL(s,a,f){return a=js(a),f===n?(f=a,a=0):f=js(f),s=ii(s),KO(s,a,f)}function WL(s,a,f){if(f&&typeof f!="boolean"&&er(s,a,f)&&(a=f=n),f===n&&(typeof a=="boolean"?(f=a,a=n):typeof s=="boolean"&&(f=s,s=n)),s===n&&a===n?(s=0,a=1):(s=js(s),a===n?(a=s,s=0):a=js(a)),s>a){var g=s;s=a,a=g}if(f||s%1||a%1){var y=HE();return Gn(s+y*(a-s+re("1e-"+((y+"").length-1))),a)}return Z0(s,a)}var jL=_u(function(s,a,f){return a=a.toLowerCase(),s+(f?yv(a):a)});function yv(s){return xm(Ct(s).toLowerCase())}function bv(s){return s=Ct(s),s&&s.replace(Ni,LT).replace(lu,"")}function VL(s,a,f){s=Ct(s),a=Dr(a);var g=s.length;f=f===n?g:Va(et(f),0,g);var y=f;return f-=a.length,f>=0&&s.slice(f,y)==a}function zL(s){return s=Ct(s),s&&Qn.test(s)?s.replace(bn,MT):s}function JL(s){return s=Ct(s),s&&df.test(s)?s.replace(La,"\\$&"):s}var KL=_u(function(s,a,f){return s+(f?"-":"")+a.toLowerCase()}),qL=_u(function(s,a,f){return s+(f?" ":"")+a.toLowerCase()}),QL=vA("toLowerCase");function YL(s,a,f){s=Ct(s),a=et(a);var g=a?mu(s):0;if(!a||g>=a)return s;var y=(a-g)/2;return zh(Bh(y),f)+s+zh(Ph(y),f)}function XL(s,a,f){s=Ct(s),a=et(a);var g=a?mu(s):0;return a&&g<a?s+zh(a-g,f):s}function ZL(s,a,f){s=Ct(s),a=et(a);var g=a?mu(s):0;return a&&g<a?zh(a-g,f)+s:s}function eM(s,a,f){return f||a==null?a=0:a&&(a=+a),aO(Ct(s).replace(Ma,""),a||0)}function tM(s,a,f){return(f?er(s,a,f):a===n)?a=1:a=et(a),em(Ct(s),a)}function nM(){var s=arguments,a=Ct(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var rM=_u(function(s,a,f){return s+(f?"_":"")+a.toLowerCase()});function iM(s,a,f){return f&&typeof f!="number"&&er(s,a,f)&&(a=f=n),f=f===n?te:f>>>0,f?(s=Ct(s),s&&(typeof a=="string"||a!=null&&!_m(a))&&(a=Dr(a),!a&&pu(s))?jo(Pi(s),0,f):s.split(a,f)):[]}var sM=_u(function(s,a,f){return s+(f?" ":"")+xm(a)});function oM(s,a,f){return s=Ct(s),f=f==null?0:Va(et(f),0,s.length),a=Dr(a),s.slice(f,f+a.length)==a}function aM(s,a,f){var g=T.templateSettings;f&&er(s,a,f)&&(a=n),s=Ct(s),a=ig({},a,g,NA);var y=ig({},a.imports,g.imports,NA),L=An(y),W=D0(y,L),K,ne,ge=0,pe=a.interpolate||os,ye="__p += '",xe=U0((a.escape||os).source+"|"+pe.source+"|"+(pe===Ro?wf:os).source+"|"+(a.evaluate||os).source+"|$","g"),$e="//# sourceURL="+(Nt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hu+"]")+`
`;s.replace(xe,function(je,ot,ut,Ur,tr,Fr){return ut||(ut=Ur),ye+=s.slice(ge,Fr).replace(_f,kT),ot&&(K=!0,ye+=`' +
__e(`+ot+`) +
'`),tr&&(ne=!0,ye+=`';
`+tr+`;
__p += '`),ut&&(ye+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),ge=Fr+je.length,je}),ye+=`';
`;var We=Nt.call(a,"variable")&&a.variable;if(!We)ye=`with (obj) {
`+ye+`
}
`;else if(pf.test(We))throw new Qe(u);ye=(ne?ye.replace(Os,""):ye).replace(Un,"$1").replace(ss,"$1;"),ye="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(ne?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var nt=Av(function(){return Et(L,$e+"return "+ye).apply(n,W)});if(nt.source=ye,vm(nt))throw nt;return nt}function cM(s){return Ct(s).toLowerCase()}function uM(s){return Ct(s).toUpperCase()}function lM(s,a,f){if(s=Ct(s),s&&(f||a===n))return TE(s);if(!s||!(a=Dr(a)))return s;var g=Pi(s),y=Pi(a),L=OE(g,y),W=PE(g,y)+1;return jo(g,L,W).join("")}function fM(s,a,f){if(s=Ct(s),s&&(f||a===n))return s.slice(0,LE(s)+1);if(!s||!(a=Dr(a)))return s;var g=Pi(s),y=PE(g,Pi(a))+1;return jo(g,0,y).join("")}function dM(s,a,f){if(s=Ct(s),s&&(f||a===n))return s.replace(Ma,"");if(!s||!(a=Dr(a)))return s;var g=Pi(s),y=OE(g,Pi(a));return jo(g,y).join("")}function hM(s,a){var f=v,g=I;if(Ft(a)){var y="separator"in a?a.separator:y;f="length"in a?et(a.length):f,g="omission"in a?Dr(a.omission):g}s=Ct(s);var L=s.length;if(pu(s)){var W=Pi(s);L=W.length}if(f>=L)return s;var K=f-mu(g);if(K<1)return g;var ne=W?jo(W,0,K).join(""):s.slice(0,K);if(y===n)return ne+g;if(W&&(K+=ne.length-K),_m(y)){if(s.slice(K).search(y)){var ge,pe=ne;for(y.global||(y=U0(y.source,Ct(cn.exec(y))+"g")),y.lastIndex=0;ge=y.exec(pe);)var ye=ge.index;ne=ne.slice(0,ye===n?K:ye)}}else if(s.indexOf(Dr(y),K)!=K){var xe=ne.lastIndexOf(y);xe>-1&&(ne=ne.slice(0,xe))}return ne+g}function gM(s){return s=Ct(s),s&&Tn.test(s)?s.replace(Pr,WT):s}var pM=_u(function(s,a,f){return s+(f?" ":"")+a.toUpperCase()}),xm=vA("toUpperCase");function Ev(s,a,f){return s=Ct(s),a=f?n:a,a===n?$T(s)?zT(s):NT(s):s.match(a)||[]}var Av=it(function(s,a){try{return En(s,n,a)}catch(f){return vm(f)?f:new Qe(f)}}),mM=Hs(function(s,a){return Xr(a,function(f){f=hs(f),Us(s,f,Em(s[f],s))}),s});function wM(s){var a=s==null?0:s.length,f=Ge();return s=a?$t(s,function(g){if(typeof g[1]!="function")throw new Zr(c);return[f(g[0]),g[1]]}):[],it(function(g){for(var y=-1;++y<a;){var L=s[y];if(En(L[0],this,g))return En(L[1],this,g)}})}function yM(s){return WO(ti(s,p))}function Rm(s){return function(){return s}}function bM(s,a){return s==null||s!==s?a:s}var EM=SA(),AM=SA(!0);function vr(s){return s}function Im(s){return eA(typeof s=="function"?s:ti(s,p))}function vM(s){return nA(ti(s,p))}function _M(s,a){return rA(s,ti(a,p))}var SM=it(function(s,a){return function(f){return Df(f,s,a)}}),CM=it(function(s,a){return function(f){return Df(s,f,a)}});function Nm(s,a,f){var g=An(a),y=Uh(a,g);f==null&&!(Ft(a)&&(y.length||!g.length))&&(f=a,a=s,s=this,y=Uh(a,An(a)));var L=!(Ft(f)&&"chain"in f)||!!f.chain,W=Ws(s);return Xr(y,function(K){var ne=a[K];s[K]=ne,W&&(s.prototype[K]=function(){var ge=this.__chain__;if(L||ge){var pe=s(this.__wrapped__),ye=pe.__actions__=br(this.__actions__);return ye.push({func:ne,args:arguments,thisArg:s}),pe.__chain__=ge,pe}return ne.apply(s,$o([this.value()],arguments))})}),s}function xM(){return De._===this&&(De._=XT),this}function Tm(){}function RM(s){return s=et(s),it(function(a){return iA(a,s)})}var IM=am($t),NM=am(CE),TM=am(P0);function vv(s){return gm(s)?B0(hs(s)):oP(s)}function OM(s){return function(a){return s==null?n:za(s,a)}}var PM=xA(),BM=xA(!0);function Om(){return[]}function Pm(){return!1}function LM(){return{}}function MM(){return""}function kM(){return!0}function DM(s,a){if(s=et(s),s<1||s>k)return[];var f=te,g=Gn(s,te);a=Ge(a),s-=te;for(var y=k0(g,a);++f<s;)a(f);return y}function $M(s){return Ye(s)?$t(s,hs):$r(s)?[s]:br(GA(Ct(s)))}function UM(s){var a=++QT;return Ct(s)+a}var FM=Vh(function(s,a){return s+a},0),HM=cm("ceil"),GM=Vh(function(s,a){return s/a},1),WM=cm("floor");function jM(s){return s&&s.length?$h(s,vr,J0):n}function VM(s,a){return s&&s.length?$h(s,Ge(a,2),J0):n}function zM(s){return IE(s,vr)}function JM(s,a){return IE(s,Ge(a,2))}function KM(s){return s&&s.length?$h(s,vr,Y0):n}function qM(s,a){return s&&s.length?$h(s,Ge(a,2),Y0):n}var QM=Vh(function(s,a){return s*a},1),YM=cm("round"),XM=Vh(function(s,a){return s-a},0);function ZM(s){return s&&s.length?M0(s,vr):0}function ek(s,a){return s&&s.length?M0(s,Ge(a,2)):0}return T.after=vB,T.ary=ZA,T.assign=uL,T.assignIn=hv,T.assignInWith=ig,T.assignWith=lL,T.at=fL,T.before=ev,T.bind=Em,T.bindAll=mM,T.bindKey=tv,T.castArray=LB,T.chain=QA,T.chunk=WP,T.compact=jP,T.concat=VP,T.cond=wM,T.conforms=yM,T.constant=Rm,T.countBy=Z2,T.create=dL,T.curry=nv,T.curryRight=rv,T.debounce=iv,T.defaults=hL,T.defaultsDeep=gL,T.defer=_B,T.delay=SB,T.difference=zP,T.differenceBy=JP,T.differenceWith=KP,T.drop=qP,T.dropRight=QP,T.dropRightWhile=YP,T.dropWhile=XP,T.fill=ZP,T.filter=tB,T.flatMap=iB,T.flatMapDeep=sB,T.flatMapDepth=oB,T.flatten=zA,T.flattenDeep=e2,T.flattenDepth=t2,T.flip=CB,T.flow=EM,T.flowRight=AM,T.fromPairs=n2,T.functions=AL,T.functionsIn=vL,T.groupBy=aB,T.initial=i2,T.intersection=s2,T.intersectionBy=o2,T.intersectionWith=a2,T.invert=SL,T.invertBy=CL,T.invokeMap=uB,T.iteratee=Im,T.keyBy=lB,T.keys=An,T.keysIn=Ar,T.map=Xh,T.mapKeys=RL,T.mapValues=IL,T.matches=vM,T.matchesProperty=_M,T.memoize=eg,T.merge=NL,T.mergeWith=gv,T.method=SM,T.methodOf=CM,T.mixin=Nm,T.negate=tg,T.nthArg=RM,T.omit=TL,T.omitBy=OL,T.once=xB,T.orderBy=fB,T.over=IM,T.overArgs=RB,T.overEvery=NM,T.overSome=TM,T.partial=Am,T.partialRight=sv,T.partition=dB,T.pick=PL,T.pickBy=pv,T.property=vv,T.propertyOf=OM,T.pull=f2,T.pullAll=KA,T.pullAllBy=d2,T.pullAllWith=h2,T.pullAt=g2,T.range=PM,T.rangeRight=BM,T.rearg=IB,T.reject=pB,T.remove=p2,T.rest=NB,T.reverse=ym,T.sampleSize=wB,T.set=LL,T.setWith=ML,T.shuffle=yB,T.slice=m2,T.sortBy=AB,T.sortedUniq=_2,T.sortedUniqBy=S2,T.split=iM,T.spread=TB,T.tail=C2,T.take=x2,T.takeRight=R2,T.takeRightWhile=I2,T.takeWhile=N2,T.tap=j2,T.throttle=OB,T.thru=Yh,T.toArray=lv,T.toPairs=mv,T.toPairsIn=wv,T.toPath=$M,T.toPlainObject=dv,T.transform=kL,T.unary=PB,T.union=T2,T.unionBy=O2,T.unionWith=P2,T.uniq=B2,T.uniqBy=L2,T.uniqWith=M2,T.unset=DL,T.unzip=bm,T.unzipWith=qA,T.update=$L,T.updateWith=UL,T.values=xu,T.valuesIn=FL,T.without=k2,T.words=Ev,T.wrap=BB,T.xor=D2,T.xorBy=$2,T.xorWith=U2,T.zip=F2,T.zipObject=H2,T.zipObjectDeep=G2,T.zipWith=W2,T.entries=mv,T.entriesIn=wv,T.extend=hv,T.extendWith=ig,Nm(T,T),T.add=FM,T.attempt=Av,T.camelCase=jL,T.capitalize=yv,T.ceil=HM,T.clamp=HL,T.clone=MB,T.cloneDeep=DB,T.cloneDeepWith=$B,T.cloneWith=kB,T.conformsTo=UB,T.deburr=bv,T.defaultTo=bM,T.divide=GM,T.endsWith=VL,T.eq=Li,T.escape=zL,T.escapeRegExp=JL,T.every=eB,T.find=nB,T.findIndex=jA,T.findKey=pL,T.findLast=rB,T.findLastIndex=VA,T.findLastKey=mL,T.floor=WM,T.forEach=YA,T.forEachRight=XA,T.forIn=wL,T.forInRight=yL,T.forOwn=bL,T.forOwnRight=EL,T.get=Sm,T.gt=FB,T.gte=HB,T.has=_L,T.hasIn=Cm,T.head=JA,T.identity=vr,T.includes=cB,T.indexOf=r2,T.inRange=GL,T.invoke=xL,T.isArguments=qa,T.isArray=Ye,T.isArrayBuffer=GB,T.isArrayLike=Er,T.isArrayLikeObject=en,T.isBoolean=WB,T.isBuffer=Vo,T.isDate=jB,T.isElement=VB,T.isEmpty=zB,T.isEqual=JB,T.isEqualWith=KB,T.isError=vm,T.isFinite=qB,T.isFunction=Ws,T.isInteger=ov,T.isLength=ng,T.isMap=av,T.isMatch=QB,T.isMatchWith=YB,T.isNaN=XB,T.isNative=ZB,T.isNil=tL,T.isNull=eL,T.isNumber=cv,T.isObject=Ft,T.isObjectLike=Qt,T.isPlainObject=Wf,T.isRegExp=_m,T.isSafeInteger=nL,T.isSet=uv,T.isString=rg,T.isSymbol=$r,T.isTypedArray=Cu,T.isUndefined=rL,T.isWeakMap=iL,T.isWeakSet=sL,T.join=c2,T.kebabCase=KL,T.last=ri,T.lastIndexOf=u2,T.lowerCase=qL,T.lowerFirst=QL,T.lt=oL,T.lte=aL,T.max=jM,T.maxBy=VM,T.mean=zM,T.meanBy=JM,T.min=KM,T.minBy=qM,T.stubArray=Om,T.stubFalse=Pm,T.stubObject=LM,T.stubString=MM,T.stubTrue=kM,T.multiply=QM,T.nth=l2,T.noConflict=xM,T.noop=Tm,T.now=Zh,T.pad=YL,T.padEnd=XL,T.padStart=ZL,T.parseInt=eM,T.random=WL,T.reduce=hB,T.reduceRight=gB,T.repeat=tM,T.replace=nM,T.result=BL,T.round=YM,T.runInContext=Z,T.sample=mB,T.size=bB,T.snakeCase=rM,T.some=EB,T.sortedIndex=w2,T.sortedIndexBy=y2,T.sortedIndexOf=b2,T.sortedLastIndex=E2,T.sortedLastIndexBy=A2,T.sortedLastIndexOf=v2,T.startCase=sM,T.startsWith=oM,T.subtract=XM,T.sum=ZM,T.sumBy=ek,T.template=aM,T.times=DM,T.toFinite=js,T.toInteger=et,T.toLength=fv,T.toLower=cM,T.toNumber=ii,T.toSafeInteger=cL,T.toString=Ct,T.toUpper=uM,T.trim=lM,T.trimEnd=fM,T.trimStart=dM,T.truncate=hM,T.unescape=gM,T.uniqueId=UM,T.upperCase=pM,T.upperFirst=xm,T.each=YA,T.eachRight=XA,T.first=JA,Nm(T,function(){var s={};return fs(T,function(a,f){Nt.call(T.prototype,f)||(s[f]=a)}),s}(),{chain:!1}),T.VERSION=r,Xr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){T[s].placeholder=T}),Xr(["drop","take"],function(s,a){ct.prototype[s]=function(f){f=f===n?1:fn(et(f),0);var g=this.__filtered__&&!a?new ct(this):this.clone();return g.__filtered__?g.__takeCount__=Gn(f,g.__takeCount__):g.__views__.push({size:Gn(f,te),type:s+(g.__dir__<0?"Right":"")}),g},ct.prototype[s+"Right"]=function(f){return this.reverse()[s](f).reverse()}}),Xr(["filter","map","takeWhile"],function(s,a){var f=a+1,g=f==D||f==E;ct.prototype[s]=function(y){var L=this.clone();return L.__iteratees__.push({iteratee:Ge(y,3),type:f}),L.__filtered__=L.__filtered__||g,L}}),Xr(["head","last"],function(s,a){var f="take"+(a?"Right":"");ct.prototype[s]=function(){return this[f](1).value()[0]}}),Xr(["initial","tail"],function(s,a){var f="drop"+(a?"":"Right");ct.prototype[s]=function(){return this.__filtered__?new ct(this):this[f](1)}}),ct.prototype.compact=function(){return this.filter(vr)},ct.prototype.find=function(s){return this.filter(s).head()},ct.prototype.findLast=function(s){return this.reverse().find(s)},ct.prototype.invokeMap=it(function(s,a){return typeof s=="function"?new ct(this):this.map(function(f){return Df(f,s,a)})}),ct.prototype.reject=function(s){return this.filter(tg(Ge(s)))},ct.prototype.slice=function(s,a){s=et(s);var f=this;return f.__filtered__&&(s>0||a<0)?new ct(f):(s<0?f=f.takeRight(-s):s&&(f=f.drop(s)),a!==n&&(a=et(a),f=a<0?f.dropRight(-a):f.take(a-s)),f)},ct.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},ct.prototype.toArray=function(){return this.take(te)},fs(ct.prototype,function(s,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),g=/^(?:head|last)$/.test(a),y=T[g?"take"+(a=="last"?"Right":""):a],L=g||/^find/.test(a);y&&(T.prototype[a]=function(){var W=this.__wrapped__,K=g?[1]:arguments,ne=W instanceof ct,ge=K[0],pe=ne||Ye(W),ye=function(ot){var ut=y.apply(T,$o([ot],K));return g&&xe?ut[0]:ut};pe&&f&&typeof ge=="function"&&ge.length!=1&&(ne=pe=!1);var xe=this.__chain__,$e=!!this.__actions__.length,We=L&&!xe,nt=ne&&!$e;if(!L&&pe){W=nt?W:new ct(this);var je=s.apply(W,K);return je.__actions__.push({func:Yh,args:[ye],thisArg:n}),new ei(je,xe)}return We&&nt?s.apply(this,K):(je=this.thru(ye),We?g?je.value()[0]:je.value():je)})}),Xr(["pop","push","shift","sort","splice","unshift"],function(s){var a=_h[s],f=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",g=/^(?:pop|shift)$/.test(s);T.prototype[s]=function(){var y=arguments;if(g&&!this.__chain__){var L=this.value();return a.apply(Ye(L)?L:[],y)}return this[f](function(W){return a.apply(Ye(W)?W:[],y)})}}),fs(ct.prototype,function(s,a){var f=T[a];if(f){var g=f.name+"";Nt.call(Eu,g)||(Eu[g]=[]),Eu[g].push({name:a,func:f})}}),Eu[jh(n,$).name]=[{name:"wrapper",func:n}],ct.prototype.clone=gO,ct.prototype.reverse=pO,ct.prototype.value=mO,T.prototype.at=V2,T.prototype.chain=z2,T.prototype.commit=J2,T.prototype.next=K2,T.prototype.plant=Q2,T.prototype.reverse=Y2,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=X2,T.prototype.first=T.prototype.head,Tf&&(T.prototype[Tf]=q2),T},wu=JT();Ke?((Ke.exports=wu)._=wu,Le._=wu):De._=wu}).call(Gg)})(sp,sp.exports);sp.exports;var r9=i9;function i9(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const s9=Zi(r9);function l_(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function o9(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class gh extends ef.EventEmitter{emit(e){let n=e==="error";const r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];if(n){let l;if(o.length>0&&([l]=o),l instanceof Error)throw l;const d=new Error(`Unhandled error.${l?` (${l.message})`:""}`);throw d.context=l,d}const u=r[e];if(u===void 0)return!1;if(typeof u=="function")l_(u,this,o);else{const l=u.length,d=o9(u);for(let h=0;h<l;h+=1)l_(d[h],this,o)}return!0}}class Yf extends Error{constructor(e){let{code:n,message:r,data:i}=e;if(!Number.isInteger(n))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),Se(this,"code",void 0),Se(this,"data",void 0),this.code=n,i!==void 0&&(this.data=i)}toString(){return DC({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function a9(t){return(e,n,r,i)=>{const o=t[e.method];return o===void 0?r():typeof o=="function"?o(e,n,r,i):(n.result=o,i())}}function dI(t){return async(e,n,r,i)=>{let o;const c=new Promise(h=>{o=h});let u=null,l=!1;const d=async()=>{l=!0,r(h=>{u=h,o()}),await c};try{await t(e,n,d),l?(await c,u(null)):i(null)}catch(h){const p=h;u?u(p):i(p)}}}class zi extends gh{constructor(){super(),Se(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,n,r){const i=[];let o=null,c=!1;for(const u of r)if([o,c]=await zi._runMiddleware(e,n,u,i),c)break;return[o,c,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(o=>{const c=l=>{const d=l||n.error;d&&(n.error=sn.serializeError(d)),o([d,!0])},u=l=>{n.error?c(n.error):(l&&(typeof l!="function"&&c(new Yf({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(l)),o([null,!1]))};try{r(e,n,u,c)}catch(l){c(l)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(o=>o?i(o):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new Yf({code:-32603,message:"Response has no error or result for request"});if(!r)throw new Yf({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[o,c,u]=await zi._runAllMiddleware(e,n,this._middleware);return c?(await zi._runReturnHandlers(u),i(o)):r(async l=>{try{await zi._runReturnHandlers(u)}catch(d){return l(d)}return l()})}catch(o){return i(o)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const c=new Yf({code:-32603,message:"request must be plain object"});return n(c,{id:void 0,jsonrpc:"2.0",error:c})}if(typeof e.method!="string"){const c=new Yf({code:-32603,message:"method must be string"});return n(c,{id:e.id,jsonrpc:"2.0",error:c})}const r=Me({},e),i={id:r.id,jsonrpc:r.jsonrpc};let o=null;try{await this._processRequest(r,i)}catch(c){o=c}return o&&(delete i.result,i.error||(i.error=sn.serializeError(o))),n(o,i)}async _processRequest(e,n){const[r,i,o]=await zi._runAllMiddleware(e,n,this._middleware);if(zi._checkForCompletion(e,n,i),await zi._runReturnHandlers(o),r)throw r}}function c9(t){const e=new zi;return t.forEach(n=>e.push(n)),e.asMiddleware()}function hI(t){const e=new gh;return e.sendAsync=async n=>{const r=await t.handle(n);if(r.error){var i,o;const c=sn.serializeError(r.error,{fallbackError:{message:((i=r.error)===null||i===void 0?void 0:i.message)||r.error.toString(),code:((o=r.error)===null||o===void 0?void 0:o.code)||-32603}});throw sn.rpcErrors.internal(c)}return r.result},e.send=(n,r)=>{if(typeof r!="function")throw new Error('Must provide callback to "send" method.');t.handle(n,r)},t.on&&t.on("notification",n=>{e.emit("data",null,n)}),e.request=async n=>{const r=Me(Me({},n),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(r)},e}const p0=wH;function EJ(t){return p0.encode(t)}function AJ(t){return p0.decode(t)}function vJ(t){return JSON.parse(p0.decode(t))}function _J(t){return p0.encode(JSON.stringify(t))}function f_(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0}}class u9{constructor(){Se(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,n){this.store[e]=n}}class l9{constructor(e,n){Se(this,"storage",void 0),Se(this,"_storeKey",void 0),this.storage=n,this._storeKey=e;try{n.getItem(e)||this.resetStore()}catch{}}static getInstance(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local";if(!this.instance){let r;n==="local"&&f_("localStorage")?r=window.localStorage:n==="session"&&f_("sessionStorage")?r=window.sessionStorage:r=new u9,this.instance=new this(e,r)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,n){const r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=n,this.storage.setItem(this._storeKey,JSON.stringify(r))}}Se(l9,"instance",void 0);const SJ="openlogin_store",CJ={POPUP:"popup",REDIRECT:"redirect"},f9=Me(Me({},ec),Vt),xJ={SECP256K1:"secp256k1",ED25519:"ed25519"},RJ={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt"},IJ={DEFAULT:"default",OPTIONAL:"optional",MANDATORY:"mandatory",NONE:"none"},NJ={LOGIN:"login",ENABLE_MFA:"enable_mfa",MODIFY_MFA:"modify_mfa"},TJ={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},OJ={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl"},PJ={light:"light",dark:"dark",auto:"auto"},BJ={DEVICE:"deviceShareFactor",BACKUP_SHARE:"backUpShareFactor",SOCIAL_BACKUP:"socialBackupFactor",PASSWORD:"passwordFactor"};class rd extends Error{}rd.prototype.name="InvalidTokenError";function d9(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function h9(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return d9(e)}catch{return atob(e)}}function g9(t,e){if(typeof t!="string")throw new rd("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new rd(`Invalid token specified: missing part #${n+1}`);let i;try{i=h9(r)}catch(o){throw new rd(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new rd(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}const _i={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},d_={EIP155:"eip155",SOLANA:"solana",XRPL:"xrpl",MULTICHAIN:"multichain"},p9=t=>{if(t===_i.EIP155)return 1;if(t===_i.SOLANA)return 1;throw new Error(`Chain namespace ${t} is not supported`)},m9=t=>{const e=_i.EIP155;return t===1?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===5?{chainNamespace:e,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===11155111?{chainNamespace:e,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorer:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===137?{chainNamespace:e,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:t===80001?{chainNamespace:e,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon",decimals:18}:t===56?{chainNamespace:e,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===97?{chainNamespace:e,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===25?{chainNamespace:e,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:t===338?{chainNamespace:e,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:t===8217?{chainNamespace:e,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:null},w9=t=>{const e=_i.SOLANA;return t===1?{chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:t===2?{chainNamespace:e,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:t===3?{chainNamespace:e,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},gI=(t,e)=>{if(t===_i.OTHER)return null;const n=e?typeof e=="number"?e:parseInt(e,16):p9(t);return t===_i.EIP155?m9(n):t===_i.SOLANA?w9(n):null};class m0 extends PR{constructor(e,n){super(n),Se(this,"code",void 0),Se(this,"message",void 0),this.code=e,this.message=n||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class rt extends m0{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new rt(e,`${rt.messages[e]}, ${n}`)}static notFound(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5001,e)}static notInstalled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5002,e)}static notReady(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5003,e)}static windowBlocked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5004,e)}static windowClosed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5005,e)}static incompatibleChainNameSpace(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5006,e)}static duplicateAdapterError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5007,e)}static invalidProviderConfigError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5008,e)}static providerNotReadyError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5009,e)}static rpcConnectionError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5010,e)}static invalidParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5011,e)}static invalidNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return rt.fromCode(5013,e)}}Se(rt,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Yt extends m0{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Yt(e,`${Yt.messages[e]}. ${n}`)}static connectionError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5111,e)}static disconnectionError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5112,e)}static notConnectedError(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5113,e)}static popupClosed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5114,e)}static mfaEnabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5115,e)}static chainConfigNotAdded(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5116,e)}static unsupportedOperation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5117,e)}static coreKitKeyNotFound(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5118,e)}static userNotLoggedIn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Yt.fromCode(5119,e)}}Se(Yt,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class Ai extends m0{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Ai(e,`${Ai.messages[e]}, ${n}`)}static chainIDNotAllowed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ai.fromCode(5201,e)}static operationNotAllowed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ai.fromCode(5202,e)}static chainNamespaceNotAllowed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ai.fromCode(5203,e)}}Se(Ai,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class Ys extends m0{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Ai(e,`${Ys.messages[e]}, ${n}`)}static invalidRequestArgs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ai.fromCode(5301,e)}static invalidRequestMethod(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ai.fromCode(5302,e)}static invalidRequestParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ai.fromCode(5303,e)}}Se(Ys,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const op={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2"},id=Me({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare",SLOPE:"slope"},op),Pg=Me({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},op),y9=Me(Me({},Pg),id);op.OPENLOGIN+"",op.WALLET_CONNECT_V2+"",id.TORUS_SOLANA+"",id.PHANTOM+"",id.SOLFLARE+"",id.SLOPE+"",Pg.TORUS_EVM+"",Pg.METAMASK+"",Pg.COINBASE+"";const LJ={EXTERNAL:"external",IN_APP:"in_app"},Mt={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},di=Me(Me({},Mt),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class MJ extends gh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),Se(this,"adapterData",{}),Se(this,"sessionTime",86400),Se(this,"clientId",void 0),Se(this,"web3AuthNetwork",f9.MAINNET),Se(this,"rehydrated",!1),Se(this,"chainConfig",null),Se(this,"knownChainConfigs",{}),Se(this,"adapterNamespace",void 0),Se(this,"currentChainNamespace",void 0),Se(this,"type",void 0),Se(this,"name",void 0),Se(this,"status",void 0),this.setAdapterSettings(e)}get chainConfigProxy(){return this.chainConfig?Me({},this.chainConfig):null}get connnected(){return this.status===Mt.CONNECTED}setAdapterSettings(e){if(this.status===Mt.READY)return;e!=null&&e.sessionTime&&(this.sessionTime=e.sessionTime),e!=null&&e.clientId&&(this.clientId=e.clientId),e!=null&&e.web3AuthNetwork&&(this.web3AuthNetwork=e.web3AuthNetwork);const n=e.chainConfig;if(n){if(!n.chainNamespace)throw rt.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=n.chainNamespace;const r=gI(n.chainNamespace,n.chainId),i=Me(Me({},r||{}),n);this.chainConfig=i,this.addChainConfig(i)}}checkConnectionRequirements(){if(!(this.name===y9.WALLET_CONNECT_V2&&this.status===Mt.CONNECTING)){if(this.status===Mt.CONNECTING)throw rt.notReady("Already connecting");if(this.status===Mt.CONNECTED)throw Yt.connectionError("Already connected");if(this.status!==Mt.READY)throw Yt.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw rt.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==_i.OTHER)throw rt.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==_i.OTHER)throw rt.invalidParams("chainID is required in chainConfig");if(this.status!==Mt.NOT_READY){if(this.status===Mt.CONNECTED)throw rt.notReady("Already connected");if(this.status===Mt.READY)throw rt.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==Mt.CONNECTED)throw Yt.disconnectionError("Not connected with wallet")}checkAddChainRequirements(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&!this.provider)throw Yt.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==e.chainNamespace)throw Ai.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements(e){let{chainId:n}=e;if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&!this.provider)throw Yt.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[n])throw Yt.chainConfigNotAdded("Invalid chainId")}updateAdapterData(e){this.adapterData=e,this.emit(di.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}addChainConfig(e){const n=this.knownChainConfigs[e.chainId];this.knownChainConfigs[e.chainId]=Me(Me({},n||{}),e)}getChainConfig(e){return this.knownChainConfigs[e]||null}}const pI="https://authjs.web3auth.io";var Hr=kb.getLogger("web3auth-logger");function ia(t){let e=!1,n=0,r;try{r=window[t],e=!0,n=r.length;const i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){const o=i;return!!(o&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&n!==0)}}const kJ=t=>(typeof t=="string"||typeof t=="number")&&/^(-)?0x[0-9a-f]*$/i.test(t),DJ=t=>{const e=g9(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},$J=async(t,e)=>{const o={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},c=await u0(`${pI}/siww/get`,o);if(!c.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return c.challenge},UJ=async(t,e,n,r,i,o,c)=>{const l={signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:n,issuer:r,audience:typeof window.location<"u"?window.location.hostname:"com://reactnative",timeout:i},d=await u0(`${pI}/siww/verify`,l,{headers:{client_id:o,wallet_provider:r,web3auth_network:c}});if(!d.success)throw Hr.error("Failed to authenticate user, ,message verification failed",d.error),new Error("Failed to authenticate user, ,message verification failed");return d.token},FJ=(t,e)=>ia("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,HJ=(t,e,n)=>ia("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,n):null,GJ=(t,e)=>ia("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null,b9=Me(Me({},_i),{},{MULTICHAIN:"multichain"});function mI(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}const wI=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return mI(t)?t.slice(2):t};function Qb(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}function yI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}const bI=function(t){if(!(t instanceof Uint8Array)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}},WJ=function(t){if(typeof t!="string"){const e=`This method only supports strings but input was: ${t}`;throw new Error(e)}},EI=BigInt(0),E9=t=>{if(t.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return QG(Qb(t))},A9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),Yb=t=>{let e="0x";if(t===void 0||t.length===0)return e;for(const n of t)e+=A9[n];return e},ty=[];for(let t=0;t<=256*256-1;t++)ty[t]=BigInt(t);const ap=t=>{const e=Yb(t);return e==="0x"?EI:e.length===4?ty[t[0]]:e.length===6?ty[t[0]*256+t[1]]:BigInt(e)},ph=t=>{if(typeof t!="string")throw new Error(`hex argument type ${typeof t} must be of type string`);if(!t.startsWith("0x"))throw new Error(`prefixed hex input should start with 0x, got ${t.substring(0,2)}`);t=t.slice(2),t.length%2!==0&&(t=Qb(t));const e=t.length/2,n=new Uint8Array(e);for(let r=0;r<e;r++){const i=parseInt(t.slice(r*2,(r+1)*2),16);n[r]=i}return n},v9=t=>{if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},_9=t=>{const e=v9(t);return ph(e)},Xb=t=>AI("0x"+Qb(t.toString(16))),h_=t=>new Uint8Array(t),S9=(t,e,n)=>n?t.length<e?new Uint8Array([...t,...h_(e-t.length)]):t.subarray(0,e):t.length<e?new Uint8Array([...h_(e-t.length),...t]):t.subarray(-e),g_=(t,e)=>(bI(t),S9(t,e,!1)),C9=t=>{let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t},x9=t=>(bI(t),C9(t)),AI=t=>{if(t==null)return new Uint8Array;if(Array.isArray(t)||t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string"){if(!yI(t))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${t}`);return ph(t)}if(typeof t=="number")return _9(t);if(typeof t=="bigint"){if(t<EI)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),E9(e)}if(t.toBytes!==void 0)return t.toBytes();throw new Error("invalid type")},p_=t=>BigInt.asIntN(256,ap(t)),m_=t=>Xb(BigInt.asUintN(256,t)),R9=t=>typeof t!="string"||mI(t)?t:"0x"+t,jJ=t=>{for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${Yb(n)}`)},I9=t=>"0x"+t.toString(16),VJ=t=>x9(Xb(t)),N9=(...t)=>{if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n},zJ=BigInt("0xffffffffffffffff"),JJ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");Co.CURVE.n;const KJ=Co.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const T9="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";ph(T9);const O9="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";ph(O9);const P9="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";ph(P9);Uint8Array.from([128]);BigInt(-1);const vI=BigInt(0),_I=BigInt(1),SI=BigInt(2);BigInt(3);BigInt(7);const qJ=BigInt(8),B9=BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);function CI(t){if(Array.isArray(t)){const n=[];let r=0;for(let i=0;i<t.length;i++){const o=CI(t[i]);n.push(o),r+=o.length}return b_(y_(r,192),...n)}const e=II(t);return e.length===1&&e[0]<128?e:b_(y_(e.length,128),e)}function Tu(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function w_(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return xI(k9(t))}function y_(t,e){if(t<56)return Uint8Array.from([t+e]);const n=iy(t),r=n.length/2,i=iy(e+55+r);return Uint8Array.from(ry(i+n))}function L9(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const n=II(t),r=ny(n);if(e)return r;if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}function ny(t){let e,n,r,i,o;const c=[],u=t[0];if(u<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(u<=183){if(e=u-127,u===128?r=Uint8Array.from([]):r=Tu(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.slice(e)}}else if(u<=191){if(n=u-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=w_(Tu(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=Tu(t,n,e+n),{data:r,remainder:t.slice(e+n)}}else if(u<=247){for(e=u-191,i=Tu(t,1,e);i.length;)o=ny(i),c.push(o.data),i=o.remainder;return{data:c,remainder:t.slice(e)}}else{if(n=u-246,e=w_(Tu(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");const l=n+e;if(l>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Tu(t,n,l);i.length;)o=ny(i),c.push(o.data),i=o.remainder;return{data:c,remainder:t.slice(l)}}}const M9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function k9(t){let e="";for(let n=0;n<t.length;n++)e+=M9[t[n]];return e}function xI(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function ry(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2;e[n]=xI(t.slice(r,r+2))}return e}function b_(...t){if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function D9(t){return new TextEncoder().encode(t)}function iy(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function $9(t){return t.length%2?`0${t}`:t}function RI(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function U9(t){return typeof t!="string"?t:RI(t)?t.slice(2):t}function II(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return RI(t)?ry($9(U9(t))):D9(t);if(typeof t=="number"||typeof t=="bigint")return t?ry(iy(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}const QJ={encode:CI,decode:L9};var E_;(function(t){t.String="string",t.Bytes="view",t.Number="number"})(E_||(E_={}));var A_;(function(t){t.String="string",t.Bytes="view",t.JSON="json"})(A_||(A_={}));var Fu;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(Fu||(Fu={}));function YJ(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!yI(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=AI(t);switch(e){case Fu.Uint8Array:return n;case Fu.BigInt:return ap(n);case Fu.Number:{const r=ap(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case Fu.PrefixedHexString:return Yb(n);default:throw new Error("unknown outputType")}}function F9(t,e,n){const r=Co.sign(t,e),i=r.toCompactRawBytes(),o=i.slice(0,32),c=i.slice(32,64),u=n===void 0?BigInt(r.recovery+27):BigInt(r.recovery+35)+BigInt(n)*SI;return{r:o,s:c,v:u}}function H9(t,e){return t===vI||t===_I?t:e===void 0?t-B9:t-(e*SI+BigInt(35))}function G9(t){return t===vI||t===_I}const XJ=function(t,e,n,r,i){const o=N9(g_(n,32),g_(r,32)),c=H9(e,i);if(!G9(c))throw new Error("Invalid signature v value");return Co.Signature.fromCompact(o).addRecoveryBit(Number(c)).recoverPublicKey(t).toRawBytes(!1).slice(1)};class W9 extends gh{constructor(e){let{config:n={},state:r={}}=e;super(),Se(this,"defaultConfig",{}),Se(this,"defaultState",{}),Se(this,"disabled",!1),Se(this,"name","BaseController"),Se(this,"initialConfig",void 0),Se(this,"initialState",void 0),Se(this,"internalConfig",this.defaultConfig),Se(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=n}get config(){return this.internalConfig}get state(){return this.internalState}configure(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0){this.internalConfig=n?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.internalState=Me(n?{}:Me({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const j9=()=>!0,V9=["newListener","removeListener"],z9=t=>!V9.includes(t);function J9(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function Zb(t,e){let r=(e||{}).eventFilter||j9;if(typeof r=="string"&&r==="skipInternal"&&(r=z9),typeof r!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,o=u=>{const l=i;i=u,l.eventNames().filter(r).forEach(d=>{J9(l,d).forEach(h=>u.on(d,h))}),l.removeAllListeners()};return new Proxy({},{get:(u,l)=>l==="setTarget"?o:i[l],set:(u,l,d)=>l==="setTarget"?(o=d,!0):(i[l]=d,!0)})}function v_(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}function K9(t,e,n){const r=p_(e),i=p_(n),o=ap(t),c=v_(Buffer.from(m_(r)).toString("hex"),64),u=v_(Buffer.from(m_(i)).toString("hex"),64),l=wI(I9(o));return R9(c.concat(u,l))}const ZJ=async(t,e)=>{const n=Buffer.from(t,"hex"),r=wI(e),i=F9(Buffer.from(r,"hex"),n);return K9(Buffer.from(Xb(i.v)),Buffer.from(i.r),Buffer.from(i.s))},q9=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function Q9(t){switch(t.status){case 405:throw sn.rpcErrors.methodNotFound();case 418:throw sn.rpcErrors.internal({message:"Request is being rate limited."});case 503:case 504:throw sn.rpcErrors.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range."})}}function Y9(t){return new Promise(e=>{setTimeout(e,t)})}function X9(t,e){if(t.status!==200)throw sn.rpcErrors.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error)throw sn.rpcErrors.internal({data:e.error});return e.result}function Z9(t){let{req:e,rpcTarget:n,originHttpHeaderKey:r}=t;const i=new URL(n),o={id:e.id,jsonrpc:e.jsonrpc,method:e.method,params:e.params},c=e.origin,u=JSON.stringify(o),l={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:u};return r&&c&&(l.headers[r]=c),{fetchUrl:i.href,fetchParams:l}}function eW(t){let{rpcTarget:e,originHttpHeaderKey:n}=t;return dI(async(r,i,o)=>{const{fetchUrl:c,fetchParams:u}=Z9({req:r,rpcTarget:e,originHttpHeaderKey:n}),l=5,d=1e3;for(let h=0;h<l;h++){try{const p=await fetch(c,u);Q9(p);const A=await p.json(),b=X9(p,A);i.result=b;return}catch(p){const A=p.toString();if(!q9.some(S=>A.includes(S)))throw p}await Y9(d)}})}class NI extends W9{constructor(e){let{config:n,state:r}=e;if(super({config:n,state:r}),Se(this,"_providerEngineProxy",null),!n.chainConfig)throw rt.invalidProviderConfigError("Please provide chainConfig");if(!n.chainConfig.chainId)throw rt.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!n.chainConfig.rpcTarget)throw rt.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:n.chainConfig,networks:{[n.chainConfig.chainId]:n.chainConfig}},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var n;if(!e||typeof e!="object"||Array.isArray(e))throw sn.rpcErrors.invalidRequest({message:Ys.invalidRequestArgs().message,data:Me(Me({},e||{}),{},{cause:Ys.invalidRequestArgs().message})});const{method:r,params:i}=e;if(typeof r!="string"||r.length===0)throw sn.rpcErrors.invalidRequest({message:Ys.invalidRequestMethod().message,data:Me(Me({},e||{}),{},{cause:Ys.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw sn.rpcErrors.invalidRequest({message:Ys.invalidRequestParams().message,data:Me(Me({},e||{}),{},{cause:Ys.invalidRequestParams().message})});return(n=this.provider)===null||n===void 0?void 0:n.request(e)}sendAsync(e,n){return n?this.send(e,n):this.request(e)}send(e,n){this.request(e).then(r=>n(null,{result:r})).catch(r=>n(r,null))}addChain(e){if(!e.chainId||!e.rpcTarget)throw sn.rpcErrors.invalidParams("chainId is required");this.configure({networks:Me(Me({},this.config.networks),{},{[e.chainId]:e})})}getChainConfig(e){var n;const r=(n=this.config.networks)===null||n===void 0?void 0:n[e];if(!r)throw sn.rpcErrors.invalidRequest(`Chain ${e} is not supported, please add chainConfig for it`);return r}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=Zb(e)}getProviderEngineProxy(){return this._providerEngineProxy}}function tW(t){return(e,n,r,i)=>e.method==="chainId"?(n.result=t,i()):r()}function nW(t){return(e,n,r,i)=>e.method==="provider_config"?(n.result=t,i()):r()}function rW(t){const{chainId:e,rpcTarget:n}=t,r=eW({rpcTarget:n});return{networkMiddleware:c9([tW(e),nW(t),r]),fetchMiddleware:r}}var TI;class eE extends NI{constructor(e){let{config:n,state:r}=e;super({config:n,state:r})}async setupProvider(){const{networkMiddleware:e}=rW(this.config.chainConfig),n=new zi;n.push(e);const r=hI(n);this.updateProviderEngineProxy(r);const i=this.config.chainConfig.chainId;this.state.chainId!==i&&(this.emit("chainChanged",i),this.emit("connect",{chainId:i})),this.update({chainId:this.config.chainConfig.chainId})}async switchChain(e){if(!this._providerEngineProxy)throw sn.providerErrors.custom({message:"Provider is not initialized",code:4902});const n=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:n}),await this.setupProvider()}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=Zb(e)}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}TI=eE;Se(eE,"getProviderInstance",async t=>{const e=new TI({config:{chainConfig:t.chainConfig}});return await e.setupProvider(),e});var OI;class PI extends NI{constructor(e){let{config:n,state:r}=e;super({config:{chainConfig:Me(Me({},n.chainConfig),{},{chainNamespace:_i.OTHER})},state:r}),Se(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(e){throw new Error("Method not implemented.")}addChain(e){throw new Error("Method not implemented.")}async setupProvider(e){const n=this.getPrivKeyMiddleware(e),r=new zi;r.push(n);const i=hI(r);this.updateProviderEngineProxy(i)}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=Zb(e)}async switchChain(e){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(e){const n={getPrivatekey:async()=>e};return this.createPrivKeyMiddleware(n)}createPrivKeyMiddleware(e){let{getPrivatekey:n}=e;async function r(i,o){o.result=await n()}return a9({private_key:dI(r)})}}OI=PI;Se(PI,"getProviderInstance",async t=>{const e=new OI({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e});s9();const wg="Web3Auth-cachedAdapter";class eK extends gh{constructor(e){var n,r,i,o;if(super(),Se(this,"coreOptions",void 0),Se(this,"connectedAdapterName",null),Se(this,"status",Mt.NOT_READY),Se(this,"cachedAdapter",null),Se(this,"walletAdapters",{}),Se(this,"commonJRPCProvider",null),Se(this,"plugins",{}),Se(this,"storage","localStorage"),!e.clientId)throw rt.invalidParams("Please provide a valid clientId in constructor");if(e.enableLogging?Hr.enableAll():Hr.setLevel("error"),!((n=e.chainConfig)!==null&&n!==void 0&&n.chainNamespace)||!Object.values(_i).includes((r=e.chainConfig)===null||r===void 0?void 0:r.chainNamespace))throw rt.invalidParams("Please provide a valid chainNamespace in chainConfig");e.storageKey==="session"&&(this.storage="sessionStorage"),this.cachedAdapter=ia(this.storage)?window[this.storage].getItem(wg):null,this.coreOptions=Me(Me({},e),{},{chainConfig:Me(Me({},gI((i=e.chainConfig)===null||i===void 0?void 0:i.chainNamespace,(o=e.chainConfig)===null||o===void 0?void 0:o.chainId)||{}),e.chainConfig)}),this.subscribeToAdapterEvents=this.subscribeToAdapterEvents.bind(this)}get connected(){return!!this.connectedAdapterName}get provider(){return this.status!==Mt.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}set provider(e){throw new Error("Not implemented")}async init(){this.commonJRPCProvider=await eE.getProviderInstance({chainConfig:this.coreOptions.chainConfig});const e=Object.keys(this.walletAdapters).map(n=>{if(this.subscribeToAdapterEvents(this.walletAdapters[n]),this.walletAdapters[n].chainConfigProxy)this.walletAdapters[n].setAdapterSettings({sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey});else{const r=this.coreOptions.chainConfig;if(!r.chainNamespace)throw rt.invalidParams("Please provide chainNamespace in chainConfig");this.walletAdapters[n].setAdapterSettings({chainConfig:r,sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey})}return this.walletAdapters[n].init({autoConnect:this.cachedAdapter===n}).catch(r=>Hr.error(r))});this.status=Mt.READY,await Promise.all(e)}configureAdapter(e){this.checkInitRequirements();const n=this.coreOptions.chainConfig;if(!n.chainNamespace)throw rt.invalidParams("Please provide chainNamespace in chainConfig");if(this.walletAdapters[e.name])throw rt.duplicateAdapterError(`Wallet adapter for ${e.name} already exists`);if(e.adapterNamespace!==d_.MULTICHAIN&&e.adapterNamespace!==n.chainNamespace)throw rt.incompatibleChainNameSpace(`This wallet adapter belongs to ${e.adapterNamespace} which is incompatible with currently used namespace: ${n.chainNamespace}`);return e.adapterNamespace===d_.MULTICHAIN&&e.currentChainNamespace&&n.chainNamespace!==e.currentChainNamespace&&e.setAdapterSettings({chainConfig:n}),this.walletAdapters[e.name]=e,this}clearCache(){ia(this.storage)&&(window[this.storage].removeItem(wg),this.cachedAdapter=null)}async addChain(e){if(this.status===Mt.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].addChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.addChain(e);throw rt.notReady("No wallet is ready")}async switchChain(e){if(this.status===Mt.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].switchChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.switchChain(e);throw rt.notReady("No wallet is ready")}async connectTo(e,n){if(!this.walletAdapters[e]||!this.commonJRPCProvider)throw rt.notFound(`Please add wallet adapter for ${e} wallet, before connecting`);const r=await this.walletAdapters[e].connect(n);return this.commonJRPCProvider.updateProviderEngineProxy(r.provider||r),this.provider}async logout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cleanup:!1};if(this.status!==Mt.CONNECTED||!this.connectedAdapterName)throw Yt.notConnectedError("No wallet is connected");await this.walletAdapters[this.connectedAdapterName].disconnect(e)}async getUserInfo(){if(Hr.debug("Getting user info",this.status,this.connectedAdapterName),this.status!==Mt.CONNECTED||!this.connectedAdapterName)throw Yt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].getUserInfo()}async authenticateUser(){if(this.status!==Mt.CONNECTED||!this.connectedAdapterName)throw Yt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].authenticateUser()}async addPlugin(e){if(this.plugins[e.name])throw new Error(`Plugin ${e.name} already exist`);if(e.pluginNamespace!==b9.MULTICHAIN&&e.pluginNamespace!==this.coreOptions.chainConfig.chainNamespace)throw new Error(`This plugin belongs to ${e.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`);return this.plugins[e.name]=e,this}subscribeToAdapterEvents(e){e.on(di.CONNECTED,async n=>{if(!this.commonJRPCProvider)throw rt.notFound("CommonJrpcProvider not found");const{provider:r}=this.walletAdapters[n.adapter];this.commonJRPCProvider.updateProviderEngineProxy(r.provider||r),this.status=Mt.CONNECTED,this.connectedAdapterName=n.adapter,this.cacheWallet(n.adapter),Hr.debug("connected",this.status,this.connectedAdapterName),Object.values(this.plugins).map(async i=>{try{if(!i.SUPPORTED_ADAPTERS.includes(n.adapter))return;await i.initWithWeb3Auth(this),await i.connect()}catch(o){if(o.code===5211)return;Hr.error(o)}}),this.emit(di.CONNECTED,Me({},n))}),e.on(di.DISCONNECTED,async n=>{if(this.status=Mt.READY,ia(this.storage)){const r=window[this.storage].getItem(wg);this.connectedAdapterName===r&&this.clearCache()}Hr.debug("disconnected",this.status,this.connectedAdapterName),await Promise.all(Object.values(this.plugins).map(r=>r.disconnect().catch(i=>{i.code!==5211&&Hr.error(i)}))),this.connectedAdapterName=null,this.emit(di.DISCONNECTED,n)}),e.on(di.CONNECTING,n=>{this.status=Mt.CONNECTING,this.emit(di.CONNECTING,n),Hr.debug("connecting",this.status,this.connectedAdapterName)}),e.on(di.ERRORED,n=>{this.status=Mt.ERRORED,this.clearCache(),this.emit(di.ERRORED,n),Hr.debug("errored",this.status,this.connectedAdapterName)}),e.on(di.ADAPTER_DATA_UPDATED,n=>{Hr.debug("adapter data updated",n),this.emit(di.ADAPTER_DATA_UPDATED,n)}),e.on(di.CACHE_CLEAR,n=>{Hr.debug("adapter cache clear",n),ia(this.storage)&&this.clearCache()})}checkInitRequirements(){if(this.status===Mt.CONNECTING)throw rt.notReady("Already pending connection");if(this.status===Mt.CONNECTED)throw rt.notReady("Already connected");if(this.status===Mt.READY)throw rt.notReady("Adapter is already initialized")}cacheWallet(e){ia(this.storage)&&(window[this.storage].setItem(wg,e),this.cachedAdapter=e)}}var cp={exports:{}};cp.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,c=9007199254740991,u="[object Arguments]",l="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",A="[object Error]",b="[object Function]",S="[object GeneratorFunction]",N="[object Map]",M="[object Number]",$="[object Null]",C="[object Object]",ee="[object Promise]",ae="[object Proxy]",se="[object RegExp]",V="[object Set]",Y="[object String]",w="[object Symbol]",x="[object Undefined]",v="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",m="[object Int8Array]",E="[object Int16Array]",B="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",z="[object Uint16Array]",te="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,Ee=/^\[object .+?Constructor\]$/,Ce=/^(?:0|[1-9]\d*)$/,be={};be[R]=be[D]=be[m]=be[E]=be[B]=be[k]=be[j]=be[z]=be[te]=!0,be[u]=be[l]=be[I]=be[h]=be[P]=be[p]=be[A]=be[b]=be[N]=be[M]=be[C]=be[se]=be[V]=be[Y]=be[v]=!1;var Be=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,He=typeof self=="object"&&self&&self.Object===Object&&self,qe=Be||He||Function("return this")(),tt=e&&!e.nodeType&&e,vt=tt&&!0&&t&&!t.nodeType&&t,gt=vt&&vt.exports===tt,st=gt&&Be.process,q=function(){try{return st&&st.binding&&st.binding("util")}catch{}}(),Q=q&&q.isTypedArray;function ue(F,X){for(var _=-1,H=F==null?0:F.length,re=0,me=[];++_<H;){var ke=F[_];X(ke,_,F)&&(me[re++]=ke)}return me}function Ie(F,X){for(var _=-1,H=X.length,re=F.length;++_<H;)F[re+_]=X[_];return F}function Re(F,X){for(var _=-1,H=F==null?0:F.length;++_<H;)if(X(F[_],_,F))return!0;return!1}function mt(F,X){for(var _=-1,H=Array(F);++_<F;)H[_]=X(_);return H}function _t(F){return function(X){return F(X)}}function Ut(F,X){return F.has(X)}function Dt(F,X){return F==null?void 0:F[X]}function yn(F){var X=-1,_=Array(F.size);return F.forEach(function(H,re){_[++X]=[re,H]}),_}function Lt(F,X){return function(_){return F(X(_))}}function Ts(F){var X=-1,_=Array(F.size);return F.forEach(function(H){_[++X]=H}),_}var U=Array.prototype,G=Function.prototype,_e=Object.prototype,ve=qe["__core-js_shared__"],Ne=G.toString,ft=_e.hasOwnProperty,qt=function(){var F=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),qr=_e.toString,$n=RegExp("^"+Ne.call(ft).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ii=gt?qe.Buffer:void 0,Qr=qe.Symbol,Nn=qe.Uint8Array,wr=_e.propertyIsEnumerable,Os=U.splice,Un=Qr?Qr.toStringTag:void 0,ss=Object.getOwnPropertySymbols,Pr=Ii?Ii.isBuffer:void 0,bn=Lt(Object.keys,Object),Tn=Hn(qe,"DataView"),Qn=Hn(qe,"Map"),Pa=Hn(qe,"Promise"),Ba=Hn(qe,"Set"),Ro=Hn(qe,"WeakMap"),Ps=Hn(Object,"create"),ff=Mr(Tn),Br=Mr(Qn),La=Mr(Pa),df=Mr(Ba),Ma=Mr(Ro),qc=Qr?Qr.prototype:void 0,ka=qc?qc.valueOf:void 0;function Fn(F){var X=-1,_=F==null?0:F.length;for(this.clear();++X<_;){var H=F[X];this.set(H[0],H[1])}}function hf(){this.__data__=Ps?Ps(null):{},this.size=0}function gf(F){var X=this.has(F)&&delete this.__data__[F];return this.size-=X?1:0,X}function pf(F){var X=this.__data__;if(Ps){var _=X[F];return _===r?void 0:_}return ft.call(X,F)?X[F]:void 0}function mf(F){var X=this.__data__;return Ps?X[F]!==void 0:ft.call(X,F)}function wf(F,X){var _=this.__data__;return this.size+=this.has(F)?0:1,_[F]=Ps&&X===void 0?r:X,this}Fn.prototype.clear=hf,Fn.prototype.delete=gf,Fn.prototype.get=pf,Fn.prototype.has=mf,Fn.prototype.set=wf;function cn(F){var X=-1,_=F==null?0:F.length;for(this.clear();++X<_;){var H=F[X];this.set(H[0],H[1])}}function yf(){this.__data__=[],this.size=0}function bf(F){var X=this.__data__,_=Bs(X,F);if(_<0)return!1;var H=X.length-1;return _==H?X.pop():Os.call(X,_,1),--this.size,!0}function Ef(F){var X=this.__data__,_=Bs(X,F);return _<0?void 0:X[_][1]}function Af(F){return Bs(this.__data__,F)>-1}function vf(F,X){var _=this.__data__,H=Bs(_,F);return H<0?(++this.size,_.push([F,X])):_[H][1]=X,this}cn.prototype.clear=yf,cn.prototype.delete=bf,cn.prototype.get=Ef,cn.prototype.has=Af,cn.prototype.set=vf;function Ni(F){var X=-1,_=F==null?0:F.length;for(this.clear();++X<_;){var H=F[X];this.set(H[0],H[1])}}function os(){this.size=0,this.__data__={hash:new Fn,map:new(Qn||cn),string:new Fn}}function _f(F){var X=as(this,F).delete(F);return this.size-=X?1:0,X}function Ti(F){return as(this,F).get(F)}function Da(F){return as(this,F).has(F)}function Sf(F,X){var _=as(this,F),H=_.size;return _.set(F,X),this.size+=_.size==H?0:1,this}Ni.prototype.clear=os,Ni.prototype.delete=_f,Ni.prototype.get=Ti,Ni.prototype.has=Da,Ni.prototype.set=Sf;function Oi(F){var X=-1,_=F==null?0:F.length;for(this.__data__=new Ni;++X<_;)this.add(F[X])}function $a(F){return this.__data__.set(F,r),this}function Qc(F){return this.__data__.has(F)}Oi.prototype.add=Oi.prototype.push=$a,Oi.prototype.has=Qc;function Lr(F){var X=this.__data__=new cn(F);this.size=X.size}function Cf(){this.__data__=new cn,this.size=0}function Yc(F){var X=this.__data__,_=X.delete(F);return this.size=X.size,_}function xf(F){return this.__data__.get(F)}function Rf(F){return this.__data__.has(F)}function Xc(F,X){var _=this.__data__;if(_ instanceof cn){var H=_.__data__;if(!Qn||H.length<n-1)return H.push([F,X]),this.size=++_.size,this;_=this.__data__=new Ni(H)}return _.set(F,X),this.size=_.size,this}Lr.prototype.clear=Cf,Lr.prototype.delete=Yc,Lr.prototype.get=xf,Lr.prototype.has=Rf,Lr.prototype.set=Xc;function Zc(F,X){var _=ko(F),H=!_&&Mo(F),re=!_&&!H&&ks(F),me=!_&&!H&&!re&&du(F),ke=_||H||re||me,ze=ke?mt(F.length,String):[],De=ze.length;for(var Le in F)(X||ft.call(F,Le))&&!(ke&&(Le=="length"||re&&(Le=="offset"||Le=="parent")||me&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||Po(Le,De)))&&ze.push(Le);return ze}function Bs(F,X){for(var _=F.length;_--;)if(Lo(F[_][0],X))return _;return-1}function Ua(F,X,_){var H=X(F);return ko(F)?H:Ie(H,_(F))}function Ls(F){return F==null?F===void 0?x:$:Un&&Un in Object(F)?iu(F):Bo(F)}function Fa(F){return us(F)&&Ls(F)==u}function Ms(F,X,_,H,re){return F===X?!0:F==null||X==null||!us(F)&&!us(X)?F!==F&&X!==X:eu(F,X,_,H,Ms,re)}function eu(F,X,_,H,re,me){var ke=ko(F),ze=ko(X),De=ke?l:Yr(F),Le=ze?l:Yr(X);De=De==u?C:De,Le=Le==u?C:Le;var Ke=De==C,Ot=Le==C,dt=De==Le;if(dt&&ks(F)){if(!ks(X))return!1;ke=!0,Ke=!1}if(dt&&!Ke)return me||(me=new Lr),ke||du(F)?To(F,X,_,H,re,me):nu(F,X,De,_,H,re,me);if(!(_&i)){var bt=Ke&&ft.call(F,"__wrapped__"),un=Ot&&ft.call(X,"__wrapped__");if(bt||un){var Yn=bt?F.value():F,Xn=un?X.value():X;return me||(me=new Lr),re(Yn,Xn,_,H,me)}}return dt?(me||(me=new Lr),ru(F,X,_,H,re,me)):!1}function Io(F){if(!fu(F)||au(F))return!1;var X=yr(F)?$n:Ee;return X.test(Mr(F))}function No(F){return us(F)&&cs(F.length)&&!!be[Ls(F)]}function tu(F){if(!cu(F))return bn(F);var X=[];for(var _ in Object(F))ft.call(F,_)&&_!="constructor"&&X.push(_);return X}function To(F,X,_,H,re,me){var ke=_&i,ze=F.length,De=X.length;if(ze!=De&&!(ke&&De>ze))return!1;var Le=me.get(F);if(Le&&me.get(X))return Le==X;var Ke=-1,Ot=!0,dt=_&o?new Oi:void 0;for(me.set(F,X),me.set(X,F);++Ke<ze;){var bt=F[Ke],un=X[Ke];if(H)var Yn=ke?H(un,bt,Ke,X,F,me):H(bt,un,Ke,F,X,me);if(Yn!==void 0){if(Yn)continue;Ot=!1;break}if(dt){if(!Re(X,function(Xn,ls){if(!Ut(dt,ls)&&(bt===Xn||re(bt,Xn,_,H,me)))return dt.push(ls)})){Ot=!1;break}}else if(!(bt===un||re(bt,un,_,H,me))){Ot=!1;break}}return me.delete(F),me.delete(X),Ot}function nu(F,X,_,H,re,me,ke){switch(_){case P:if(F.byteLength!=X.byteLength||F.byteOffset!=X.byteOffset)return!1;F=F.buffer,X=X.buffer;case I:return!(F.byteLength!=X.byteLength||!me(new Nn(F),new Nn(X)));case h:case p:case M:return Lo(+F,+X);case A:return F.name==X.name&&F.message==X.message;case se:case Y:return F==X+"";case N:var ze=yn;case V:var De=H&i;if(ze||(ze=Ts),F.size!=X.size&&!De)return!1;var Le=ke.get(F);if(Le)return Le==X;H|=o,ke.set(F,X);var Ke=To(ze(F),ze(X),H,re,me,ke);return ke.delete(F),Ke;case w:if(ka)return ka.call(F)==ka.call(X)}return!1}function ru(F,X,_,H,re,me){var ke=_&i,ze=Oo(F),De=ze.length,Le=Oo(X),Ke=Le.length;if(De!=Ke&&!ke)return!1;for(var Ot=De;Ot--;){var dt=ze[Ot];if(!(ke?dt in X:ft.call(X,dt)))return!1}var bt=me.get(F);if(bt&&me.get(X))return bt==X;var un=!0;me.set(F,X),me.set(X,F);for(var Yn=ke;++Ot<De;){dt=ze[Ot];var Xn=F[dt],ls=X[dt];if(H)var If=ke?H(ls,Xn,dt,X,F,me):H(Xn,ls,dt,F,X,me);if(!(If===void 0?Xn===ls||re(Xn,ls,_,H,me):If)){un=!1;break}Yn||(Yn=dt=="constructor")}if(un&&!Yn){var Ha=F.constructor,En=X.constructor;Ha!=En&&"constructor"in F&&"constructor"in X&&!(typeof Ha=="function"&&Ha instanceof Ha&&typeof En=="function"&&En instanceof En)&&(un=!1)}return me.delete(F),me.delete(X),un}function Oo(F){return Ua(F,hu,su)}function as(F,X){var _=F.__data__;return ou(X)?_[typeof X=="string"?"string":"hash"]:_.map}function Hn(F,X){var _=Dt(F,X);return Io(_)?_:void 0}function iu(F){var X=ft.call(F,Un),_=F[Un];try{F[Un]=void 0;var H=!0}catch{}var re=qr.call(F);return H&&(X?F[Un]=_:delete F[Un]),re}var su=ss?function(F){return F==null?[]:(F=Object(F),ue(ss(F),function(X){return wr.call(F,X)}))}:It,Yr=Ls;(Tn&&Yr(new Tn(new ArrayBuffer(1)))!=P||Qn&&Yr(new Qn)!=N||Pa&&Yr(Pa.resolve())!=ee||Ba&&Yr(new Ba)!=V||Ro&&Yr(new Ro)!=v)&&(Yr=function(F){var X=Ls(F),_=X==C?F.constructor:void 0,H=_?Mr(_):"";if(H)switch(H){case ff:return P;case Br:return N;case La:return ee;case df:return V;case Ma:return v}return X});function Po(F,X){return X=X??c,!!X&&(typeof F=="number"||Ce.test(F))&&F>-1&&F%1==0&&F<X}function ou(F){var X=typeof F;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?F!=="__proto__":F===null}function au(F){return!!qt&&qt in F}function cu(F){var X=F&&F.constructor,_=typeof X=="function"&&X.prototype||_e;return F===_}function Bo(F){return qr.call(F)}function Mr(F){if(F!=null){try{return Ne.call(F)}catch{}try{return F+""}catch{}}return""}function Lo(F,X){return F===X||F!==F&&X!==X}var Mo=Fa(function(){return arguments}())?Fa:function(F){return us(F)&&ft.call(F,"callee")&&!wr.call(F,"callee")},ko=Array.isArray;function uu(F){return F!=null&&cs(F.length)&&!yr(F)}var ks=Pr||St;function lu(F,X){return Ms(F,X)}function yr(F){if(!fu(F))return!1;var X=Ls(F);return X==b||X==S||X==d||X==ae}function cs(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=c}function fu(F){var X=typeof F;return F!=null&&(X=="object"||X=="function")}function us(F){return F!=null&&typeof F=="object"}var du=Q?_t(Q):No;function hu(F){return uu(F)?Zc(F):tu(F)}function It(){return[]}function St(){return!1}t.exports=lu})(cp,cp.exports);var iW=cp.exports;const tK=Zi(iW);function sW({mustBeMetaMask:t=!1,silent:e=!1,timeout:n=3e3}={}){i();let r=!1;return new Promise(o=>{window.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},n));function c(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",c);const{ethereum:u}=window;u&&(!t||u.isMetaMask)?o(u):(!e&&console.error("@metamask/detect-provider:",t&&u?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),o(null))}});function i(){if(typeof t!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof n!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var oW=sW;const aW=Zi(oW);class cW extends kH{async init(e){this.chainConfig||(this.chainConfig=MR(Qi.EIP155,1))}async authenticateUser(){if(!this.provider||this.status!==rn.CONNECTED)throw zr.notConnectedError();const{chainNamespace:e,chainId:n}=this.chainConfig,r=await this.provider.request({method:"eth_accounts"});if(r&&r.length>0){const i=FH(r[0],this.name);if(i&&!DH(i))return{idToken:i};const o={domain:window.location.origin,uri:window.location.href,address:r[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},c=await $H(o,e),u=await this.provider.request({method:"personal_sign",params:[c,r[0]]}),l=await UH(e,u,c,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return HH(r[0],this.name,l),{idToken:l}}throw zr.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"eth_accounts"});e&&e.length>0&&GH(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(tc.DISCONNECTED)}}class uW extends cW{constructor(){super(...arguments),Se(this,"adapterNamespace",TH.EIP155),Se(this,"currentChainNamespace",Qi.EIP155),Se(this,"type",MH.EXTERNAL),Se(this,"name",nd.METAMASK),Se(this,"status",rn.NOT_READY),Se(this,"metamaskProvider",null)}get provider(){return this.status!==rn.NOT_READY&&this.metamaskProvider?this.metamaskProvider:null}set provider(e){throw new Error("Not implemented")}async init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(await super.init(e),super.checkInitializationRequirements(),this.metamaskProvider=await aW({mustBeMetaMask:!0}),!this.metamaskProvider)throw ws.notInstalled("Metamask extension is not installed");this.status=rn.READY,this.emit(tc.READY,nd.METAMASK);try{$R.debug("initializing metamask adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(n){this.emit(tc.ERRORED,n)}}async connect(){if(super.checkConnectionRequirements(),!this.metamaskProvider)throw zr.notConnectedError("Not able to connect with metamask");const{ethereum:e}=window,n="isPhantom"in e;if(e&&e.isMetaMask&&n){if(e.providers&&e.providers.length>0){const r=e.providers.find(i=>i.isMetaMask&&!i.overrideIsMetaMask);r&&e.setProvider(r)}}else if(e&&(e.providers||[]).length>0){const r=e.providers.find(i=>i.isMetaMask);r&&e.setSelectedProvider(r)}this.status=rn.CONNECTING,this.emit(tc.CONNECTING,{adapter:nd.METAMASK});try{await this.metamaskProvider.request({method:"eth_requestAccounts"});const{chainId:r}=this.metamaskProvider;if(r!==this.chainConfig.chainId&&(await this.addChain(this.chainConfig,!0),await this.switchChain(this.chainConfig,!0)),this.status=rn.CONNECTED,!this.provider)throw zr.notConnectedError("Failed to connect with provider");const i=()=>{var o;this.disconnect(),(o=this.provider)===null||o===void 0||o.removeListener("disconnect",i)};return this.provider.on("disconnect",i),this.emit(tc.CONNECTED,{adapter:nd.METAMASK,reconnected:this.rehydrated}),this.provider}catch(r){throw this.status=rn.READY,this.rehydrated=!1,this.emit(tc.ERRORED,r),r instanceof hh?r:zr.connectionError("Failed to login with metamask wallet")}}async disconnect(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cleanup:!1};await super.disconnectSession(),(e=this.provider)===null||e===void 0||e.removeAllListeners(),n.cleanup?(this.status=rn.NOT_READY,this.metamaskProvider=null):this.status=rn.READY,await super.disconnect()}async getUserInfo(){if(this.status!==rn.CONNECTED)throw zr.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.checkAddChainRequirements(e,r),await((n=this.metamaskProvider)===null||n===void 0?void 0:n.request({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:e.displayName,rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorer],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18}}]})),this.addChainConfig(e)}async switchChain(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.checkSwitchChainRequirements(e,r),await((n=this.metamaskProvider)===null||n===void 0?void 0:n.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]})),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}}const nK=Object.freeze(Object.defineProperty({__proto__:null,MetamaskAdapter:uW},Symbol.toStringTag,{value:"Module"})),lW="6.8.0";function fW(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ir(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function Ve(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&fW(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Hu(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Hu).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return Hu(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${Hu(n)}: ${Hu(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Si(t,e){return t&&t.code===e}function tE(t){return Si(t,"CALL_EXCEPTION")}function dn(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Hu(n)}`);for(const c in n){if(c==="shortMessage")continue;const u=n[c];o.push(c+"="+Hu(u))}}o.push(`code=${e}`),o.push(`version=${lW}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Ve(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Ve(i,{shortMessage:r}),i}function Ae(t,e,n,r){if(!t)throw dn(e,n,r)}function ie(t,e,n,r){Ae(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function BI(t,e,n){n==null&&(n=""),n&&(n=": "+n),Ae(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ae(t<=e,"too many arguemnts"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const dW=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const n=String.fromCharCode(233).normalize("NFD"),r=String.fromCharCode(101,769);if(n!==r)throw new Error("broken")}t.push(e)}catch{}return t},[]);function hW(t){Ae(dW.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function w0(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Ae(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function LI(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}ie(!1,"invalid BytesLike value",e||"value",t)}function xt(t,e){return LI(t,e,!1)}function Ir(t,e){return LI(t,e,!0)}function Kt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function gW(t){return Kt(t,!0)||t instanceof Uint8Array}const __="0123456789abcdef";function Ue(t){const e=xt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=__[(i&240)>>4]+__[i&15]}return n}function gn(t){return"0x"+t.map(e=>Ue(e).substring(2)).join("")}function Xu(t){return Kt(t,!0)?(t.length-2)/2:xt(t).length}function Zt(t,e,n){const r=xt(t);return n!=null&&n>r.length&&Ae(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Ue(r.slice(e??0,n??r.length))}function MI(t,e,n){const r=xt(t);Ae(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),Ue(i)}function $c(t,e){return MI(t,e,!0)}function pW(t,e){return MI(t,e,!1)}const y0=BigInt(0),Ki=BigInt(1),Gu=9007199254740991;function mW(t,e){const n=b0(t,"value"),r=BigInt(at(e,"width"));if(Ae(n>>r===y0,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Ki){const i=(Ki<<r)-Ki;return-((~n&i)+Ki)}return n}function kI(t,e){let n=Fe(t,"value");const r=BigInt(at(e,"width")),i=Ki<<r-Ki;if(n<y0){n=-n,Ae(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(Ki<<r)-Ki;return(~n&o)+Ki}else Ae(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function sd(t,e){const n=b0(t,"value"),r=BigInt(at(e,"bits"));return n&(Ki<<r)-Ki}function Fe(t,e){switch(typeof t){case"bigint":return t;case"number":return ie(Number.isInteger(t),"underflow",e||"value",t),ie(t>=-Gu&&t<=Gu,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ie(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ie(!1,"invalid BigNumberish value",e||"value",t)}function b0(t,e){const n=Fe(t,e);return Ae(n>=y0,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const S_="0123456789abcdef";function nE(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=S_[n>>4],e+=S_[n&15];return BigInt(e)}return Fe(t)}function at(t,e){switch(typeof t){case"bigint":return ie(t>=-Gu&&t<=Gu,"overflow",e||"value",t),Number(t);case"number":return ie(Number.isInteger(t),"underflow",e||"value",t),ie(t>=-Gu&&t<=Gu,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return at(BigInt(t),e)}catch(n){ie(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ie(!1,"invalid numeric value",e||"value",t)}function wW(t){return at(nE(t))}function Sa(t,e){let r=b0(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=at(e,"width");for(Ae(i*2>=r.length,`value exceeds width (${i} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Kr(t){const e=b0(t,"value");if(e===y0)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function Wu(t){let e=Ue(gW(t)?t:Kr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const yW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const C_=BigInt(58);function bW(t){let e=nE(xt(t)),n="";for(;e;)n=yW[Number(e%C_)]+n,e/=C_;return n}function EW(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return xt(e)}function AW(t){const e=xt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var el;class DI{constructor(e,n,r){oe(this,"filter");oe(this,"emitter");le(this,el,void 0);J(this,el,n),Ve(this,{emitter:e,filter:r})}async removeListener(){O(this,el)!=null&&await this.emitter.off(this.filter,O(this,el))}}el=new WeakMap;function vW(t,e,n,r,i){ie(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function $I(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let c=e+1;c<n.length&&n[c]>>6===2;c++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function _W(t,e,n,r,i){return t==="OVERLONG"?(ie(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),$I(t,e,n))}const SW=Object.freeze({error:vW,ignore:$I,replace:_W});function CW(t,e){e==null&&(e=SW.error);const n=xt(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(!(o>>7)){r.push(o);continue}let c=null,u=null;if((o&224)===192)c=1,u=127;else if((o&240)===224)c=2,u=2047;else if((o&248)===240)c=3,u=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+c>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=o&(1<<8-c-1)-1;for(let d=0;d<c;d++){let h=n[i];if((h&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|h&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-c,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-c,n,r,l);continue}if(l<=u){i+=e("OVERLONG",i-1-c,n,r,l);continue}r.push(l)}}return r}function mo(t,e){e!=null&&(hW(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);ie(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const c=65536+((i&1023)<<10)+(o&1023);n.push(c>>18|240),n.push(c>>12&63|128),n.push(c>>6&63|128),n.push(c&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function xW(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function rE(t,e){return xW(CW(t,e))}function UI(t){async function e(n,r){const i=n.url.split(":")[0].toLowerCase();Ae(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Ae(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o;if(r){const p=new AbortController;o=p.signal,r.addListener(()=>{p.abort()})}const c={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o},u=await fetch(n.url,c),l={};u.headers.forEach((p,A)=>{l[A.toLowerCase()]=p});const d=await u.arrayBuffer(),h=d==null?null:new Uint8Array(d);return{statusCode:u.status,statusMessage:u.statusText,headers:l,body:h}}return e}const RW=12,IW=250;let x_=UI();const NW=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),TW=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let mw=!1;async function FI(t,e){try{const n=t.match(NW);if(!n)throw new Error("invalid data");return new Aa(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?EW(n[3]):PW(n[3]))}catch{return new Aa(599,"BAD REQUEST (invalid data: URI)",{},null,new Ca(t))}}function HI(t){async function e(n,r){try{const i=n.match(TW);if(!i)throw new Error("invalid link");return new Ca(`${t}${i[2]}`)}catch{return new Aa(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ca(n))}}return e}const yg={data:FI,ipfs:HI("https://gateway.ipfs.io/ipfs/")},GI=new WeakMap;var fc,sa;class OW{constructor(e){le(this,fc,void 0);le(this,sa,void 0);J(this,fc,[]),J(this,sa,!1),GI.set(e,()=>{if(!O(this,sa)){J(this,sa,!0);for(const n of O(this,fc))setTimeout(()=>{n()},0);J(this,fc,[])}})}addListener(e){Ae(!O(this,sa),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),O(this,fc).push(e)}get cancelled(){return O(this,sa)}checkSignal(){Ae(!this.cancelled,"cancelled","CANCELLED",{})}}fc=new WeakMap,sa=new WeakMap;function bg(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var tl,nl,Gi,Zs,rl,il,Sn,Wr,eo,dc,hc,gc,ys,to,oa,pc,od;const Ep=class Ep{constructor(e){le(this,pc);le(this,tl,void 0);le(this,nl,void 0);le(this,Gi,void 0);le(this,Zs,void 0);le(this,rl,void 0);le(this,il,void 0);le(this,Sn,void 0);le(this,Wr,void 0);le(this,eo,void 0);le(this,dc,void 0);le(this,hc,void 0);le(this,gc,void 0);le(this,ys,void 0);le(this,to,void 0);le(this,oa,void 0);J(this,il,String(e)),J(this,tl,!1),J(this,nl,!0),J(this,Gi,{}),J(this,Zs,""),J(this,rl,3e5),J(this,to,{slotInterval:IW,maxAttempts:RW}),J(this,oa,null)}get url(){return O(this,il)}set url(e){J(this,il,String(e))}get body(){return O(this,Sn)==null?null:new Uint8Array(O(this,Sn))}set body(e){if(e==null)J(this,Sn,void 0),J(this,Wr,void 0);else if(typeof e=="string")J(this,Sn,mo(e)),J(this,Wr,"text/plain");else if(e instanceof Uint8Array)J(this,Sn,e),J(this,Wr,"application/octet-stream");else if(typeof e=="object")J(this,Sn,mo(JSON.stringify(e))),J(this,Wr,"application/json");else throw new Error("invalid body")}hasBody(){return O(this,Sn)!=null}get method(){return O(this,Zs)?O(this,Zs):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),J(this,Zs,String(e).toUpperCase())}get headers(){const e=Object.assign({},O(this,Gi));return O(this,eo)&&(e.authorization=`Basic ${AW(mo(O(this,eo)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&O(this,Wr)&&(e["content-type"]=O(this,Wr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){O(this,Gi)[String(e).toLowerCase()]=String(n)}clearHeaders(){J(this,Gi,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return O(this,eo)||null}setCredentials(e,n){ie(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),J(this,eo,`${e}:${n}`)}get allowGzip(){return O(this,nl)}set allowGzip(e){J(this,nl,!!e)}get allowInsecureAuthentication(){return!!O(this,tl)}set allowInsecureAuthentication(e){J(this,tl,!!e)}get timeout(){return O(this,rl)}set timeout(e){ie(e>=0,"timeout must be non-zero","timeout",e),J(this,rl,e)}get preflightFunc(){return O(this,dc)||null}set preflightFunc(e){J(this,dc,e)}get processFunc(){return O(this,hc)||null}set processFunc(e){J(this,hc,e)}get retryFunc(){return O(this,gc)||null}set retryFunc(e){J(this,gc,e)}get getUrlFunc(){return O(this,oa)||x_}set getUrlFunc(e){J(this,oa,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${O(this,Sn)?Ue(O(this,Sn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(O(this,to).slotInterval=e.slotInterval),e.maxAttempts!=null&&(O(this,to).maxAttempts=e.maxAttempts)}send(){return Ae(O(this,ys)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),J(this,ys,new OW(this)),Te(this,pc,od).call(this,0,R_()+this.timeout,0,this,new Aa(0,"",{},null,this))}cancel(){Ae(O(this,ys)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=GI.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Ae(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Ep(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,J(i,Gi,Object.assign({},O(this,Gi))),O(this,Sn)&&J(i,Sn,new Uint8Array(O(this,Sn))),J(i,Wr,O(this,Wr)),i}clone(){const e=new Ep(this.url);return J(e,Zs,O(this,Zs)),O(this,Sn)&&J(e,Sn,O(this,Sn)),J(e,Wr,O(this,Wr)),J(e,Gi,Object.assign({},O(this,Gi))),J(e,eo,O(this,eo)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),J(e,dc,O(this,dc)),J(e,hc,O(this,hc)),J(e,gc,O(this,gc)),J(e,oa,O(this,oa)),e}static lockConfig(){mw=!0}static getGateway(e){return yg[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(mw)throw new Error("gateways locked");yg[e]=n}static registerGetUrl(e){if(mw)throw new Error("gateways locked");x_=e}static createGetUrlFunc(e){return UI()}static createDataGateway(){return FI}static createIpfsGatewayFunc(e){return HI(e)}};tl=new WeakMap,nl=new WeakMap,Gi=new WeakMap,Zs=new WeakMap,rl=new WeakMap,il=new WeakMap,Sn=new WeakMap,Wr=new WeakMap,eo=new WeakMap,dc=new WeakMap,hc=new WeakMap,gc=new WeakMap,ys=new WeakMap,to=new WeakMap,oa=new WeakMap,pc=new WeakSet,od=async function(e,n,r,i,o){var h,p,A;if(e>=O(this,to).maxAttempts)return o.makeServerError("exceeded maximum retry limit");Ae(R_()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await BW(r);let c=this.clone();const u=(c.url.split(":")[0]||"").toLowerCase();if(u in yg){const b=await yg[u](c.url,bg(O(i,ys)));if(b instanceof Aa){let S=b;if(this.processFunc){bg(O(i,ys));try{S=await this.processFunc(c,S)}catch(N){(N.throttle==null||typeof N.stall!="number")&&S.makeServerError("error in post-processing function",N).assertOk()}}return S}c=b}this.preflightFunc&&(c=await this.preflightFunc(c));const l=await this.getUrlFunc(c,bg(O(i,ys)));let d=new Aa(l.statusCode,l.statusMessage,l.headers,l.body,i);if(d.statusCode===301||d.statusCode===302){try{const b=d.headers.location||"";return Te(h=c.redirect(b),pc,od).call(h,e+1,n,0,i,d)}catch{}return d}else if(d.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,d,e))){const b=d.headers["retry-after"];let S=O(this,to).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof b=="string"&&b.match(/^[1-9][0-9]*$/)&&(S=parseInt(b)),Te(p=c.clone(),pc,od).call(p,e+1,n,S,i,d)}if(this.processFunc){bg(O(i,ys));try{d=await this.processFunc(c,d)}catch(b){(b.throttle==null||typeof b.stall!="number")&&d.makeServerError("error in post-processing function",b).assertOk();let S=O(this,to).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return b.stall>=0&&(S=b.stall),Te(A=c.clone(),pc,od).call(A,e+1,n,S,i,d)}}return d};let Ca=Ep;var Ud,Fd,Hd,Wi,sl,mc;const vE=class vE{constructor(e,n,r,i,o){le(this,Ud,void 0);le(this,Fd,void 0);le(this,Hd,void 0);le(this,Wi,void 0);le(this,sl,void 0);le(this,mc,void 0);J(this,Ud,e),J(this,Fd,n),J(this,Hd,Object.keys(r).reduce((c,u)=>(c[u.toLowerCase()]=String(r[u]),c),{})),J(this,Wi,i==null?null:new Uint8Array(i)),J(this,sl,o||null),J(this,mc,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${O(this,Wi)?Ue(O(this,Wi)):"null"}>`}get statusCode(){return O(this,Ud)}get statusMessage(){return O(this,Fd)}get headers(){return Object.assign({},O(this,Hd))}get body(){return O(this,Wi)==null?null:new Uint8Array(O(this,Wi))}get bodyText(){try{return O(this,Wi)==null?"":rE(O(this,Wi))}catch{Ae(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ae(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new vE(599,r,this.headers,this.body,O(this,sl)||void 0);return J(i,mc,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:ie(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Ve(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return O(this,Wi)!=null}get request(){return O(this,sl)}ok(){return O(this,mc).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=O(this,mc);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),Ae(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n})}};Ud=new WeakMap,Fd=new WeakMap,Hd=new WeakMap,Wi=new WeakMap,sl=new WeakMap,mc=new WeakMap;let Aa=vE;function R_(){return new Date().getTime()}function PW(t){return mo(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function BW(t){return new Promise(e=>setTimeout(e,t))}function LW(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function I_(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function N_(t,e,n,r){const i=[];for(;n<e+1+r;){const o=WI(t,n);i.push(o.result),n+=o.consumed,Ae(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function WI(t,e){Ae(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Ae(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=I_(t,e+1,r);return n(e+1+r+i),N_(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),N_(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=I_(t,e+1,r);n(e+1+r+i);const o=Ue(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=Ue(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:LW(t[e])}}function iE(t){const e=xt(t,"data"),n=WI(e,0);return ie(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function T_(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function jI(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(jI(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=T_(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(xt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=T_(e.length);return n.unshift(183+n.length),n.concat(e)}const O_="0123456789abcdef";function Nd(t){let e="0x";for(const n of jI(t))e+=O_[n>>4],e+=O_[n&15];return e}const cr=32,sy=new Uint8Array(cr),MW=["then"],Eg={};function Xf(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}var aa;const wd=class wd extends Array{constructor(...n){const r=n[0];let i=n[1],o=(n[2]||[]).slice(),c=!0;r!==Eg&&(i=n,o=[],c=!1);super(i.length);le(this,aa,void 0);i.forEach((l,d)=>{this[d]=l});const u=o.reduce((l,d)=>(typeof d=="string"&&l.set(d,(l.get(d)||0)+1),l),new Map);if(J(this,aa,Object.freeze(i.map((l,d)=>{const h=o[d];return h!=null&&u.get(h)===1?h:null}))),!!c)return Object.freeze(this),new Proxy(this,{get:(l,d,h)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const A=at(d,"%index");if(A<0||A>=this.length)throw new RangeError("out of result range");const b=l[A];return b instanceof Error&&Xf(`index ${A}`,b),b}if(MW.indexOf(d)>=0)return Reflect.get(l,d,h);const p=l[d];if(p instanceof Function)return function(...A){return p.apply(this===h?l:this,A)};if(!(d in l))return l.getValue.apply(this===h?l:this,[d])}return Reflect.get(l,d,h)}})}toArray(){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Xf(`index ${i}`,r),n.push(r)}),n}toObject(){return O(this,aa).reduce((n,r,i)=>(Ae(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in n||(n[r]=this.getValue(r)),n),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=[],o=[];for(let c=n;c<r;c++)i.push(this[c]),o.push(O(this,aa)[c]);return new wd(Eg,i,o)}filter(n,r){const i=[],o=[];for(let c=0;c<this.length;c++){const u=this[c];u instanceof Error&&Xf(`index ${c}`,u),n.call(r,u,c,this)&&(i.push(u),o.push(O(this,aa)[c]))}return new wd(Eg,i,o)}map(n,r){const i=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&Xf(`index ${o}`,c),i.push(n.call(r,c,o,this))}return i}getValue(n){const r=O(this,aa).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Xf(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new wd(Eg,n,r)}};aa=new WeakMap;let up=wd;function P_(t){let e=Kr(t);return Ae(e.length<=cr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:cr,offset:e.length}),e.length!==cr&&(e=Ir(gn([sy.slice(e.length%cr),e]))),e}class xo{constructor(e,n,r,i){oe(this,"name");oe(this,"type");oe(this,"localName");oe(this,"dynamic");Ve(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ie(!1,e,this.localName,n)}}var no,wc,ol,Bg;class oy{constructor(){le(this,ol);le(this,no,void 0);le(this,wc,void 0);J(this,no,[]),J(this,wc,0)}get data(){return gn(O(this,no))}get length(){return O(this,wc)}appendWriter(e){return Te(this,ol,Bg).call(this,Ir(e.data))}writeBytes(e){let n=Ir(e);const r=n.length%cr;return r&&(n=Ir(gn([n,sy.slice(r)]))),Te(this,ol,Bg).call(this,n)}writeValue(e){return Te(this,ol,Bg).call(this,P_(e))}writeUpdatableValue(){const e=O(this,no).length;return O(this,no).push(sy),J(this,wc,O(this,wc)+cr),n=>{O(this,no)[e]=P_(n)}}}no=new WeakMap,wc=new WeakMap,ol=new WeakSet,Bg=function(e){return O(this,no).push(e),J(this,wc,O(this,wc)+e.length),e.length};var jr,mi,Ap,VI;const _E=class _E{constructor(e,n){le(this,Ap);oe(this,"allowLoose");le(this,jr,void 0);le(this,mi,void 0);Ve(this,{allowLoose:!!n}),J(this,jr,Ir(e)),J(this,mi,0)}get data(){return Ue(O(this,jr))}get dataLength(){return O(this,jr).length}get consumed(){return O(this,mi)}get bytes(){return new Uint8Array(O(this,jr))}subReader(e){return new _E(O(this,jr).slice(O(this,mi)+e),this.allowLoose)}readBytes(e,n){let r=Te(this,Ap,VI).call(this,0,e,!!n);return J(this,mi,O(this,mi)+r.length),r.slice(0,e)}readValue(){return nE(this.readBytes(cr))}readIndex(){return wW(this.readBytes(cr))}};jr=new WeakMap,mi=new WeakMap,Ap=new WeakSet,VI=function(e,n,r){let i=Math.ceil(n/cr)*cr;return O(this,mi)+i>O(this,jr).length&&(this.allowLoose&&r&&O(this,mi)+n<=O(this,jr).length?i=n:Ae(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ir(O(this,jr)),length:O(this,jr).length,offset:O(this,mi)+i})),O(this,jr).slice(O(this,mi),O(this,mi)+i)};let ay=_E;function lp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function sE(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function kW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");lp(t.outputLen),lp(t.blockLen)}function Vl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zI(t,e){sE(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JI=t=>t instanceof Uint8Array,DW=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ww=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gs=(t,e)=>t<<32-e|t>>>e,$W=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$W)throw new Error("Non little-endian hardware is not supported");function UW(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function E0(t){if(typeof t=="string"&&(t=UW(t)),!JI(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function FW(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!JI(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class oE{clone(){return this._cloneInto()}}function KI(t){const e=r=>t().update(E0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function HW(t=32){if(Ig&&typeof Ig.getRandomValues=="function")return Ig.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class qI extends oE{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kW(e);const r=E0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=e.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(e){return Vl(this),this.iHash.update(e),this}digestInto(e){Vl(this),sE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:c,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QI=(t,e,n)=>new qI(t,e).update(n).digest();QI.create=(t,e)=>new qI(t,e);function GW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),c=Number(n>>i&o),u=Number(n&o),l=r?4:0,d=r?0:4;t.setUint32(e+l,c,r),t.setUint32(e+d,u,r)}class WW extends oE{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ww(this.buffer)}update(e){Vl(this);const{view:n,buffer:r,blockLen:i}=this;e=E0(e);const o=e.length;for(let c=0;c<o;){const u=Math.min(i-this.pos,o-c);if(u===i){const l=ww(e);for(;i<=o-c;c+=i)this.process(l,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vl(this),zI(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let p=c;p<i;p++)n[p]=0;GW(r,i-8,BigInt(this.length*8),o),this.process(r,0);const u=ww(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)u.setUint32(4*p,h[p],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=o,e.destroyed=c,i%n&&e.buffer.set(r),e}}const jW=(t,e,n)=>t&e^~t&n,VW=(t,e,n)=>t&e^t&n^e&n,zW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yo=new Uint32Array(64);class JW extends WW{constructor(){super(64,32,8,!1),this.A=Qo[0]|0,this.B=Qo[1]|0,this.C=Qo[2]|0,this.D=Qo[3]|0,this.E=Qo[4]|0,this.F=Qo[5]|0,this.G=Qo[6]|0,this.H=Qo[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:c,G:u,H:l}=this;return[e,n,r,i,o,c,u,l]}set(e,n,r,i,o,c,u,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=c|0,this.G=u|0,this.H=l|0}process(e,n){for(let p=0;p<16;p++,n+=4)Yo[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const A=Yo[p-15],b=Yo[p-2],S=gs(A,7)^gs(A,18)^A>>>3,N=gs(b,17)^gs(b,19)^b>>>10;Yo[p]=N+Yo[p-7]+S+Yo[p-16]|0}let{A:r,B:i,C:o,D:c,E:u,F:l,G:d,H:h}=this;for(let p=0;p<64;p++){const A=gs(u,6)^gs(u,11)^gs(u,25),b=h+A+jW(u,l,d)+zW[p]+Yo[p]|0,N=(gs(r,2)^gs(r,13)^gs(r,22))+VW(r,i,o)|0;h=d,d=l,l=u,u=c+b|0,c=o,o=i,i=r,r=b+N|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,c=c+this.D|0,u=u+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,o,c,u,l,d,h)}roundClean(){Yo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const KW=KI(()=>new JW),Ag=BigInt(2**32-1),cy=BigInt(32);function YI(t,e=!1){return e?{h:Number(t&Ag),l:Number(t>>cy&Ag)}:{h:Number(t>>cy&Ag)|0,l:Number(t&Ag)|0}}function XI(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:c}=YI(t[i],e);[n[i],r[i]]=[o,c]}return[n,r]}const qW=(t,e)=>BigInt(t>>>0)<<cy|BigInt(e>>>0),QW=(t,e,n)=>t>>>n,YW=(t,e,n)=>t<<32-n|e>>>n,XW=(t,e,n)=>t>>>n|e<<32-n,ZW=(t,e,n)=>t<<32-n|e>>>n,ej=(t,e,n)=>t<<64-n|e>>>n-32,tj=(t,e,n)=>t>>>n-32|e<<64-n,nj=(t,e)=>e,rj=(t,e)=>t,ZI=(t,e,n)=>t<<n|e>>>32-n,eN=(t,e,n)=>e<<n|t>>>32-n,tN=(t,e,n)=>e<<n-32|t>>>64-n,nN=(t,e,n)=>t<<n-32|e>>>64-n;function ij(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const sj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),oj=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,aj=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),cj=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,uj=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),lj=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,fj={fromBig:YI,split:XI,toBig:qW,shrSH:QW,shrSL:YW,rotrSH:XW,rotrSL:ZW,rotrBH:ej,rotrBL:tj,rotr32H:nj,rotr32L:rj,rotlSH:ZI,rotlSL:eN,rotlBH:tN,rotlBL:nN,add:ij,add3L:sj,add3H:oj,add4L:aj,add4H:cj,add5H:lj,add5L:uj},rK=fj,[rN,iN,sN]=[[],[],[]],dj=BigInt(0),Zf=BigInt(1),hj=BigInt(2),gj=BigInt(7),pj=BigInt(256),mj=BigInt(113);for(let t=0,e=Zf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],rN.push(2*(5*r+n)),iN.push((t+1)*(t+2)/2%64);let i=dj;for(let o=0;o<7;o++)e=(e<<Zf^(e>>gj)*mj)%pj,e&hj&&(i^=Zf<<(Zf<<BigInt(o))-Zf);sN.push(i)}const[wj,yj]=XI(sN,!0),B_=(t,e,n)=>n>32?tN(t,e,n):ZI(t,e,n),L_=(t,e,n)=>n>32?nN(t,e,n):eN(t,e,n);function bj(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,l=(c+2)%10,d=n[l],h=n[l+1],p=B_(d,h,1)^n[u],A=L_(d,h,1)^n[u+1];for(let b=0;b<50;b+=10)t[c+b]^=p,t[c+b+1]^=A}let i=t[2],o=t[3];for(let c=0;c<24;c++){const u=iN[c],l=B_(i,o,u),d=L_(i,o,u),h=rN[c];i=t[h],o=t[h+1],t[h]=l,t[h+1]=d}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=wj[r],t[1]^=yj[r]}n.fill(0)}class aE extends oE{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lp(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=DW(this.state)}keccak(){bj(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Vl(this);const{blockLen:n,state:r}=this;e=E0(e);const i=e.length;for(let o=0;o<i;){const c=Math.min(n-this.pos,i-o);for(let u=0;u<c;u++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Vl(this,!1),sE(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:c}=this;return e||(e=new aE(n,r,i,c,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const Ej=(t,e,n)=>KI(()=>new aE(e,t,n)),Aj=Ej(1,136,256/8);let oN=!1;const aN=function(t){return Aj(t)};let cN=aN;function zt(t){const e=xt(t,"data");return Ue(cN(e))}zt._=aN;zt.lock=function(){oN=!0};zt.register=function(t){if(oN)throw new TypeError("keccak256 is locked");cN=t};Object.freeze(zt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uN=BigInt(0),A0=BigInt(1),vj=BigInt(2),v0=t=>t instanceof Uint8Array,_j=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zl(t){if(!v0(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=_j[t[n]];return e}function lN(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function cE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Jl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function Oc(t){return cE(zl(t))}function uE(t){if(!v0(t))throw new Error("Uint8Array expected");return cE(zl(Uint8Array.from(t).reverse()))}function Kl(t,e){return Jl(t.toString(16).padStart(e*2,"0"))}function lE(t,e){return Kl(t,e).reverse()}function Sj(t){return Jl(lN(t))}function Hi(t,e,n){let r;if(typeof e=="string")try{r=Jl(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(v0(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Td(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!v0(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Cj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function xj(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Rj(t){let e;for(e=0;t>uN;t>>=A0,e+=1);return e}function Ij(t,e){return t>>BigInt(e)&A0}const Nj=(t,e,n)=>t|(n?A0:uN)<<BigInt(e),fE=t=>(vj<<BigInt(t-1))-A0,yw=t=>new Uint8Array(t),M_=t=>Uint8Array.from(t);function fN(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=yw(t),i=yw(t),o=0;const c=()=>{r.fill(1),i.fill(0),o=0},u=(...p)=>n(i,r,...p),l=(p=yw())=>{i=u(M_([0]),p),r=u(),p.length!==0&&(i=u(M_([1]),p),r=u())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){r=u();const b=r.slice();A.push(b),p+=r.length}return Td(...A)};return(p,A)=>{c(),l(p);let b;for(;!(b=A(d()));)l();return c(),b}}const Tj={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function mh(t,e,n={}){const r=(i,o,c)=>{const u=Tj[o];if(typeof u!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(c&&l===void 0)&&!u(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const Oj=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Ij,bitLen:Rj,bitMask:fE,bitSet:Nj,bytesToHex:zl,bytesToNumberBE:Oc,bytesToNumberLE:uE,concatBytes:Td,createHmacDrbg:fN,ensureBytes:Hi,equalBytes:Cj,hexToBytes:Jl,hexToNumber:cE,numberToBytesBE:Kl,numberToBytesLE:lE,numberToHexUnpadded:lN,numberToVarBytesBE:Sj,utf8ToBytes:xj,validateObject:mh},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const In=BigInt(0),Wt=BigInt(1),rc=BigInt(2),Pj=BigInt(3),uy=BigInt(4),k_=BigInt(5),D_=BigInt(8);BigInt(9);BigInt(16);function sr(t,e){const n=t%e;return n>=In?n:e+n}function Bj(t,e,n){if(n<=In||e<In)throw new Error("Expected power/modulo > 0");if(n===Wt)return In;let r=Wt;for(;e>In;)e&Wt&&(r=r*t%n),t=t*t%n,e>>=Wt;return r}function ci(t,e,n){let r=t;for(;e-- >In;)r*=r,r%=n;return r}function ly(t,e){if(t===In||e<=In)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=sr(t,e),r=e,i=In,o=Wt;for(;n!==In;){const u=r/n,l=r%n,d=i-o*u;r=n,n=l,i=o,o=d}if(r!==Wt)throw new Error("invert: does not exist");return sr(i,e)}function Lj(t){const e=(t-Wt)/rc;let n,r,i;for(n=t-Wt,r=0;n%rc===In;n/=rc,r++);for(i=rc;i<t&&Bj(i,e,t)!==t-Wt;i++);if(r===1){const c=(t+Wt)/uy;return function(l,d){const h=l.pow(d,c);if(!l.eql(l.sqr(h),d))throw new Error("Cannot find square root");return h}}const o=(n+Wt)/rc;return function(u,l){if(u.pow(l,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let d=r,h=u.pow(u.mul(u.ONE,i),n),p=u.pow(l,o),A=u.pow(l,n);for(;!u.eql(A,u.ONE);){if(u.eql(A,u.ZERO))return u.ZERO;let b=1;for(let N=u.sqr(A);b<d&&!u.eql(N,u.ONE);b++)N=u.sqr(N);const S=u.pow(h,Wt<<BigInt(d-b-1));h=u.sqr(S),p=u.mul(p,S),A=u.mul(A,h),d=b}return p}}function Mj(t){if(t%uy===Pj){const e=(t+Wt)/uy;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%D_===k_){const e=(t-k_)/D_;return function(r,i){const o=r.mul(i,rc),c=r.pow(o,e),u=r.mul(i,c),l=r.mul(r.mul(u,rc),c),d=r.mul(u,r.sub(l,r.ONE));if(!r.eql(r.sqr(d),i))throw new Error("Cannot find square root");return d}}return Lj(t)}const iK=(t,e)=>(sr(t,e)&Wt)===Wt,kj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Dj(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kj.reduce((r,i)=>(r[i]="function",r),e);return mh(t,n)}function $j(t,e,n){if(n<In)throw new Error("Expected power > 0");if(n===In)return t.ONE;if(n===Wt)return e;let r=t.ONE,i=e;for(;n>In;)n&Wt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Wt;return r}function Uj(t,e){const n=new Array(e.length),r=e.reduce((o,c,u)=>t.is0(c)?o:(n[u]=o,t.mul(o,c)),t.ONE),i=t.inv(r);return e.reduceRight((o,c,u)=>t.is0(c)?o:(n[u]=t.mul(o,n[u]),t.mul(o,c)),i),n}function dN(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fj(t,e,n=!1,r={}){if(t<=In)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=dN(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=Mj(t),u=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:fE(i),ZERO:In,ONE:Wt,create:l=>sr(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return In<=l&&l<t},is0:l=>l===In,isOdd:l=>(l&Wt)===Wt,neg:l=>sr(-l,t),eql:(l,d)=>l===d,sqr:l=>sr(l*l,t),add:(l,d)=>sr(l+d,t),sub:(l,d)=>sr(l-d,t),mul:(l,d)=>sr(l*d,t),pow:(l,d)=>$j(u,l,d),div:(l,d)=>sr(l*ly(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>ly(l,t),sqrt:r.sqrt||(l=>c(u,l)),invertBatch:l=>Uj(u,l),cmov:(l,d,h)=>h?d:l,toBytes:l=>n?lE(l,o):Kl(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?uE(l):Oc(l)}});return Object.freeze(u)}function sK(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function hN(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function gN(t){const e=hN(t);return e+Math.ceil(e/2)}function Hj(t,e,n=!1){const r=t.length,i=hN(e),o=gN(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const c=n?Oc(t):uE(t),u=sr(c,e-Wt)+Wt;return n?lE(u,i):Kl(u,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gj=BigInt(0),bw=BigInt(1);function Wj(t,e){const n=(i,o)=>{const c=o.negate();return i?c:o},r=i=>{const o=Math.ceil(e/i)+1,c=2**(i-1);return{windows:o,windowSize:c}};return{constTimeNegate:n,unsafeLadder(i,o){let c=t.ZERO,u=i;for(;o>Gj;)o&bw&&(c=c.add(u)),u=u.double(),o>>=bw;return c},precomputeWindow(i,o){const{windows:c,windowSize:u}=r(o),l=[];let d=i,h=d;for(let p=0;p<c;p++){h=d,l.push(h);for(let A=1;A<u;A++)h=h.add(d),l.push(h);d=h.double()}return l},wNAF(i,o,c){const{windows:u,windowSize:l}=r(i);let d=t.ZERO,h=t.BASE;const p=BigInt(2**i-1),A=2**i,b=BigInt(i);for(let S=0;S<u;S++){const N=S*l;let M=Number(c&p);c>>=b,M>l&&(M-=A,c+=bw);const $=N,C=N+Math.abs(M)-1,ee=S%2!==0,ae=M<0;M===0?h=h.add(n(ee,o[$])):d=d.add(n(ae,o[C]))}return{p:d,f:h}},wNAFCached(i,o,c,u){const l=i._WINDOW_SIZE||1;let d=o.get(i);return d||(d=this.precomputeWindow(i,l),l!==1&&o.set(i,u(d))),this.wNAF(l,d,c)}}}function pN(t){return Dj(t.Fp),mh(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dN(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jj(t){const e=pN(t);mh(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Vj,hexToBytes:zj}=Oj,cc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=cc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Vj(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=cc,n=typeof t=="string"?zj(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=cc._parseInt(n.subarray(2)),{d:c,l:u}=cc._parseInt(o);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(t){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,n=d=>{const h=d.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,c=i.length/2,u=n(o),l=n(c);return`30${n(c+o+4)}02${l}${i}02${u}${r}`}},ho=BigInt(0),Ei=BigInt(1);BigInt(2);const $_=BigInt(3);BigInt(4);function Jj(t){const e=jj(t),{Fp:n}=e,r=e.toBytes||((S,N,M)=>{const $=N.toAffine();return Td(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),i=e.fromBytes||(S=>{const N=S.subarray(1),M=n.fromBytes(N.subarray(0,n.BYTES)),$=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:M,y:$}});function o(S){const{a:N,b:M}=e,$=n.sqr(S),C=n.mul($,S);return n.add(n.add(C,n.mul(S,N)),M)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function c(S){return typeof S=="bigint"&&ho<S&&S<e.n}function u(S){if(!c(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(S){const{allowedPrivateKeyLengths:N,nByteLength:M,wrapPrivateKey:$,n:C}=e;if(N&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=zl(S)),typeof S!="string"||!N.includes(S.length))throw new Error("Invalid key");S=S.padStart(M*2,"0")}let ee;try{ee=typeof S=="bigint"?S:Oc(Hi("private key",S,M))}catch{throw new Error(`private key must be ${M} bytes, hex or bigint, not ${typeof S}`)}return $&&(ee=sr(ee,C)),u(ee),ee}const d=new Map;function h(S){if(!(S instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(N,M,$){if(this.px=N,this.py=M,this.pz=$,N==null||!n.isValid(N))throw new Error("x required");if(M==null||!n.isValid(M))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required")}static fromAffine(N){const{x:M,y:$}=N||{};if(!N||!n.isValid(M)||!n.isValid($))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");const C=ee=>n.eql(ee,n.ZERO);return C(M)&&C($)?p.ZERO:new p(M,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const M=n.invertBatch(N.map($=>$.pz));return N.map(($,C)=>$.toAffine(M[C])).map(p.fromAffine)}static fromHex(N){const M=p.fromAffine(i(Hi("pointHex",N)));return M.assertValidity(),M}static fromPrivateKey(N){return p.BASE.multiply(l(N))}_setWindowSize(N){this._WINDOW_SIZE=N,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:N,y:M}=this.toAffine();if(!n.isValid(N)||!n.isValid(M))throw new Error("bad point: x or y not FE");const $=n.sqr(M),C=o(N);if(!n.eql($,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:N}=this.toAffine();if(n.isOdd)return!n.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){h(N);const{px:M,py:$,pz:C}=this,{px:ee,py:ae,pz:se}=N,V=n.eql(n.mul(M,se),n.mul(ee,C)),Y=n.eql(n.mul($,se),n.mul(ae,C));return V&&Y}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:M}=e,$=n.mul(M,$_),{px:C,py:ee,pz:ae}=this;let se=n.ZERO,V=n.ZERO,Y=n.ZERO,w=n.mul(C,C),x=n.mul(ee,ee),v=n.mul(ae,ae),I=n.mul(C,ee);return I=n.add(I,I),Y=n.mul(C,ae),Y=n.add(Y,Y),se=n.mul(N,Y),V=n.mul($,v),V=n.add(se,V),se=n.sub(x,V),V=n.add(x,V),V=n.mul(se,V),se=n.mul(I,se),Y=n.mul($,Y),v=n.mul(N,v),I=n.sub(w,v),I=n.mul(N,I),I=n.add(I,Y),Y=n.add(w,w),w=n.add(Y,w),w=n.add(w,v),w=n.mul(w,I),V=n.add(V,w),v=n.mul(ee,ae),v=n.add(v,v),w=n.mul(v,I),se=n.sub(se,w),Y=n.mul(v,x),Y=n.add(Y,Y),Y=n.add(Y,Y),new p(se,V,Y)}add(N){h(N);const{px:M,py:$,pz:C}=this,{px:ee,py:ae,pz:se}=N;let V=n.ZERO,Y=n.ZERO,w=n.ZERO;const x=e.a,v=n.mul(e.b,$_);let I=n.mul(M,ee),P=n.mul($,ae),R=n.mul(C,se),D=n.add(M,$),m=n.add(ee,ae);D=n.mul(D,m),m=n.add(I,P),D=n.sub(D,m),m=n.add(M,C);let E=n.add(ee,se);return m=n.mul(m,E),E=n.add(I,R),m=n.sub(m,E),E=n.add($,C),V=n.add(ae,se),E=n.mul(E,V),V=n.add(P,R),E=n.sub(E,V),w=n.mul(x,m),V=n.mul(v,R),w=n.add(V,w),V=n.sub(P,w),w=n.add(P,w),Y=n.mul(V,w),P=n.add(I,I),P=n.add(P,I),R=n.mul(x,R),m=n.mul(v,m),P=n.add(P,R),R=n.sub(I,R),R=n.mul(x,R),m=n.add(m,R),I=n.mul(P,m),Y=n.add(Y,I),I=n.mul(E,m),V=n.mul(D,V),V=n.sub(V,I),I=n.mul(D,P),w=n.mul(E,w),w=n.add(w,I),new p(V,Y,w)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return b.wNAFCached(this,d,N,M=>{const $=n.invertBatch(M.map(C=>C.pz));return M.map((C,ee)=>C.toAffine($[ee])).map(p.fromAffine)})}multiplyUnsafe(N){const M=p.ZERO;if(N===ho)return M;if(u(N),N===Ei)return this;const{endo:$}=e;if(!$)return b.unsafeLadder(this,N);let{k1neg:C,k1:ee,k2neg:ae,k2:se}=$.splitScalar(N),V=M,Y=M,w=this;for(;ee>ho||se>ho;)ee&Ei&&(V=V.add(w)),se&Ei&&(Y=Y.add(w)),w=w.double(),ee>>=Ei,se>>=Ei;return C&&(V=V.negate()),ae&&(Y=Y.negate()),Y=new p(n.mul(Y.px,$.beta),Y.py,Y.pz),V.add(Y)}multiply(N){u(N);let M=N,$,C;const{endo:ee}=e;if(ee){const{k1neg:ae,k1:se,k2neg:V,k2:Y}=ee.splitScalar(M);let{p:w,f:x}=this.wNAF(se),{p:v,f:I}=this.wNAF(Y);w=b.constTimeNegate(ae,w),v=b.constTimeNegate(V,v),v=new p(n.mul(v.px,ee.beta),v.py,v.pz),$=w.add(v),C=x.add(I)}else{const{p:ae,f:se}=this.wNAF(M);$=ae,C=se}return p.normalizeZ([$,C])[0]}multiplyAndAddUnsafe(N,M,$){const C=p.BASE,ee=(se,V)=>V===ho||V===Ei||!se.equals(C)?se.multiplyUnsafe(V):se.multiply(V),ae=ee(this,M).add(ee(N,$));return ae.is0()?void 0:ae}toAffine(N){const{px:M,py:$,pz:C}=this,ee=this.is0();N==null&&(N=ee?n.ONE:n.inv(C));const ae=n.mul(M,N),se=n.mul($,N),V=n.mul(C,N);if(ee)return{x:n.ZERO,y:n.ZERO};if(!n.eql(V,n.ONE))throw new Error("invZ was invalid");return{x:ae,y:se}}isTorsionFree(){const{h:N,isTorsionFree:M}=e;if(N===Ei)return!0;if(M)return M(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:M}=e;return N===Ei?this:M?M(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),r(p,this,N)}toHex(N=!0){return zl(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const A=e.nBitLength,b=Wj(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:c}}function Kj(t){const e=pN(t);return mh(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qj(t){const e=Kj(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function c(m){return ho<m&&m<n.ORDER}function u(m){return sr(m,r)}function l(m){return ly(m,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:A}=Jj({...e,toBytes(m,E,B){const k=E.toAffine(),j=n.toBytes(k.x),z=Td;return B?z(Uint8Array.from([E.hasEvenY()?2:3]),j):z(Uint8Array.from([4]),j,n.toBytes(k.y))},fromBytes(m){const E=m.length,B=m[0],k=m.subarray(1);if(E===i&&(B===2||B===3)){const j=Oc(k);if(!c(j))throw new Error("Point is not on curve");const z=p(j);let te=n.sqrt(z);const he=(te&Ei)===Ei;return(B&1)===1!==he&&(te=n.neg(te)),{x:j,y:te}}else if(E===o&&B===4){const j=n.fromBytes(k.subarray(0,n.BYTES)),z=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:j,y:z}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),b=m=>zl(Kl(m,e.nByteLength));function S(m){const E=r>>Ei;return m>E}function N(m){return S(m)?u(-m):m}const M=(m,E,B)=>Oc(m.slice(E,B));class ${constructor(E,B,k){this.r=E,this.s=B,this.recovery=k,this.assertValidity()}static fromCompact(E){const B=e.nByteLength;return E=Hi("compactSignature",E,B*2),new $(M(E,0,B),M(E,B,2*B))}static fromDER(E){const{r:B,s:k}=cc.toSig(Hi("DER",E));return new $(B,k)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new $(this.r,this.s,E)}recoverPublicKey(E){const{r:B,s:k,recovery:j}=this,z=Y(Hi("msgHash",E));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const te=j===2||j===3?B+e.n:B;if(te>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const he=j&1?"03":"02",Ee=d.fromHex(he+b(te)),Ce=l(te),be=u(-z*Ce),Be=u(k*Ce),He=d.BASE.multiplyAndAddUnsafe(Ee,be,Be);if(!He)throw new Error("point at infinify");return He.assertValidity(),He}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Jl(this.toDERHex())}toDERHex(){return cc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Jl(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const C={isValidPrivateKey(m){try{return h(m),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const m=gN(e.n);return Hj(e.randomBytes(m),e.n)},precompute(m=8,E=d.BASE){return E._setWindowSize(m),E.multiply(BigInt(3)),E}};function ee(m,E=!0){return d.fromPrivateKey(m).toRawBytes(E)}function ae(m){const E=m instanceof Uint8Array,B=typeof m=="string",k=(E||B)&&m.length;return E?k===i||k===o:B?k===2*i||k===2*o:m instanceof d}function se(m,E,B=!0){if(ae(m))throw new Error("first arg must be private key");if(!ae(E))throw new Error("second arg must be public key");return d.fromHex(E).multiply(h(m)).toRawBytes(B)}const V=e.bits2int||function(m){const E=Oc(m),B=m.length*8-e.nBitLength;return B>0?E>>BigInt(B):E},Y=e.bits2int_modN||function(m){return u(V(m))},w=fE(e.nBitLength);function x(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(ho<=m&&m<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Kl(m,e.nByteLength)}function v(m,E,B=I){if(["recovered","canonical"].some(tt=>tt in B))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:j}=e;let{lowS:z,prehash:te,extraEntropy:he}=B;z==null&&(z=!0),m=Hi("msgHash",m),te&&(m=Hi("prehashed msgHash",k(m)));const Ee=Y(m),Ce=h(E),be=[x(Ce),x(Ee)];if(he!=null){const tt=he===!0?j(n.BYTES):he;be.push(Hi("extraEntropy",tt))}const Be=Td(...be),He=Ee;function qe(tt){const vt=V(tt);if(!A(vt))return;const gt=l(vt),st=d.BASE.multiply(vt).toAffine(),q=u(st.x);if(q===ho)return;const Q=u(gt*u(He+q*Ce));if(Q===ho)return;let ue=(st.x===q?0:2)|Number(st.y&Ei),Ie=Q;return z&&S(Q)&&(Ie=N(Q),ue^=1),new $(q,Ie,ue)}return{seed:Be,k2sig:qe}}const I={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function R(m,E,B=I){const{seed:k,k2sig:j}=v(m,E,B),z=e;return fN(z.hash.outputLen,z.nByteLength,z.hmac)(k,j)}d.BASE._setWindowSize(8);function D(m,E,B,k=P){var st;const j=m;if(E=Hi("msgHash",E),B=Hi("publicKey",B),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:z,prehash:te}=k;let he,Ee;try{if(typeof j=="string"||j instanceof Uint8Array)try{he=$.fromDER(j)}catch(q){if(!(q instanceof cc.Err))throw q;he=$.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){const{r:q,s:Q}=j;he=new $(q,Q)}else throw new Error("PARSE");Ee=d.fromHex(B)}catch(q){if(q.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(z&&he.hasHighS())return!1;te&&(E=e.hash(E));const{r:Ce,s:be}=he,Be=Y(E),He=l(be),qe=u(Be*He),tt=u(Ce*He),vt=(st=d.BASE.multiplyAndAddUnsafe(Ee,qe,tt))==null?void 0:st.toAffine();return vt?u(vt.x)===Ce:!1}return{CURVE:e,getPublicKey:ee,getSharedSecret:se,sign:R,verify:D,ProjectivePoint:d,Signature:$,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qj(t){return{hash:t,hmac:(e,...n)=>QI(t,e,FW(...n)),randomBytes:HW}}function Yj(t,e){const n=r=>qj({...t,...Qj(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mN=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),U_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xj=BigInt(1),fy=BigInt(2),F_=(t,e)=>(t+e/fy)/e;function Zj(t){const e=mN,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),c=BigInt(23),u=BigInt(44),l=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=ci(h,n,e)*h%e,A=ci(p,n,e)*h%e,b=ci(A,fy,e)*d%e,S=ci(b,i,e)*b%e,N=ci(S,o,e)*S%e,M=ci(N,u,e)*N%e,$=ci(M,l,e)*M%e,C=ci($,u,e)*N%e,ee=ci(C,n,e)*h%e,ae=ci(ee,c,e)*S%e,se=ci(ae,r,e)*d%e,V=ci(se,fy,e);if(!dy.eql(dy.sqr(V),t))throw new Error("Cannot find square root");return V}const dy=Fj(mN,void 0,void 0,{sqrt:Zj}),ea=Yj({a:BigInt(0),b:BigInt(7),Fp:dy,n:U_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=U_,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Xj*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,c=BigInt("0x100000000000000000000000000000000"),u=F_(o*t,e),l=F_(-r*t,e);let d=sr(t-u*n-l*i,e),h=sr(-u*r-l*o,e);const p=d>c,A=h>c;if(p&&(d=e-d),A&&(h=e-h),d>c||h>c)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:A,k2:h}}}},KW);BigInt(0);ea.ProjectivePoint;const hy="0x0000000000000000000000000000000000000000",H_="0x0000000000000000000000000000000000000000000000000000000000000000",G_=BigInt(0),W_=BigInt(1),j_=BigInt(2),V_=BigInt(27),z_=BigInt(28),vg=BigInt(35),Ou={};function J_(t){return $c(Kr(t),32)}var al,cl,ul,yc;const Fi=class Fi{constructor(e,n,r,i){le(this,al,void 0);le(this,cl,void 0);le(this,ul,void 0);le(this,yc,void 0);w0(e,Ou,"Signature"),J(this,al,n),J(this,cl,r),J(this,ul,i),J(this,yc,null)}get r(){return O(this,al)}set r(e){ie(Xu(e)===32,"invalid r","value",e),J(this,al,Ue(e))}get s(){return O(this,cl)}set s(e){ie(Xu(e)===32,"invalid s","value",e);const n=Ue(e);ie(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),J(this,cl,n)}get v(){return O(this,ul)}set v(e){const n=at(e,"value");ie(n===27||n===28,"invalid v","v",e),J(this,ul,n)}get networkV(){return O(this,yc)}get legacyChainId(){const e=this.networkV;return e==null?null:Fi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=xt(this.s);return this.yParity&&(e[0]|=128),Ue(e)}get compactSerialized(){return gn([this.r,this.yParityAndS])}get serialized(){return gn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Fi(Ou,this.r,this.s,this.v);return this.networkV&&J(e,yc,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=Fe(e,"v");return n==V_||n==z_?G_:(ie(n>=vg,"invalid EIP-155 v","v",e),(n-vg)/j_)}static getChainIdV(e,n){return Fe(e)*j_+BigInt(35+n-27)}static getNormalizedV(e){const n=Fe(e);return n===G_||n===V_?27:n===W_||n===z_?28:(ie(n>=vg,"invalid v","v",e),n&W_?27:28)}static from(e){function n(d,h){ie(d,h,"signature",e)}if(e==null)return new Fi(Ou,H_,H_,27);if(typeof e=="string"){const d=xt(e,"signature");if(d.length===64){const h=Ue(d.slice(0,32)),p=d.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new Fi(Ou,h,Ue(p),A)}if(d.length===65){const h=Ue(d.slice(0,32)),p=d.slice(32,64);n((p[0]&128)===0,"non-canonical s");const A=Fi.getNormalizedV(d[64]);return new Fi(Ou,h,Ue(p),A)}n(!1,"invalid raw signature length")}if(e instanceof Fi)return e.clone();const r=e.r;n(r!=null,"missing r");const i=J_(r),o=function(d,h){if(d!=null)return J_(d);if(h!=null){n(Kt(h,32),"invalid yParityAndS");const p=xt(h);return p[0]&=127,Ue(p)}n(!1,"missing s")}(e.s,e.yParityAndS);n((xt(o)[0]&128)==0,"non-canonical s");const{networkV:c,v:u}=function(d,h,p){if(d!=null){const A=Fe(d);return{networkV:A>=vg?A:void 0,v:Fi.getNormalizedV(A)}}if(h!=null)return n(Kt(h,32),"invalid yParityAndS"),{v:xt(h)[0]&128?28:27};if(p!=null){switch(at(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Fi(Ou,i,o,u);return c&&J(l,yc,c),n(e.yParity==null||at(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};al=new WeakMap,cl=new WeakMap,ul=new WeakMap,yc=new WeakMap;let Yi=Fi;var ro;const ic=class ic{constructor(e){le(this,ro,void 0);ie(Xu(e)===32,"invalid private key","privateKey","[REDACTED]"),J(this,ro,Ue(e))}get privateKey(){return O(this,ro)}get publicKey(){return ic.computePublicKey(O(this,ro))}get compressedPublicKey(){return ic.computePublicKey(O(this,ro),!0)}sign(e){ie(Xu(e)===32,"invalid digest length","digest",e);const n=ea.sign(Ir(e),Ir(O(this,ro)),{lowS:!0});return Yi.from({r:Sa(n.r,32),s:Sa(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ic.computePublicKey(e);return Ue(ea.getSharedSecret(Ir(O(this,ro)),xt(n),!1))}static computePublicKey(e,n){let r=xt(e,"key");if(r.length===32){const o=ea.getPublicKey(r,!!n);return Ue(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=ea.ProjectivePoint.fromHex(r);return Ue(i.toRawBytes(n))}static recoverPublicKey(e,n){ie(Xu(e)===32,"invalid digest length","digest",e);const r=Yi.from(n);let i=ea.Signature.fromCompact(Ir(gn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(Ir(e));return ie(o!=null,"invalid signautre for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=ea.ProjectivePoint.fromHex(ic.computePublicKey(e).substring(2)),o=ea.ProjectivePoint.fromHex(ic.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}};ro=new WeakMap;let Od=ic;const eV=BigInt(0),tV=BigInt(36);function K_(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=xt(zt(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const dE={};for(let t=0;t<10;t++)dE[String(t)]=String(t);for(let t=0;t<26;t++)dE[String.fromCharCode(65+t)]=String(10+t);const q_=15;function nV(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>dE[r]).join("");for(;e.length>=q_;){let r=e.substring(0,q_);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const rV=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function iV(t){t=t.toLowerCase();let e=eV;for(let n=0;n<t.length;n++)e=e*tV+rV[t[n]];return e}function At(t){if(ie(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=K_(t);return ie(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ie(t.substring(2,4)===nV(t),"bad icap checksum","address",t);let e=iV(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return K_("0x"+e)}ie(!1,"invalid address","address",t)}function sV(t){const e=At(t.from);let r=Fe(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,At(Zt(zt(Nd([e,r])),12))}function wN(t){return t&&typeof t.getAddress=="function"}async function Ew(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Ae(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ie(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),At(n)}function ur(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?At(t):(Ae(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Ew(t,e.resolveName(t)));if(wN(t))return Ew(t,t.getAddress());if(t&&typeof t.then=="function")return Ew(t,t);ie(!1,"unsupported addressable value","target",t)}const Ks={};function Pe(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new qn(Ks,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function wt(t,e){return new qn(Ks,`bytes${e||""}`,t,{size:e})}const Q_=Symbol.for("_ethers_typed");var bc;const qs=class qs{constructor(e,n,r,i){oe(this,"type");oe(this,"value");le(this,bc,void 0);oe(this,"_typedSymbol");i==null&&(i=null),w0(Ks,e,"Typed"),Ve(this,{_typedSymbol:Q_,type:n,value:r}),J(this,bc,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return O(this,bc)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return O(this,bc)===!0?-1:O(this,bc)===!1?this.value.length:null}static from(e,n){return new qs(Ks,e,n)}static uint8(e){return Pe(e,8)}static uint16(e){return Pe(e,16)}static uint24(e){return Pe(e,24)}static uint32(e){return Pe(e,32)}static uint40(e){return Pe(e,40)}static uint48(e){return Pe(e,48)}static uint56(e){return Pe(e,56)}static uint64(e){return Pe(e,64)}static uint72(e){return Pe(e,72)}static uint80(e){return Pe(e,80)}static uint88(e){return Pe(e,88)}static uint96(e){return Pe(e,96)}static uint104(e){return Pe(e,104)}static uint112(e){return Pe(e,112)}static uint120(e){return Pe(e,120)}static uint128(e){return Pe(e,128)}static uint136(e){return Pe(e,136)}static uint144(e){return Pe(e,144)}static uint152(e){return Pe(e,152)}static uint160(e){return Pe(e,160)}static uint168(e){return Pe(e,168)}static uint176(e){return Pe(e,176)}static uint184(e){return Pe(e,184)}static uint192(e){return Pe(e,192)}static uint200(e){return Pe(e,200)}static uint208(e){return Pe(e,208)}static uint216(e){return Pe(e,216)}static uint224(e){return Pe(e,224)}static uint232(e){return Pe(e,232)}static uint240(e){return Pe(e,240)}static uint248(e){return Pe(e,248)}static uint256(e){return Pe(e,256)}static uint(e){return Pe(e,256)}static int8(e){return Pe(e,-8)}static int16(e){return Pe(e,-16)}static int24(e){return Pe(e,-24)}static int32(e){return Pe(e,-32)}static int40(e){return Pe(e,-40)}static int48(e){return Pe(e,-48)}static int56(e){return Pe(e,-56)}static int64(e){return Pe(e,-64)}static int72(e){return Pe(e,-72)}static int80(e){return Pe(e,-80)}static int88(e){return Pe(e,-88)}static int96(e){return Pe(e,-96)}static int104(e){return Pe(e,-104)}static int112(e){return Pe(e,-112)}static int120(e){return Pe(e,-120)}static int128(e){return Pe(e,-128)}static int136(e){return Pe(e,-136)}static int144(e){return Pe(e,-144)}static int152(e){return Pe(e,-152)}static int160(e){return Pe(e,-160)}static int168(e){return Pe(e,-168)}static int176(e){return Pe(e,-176)}static int184(e){return Pe(e,-184)}static int192(e){return Pe(e,-192)}static int200(e){return Pe(e,-200)}static int208(e){return Pe(e,-208)}static int216(e){return Pe(e,-216)}static int224(e){return Pe(e,-224)}static int232(e){return Pe(e,-232)}static int240(e){return Pe(e,-240)}static int248(e){return Pe(e,-248)}static int256(e){return Pe(e,-256)}static int(e){return Pe(e,-256)}static bytes1(e){return wt(e,1)}static bytes2(e){return wt(e,2)}static bytes3(e){return wt(e,3)}static bytes4(e){return wt(e,4)}static bytes5(e){return wt(e,5)}static bytes6(e){return wt(e,6)}static bytes7(e){return wt(e,7)}static bytes8(e){return wt(e,8)}static bytes9(e){return wt(e,9)}static bytes10(e){return wt(e,10)}static bytes11(e){return wt(e,11)}static bytes12(e){return wt(e,12)}static bytes13(e){return wt(e,13)}static bytes14(e){return wt(e,14)}static bytes15(e){return wt(e,15)}static bytes16(e){return wt(e,16)}static bytes17(e){return wt(e,17)}static bytes18(e){return wt(e,18)}static bytes19(e){return wt(e,19)}static bytes20(e){return wt(e,20)}static bytes21(e){return wt(e,21)}static bytes22(e){return wt(e,22)}static bytes23(e){return wt(e,23)}static bytes24(e){return wt(e,24)}static bytes25(e){return wt(e,25)}static bytes26(e){return wt(e,26)}static bytes27(e){return wt(e,27)}static bytes28(e){return wt(e,28)}static bytes29(e){return wt(e,29)}static bytes30(e){return wt(e,30)}static bytes31(e){return wt(e,31)}static bytes32(e){return wt(e,32)}static address(e){return new qs(Ks,"address",e)}static bool(e){return new qs(Ks,"bool",!!e)}static bytes(e){return new qs(Ks,"bytes",e)}static string(e){return new qs(Ks,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new qs(Ks,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Q_}static dereference(e,n){if(qs.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};bc=new WeakMap;let qn=qs;class oV extends xo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=qn.dereference(n,"string");try{r=At(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return At(Sa(e.readValue(),20))}}class aV extends xo{constructor(n){super(n.name,n.type,"_",n.dynamic);oe(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function yN(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(d=>{const h=d.localName;return Ae(h,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:n}),Ae(!l[h],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:n}),l[h]=!0,n[h]})}else ie(!1,"invalid tuple value","tuple",n);ie(e.length===r.length,"types/value length mismatch","tuple",n);let i=new oy,o=new oy,c=[];e.forEach((l,d)=>{let h=r[d];if(l.dynamic){let p=o.length;l.encode(o,h);let A=i.writeUpdatableValue();c.push(b=>{A(b+p)})}else l.encode(i,h)}),c.forEach(l=>{l(i.length)});let u=t.appendWriter(i);return u+=t.appendWriter(o),u}function bN(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let c=null;if(o.dynamic){let u=t.readIndex(),l=i.subReader(u);try{c=o.decode(l)}catch(d){if(Si(d,"BUFFER_OVERRUN"))throw d;c=d,c.baseType=o.name,c.name=o.localName,c.type=o.type}}else try{c=o.decode(t)}catch(u){if(Si(u,"BUFFER_OVERRUN"))throw u;c=u,c.baseType=o.name,c.name=o.localName,c.type=o.type}if(c==null)throw new Error("investigate");n.push(c),r.push(o.localName||null)}),up.fromItems(n,r)}class cV extends xo{constructor(n,r,i){const o=n.type+"["+(r>=0?r:"")+"]",c=r===-1||n.dynamic;super("array",o,i,c);oe(this,"coder");oe(this,"length");Ve(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=qn.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let o=this.length;o===-1&&(o=i.length,n.writeValue(i.length)),BI(i.length,o,"coder array"+(this.localName?" "+this.localName:""));let c=[];for(let u=0;u<i.length;u++)c.push(this.coder);return yN(n,c,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),Ae(r*cr<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*cr,length:n.dataLength}));let i=[];for(let o=0;o<r;o++)i.push(new aV(this.coder));return bN(n,i)}}class uV extends xo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=qn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class EN extends xo{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Ir(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class lV extends EN{constructor(e){super("bytes",e)}decode(e){return Ue(super.decode(e))}}class fV extends xo{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);oe(this,"size");Ve(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=Ir(qn.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return Ue(n.readBytes(this.size))}}const dV=new Uint8Array([]);class hV extends xo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(dV)}decode(e){return e.readBytes(0),null}}const gV=BigInt(0),pV=BigInt(1),mV=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class wV extends xo{constructor(n,r,i){const o=(r?"int":"uint")+n*8;super(o,o,i,!1);oe(this,"size");oe(this,"signed");Ve(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=Fe(qn.dereference(r,this.type)),o=sd(mV,cr*8);if(this.signed){let c=sd(o,this.size*8-1);(i>c||i<-(c+pV))&&this._throwError("value out-of-bounds",r),i=kI(i,8*cr)}else(i<gV||i>sd(o,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=sd(n.readValue(),this.size*8);return this.signed&&(r=mW(r,this.size*8)),r}}class yV extends EN{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,mo(qn.dereference(n,"string")))}decode(e){return rE(super.decode(e))}}class _g extends xo{constructor(n,r){let i=!1;const o=[];n.forEach(u=>{u.dynamic&&(i=!0),o.push(u.type)});const c="tuple("+o.join(",")+")";super("tuple",c,r,i);oe(this,"coders");Ve(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,o)=>{const c=o.localName;return c&&(i[c]||(i[c]=0),i[c]++),i},{});return this.coders.forEach((i,o)=>{let c=i.localName;!c||r[c]!==1||(c==="length"&&(c="_length"),n[c]==null&&(n[c]=n[o]))}),Object.freeze(n)}encode(n,r){const i=qn.dereference(r,"tuple");return yN(n,this.coders,i)}decode(n){return bN(n,this.coders)}}function Uc(t){return zt(mo(t))}var bV="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Y_=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),X_=4;function EV(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let se=1;se<r;se++)o.push(i+=n());let c=n(),u=e;e+=c;let l=0,d=0;function h(){return l==0&&(d=d<<8|t[e++],l=8),d>>--l&1}const p=31,A=2**p,b=A>>>1,S=b>>1,N=A-1;let M=0;for(let se=0;se<p;se++)M=M<<1|h();let $=[],C=0,ee=A;for(;;){let se=Math.floor(((M-C+1)*i-1)/ee),V=0,Y=r;for(;Y-V>1;){let v=V+Y>>>1;se<o[v]?Y=v:V=v}if(V==0)break;$.push(V);let w=C+Math.floor(ee*o[V]/i),x=C+Math.floor(ee*o[V+1]/i)-1;for(;!((w^x)&b);)M=M<<1&N|h(),w=w<<1&N,x=x<<1&N|1;for(;w&~x&S;)M=M&b|M<<1&N>>>1|h(),w=w<<1^b,x=(x^b)<<1|b|1;C=w,ee=1+x-w}let ae=r-4;return $.map(se=>{switch(se-ae){case 3:return ae+65792+(t[u++]<<16|t[u++]<<8|t[u++]);case 2:return ae+256+(t[u++]<<8|t[u++]);case 1:return ae+t[u++];default:return se-1}})}function AV(t){let e=0;return()=>t[e++]}function AN(t){return AV(EV(vV(t)))}function vV(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,c=0,u=0;i<n;i++)u=u<<6|e[t.charCodeAt(i)],c+=6,c>=8&&(r[o++]=u>>(c-=8));return r}function _V(t){return t&1?~t>>1:t>>1}function SV(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=_V(e());return n}function Pd(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function vN(t){return Bd(()=>{let e=Pd(t);if(e.length)return e})}function _N(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(CV(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(xV(n,t))}return e.flat()}function Bd(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function SN(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)SV(t,n).forEach((o,c)=>r[c].push(o));return r}function CV(t,e){let n=1+e(),r=e(),i=Bd(e);return SN(i.length,1+t,e).flatMap((c,u)=>{let[l,...d]=c;return Array(i[u]).fill().map((h,p)=>{let A=p*r;return[l+p*n,d.map(b=>b+A)]})})}function xV(t,e){let n=1+e();return SN(n,1+t,e).map(i=>[i[0],i.slice(1)])}function RV(t){let e=[],n=Pd(t);return i(r([]),[]),e;function r(o){let c=t(),u=Bd(()=>{let l=Pd(t).map(d=>n[d]);if(l.length)return r(l)});return{S:c,B:u,Q:o}}function i({S:o,B:c},u,l){if(!(o&4&&l===u[u.length-1])){o&2&&(l=u[u.length-1]),o&1&&e.push(u);for(let d of c)for(let h of d.Q)i(d,[...u,h],l)}}}function IV(t){return t.toString(16).toUpperCase().padStart(2,"0")}function CN(t){return`{${IV(t)}}`}function NV(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function ql(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function TV(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var OV="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Ld=44032,fp=4352,dp=4449,hp=4519,xN=19,RN=21,Ql=28,gp=RN*Ql,PV=xN*gp,BV=Ld+PV,LV=fp+xN,MV=dp+RN,kV=hp+Ql;function ad(t){return t>>24&255}function IN(t){return t&16777215}let gy,Z_,py,Lg;function DV(){let t=AN(OV);gy=new Map(vN(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Z_=new Set(Pd(t)),py=new Map,Lg=new Map;for(let[e,n]of _N(t)){if(!Z_.has(e)&&n.length==2){let[r,i]=n,o=Lg.get(r);o||(o=new Map,Lg.set(r,o)),o.set(i,e)}py.set(e,n.reverse())}}function NN(t){return t>=Ld&&t<BV}function $V(t,e){if(t>=fp&&t<LV&&e>=dp&&e<MV)return Ld+(t-fp)*gp+(e-dp)*Ql;if(NN(t)&&e>hp&&e<kV&&(t-Ld)%Ql==0)return t+(e-hp);{let n=Lg.get(t);return n&&(n=n.get(e),n)?n:-1}}function TN(t){gy||DV();let e=[],n=[],r=!1;function i(o){let c=gy.get(o);c&&(r=!0,o|=c),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(NN(o)){let c=o-Ld,u=c/gp|0,l=c%gp/Ql|0,d=c%Ql;i(fp+u),i(dp+l),d>0&&i(hp+d)}else{let c=py.get(o);c?n.push(...c):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=ad(e[0]);for(let c=1;c<e.length;c++){let u=ad(e[c]);if(u==0||o<=u){o=u;continue}let l=c-1;for(;;){let d=e[l+1];if(e[l+1]=e[l],e[l]=d,!l||(o=ad(e[--l]),o<=u))break}o=ad(e[c])}}return e}function UV(t){let e=[],n=[],r=-1,i=0;for(let o of t){let c=ad(o),u=IN(o);if(r==-1)c==0?r=u:e.push(u);else if(i>0&&i>=c)c==0?(e.push(r,...n),n.length=0,r=u):n.push(u),i=c;else{let l=$V(r,u);l>=0?r=l:i==0&&c==0?(e.push(r),r=u):(n.push(u),i=c)}}return r>=0&&e.push(r,...n),e}function ON(t){return TN(t).map(IN)}function FV(t){return UV(TN(t))}const eS=45,PN=".",BN=65039,LN=1,ju=t=>Array.from(t);function Md(t,e){return t.P.has(e)||t.Q.has(e)}class HV extends Array{get is_emoji(){return!0}}let my,MN,uc,wy,kN,Zu,Aw,ku,DN,tS,yy;function hE(){if(my)return;let t=AN(bV);const e=()=>Pd(t),n=()=>new Set(e());my=new Map(_N(t)),MN=n(),uc=e(),wy=new Set(e().map(h=>uc[h])),uc=new Set(uc),kN=n(),n();let r=vN(t),i=t();const o=()=>new Set(e().flatMap(h=>r[h]).concat(e()));Zu=Bd(h=>{let p=Bd(t).map(A=>A+96);if(p.length){let A=h>=i;p[0]-=32,p=ql(p),A&&(p=`Restricted[${p}]`);let b=o(),S=o(),N=!t();return{N:p,P:b,Q:S,M:N,R:A}}}),Aw=n(),ku=new Map;let c=e().concat(ju(Aw)).sort((h,p)=>h-p);c.forEach((h,p)=>{let A=t(),b=c[p]=A?c[p-A]:{V:[],M:new Map};b.V.push(h),Aw.has(h)||ku.set(h,b)});for(let{V:h,M:p}of new Set(ku.values())){let A=[];for(let S of h){let N=Zu.filter($=>Md($,S)),M=A.find(({G:$})=>N.some(C=>$.has(C)));M||(M={G:new Set,V:[]},A.push(M)),M.V.push(S),N.forEach($=>M.G.add($))}let b=A.flatMap(S=>ju(S.G));for(let{G:S,V:N}of A){let M=new Set(b.filter($=>!S.has($)));for(let $ of N)p.set($,M)}}let u=new Set,l=new Set;const d=h=>u.has(h)?l.add(h):u.add(h);for(let h of Zu){for(let p of h.P)d(p);for(let p of h.Q)d(p)}for(let h of u)!ku.has(h)&&!l.has(h)&&ku.set(h,LN);DN=new Set(ju(u).concat(ju(ON(u)))),tS=RV(t).map(h=>HV.from(h)).sort(TV),yy=new Map;for(let h of tS){let p=[yy];for(let A of h){let b=p.map(S=>{let N=S.get(A);return N||(N=new Map,S.set(A,N)),N});A===BN?p.push(...b):p=b}for(let A of p)A.V=h}}function gE(t){return($N(t)?"":`${pE(_0([t]))} `)+CN(t)}function pE(t){return`"${t}"‎`}function GV(t){if(t.length>=4&&t[2]==eS&&t[3]==eS)throw new Error(`invalid label extension: "${ql(t.slice(0,4))}"`)}function WV(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function jV(t){let e=t[0],n=Y_.get(e);if(n)throw gd(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let c=Y_.get(e);if(c){if(i==o)throw gd(`${n} + ${c}`);i=o+1,n=c}}if(i==r)throw gd(`trailing ${n}`)}function _0(t,e=CN){let n=[];VV(t[0])&&n.push("◌");let r=0,i=t.length;for(let o=0;o<i;o++){let c=t[o];$N(c)&&(n.push(ql(t.slice(r,o))),n.push(e(c)),r=o+1)}return n.push(ql(t.slice(r,i))),n.join("")}function VV(t){return hE(),uc.has(t)}function $N(t){return hE(),kN.has(t)}function zV(t){return QV(JV(t,FV,ZV))}function JV(t,e,n){if(!t)return[];hE();let r=0;return t.split(PN).map(i=>{let o=NV(i),c={input:o,offset:r};r+=o.length+1;try{let u=c.tokens=XV(o,e,n),l=u.length,d;if(!l)throw new Error("empty label");let h=c.output=u.flat();if(WV(h),!(c.emoji=l>1||u[0].is_emoji)&&h.every(A=>A<128))GV(h),d="ASCII";else{let A=u.flatMap(b=>b.is_emoji?[]:b);if(!A.length)d="Emoji";else{if(uc.has(h[0]))throw gd("leading combining mark");for(let N=1;N<l;N++){let M=u[N];if(!M.is_emoji&&uc.has(M[0]))throw gd(`emoji + combining mark: "${ql(u[N-1])} + ${_0([M[0]])}"`)}jV(h);let b=ju(new Set(A)),[S]=qV(b);YV(S,A),KV(S,b),d=S.N}}c.type=d}catch(u){c.error=u}return c})}function KV(t,e){let n,r=[];for(let i of e){let o=ku.get(i);if(o===LN)return;if(o){let c=o.M.get(i);if(n=n?n.filter(u=>c.has(u)):ju(c),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Md(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function qV(t){let e=Zu;for(let n of t){let r=e.filter(i=>Md(i,n));if(!r.length)throw Zu.some(i=>Md(i,n))?FN(e[0],n):UN(n);if(e=r,r.length==1)break}return e}function QV(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${pE(_0(e))}: ${i}`)}return ql(r)}).join(PN)}function UN(t){return new Error(`disallowed character: ${gE(t)}`)}function FN(t,e){let n=gE(e),r=Zu.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function gd(t){return new Error(`illegal placement: ${t}`)}function YV(t,e){for(let n of e)if(!Md(t,n))throw FN(t,n);if(t.M){let n=ON(e);for(let r=1,i=n.length;r<i;r++)if(wy.has(n[r])){let o=r+1;for(let c;o<i&&wy.has(c=n[o]);o++)for(let u=r;u<o;u++)if(n[u]==c)throw new Error(`duplicate non-spacing marks: ${gE(c)}`);if(o-r>X_)throw new Error(`excessive non-spacing marks: ${pE(_0(n.slice(r-1,o)))} (${o-r}/${X_})`);r=o}}}function XV(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=e7(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let c=t.pop();if(DN.has(c))i.push(c);else{let u=my.get(c);if(u)i.push(...u);else if(!MN.has(c))throw UN(c)}}}return i.length&&r.push(e(i)),r}function ZV(t){return t.filter(e=>e!=BN)}function e7(t,e){let n=yy,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}const HN=new Uint8Array(32);HN.fill(0);function nS(t){return ie(t.length!==0,"invalid ENS name; empty component","comp",t),t}function GN(t){const e=mo(t7(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(nS(e.slice(r,i))),r=i+1);return ie(r<e.length,"invalid ENS name; empty component","name",t),n.push(nS(e.slice(r))),n}function t7(t){try{if(t.length===0)throw new Error("empty label");return zV(t)}catch(e){ie(!1,`invalid ENS name (${e.message})`,"name",t)}}function by(t){ie(typeof t=="string","invalid ENS name; not a string","name",t),ie(t.length,"invalid ENS name (empty label)","name",t);let e=HN;const n=GN(t);for(;n.length;)e=zt(gn([e,zt(n.pop())]));return Ue(e)}function n7(t){return Ue(gn(GN(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}function vw(t,e){return{address:At(t),storageKeys:e.map((n,r)=>(ie(Kt(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Kc(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ie(n.length===2,"invalid slot set",`value[${r}]`,n),vw(n[0],n[1])):(ie(n!=null&&typeof n=="object","invalid address-slot set","value",t),vw(n.address,n.storageKeys)));ie(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return vw(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function r7(t){let e;return typeof t=="string"?e=Od.computePublicKey(t,!1):e=t.publicKey,At(zt("0x"+e.substring(4)).substring(26))}function i7(t,e){return r7(Od.recoverPublicKey(t,e))}const xr=BigInt(0),s7=BigInt(2),o7=BigInt(27),a7=BigInt(28),c7=BigInt(35),u7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function mE(t){return t==="0x"?null:At(t)}function WN(t,e){try{return Kc(t)}catch(n){ie(!1,n.message,e,t)}}function S0(t,e){return t==="0x"?0:at(t,e)}function ar(t,e){if(t==="0x")return xr;const n=Fe(t,e);return ie(n<=u7,"value exceeds uint size",e,n),n}function Ln(t,e){const n=Fe(t,"value"),r=Kr(n);return ie(r.length<=32,"value too large",`tx.${e}`,n),r}function jN(t){return Kc(t).map(e=>[e.address,e.storageKeys])}function l7(t){const e=iE(t);ie(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:S0(e[0],"nonce"),gasPrice:ar(e[1],"gasPrice"),gasLimit:ar(e[2],"gasLimit"),to:mE(e[3]),value:ar(e[4],"value"),data:Ue(e[5]),chainId:xr};if(e.length===6)return n;const r=ar(e[6],"v"),i=ar(e[7],"r"),o=ar(e[8],"s");if(i===xr&&o===xr)n.chainId=r;else{let c=(r-c7)/s7;c<xr&&(c=xr),n.chainId=c,ie(c!==xr||r===o7||r===a7,"non-canonical legacy v","v",e[6]),n.signature=Yi.from({r:$c(e[7],32),s:$c(e[8],32),v:r}),n.hash=zt(t)}return n}function rS(t,e){const n=[Ln(t.nonce||0,"nonce"),Ln(t.gasPrice||0,"gasPrice"),Ln(t.gasLimit||0,"gasLimit"),t.to!=null?At(t.to):"0x",Ln(t.value||0,"value"),t.data||"0x"];let r=xr;if(t.chainId!=xr)r=Fe(t.chainId,"tx.chainId"),ie(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==xr&&(n.push(Kr(r)),n.push("0x"),n.push("0x")),Nd(n);let i=BigInt(27+e.yParity);return r!==xr?i=Yi.getChainIdV(r,e.v):BigInt(e.v)!==i&&ie(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Kr(i)),n.push(Kr(e.r)),n.push(Kr(e.s)),Nd(n)}function VN(t,e){let n;try{if(n=S0(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ie(!1,"invalid yParity","yParity",e[0])}const r=$c(e[1],32),i=$c(e[2],32),o=Yi.from({r,s:i,yParity:n});t.signature=o}function f7(t){const e=iE(xt(t).slice(1));ie(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ue(t));const n=ar(e[2],"maxPriorityFeePerGas"),r=ar(e[3],"maxFeePerGas"),i={type:2,chainId:ar(e[0],"chainId"),nonce:S0(e[1],"nonce"),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:ar(e[4],"gasLimit"),to:mE(e[5]),value:ar(e[6],"value"),data:Ue(e[7]),accessList:WN(e[8],"accessList")};return e.length===9||(i.hash=zt(t),VN(i,e.slice(9))),i}function iS(t,e){const n=[Ln(t.chainId||0,"chainId"),Ln(t.nonce||0,"nonce"),Ln(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ln(t.maxFeePerGas||0,"maxFeePerGas"),Ln(t.gasLimit||0,"gasLimit"),t.to!=null?At(t.to):"0x",Ln(t.value||0,"value"),t.data||"0x",jN(t.accessList||[])];return e&&(n.push(Ln(e.yParity,"yParity")),n.push(Kr(e.r)),n.push(Kr(e.s))),gn(["0x02",Nd(n)])}function d7(t){const e=iE(xt(t).slice(1));ie(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ue(t));const n={type:1,chainId:ar(e[0],"chainId"),nonce:S0(e[1],"nonce"),gasPrice:ar(e[2],"gasPrice"),gasLimit:ar(e[3],"gasLimit"),to:mE(e[4]),value:ar(e[5],"value"),data:Ue(e[6]),accessList:WN(e[7],"accessList")};return e.length===8||(n.hash=zt(t),VN(n,e.slice(8))),n}function sS(t,e){const n=[Ln(t.chainId||0,"chainId"),Ln(t.nonce||0,"nonce"),Ln(t.gasPrice||0,"gasPrice"),Ln(t.gasLimit||0,"gasLimit"),t.to!=null?At(t.to):"0x",Ln(t.value||0,"value"),t.data||"0x",jN(t.accessList||[])];return e&&(n.push(Ln(e.yParity,"recoveryParam")),n.push(Kr(e.r)),n.push(Kr(e.s))),gn(["0x01",Nd(n)])}var io,ll,fl,dl,hl,gl,pl,ml,wl,yl,bl,El;const ra=class ra{constructor(){le(this,io,void 0);le(this,ll,void 0);le(this,fl,void 0);le(this,dl,void 0);le(this,hl,void 0);le(this,gl,void 0);le(this,pl,void 0);le(this,ml,void 0);le(this,wl,void 0);le(this,yl,void 0);le(this,bl,void 0);le(this,El,void 0);J(this,io,null),J(this,ll,null),J(this,dl,0),J(this,hl,BigInt(0)),J(this,gl,null),J(this,pl,null),J(this,ml,null),J(this,fl,"0x"),J(this,wl,BigInt(0)),J(this,yl,BigInt(0)),J(this,bl,null),J(this,El,null)}get type(){return O(this,io)}set type(e){switch(e){case null:J(this,io,null);break;case 0:case"legacy":J(this,io,0);break;case 1:case"berlin":case"eip-2930":J(this,io,1);break;case 2:case"london":case"eip-1559":J(this,io,2);break;default:ie(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return O(this,ll)}set to(e){J(this,ll,e==null?null:At(e))}get nonce(){return O(this,dl)}set nonce(e){J(this,dl,at(e,"value"))}get gasLimit(){return O(this,hl)}set gasLimit(e){J(this,hl,Fe(e))}get gasPrice(){const e=O(this,gl);return e==null&&(this.type===0||this.type===1)?xr:e}set gasPrice(e){J(this,gl,e==null?null:Fe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=O(this,pl);return e??(this.type===2?xr:null)}set maxPriorityFeePerGas(e){J(this,pl,e==null?null:Fe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=O(this,ml);return e??(this.type===2?xr:null)}set maxFeePerGas(e){J(this,ml,e==null?null:Fe(e,"maxFeePerGas"))}get data(){return O(this,fl)}set data(e){J(this,fl,Ue(e))}get value(){return O(this,wl)}set value(e){J(this,wl,Fe(e,"value"))}get chainId(){return O(this,yl)}set chainId(e){J(this,yl,Fe(e))}get signature(){return O(this,bl)||null}set signature(e){J(this,bl,e==null?null:Yi.from(e))}get accessList(){const e=O(this,El)||null;return e??(this.type===1||this.type===2?[]:null)}set accessList(e){J(this,El,e==null?null:Kc(e))}get hash(){return this.signature==null?null:zt(this.serialized)}get unsignedHash(){return zt(this.unsignedSerialized)}get from(){return this.signature==null?null:i7(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Od.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(Ae(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return rS(this,this.signature);case 1:return sS(this,this.signature);case 2:return iS(this,this.signature)}Ae(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return rS(this);case 1:return sS(this);case 2:return iS(this)}Ae(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ae(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ae(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ae(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(i.push(0),i.push(1),i.push(2)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return ra.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ra;if(typeof e=="string"){const r=xt(e);if(r[0]>=127)return ra.from(l7(r));switch(r[0]){case 1:return ra.from(d7(r));case 2:return ra.from(f7(r))}Ae(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new ra;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Yi.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.hash!=null&&(ie(n.isSigned(),"unsigned transaction cannot define hash","tx",e),ie(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ie(n.isSigned(),"unsigned transaction cannot define from","tx",e),ie(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};io=new WeakMap,ll=new WeakMap,fl=new WeakMap,dl=new WeakMap,hl=new WeakMap,gl=new WeakMap,pl=new WeakMap,ml=new WeakMap,wl=new WeakMap,yl=new WeakMap,bl=new WeakMap,El=new WeakMap;let pp=ra;const zN=new Uint8Array(32);zN.fill(0);const h7=BigInt(-1),JN=BigInt(0),KN=BigInt(1),g7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function p7(t){const e=xt(t),n=e.length%32;return n?gn([e,zN.slice(n)]):Ue(e)}const m7=Sa(KN,32),w7=Sa(JN,32),oS={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_w=["name","version","chainId","verifyingContract","salt"];function aS(t){return function(e){return ie(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const y7={name:aS("name"),version:aS("version"),chainId:function(t){const e=Fe(t,"domain.chainId");return ie(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Wu(e)},verifyingContract:function(t){try{return At(t).toLowerCase()}catch{}ie(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=xt(t,"domain.salt");return ie(e.length===32,'invalid domain value "salt"',"domain.salt",t),Ue(e)}};function Sw(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");ie(r%8===0&&r!==0&&r<=256&&(e[2]==null||e[2]===String(r)),"invalid numeric width","type",t);const i=sd(g7,n?r-1:r),o=n?(i+KN)*h7:JN;return function(c){const u=Fe(c,"value");return ie(u>=o&&u<=i,`value out-of-bounds for ${t}`,"value",u),Sa(n?kI(u,256):u,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ie(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=xt(r);return ie(i.length===n,`invalid length for ${t}`,"value",r),p7(r)}}}switch(t){case"address":return function(e){return $c(At(e),32)};case"bool":return function(e){return e?m7:w7};case"bytes":return function(e){return zt(e)};case"string":return function(e){return Uc(e)}}return null}function cS(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}var Gd,so,Al,vp,qN;const gi=class gi{constructor(e){le(this,vp);oe(this,"primaryType");le(this,Gd,void 0);le(this,so,void 0);le(this,Al,void 0);J(this,Gd,JSON.stringify(e)),J(this,so,new Map),J(this,Al,new Map);const n=new Map,r=new Map,i=new Map;Object.keys(e).forEach(u=>{n.set(u,new Set),r.set(u,[]),i.set(u,new Set)});for(const u in e){const l=new Set;for(const d of e[u]){ie(!l.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(u)}`,"types",e),l.add(d.name);const h=d.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;ie(h!==u,`circular type reference to ${JSON.stringify(h)}`,"types",e),!Sw(h)&&(ie(r.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),r.get(h).push(u),n.get(u).add(h))}}const o=Array.from(r.keys()).filter(u=>r.get(u).length===0);ie(o.length!==0,"missing primary type","types",e),ie(o.length===1,`ambiguous primary types or unused types: ${o.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),Ve(this,{primaryType:o[0]});function c(u,l){ie(!l.has(u),`circular type reference to ${JSON.stringify(u)}`,"types",e),l.add(u);for(const d of n.get(u))if(r.has(d)){c(d,l);for(const h of l)i.get(h).add(d)}l.delete(u)}c(this.primaryType,new Set);for(const[u,l]of i){const d=Array.from(l);d.sort(),O(this,so).set(u,cS(u,e[u])+d.map(h=>cS(h,e[h])).join(""))}}get types(){return JSON.parse(O(this,Gd))}getEncoder(e){let n=O(this,Al).get(e);return n||(n=Te(this,vp,qN).call(this,e),O(this,Al).set(e,n)),n}encodeType(e){const n=O(this,so).get(e);return ie(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return zt(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(Sw(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return ie(!i[3]||parseInt(i[3])===n.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",n),n.map(c=>this._visit(i[1],c,r));const o=this.types[e];if(o)return o.reduce((c,{name:u,type:l})=>(c[u]=this._visit(l,n[u],r),c),{});ie(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new gi(e)}static getPrimaryType(e){return gi.from(e).primaryType}static hashStruct(e,n,r){return gi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=oS[r];ie(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>_w.indexOf(r.name)-_w.indexOf(i.name)),gi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return gn(["0x1901",gi.hashDomain(e),gi.from(n).hash(r)])}static hash(e,n,r){return zt(gi.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const u in e)e[u]==null&&delete e[u];const o={};e.verifyingContract&&!Kt(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const c=gi.from(n);c.visit(r,(u,l)=>(u==="address"&&!Kt(l,20)&&(o[l]="0x"),l));for(const u in o)o[u]=await i(u);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=c.visit(r,(u,l)=>u==="address"&&o[l]?o[l]:l),{domain:e,value:r}}static getPayload(e,n,r){gi.hashDomain(e);const i={},o=[];_w.forEach(l=>{const d=e[l];d!=null&&(i[l]=y7[l](d),o.push({name:l,type:oS[l]}))});const c=gi.from(n),u=Object.assign({},n);return ie(u.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),u.EIP712Domain=o,c.encode(r),{types:u,domain:i,primaryType:c.primaryType,message:c.visit(r,(l,d)=>{if(l.match(/^bytes(\d*)/))return Ue(xt(d));if(l.match(/^u?int/))return Fe(d).toString();switch(l){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return ie(typeof d=="string","invalid string","value",d),d}ie(!1,"unsupported type","type",l)})}}};Gd=new WeakMap,so=new WeakMap,Al=new WeakMap,vp=new WeakSet,qN=function(e){{const i=Sw(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],o=this.getEncoder(i);return c=>{ie(!n[3]||parseInt(n[3])===c.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",c);let u=c.map(o);return O(this,so).has(i)&&(u=u.map(zt)),zt(gn(u))}}const r=this.types[e];if(r){const i=Uc(O(this,so).get(e));return o=>{const c=r.map(({name:u,type:l})=>{const d=this.getEncoder(l)(o[u]);return O(this,so).has(l)?zt(d):d});return c.unshift(i),gn(c)}}ie(!1,`unknown type: ${e}`,"type",e)};let mp=gi;function lr(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const b7="external public payable",E7=lr(b7.split(" ")),QN="constant external internal payable private public pure view",A7=lr(QN.split(" ")),YN="constructor error event fallback function receive struct",XN=lr(YN.split(" ")),ZN="calldata memory storage payable indexed",v7=lr(ZN.split(" ")),_7="tuple returns",S7=[YN,ZN,_7,QN].join(" "),C7=lr(S7.split(" ")),x7={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},R7=new RegExp("^(\\s*)"),I7=new RegExp("^([0-9]+)"),N7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),eT=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),tT=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Pn,ji,Wd,Ey;const _p=class _p{constructor(e){le(this,Wd);le(this,Pn,void 0);le(this,ji,void 0);J(this,Pn,0),J(this,ji,e.slice())}get offset(){return O(this,Pn)}get length(){return O(this,ji).length-O(this,Pn)}clone(){return new _p(O(this,ji))}reset(){J(this,Pn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=Te(this,Wd,Ey).call(this,O(this,Pn)+1,e.match+1);return J(this,Pn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;O(this,Pn)<e.match-1;){const r=this.peek().linkNext;n.push(Te(this,Wd,Ey).call(this,O(this,Pn)+1,r)),J(this,Pn,r)}return J(this,Pn,e.match+1),n}peek(){if(O(this,Pn)>=O(this,ji).length)throw new Error("out-of-bounds");return O(this,ji)[O(this,Pn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return jf(this,Pn)._++,e}toString(){const e=[];for(let n=O(this,Pn);n<O(this,ji).length;n++){const r=O(this,ji)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Pn=new WeakMap,ji=new WeakMap,Wd=new WeakSet,Ey=function(e=0,n=0){return new _p(O(this,ji).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Xi=_p;function Oa(t){const e=[],n=c=>{const u=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${u} at ${o}: ${c}`)};let r=[],i=[],o=0;for(;o<t.length;){let c=t.substring(o),u=c.match(R7);u&&(o+=u[1].length,c=t.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let d=x7[c[0]]||"";if(d){if(l.type=d,l.text=c[0],o++,d==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(d=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(d==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(d==="OPEN_BRACKET")l.type="BRACKET";else if(d==="CLOSE_BRACKET"){let h=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const p=e.pop().text;h=p+h,e[e.length-1].value=at(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=h}continue}if(u=c.match(N7),u){if(l.text=u[1],o+=l.text.length,C7.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(tT)){l.type="TYPE";continue}l.type="ID";continue}if(u=c.match(I7),u){l.text=u[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(c[0])} at position ${o}`)}return new Xi(e.map(c=>Object.freeze(c)))}function uS(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function C0(t,e){if(e.peekKeyword(XN)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Eo(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function nT(t){let e=Eo(t,A7);return uS(e,lr("constant payable nonpayable".split(" "))),uS(e,lr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function wo(t,e){return t.popParams().map(n=>Mn.from(n,e))}function rT(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Fe(t.pop().text);throw new Error("invalid gas")}return null}function Fc(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const T7=new RegExp(/^(.*)\[([0-9]*)\]$/);function lS(t){const e=t.match(tT);if(ie(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ie(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ie(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const jt={},Nr=Symbol.for("_ethers_internal"),fS="_ParamTypeInternal",dS="_ErrorInternal",hS="_EventInternal",gS="_ConstructorInternal",pS="_FallbackInternal",mS="_FunctionInternal",wS="_StructInternal";var vl,Mg;const pi=class pi{constructor(e,n,r,i,o,c,u,l){le(this,vl);oe(this,"name");oe(this,"type");oe(this,"baseType");oe(this,"indexed");oe(this,"components");oe(this,"arrayLength");oe(this,"arrayChildren");if(w0(e,jt,"ParamType"),Object.defineProperty(this,Nr,{value:fS}),c&&(c=Object.freeze(c.slice())),i==="array"){if(u==null||l==null)throw new Error("")}else if(u!=null||l!=null)throw new Error("");if(i==="tuple"){if(c==null)throw new Error("")}else if(c!=null)throw new Error("");Ve(this,{name:n,type:r,baseType:i,indexed:o,components:c,arrayLength:u,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?(e!=="sighash"&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")"):n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return Te(this,vl,Mg).call(this,r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(pi.isParamType(e))return e;if(typeof e=="string")try{return pi.from(Oa(e),n)}catch{ie(!1,"invalid param type","obj",e)}else if(e instanceof Xi){let u="",l="",d=null;Eo(e,lr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",d=e.popParams().map(N=>pi.from(N)),u=`tuple(${d.map(N=>N.format()).join(",")})`):(u=lS(e.popType("TYPE")),l=u);let h=null,p=null;for(;e.length&&e.peekType("BRACKET");){const N=e.pop();h=new pi(jt,"",u,l,null,d,p,h),p=N.value,u+=N.text,l="array",d=null}let A=null;if(Eo(e,v7).has("indexed")){if(!n)throw new Error("");A=!0}const S=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new pi(jt,S,u,l,A,d,p,h)}const r=e.name;ie(!r||typeof r=="string"&&r.match(eT),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ie(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,c=o.match(T7);if(c){const u=parseInt(c[2]||"-1"),l=pi.from({type:c[1],components:e.components});return new pi(jt,r||"",o,"array",i,null,u,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const u=e.components!=null?e.components.map(d=>pi.from(d)):null;return new pi(jt,r||"",o,"tuple",i,u,null,null)}return o=lS(e.type),new pi(jt,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Nr]===fS}};vl=new WeakSet,Mg=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const c=this.arrayChildren,u=n.slice();u.forEach((l,d)=>{var h;Te(h=c,vl,Mg).call(h,e,l,r,p=>{u[d]=p})}),i(u);return}if(this.isTuple()){const c=this.components;let u;if(Array.isArray(n))u=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");u=c.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(u.length!==this.components.length)throw new Error("array is wrong length");u.forEach((l,d)=>{var h;Te(h=c[d],vl,Mg).call(h,e,l,r,p=>{u[d]=p})}),i(u);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)};let Mn=pi;class Hc{constructor(e,n,r){oe(this,"type");oe(this,"inputs");w0(e,jt,"Fragment"),r=Object.freeze(r.slice()),Ve(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Hc.from(JSON.parse(e))}catch{}return Hc.from(Oa(e))}if(e instanceof Xi)switch(e.peekKeyword(XN)){case"constructor":return go.from(e);case"error":return Rr.from(e);case"event":return Cs.from(e);case"fallback":case"receive":return Xs.from(e);case"function":return xs.from(e);case"struct":return Pc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return go.from(e);case"error":return Rr.from(e);case"event":return Cs.from(e);case"fallback":case"receive":return Xs.from(e);case"function":return xs.from(e);case"struct":return Pc.from(e)}Ae(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ie(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return go.isFragment(e)}static isError(e){return Rr.isFragment(e)}static isEvent(e){return Cs.isFragment(e)}static isFunction(e){return xs.isFragment(e)}static isStruct(e){return Pc.isFragment(e)}}class x0 extends Hc{constructor(n,r,i,o){super(n,r,o);oe(this,"name");ie(typeof i=="string"&&i.match(eT),"invalid identifier","name",i),o=Object.freeze(o.slice()),Ve(this,{name:i})}}function kd(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Rr extends x0{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Nr,{value:dS})}get selector(){return Uc(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+kd(e,this.inputs)),n.join(" ")}static from(e){if(Rr.isFragment(e))return e;if(typeof e=="string")return Rr.from(Oa(e));if(e instanceof Xi){const n=C0("error",e),r=wo(e);return Fc(e),new Rr(jt,n,r)}return new Rr(jt,e.name,e.inputs?e.inputs.map(Mn.from):[])}static isFragment(e){return e&&e[Nr]===dS}}class Cs extends x0{constructor(n,r,i,o){super(n,"event",r,i);oe(this,"anonymous");Object.defineProperty(this,Nr,{value:hS}),Ve(this,{anonymous:o})}get topicHash(){return Uc(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+kd(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(o=>Mn.from(o)),new Cs(jt,n,r,!1).topicHash}static from(n){if(Cs.isFragment(n))return n;if(typeof n=="string")try{return Cs.from(Oa(n))}catch{ie(!1,"invalid event fragment","obj",n)}else if(n instanceof Xi){const r=C0("event",n),i=wo(n,!0),o=!!Eo(n,lr(["anonymous"])).has("anonymous");return Fc(n),new Cs(jt,r,i,o)}return new Cs(jt,n.name,n.inputs?n.inputs.map(r=>Mn.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Nr]===hS}}class go extends Hc{constructor(n,r,i,o,c){super(n,r,i);oe(this,"payable");oe(this,"gas");Object.defineProperty(this,Nr,{value:gS}),Ve(this,{payable:o,gas:c})}format(n){if(Ae(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${kd(n,this.inputs)}`];return r.push(this.payable?"payable":"nonpayable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(go.isFragment(n))return n;if(typeof n=="string")try{return go.from(Oa(n))}catch{ie(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Xi){Eo(n,lr(["constructor"]));const r=wo(n),i=!!Eo(n,E7).has("payable"),o=rT(n);return Fc(n),new go(jt,"constructor",r,i,o)}return new go(jt,"constructor",n.inputs?n.inputs.map(Mn.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Nr]===gS}}class Xs extends Hc{constructor(n,r,i){super(n,"fallback",r);oe(this,"payable");Object.defineProperty(this,Nr,{value:pS}),Ve(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Xs.isFragment(n))return n;if(typeof n=="string")try{return Xs.from(Oa(n))}catch{ie(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Xi){const r=n.toString(),i=n.peekKeyword(lr(["fallback","receive"]));if(ie(i,"type must be fallback or receive","obj",r),n.popKeyword(lr(["fallback","receive"]))==="receive"){const l=wo(n);return ie(l.length===0,"receive cannot have arguments","obj.inputs",l),Eo(n,lr(["payable"])),Fc(n),new Xs(jt,[],!0)}let c=wo(n);c.length?ie(c.length===1&&c[0].type==="bytes","invalid fallback inputs","obj.inputs",c.map(l=>l.format("minimal")).join(", ")):c=[Mn.from("bytes")];const u=nT(n);if(ie(u==="nonpayable"||u==="payable","fallback cannot be constants","obj.stateMutability",u),Eo(n,lr(["returns"])).has("returns")){const l=wo(n);ie(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(d=>d.format("minimal")).join(", "))}return Fc(n),new Xs(jt,c,u==="payable")}if(n.type==="receive")return new Xs(jt,[],!0);if(n.type==="fallback"){const r=[Mn.from("bytes")],i=n.stateMutability==="payable";return new Xs(jt,r,i)}ie(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Nr]===pS}}class xs extends x0{constructor(n,r,i,o,c,u){super(n,"function",r,o);oe(this,"constant");oe(this,"outputs");oe(this,"stateMutability");oe(this,"payable");oe(this,"gas");Object.defineProperty(this,Nr,{value:mS}),c=Object.freeze(c.slice()),Ve(this,{constant:i==="view"||i==="pure",gas:u,outputs:c,payable:i==="payable",stateMutability:i})}get selector(){return Uc(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+kd(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(kd(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(o=>Mn.from(o)),new xs(jt,n,"view",r,[],null).selector}static from(n){if(xs.isFragment(n))return n;if(typeof n=="string")try{return xs.from(Oa(n))}catch{ie(!1,"invalid function fragment","obj",n)}else if(n instanceof Xi){const i=C0("function",n),o=wo(n),c=nT(n);let u=[];Eo(n,lr(["returns"])).has("returns")&&(u=wo(n));const l=rT(n);return Fc(n),new xs(jt,i,c,o,u,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new xs(jt,n.name,r,n.inputs?n.inputs.map(Mn.from):[],n.outputs?n.outputs.map(Mn.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Nr]===mS}}class Pc extends x0{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Nr,{value:wS})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Pc.from(Oa(e))}catch{ie(!1,"invalid struct fragment","obj",e)}else if(e instanceof Xi){const n=C0("struct",e),r=wo(e);return Fc(e),new Pc(jt,n,r)}return new Pc(jt,e.name,e.inputs?e.inputs.map(Mn.from):[])}static isFragment(e){return e&&e[Nr]===wS}}const is=new Map;is.set(0,"GENERIC_PANIC");is.set(1,"ASSERT_FALSE");is.set(17,"OVERFLOW");is.set(18,"DIVIDE_BY_ZERO");is.set(33,"ENUM_RANGE_ERROR");is.set(34,"BAD_STORAGE_DATA");is.set(49,"STACK_UNDERFLOW");is.set(50,"ARRAY_RANGE_ERROR");is.set(65,"OUT_OF_MEMORY");is.set(81,"UNINITIALIZED_FUNCTION_CALL");const O7=new RegExp(/^bytes([0-9]*)$/),P7=new RegExp(/^(u?int)([0-9]*)$/);let Cw=null;function B7(t,e,n,r){let i="missing revert data",o=null;const c=null;let u=null;if(n){i="execution reverted";const d=xt(n);if(n=Ue(n),d.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(d.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Ue(d.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],d.slice(4))[0],u={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Ue(d.slice(0,4))==="0x4e487b71")try{const h=Number(r.decode(["uint256"],d.slice(4))[0]);u={signature:"Panic(uint256)",name:"Panic",args:[h]},o=`Panic due to ${is.get(h)||"UNKNOWN"}(${h})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?At(e.to):null,data:e.data||"0x"};return e.from&&(l.from=At(e.from)),dn(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:l,invocation:c,revert:u})}var ca,Du;const Sp=class Sp{constructor(){le(this,ca)}getDefaultValue(e){const n=e.map(i=>Te(this,ca,Du).call(this,Mn.from(i)));return new _g(n,"_").defaultValue()}encode(e,n){BI(n.length,e.length,"types/values length mismatch");const r=e.map(c=>Te(this,ca,Du).call(this,Mn.from(c))),i=new _g(r,"_"),o=new oy;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(c=>Te(this,ca,Du).call(this,Mn.from(c)));return new _g(i,"_").decode(new ay(n,r))}static defaultAbiCoder(){return Cw==null&&(Cw=new Sp),Cw}static getBuiltinCallException(e,n,r){return B7(e,n,r,Sp.defaultAbiCoder())}};ca=new WeakSet,Du=function(e){if(e.isArray())return new cV(Te(this,ca,Du).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new _g(e.components.map(r=>Te(this,ca,Du).call(this,r)),e.name);switch(e.baseType){case"address":return new oV(e.name);case"bool":return new uV(e.name);case"string":return new yV(e.name);case"bytes":return new lV(e.name);case"":return new hV(e.name)}let n=e.type.match(P7);if(n){let r=parseInt(n[2]||"256");return ie(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new wV(r/8,n[1]==="int",e.name)}if(n=e.type.match(O7),n){let r=parseInt(n[1]);return ie(r!==0&&r<=32,"invalid bytes length","param",e),new fV(r,e.name)}ie(!1,"invalid type","type",e.type)};let Dd=Sp;class L7{constructor(e,n,r){oe(this,"fragment");oe(this,"name");oe(this,"signature");oe(this,"topic");oe(this,"args");const i=e.name,o=e.format();Ve(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class M7{constructor(e,n,r,i){oe(this,"fragment");oe(this,"name");oe(this,"args");oe(this,"signature");oe(this,"selector");oe(this,"value");const o=e.name,c=e.format();Ve(this,{fragment:e,name:o,args:r,signature:c,selector:n,value:i})}}class k7{constructor(e,n,r){oe(this,"fragment");oe(this,"name");oe(this,"args");oe(this,"signature");oe(this,"selector");const i=e.name,o=e.format();Ve(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class yS{constructor(e){oe(this,"hash");oe(this,"_isIndexed");Ve(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const bS={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},ES={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&bS[t.toString()]&&(e=bS[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var bs,Es,As,jn,_l,kg,Sl,Dg;const Vu=class Vu{constructor(e){le(this,_l);le(this,Sl);oe(this,"fragments");oe(this,"deploy");oe(this,"fallback");oe(this,"receive");le(this,bs,void 0);le(this,Es,void 0);le(this,As,void 0);le(this,jn,void 0);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,J(this,As,new Map),J(this,bs,new Map),J(this,Es,new Map);const r=[];for(const c of n)try{r.push(Hc.from(c))}catch(u){console.log("EE",u)}Ve(this,{fragments:Object.freeze(r)});let i=null,o=!1;J(this,jn,this.getAbiCoder()),this.fragments.forEach((c,u)=>{let l;switch(c.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ve(this,{deploy:c});return;case"fallback":c.inputs.length===0?o=!0:(ie(!i||c.payable!==i.payable,"conflicting fallback fragments",`fragments[${u}]`,c),i=c,o=i.payable);return;case"function":l=O(this,As);break;case"event":l=O(this,Es);break;case"error":l=O(this,bs);break;default:return}const d=c.format();l.has(d)||l.set(d,c)}),this.deploy||Ve(this,{deploy:go.from("constructor()")}),Ve(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Dd.defaultAbiCoder()}getFunctionName(e){const n=Te(this,_l,kg).call(this,e,null,!1);return ie(n,"no matching function","key",e),n.name}hasFunction(e){return!!Te(this,_l,kg).call(this,e,null,!1)}getFunction(e,n){return Te(this,_l,kg).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(O(this,As).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(O(this,As).get(i),r)}}getEventName(e){const n=Te(this,Sl,Dg).call(this,e,null,!1);return ie(n,"no matching event","key",e),n.name}hasEvent(e){return!!Te(this,Sl,Dg).call(this,e,null,!1)}getEvent(e,n){return Te(this,Sl,Dg).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(O(this,Es).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(O(this,Es).get(i),r)}}getError(e,n){if(Kt(e)){const i=e.toLowerCase();if(ES[i])return Rr.from(ES[i].signature);for(const o of O(this,bs).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,c]of O(this,bs))o.split("(")[0]===e&&i.push(c);if(i.length===0)return e==="Error"?Rr.from("error Error(string)"):e==="Panic"?Rr.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(c=>JSON.stringify(c.format())).join(", ");ie(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Rr.from(e).format(),e==="Error(string)")return Rr.from("error Error(string)");if(e==="Panic(uint256)")return Rr.from("error Panic(uint256)");const r=O(this,bs).get(e);return r||null}forEachError(e){const n=Array.from(O(this,bs).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(O(this,bs).get(i),r)}}_decodeParams(e,n){return O(this,jn).decode(e,n)}_encodeParams(e,n){return O(this,jn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ie(r,"unknown error","fragment",e),e=r}return ie(Zt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Zt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ie(r,"unknown error","fragment",e),e=r}return gn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ie(r,"unknown function","fragment",e),e=r}return ie(Zt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Zt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ie(r,"unknown function","fragment",e),e=r}return gn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);ie(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=Ir(n);if(i.length%32===0)try{return O(this,jn).decode(e.outputs,i)}catch{r="could not decode result data"}Ae(!1,r,"BAD_DATA",{value:Ue(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=xt(e,"data"),i=Dd.getBuiltinCallException("call",n,r),o="execution reverted (unknown custom error)";if(i.message.startsWith(o)){const u=Ue(r.slice(0,4)),l=this.getError(u);if(l)try{const d=O(this,jn).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:d},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const c=this.parseTransaction(n);return c&&(i.invocation={method:c.name,signature:c.signature,args:c.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ie(r,"unknown function","fragment",e),e=r}return Ue(O(this,jn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);ie(o,"unknown event","eventFragment",e),e=o}Ae(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,c)=>o.type==="string"?Uc(c):o.type==="bytes"?zt(Ue(c)):(o.type==="bool"&&typeof c=="boolean"?c=c?"0x01":"0x00":o.type.match(/^u?int/)?c=Sa(c):o.type.match(/^bytes/)?c=pW(c,32):o.type==="address"&&O(this,jn).encode(["address"],[c]),$c(Ue(c),32));for(n.forEach((o,c)=>{const u=e.inputs[c];if(!u.indexed){ie(o==null,"cannot filter non-indexed parameters; must be null","contract."+u.name,o);return}o==null?r.push(null):u.baseType==="array"||u.baseType==="tuple"?ie(!1,"filtering with tuples or arrays not supported","contract."+u.name,o):Array.isArray(o)?r.push(o.map(l=>i(u,l))):r.push(i(u,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const c=this.getEvent(e);ie(c,"unknown event","eventFragment",e),e=c}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),ie(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((c,u)=>{const l=n[u];if(c.indexed)if(c.type==="string")r.push(Uc(l));else if(c.type==="bytes")r.push(zt(l));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");r.push(O(this,jn).encode([c.type],[l]))}else i.push(c),o.push(l)}),{data:O(this,jn).encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const b=this.getEvent(e);ie(b,"unknown event","eventFragment",e),e=b}if(r!=null&&!e.anonymous){const b=e.topicHash;ie(Kt(r[0],32)&&r[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],c=[];e.inputs.forEach((b,S)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Mn.from({type:"bytes32",name:b.name})),c.push(!0)):(i.push(b),c.push(!1)):(o.push(b),c.push(!1))});const u=r!=null?O(this,jn).decode(i,gn(r)):null,l=O(this,jn).decode(o,n,!0),d=[],h=[];let p=0,A=0;return e.inputs.forEach((b,S)=>{let N=null;if(b.indexed)if(u==null)N=new yS(null);else if(c[S])N=new yS(u[A++]);else try{N=u[A++]}catch(M){N=M}else try{N=l[p++]}catch(M){N=M}d.push(N),h.push(b.name||null)}),up.fromItems(d,h)}parseTransaction(e){const n=xt(e.data,"tx.data"),r=Fe(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Ue(n.slice(0,4)));if(!i)return null;const o=O(this,jn).decode(i.inputs,n.slice(4));return new M7(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new L7(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Ue(e),r=this.getError(Zt(n,0,4));if(!r)return null;const i=O(this,jn).decode(r.inputs,Zt(n,4));return new k7(r,r.selector,i)}static from(e){return e instanceof Vu?e:typeof e=="string"?new Vu(JSON.parse(e)):typeof e.format=="function"?new Vu(e.format("json")):new Vu(e)}};bs=new WeakMap,Es=new WeakMap,As=new WeakMap,jn=new WeakMap,_l=new WeakSet,kg=function(e,n,r){if(Kt(e)){const o=e.toLowerCase();for(const c of O(this,As).values())if(o===c.selector)return c;return null}if(e.indexOf("(")===-1){const o=[];for(const[c,u]of O(this,As))c.split("(")[0]===e&&o.push(u);if(n){const c=n.length>0?n[n.length-1]:null;let u=n.length,l=!0;qn.isTyped(c)&&c.type==="overrides"&&(l=!1,u--);for(let d=o.length-1;d>=0;d--){const h=o[d].inputs.length;h!==u&&(!l||h!==u-1)&&o.splice(d,1)}for(let d=o.length-1;d>=0;d--){const h=o[d].inputs;for(let p=0;p<n.length;p++)if(qn.isTyped(n[p])){if(p>=h.length){if(n[p].type==="overrides")continue;o.splice(d,1);break}if(n[p].type!==h[p].baseType){o.splice(d,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const c=n[n.length-1];(c==null||Array.isArray(c)||typeof c!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const c=o.map(u=>JSON.stringify(u.format())).join(", ");ie(!1,`ambiguous function description (i.e. matches ${c})`,"key",e)}return o[0]}const i=O(this,As).get(xs.from(e).format());return i||null},Sl=new WeakSet,Dg=function(e,n,r){if(Kt(e)){const o=e.toLowerCase();for(const c of O(this,Es).values())if(o===c.topicHash)return c;return null}if(e.indexOf("(")===-1){const o=[];for(const[c,u]of O(this,Es))c.split("(")[0]===e&&o.push(u);if(n){for(let c=o.length-1;c>=0;c--)o[c].inputs.length<n.length&&o.splice(c,1);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let l=0;l<n.length;l++)if(qn.isTyped(n[l])&&n[l].type!==u[l].baseType){o.splice(c,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const c=o.map(u=>JSON.stringify(u.format())).join(", ");ie(!1,`ambiguous event description (i.e. matches ${c})`,"key",e)}return o[0]}const i=O(this,Es).get(Cs.from(e).format());return i||null};let Ay=Vu;const iT=BigInt(0);function pd(t){return t??null}function Kn(t){return t==null?null:t.toString()}class AS{constructor(e,n,r){oe(this,"gasPrice");oe(this,"maxFeePerGas");oe(this,"maxPriorityFeePerGas");Ve(this,{gasPrice:pd(e),maxFeePerGas:pd(n),maxPriorityFeePerGas:pd(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Kn(e),maxFeePerGas:Kn(n),maxPriorityFeePerGas:Kn(r)}}}function wp(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ue(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Fe(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=at(t[i],`request.${i}`));return t.accessList&&(e.accessList=Kc(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var oo;class D7{constructor(e,n){oe(this,"provider");oe(this,"number");oe(this,"hash");oe(this,"timestamp");oe(this,"parentHash");oe(this,"nonce");oe(this,"difficulty");oe(this,"gasLimit");oe(this,"gasUsed");oe(this,"miner");oe(this,"extraData");oe(this,"baseFeePerGas");le(this,oo,void 0);J(this,oo,e.transactions.map(r=>typeof r!="string"?new $d(r,n):r)),Ve(this,{provider:n,hash:pd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:pd(e.baseFeePerGas)})}get transactions(){return O(this,oo).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=O(this,oo).slice();return e.length===0?[]:(Ae(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:c,miner:u,nonce:l,number:d,parentHash:h,timestamp:p,transactions:A}=this;return{_type:"Block",baseFeePerGas:Kn(e),difficulty:Kn(n),extraData:r,gasLimit:Kn(i),gasUsed:Kn(o),hash:c,miner:u,nonce:l,number:d,parentHash:h,timestamp:p,transactions:A}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return O(this,oo).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=O(this,oo)[e];else{const r=e.toLowerCase();for(const i of O(this,oo))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash===r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ie(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return $7(this)}}oo=new WeakMap;class wh{constructor(e,n){oe(this,"provider");oe(this,"transactionHash");oe(this,"blockHash");oe(this,"blockNumber");oe(this,"removed");oe(this,"address");oe(this,"data");oe(this,"topics");oe(this,"index");oe(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Ve(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:c,topics:u,transactionHash:l,transactionIndex:d}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:c,topics:u,transactionHash:l,transactionIndex:d}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ae(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ae(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ae(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return U7(this)}}var jd;class sT{constructor(e,n){oe(this,"provider");oe(this,"to");oe(this,"from");oe(this,"contractAddress");oe(this,"hash");oe(this,"index");oe(this,"blockHash");oe(this,"blockNumber");oe(this,"logsBloom");oe(this,"gasUsed");oe(this,"cumulativeGasUsed");oe(this,"gasPrice");oe(this,"type");oe(this,"status");oe(this,"root");le(this,jd,void 0);J(this,jd,Object.freeze(e.logs.map(i=>new wh(i,n))));let r=iT;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ve(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}get logs(){return O(this,jd)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:c,blockNumber:u,logsBloom:l,logs:d,status:h,root:p}=this;return{_type:"TransactionReceipt",blockHash:c,blockNumber:u,contractAddress:r,cumulativeGasUsed:Kn(this.cumulativeGasUsed),from:n,gasPrice:Kn(this.gasPrice),gasUsed:Kn(this.gasUsed),hash:i,index:o,logs:d,logsBloom:l,root:p,status:h,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return aT(this)}reorderedEvent(e){return Ae(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),oT(this,e)}}jd=new WeakMap;var ua;const SE=class SE{constructor(e,n){oe(this,"provider");oe(this,"blockNumber");oe(this,"blockHash");oe(this,"index");oe(this,"hash");oe(this,"type");oe(this,"to");oe(this,"from");oe(this,"nonce");oe(this,"gasLimit");oe(this,"gasPrice");oe(this,"maxPriorityFeePerGas");oe(this,"maxFeePerGas");oe(this,"data");oe(this,"value");oe(this,"chainId");oe(this,"signature");oe(this,"accessList");le(this,ua,void 0);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,J(this,ua,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:c,from:u,nonce:l,data:d,signature:h,accessList:p}=this;return{_type:"TransactionReceipt",accessList:p,blockNumber:e,blockHash:n,chainId:Kn(this.chainId),data:d,from:u,gasLimit:Kn(this.gasLimit),gasPrice:Kn(this.gasPrice),hash:i,maxFeePerGas:Kn(this.maxFeePerGas),maxPriorityFeePerGas:Kn(this.maxPriorityFeePerGas),nonce:l,signature:h,to:c,index:r,type:o,value:Kn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ir({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=O(this,ua),c=-1,u=o===-1;const l=async()=>{if(u)return null;const{blockNumber:A,nonce:b}=await ir({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){o=A;return}if(u)return null;const S=await this.getTransaction();if(!(S&&S.blockNumber!=null))for(c===-1&&(c=o-3,c<O(this,ua)&&(c=O(this,ua)));c<=A;){if(u)return null;const N=await this.provider.getBlock(c,!0);if(N==null)return;for(const M of N)if(M===this.hash)return;for(let M=0;M<N.length;M++){const $=await N.getTransaction(M);if($.from===this.from&&$.nonce===this.nonce){if(u)return null;const C=await this.provider.getTransactionReceipt($.hash);if(C==null||A-C.blockNumber+1<r)return;let ee="replaced";$.data===this.data&&$.to===this.to&&$.value===this.value?ee="repriced":$.data==="0x"&&$.from===$.to&&$.value===iT&&(ee="cancelled"),Ae(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:ee==="replaced"||ee==="cancelled",reason:ee,replacement:$.replaceableTransaction(o),hash:$.hash,receipt:C})}}c++}},d=A=>{if(A==null||A.status!==0)return A;Ae(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},h=await this.provider.getTransactionReceipt(this.hash);if(r===0)return d(h);if(h){if(await h.confirmations()>=r)return d(h)}else if(await l(),r===0)return null;return await new Promise((A,b)=>{const S=[],N=()=>{S.forEach($=>$())};if(S.push(()=>{u=!0}),i>0){const $=setTimeout(()=>{N(),b(dn("wait for transaction timeout","TIMEOUT"))},i);S.push(()=>{clearTimeout($)})}const M=async $=>{if(await $.confirmations()>=r){N();try{A(d($))}catch(C){b(C)}}};if(S.push(()=>{this.provider.off(this.hash,M)}),this.provider.on(this.hash,M),o>=0){const $=async()=>{try{await l()}catch(C){if(Si(C,"TRANSACTION_REPLACED")){N(),b(C);return}}u||this.provider.once("block",$)};S.push(()=>{this.provider.off("block",$)}),this.provider.once("block",$)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return Ae(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),aT(this)}reorderedEvent(e){return Ae(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ae(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),oT(this,e)}replaceableTransaction(e){ie(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new SE(this,this.provider);return J(n,ua,e),n}};ua=new WeakMap;let $d=SE;function $7(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function oT(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function aT(t){return{orphan:"drop-transaction",tx:t}}function U7(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class wE extends wh{constructor(n,r,i){super(n,n.provider);oe(this,"interface");oe(this,"fragment");oe(this,"args");const o=r.decodeEventLog(i,n.data,n.topics);Ve(this,{args:o,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class cT extends wh{constructor(n,r){super(n,n.provider);oe(this,"error");Ve(this,{error:r})}}var Cl;class F7 extends sT{constructor(n,r,i){super(i,r);le(this,Cl,void 0);J(this,Cl,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?O(this,Cl).getEvent(n.topics[0]):null;if(r)try{return new wE(n,O(this,Cl),r)}catch(i){return new cT(n,i)}return n})}}Cl=new WeakMap;var Vd;class yE extends $d{constructor(n,r,i){super(i,r);le(this,Vd,void 0);J(this,Vd,n)}async wait(n){const r=await super.wait(n);return r==null?null:new F7(O(this,Vd),this.provider,r)}}Vd=new WeakMap;class uT extends DI{constructor(n,r,i,o){super(n,r,i);oe(this,"log");Ve(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class H7 extends uT{constructor(e,n,r,i,o){super(e,n,r,new wE(o,e.interface,i));const c=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Ve(this,{args:c,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const vS=BigInt(0);function lT(t){return t&&typeof t.call=="function"}function fT(t){return t&&typeof t.estimateGas=="function"}function R0(t){return t&&typeof t.resolveName=="function"}function dT(t){return t&&typeof t.sendTransaction=="function"}function hT(t){if(t!=null){if(R0(t))return t;if(t.provider)return t.provider}}var zd;class G7{constructor(e,n,r){le(this,zd,void 0);oe(this,"fragment");if(Ve(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Gc(e.runner,"resolveName"),o=R0(i)?i:null;J(this,zd,async function(){const c=await Promise.all(n.inputs.map((u,l)=>r[l]==null?null:u.walkAsync(r[l],(h,p)=>h==="address"?Array.isArray(p)?Promise.all(p.map(A=>ur(A,o))):ur(p,o):p)));return e.interface.encodeFilterTopics(n,c)}())}getTopicFilter(){return O(this,zd)}}zd=new WeakMap;function Gc(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function lc(t){return t==null?null:t.provider||null}async function gT(t,e){const n=qn.dereference(t,"overrides");ie(typeof n=="object","invalid overrides parameter","overrides",t);const r=wp(n);return ie(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ie(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function W7(t,e,n){const r=Gc(t,"resolveName"),i=R0(r)?r:null;return await Promise.all(e.map((o,c)=>o.walkAsync(n[c],(u,l)=>(l=qn.dereference(l,u),u==="address"?ur(l,i):l))))}function j7(t){const e=async function(c){const u=await gT(c,["data"]);u.to=await t.getAddress(),u.from&&(u.from=await ur(u.from,hT(t.runner)));const l=t.interface,d=Fe(u.value||vS,"overrides.value")===vS,h=(u.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!h&&!d&&ie(!1,"cannot send data to receive or send value to non-payable fallback","overrides",c),ie(l.fallback||h,"cannot send data to receive-only contract","overrides.data",u.data);const p=l.receive||l.fallback&&l.fallback.payable;return ie(p||d,"cannot send value to non-payable fallback","overrides.value",u.value),ie(l.fallback||h,"cannot send data to receive-only contract","overrides.data",u.data),u},n=async function(c){const u=Gc(t.runner,"call");Ae(lT(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(c);try{return await u.call(l)}catch(d){throw tE(d)&&d.data?t.interface.makeError(d.data,l):d}},r=async function(c){const u=t.runner;Ae(dT(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await u.sendTransaction(await e(c)),d=lc(t.runner);return new yE(t.interface,d,l)},i=async function(c){const u=Gc(t.runner,"estimateGas");return Ae(fT(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await e(c))},o=async c=>await r(c);return Ve(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function V7(t,e){const n=function(...d){const h=t.interface.getFunction(e,d);return Ae(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:d}}),h},r=async function(...d){const h=n(...d);let p={};if(h.inputs.length+1===d.length&&(p=await gT(d.pop()),p.from&&(p.from=await ur(p.from,hT(t.runner)))),h.inputs.length!==d.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const A=await W7(t.runner,h.inputs,d);return Object.assign({},p,await ir({to:t.getAddress(),data:t.interface.encodeFunctionData(h,A)}))},i=async function(...d){const h=await u(...d);return h.length===1?h[0]:h},o=async function(...d){const h=t.runner;Ae(dT(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await h.sendTransaction(await r(...d)),A=lc(t.runner);return new yE(t.interface,A,p)},c=async function(...d){const h=Gc(t.runner,"estimateGas");return Ae(fT(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await r(...d))},u=async function(...d){const h=Gc(t.runner,"call");Ae(lT(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await r(...d);let A="0x";try{A=await h.call(p)}catch(S){throw tE(S)&&S.data?t.interface.makeError(S.data,p):S}const b=n(...d);return t.interface.decodeFunctionResult(b,A)},l=async(...d)=>n(...d).constant?await i(...d):await o(...d);return Ve(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:c,populateTransaction:r,send:o,staticCall:i,staticCallResult:u}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const d=t.interface.getFunction(e);return Ae(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),d}}),l}function z7(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return Ae(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new G7(t,n(...i),i)};return Ve(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Ae(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const yp=Symbol.for("_ethersInternal_contract"),pT=new WeakMap;function J7(t,e){pT.set(t[yp],e)}function Gr(t){return pT.get(t[yp])}function K7(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function bE(t,e){let n,r=null;if(Array.isArray(e)){const o=function(c){if(Kt(c,32))return c;const u=t.interface.getEvent(c);return ie(u,"unknown fragment","name",c),u.topicHash};n=e.map(c=>c==null?null:Array.isArray(c)?c.map(o):o(c))}else e==="*"?n=[null]:typeof e=="string"?Kt(e,32)?n=[e]:(r=t.interface.getEvent(e),ie(r,"unknown fragment","event",e),n=[r.topicHash]):K7(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ie(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const c=Array.from(new Set(o.map(u=>u.toLowerCase())).values());return c.length===1?c[0]:(c.sort(),c)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function cd(t,e){const{subs:n}=Gr(t);return n.get((await bE(t,e)).tag)||null}async function _S(t,e,n){const r=lc(t.runner);Ae(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:c}=await bE(t,n),{addr:u,subs:l}=Gr(t);let d=l.get(o);if(!d){const p={address:u||t,topics:c},A=M=>{let $=i;if($==null)try{$=t.interface.getEvent(M.topics[0])}catch{}if($){const C=$,ee=i?t.interface.decodeEventLog(i,M.data,M.topics):[];_y(t,n,ee,ae=>new H7(t,ae,n,C,M))}else _y(t,n,[],C=>new uT(t,C,n,M))};let b=[];d={tag:o,listeners:[],start:()=>{b.length||b.push(r.on(p,A))},stop:async()=>{if(b.length==0)return;let M=b;b=[],await Promise.all(M),r.off(p,A)}},l.set(o,d)}return d}let vy=Promise.resolve();async function q7(t,e,n,r){await vy;const i=await cd(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:c,once:u})=>{const l=Array.from(n);r&&l.push(r(u?null:c));try{c.call(t,...l)}catch{}return!u}),i.listeners.length===0&&(i.stop(),Gr(t).subs.delete(i.tag)),o>0}async function _y(t,e,n,r){try{await vy}catch{}const i=q7(t,e,n,r);return vy=i,await i}const Sg=["then"];var Bz;const yd=class yd{constructor(e,n,r,i){oe(this,"target");oe(this,"interface");oe(this,"runner");oe(this,"filters");oe(this,Bz);oe(this,"fallback");ie(typeof e=="string"||wN(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=Ay.from(n);Ve(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,yp,{value:{}});let c,u=null,l=null;if(i){const p=lc(r);l=new yE(this.interface,p,i)}let d=new Map;if(typeof e=="string")if(Kt(e))u=e,c=Promise.resolve(e);else{const p=Gc(r,"resolveName");if(!R0(p))throw dn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});c=p.resolveName(e).then(A=>{if(A==null)throw dn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Gr(this).addr=A,A})}else c=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Gr(this).addr=p,p});J7(this,{addrPromise:c,addr:u,deployTx:l,subs:d});const h=new Proxy({},{get:(p,A,b)=>{if(typeof A=="symbol"||Sg.indexOf(A)>=0)return Reflect.get(p,A,b);try{return this.getEvent(A)}catch(S){if(!Si(S,"INVALID_ARGUMENT")||S.argument!=="key")throw S}},has:(p,A)=>Sg.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return Ve(this,{filters:h}),Ve(this,{fallback:o.receive||o.fallback?j7(this):null}),new Proxy(this,{get:(p,A,b)=>{if(typeof A=="symbol"||A in p||Sg.indexOf(A)>=0)return Reflect.get(p,A,b);try{return p.getFunction(A)}catch(S){if(!Si(S,"INVALID_ARGUMENT")||S.argument!=="key")throw S}},has:(p,A)=>typeof A=="symbol"||A in p||Sg.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new yd(this.target,this.interface,e)}attach(e){return new yd(e,this.interface,this.runner)}async getAddress(){return await Gr(this).addrPromise}async getDeployedCode(){const e=lc(this.runner);Ae(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=lc(this.runner);return Ae(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const c=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",c)}catch(u){o(u)}};c()})}deploymentTransaction(){return Gr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),V7(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),z7(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=Gr(this),c=i||await o,{fragment:u,topics:l}=await bE(this,e),d={address:c,topics:l,fromBlock:n,toBlock:r},h=lc(this.runner);return Ae(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(d)).map(p=>{let A=u;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new wE(p,this.interface,A)}catch(b){return new cT(p,b)}return new wh(p,h)})}async on(e,n){const r=await _S(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await _S(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await _y(this,e,n,null)}async listenerCount(e){if(e){const i=await cd(this,e);return i?i.listeners.length:0}const{subs:n}=Gr(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await cd(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=Gr(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await cd(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Gr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await cd(this,e);if(!n)return this;n.stop(),Gr(this).subs.delete(n.tag)}else{const{subs:n}=Gr(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends yd{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};Bz=yp;let Sy=yd;function Q7(){return Sy}class md extends Q7(){}function xw(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ie(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Y7{constructor(e){oe(this,"name");Ve(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const mT=new RegExp("^(ipfs)://(.*)$","i"),SS=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),mT,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var la,Ec,fa,$u,Cp,wT;const zu=class zu{constructor(e,n,r){le(this,fa);oe(this,"provider");oe(this,"address");oe(this,"name");le(this,la,void 0);le(this,Ec,void 0);Ve(this,{provider:e,address:n,name:r}),J(this,la,null),J(this,Ec,new md(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return O(this,la)==null&&J(this,la,(async()=>{try{return await O(this,Ec).supportsInterface("0x9061b923")}catch(e){if(Si(e,"CALL_EXCEPTION"))return!1;throw J(this,la,null),e}})()),await O(this,la)}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await Te(this,fa,$u).call(this,"addr(bytes32)");return o==null||o===hy?null:o}catch(o){if(Si(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const c=await Te(this,fa,$u).call(this,"addr(bytes32,uint)",[o]);if(Kt(c,20))return At(c)}let n=null;for(const o of this.provider.plugins)if(o instanceof Y7&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await Te(this,fa,$u).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;Ae(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await Te(this,fa,$u).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await Te(this,fa,$u).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${bW("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Ae(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<SS.length;r++){const i=n.match(SS[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const c=xw(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:c}),{linkage:e,url:c}}case"erc721":case"erc1155":{const c=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const u=await this.getAddress();if(u==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const d=l[1],h=new md(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const N=await h.ownerOf(d);if(u!==N)return e.push({type:"!owner",value:N}),{url:null,linkage:e};e.push({type:"owner",value:N})}else if(o==="erc1155"){const N=await h.balanceOf(u,d);if(!N)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:N.toString()})}let p=await h[c](d);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),o==="erc1155"&&(p=p.replace("{id}",Sa(d,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=xw(p)),e.push({type:"metadata-url",value:p});let A={};const b=await new Ca(p).send();b.assertOk();try{A=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const $=b.body;return $&&e.push({type:"!metadata",value:Ue($)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let S=A.image;if(typeof S!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!S.match(/^(https:\/\/|data:)/i)){if(S.match(mT)==null)return e.push({type:"!imageUrl-ipfs",value:S}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:S}),S=xw(S)}return e.push({type:"url",value:S}),{linkage:e,url:S}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Ae(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const o=await Te(i=zu,Cp,wT).call(i,e,r);if(o!=null){const c=new zu(e,o,n);return r!==n&&!await c.supportsWildcard()?null:c}r=r.split(".").slice(1).join(".")}}};la=new WeakMap,Ec=new WeakMap,fa=new WeakSet,$u=async function(e,n){n=(n||[]).slice();const r=O(this,Ec).interface;n.unshift(by(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),Ae(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[n7(this.name),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await O(this,Ec)[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Si(o,"CALL_EXCEPTION"))throw o}return null},Cp=new WeakSet,wT=async function(e,n){const r=await zu.getEnsAddress(e);try{const o=await new md(r,["function resolver(bytes32) view returns (address)"],e).resolver(by(n),{enableCcipRead:!0});return o===hy?null:o}catch(i){throw i}return null},le(zu,Cp);let bp=zu;const CS=BigInt(0);function Gt(t,e){return function(n){return n==null?e:t(n)}}function EE(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(n=>t(n))}}function yh(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const c of e[i])if(c in n){o=c;break}}try{const c=t[i](n[o]);c!==void 0&&(r[i]=c)}catch(c){const u=c instanceof Error?c.message:"not-an-error";Ae(!1,`invalid value for value.${i} (${u})`,"BAD_DATA",{value:n})}}return r}}function X7(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ie(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Yl(t){return ie(Kt(t,!0),"invalid data","value",t),t}function Ci(t){return ie(Kt(t,32),"invalid hash","value",t),t}const Z7=yh({address:At,blockHash:Ci,blockNumber:at,data:Yl,index:at,removed:Gt(X7,!1),topics:EE(Ci),transactionHash:Ci,transactionIndex:at},{index:["logIndex"]});function ez(t){return Z7(t)}const tz=yh({hash:Gt(Ci),parentHash:Ci,number:at,timestamp:at,nonce:Gt(Yl),difficulty:Fe,gasLimit:Fe,gasUsed:Fe,miner:Gt(At),extraData:Yl,baseFeePerGas:Gt(Fe)});function nz(t){const e=tz(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:yT(n)),e}const rz=yh({transactionIndex:at,blockNumber:at,transactionHash:Ci,address:At,topics:EE(Ci),data:Yl,index:at,blockHash:Ci},{index:["logIndex"]});function iz(t){return rz(t)}const sz=yh({to:Gt(At,null),from:Gt(At,null),contractAddress:Gt(At,null),index:at,root:Gt(Ue),gasUsed:Fe,logsBloom:Gt(Yl),blockHash:Ci,hash:Ci,logs:EE(iz),blockNumber:at,cumulativeGasUsed:Fe,effectiveGasPrice:Gt(Fe),status:Gt(at),type:Gt(at,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function oz(t){return sz(t)}function yT(t){t.to&&Fe(t.to)===CS&&(t.to="0x0000000000000000000000000000000000000000");const e=yh({hash:Ci,type:n=>n==="0x"||n==null?0:at(n),accessList:Gt(Kc,null),blockHash:Gt(Ci,null),blockNumber:Gt(at,null),transactionIndex:Gt(at,null),from:At,gasPrice:Gt(Fe),maxPriorityFeePerGas:Gt(Fe),maxFeePerGas:Gt(Fe),gasLimit:Fe,to:Gt(At,null),value:Fe,nonce:at,data:Yl,creates:Gt(At,null),chainId:Gt(Fe,null)},{data:["input"],gasLimit:["gas"]})(t);if(e.to==null&&e.creates==null&&(e.creates=sV(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Yi.from(t.signature):e.signature=Yi.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Fe(e.blockHash)===CS&&(e.blockHash=null),e}const az="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class bh{constructor(e){oe(this,"name");Ve(this,{name:e})}clone(){return new bh(this.name)}}class I0 extends bh{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);oe(this,"effectiveBlock");oe(this,"txBase");oe(this,"txCreate");oe(this,"txDataZero");oe(this,"txDataNonzero");oe(this,"txAccessListStorageKey");oe(this,"txAccessListAddress");const i={effectiveBlock:n};function o(c,u){let l=(r||{})[c];l==null&&(l=u),ie(typeof l=="number",`invalud value for ${c}`,"costs",r),i[c]=l}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),Ve(this,i)}clone(){return new I0(this.effectiveBlock,this)}}class N0 extends bh{constructor(n,r){super("org.ethers.plugins.network.Ens");oe(this,"address");oe(this,"targetNetwork");Ve(this,{address:n||az,targetNetwork:r??1})}clone(){return new N0(this.address,this.targetNetwork)}}var Jd,Kd;class bT extends bh{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");le(this,Jd,void 0);le(this,Kd,void 0);J(this,Jd,n),J(this,Kd,r)}get url(){return O(this,Jd)}get processFunc(){return O(this,Kd)}clone(){return this}}Jd=new WeakMap,Kd=new WeakMap;const Rw=new Map;var xl,Rl,da;const Ju=class Ju{constructor(e,n){le(this,xl,void 0);le(this,Rl,void 0);le(this,da,void 0);J(this,xl,e),J(this,Rl,Fe(n)),J(this,da,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return O(this,xl)}set name(e){J(this,xl,e)}get chainId(){return O(this,Rl)}set chainId(e){J(this,Rl,Fe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Fe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Fe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Fe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(O(this,da).values())}attachPlugin(e){if(O(this,da).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return O(this,da).set(e.name,e.clone()),this}getPlugin(e){return O(this,da).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ju(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new I0;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Kc(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(uz(),e==null)return Ju.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Rw.get(e);if(n)return n();if(typeof e=="bigint")return new Ju("unknown",e);ie(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ie(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ju(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new N0(e.ensAddress,e.ensNetwork)),n}ie(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Rw.get(e);r&&ie(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Rw.set(e,n)}};xl=new WeakMap,Rl=new WeakMap,da=new WeakMap;let po=Ju;function xS(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function RS(t){return new bT(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,c]=await Promise.all([r.send(),e()]);i=o;const u=i.bodyJson.standard;return{gasPrice:c.gasPrice,maxFeePerGas:xS(u.maxFee,9),maxPriorityFeePerGas:xS(u.maxPriorityFee,9)}}catch(o){Ae(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}function cz(t){return new bT("data:",async(e,n,r)=>{const i=await e();if(i.maxFeePerGas==null||i.maxPriorityFeePerGas==null)return i;const o=i.maxFeePerGas-i.maxPriorityFeePerGas;return{gasPrice:i.gasPrice,maxFeePerGas:o+t,maxPriorityFeePerGas:t}})}let IS=!1;function uz(){if(IS)return;IS=!0;function t(e,n,r){const i=function(){const o=new po(e,n);return r.ensNetwork!=null&&o.attachPlugin(new N0(null,r.ensNetwork)),o.attachPlugin(new I0),(r.plugins||[]).forEach(c=>{o.attachPlugin(c)}),o};po.register(e,i),po.register(n,i),r.altNames&&r.altNames.forEach(o=>{po.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[RS("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[RS("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[cz(BigInt("1000000"))]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1})}function Cy(t){return JSON.parse(JSON.stringify(t))}var ao,wi,ha,vs,Il,$g;class lz{constructor(e){le(this,Il);le(this,ao,void 0);le(this,wi,void 0);le(this,ha,void 0);le(this,vs,void 0);J(this,ao,e),J(this,wi,null),J(this,ha,4e3),J(this,vs,-2)}get pollingInterval(){return O(this,ha)}set pollingInterval(e){J(this,ha,e)}start(){O(this,wi)||(J(this,wi,O(this,ao)._setTimeout(Te(this,Il,$g).bind(this),O(this,ha))),Te(this,Il,$g).call(this))}stop(){O(this,wi)&&(O(this,ao)._clearTimeout(O(this,wi)),J(this,wi,null))}pause(e){this.stop(),e&&J(this,vs,-2)}resume(){this.start()}}ao=new WeakMap,wi=new WeakMap,ha=new WeakMap,vs=new WeakMap,Il=new WeakSet,$g=async function(){try{const e=await O(this,ao).getBlockNumber();if(O(this,vs)===-2){J(this,vs,e);return}if(e!==O(this,vs)){for(let n=O(this,vs)+1;n<=e;n++){if(O(this,wi)==null)return;await O(this,ao).emit("block",n)}J(this,vs,e)}}catch{}O(this,wi)!=null&&J(this,wi,O(this,ao)._setTimeout(Te(this,Il,$g).bind(this),O(this,ha)))};var Ac,vc,ga;class ET{constructor(e){le(this,Ac,void 0);le(this,vc,void 0);le(this,ga,void 0);J(this,Ac,e),J(this,ga,!1),J(this,vc,n=>{this._poll(n,O(this,Ac))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){O(this,ga)||(J(this,ga,!0),O(this,vc).call(this,-2),O(this,Ac).on("block",O(this,vc)))}stop(){O(this,ga)&&(J(this,ga,!1),O(this,Ac).off("block",O(this,vc)))}pause(e){this.stop()}resume(){this.start()}}Ac=new WeakMap,vc=new WeakMap,ga=new WeakMap;var xp;class fz extends ET{constructor(n,r){super(n);le(this,xp,void 0);J(this,xp,Cy(r))}async _poll(n,r){throw new Error("@TODO")}}xp=new WeakMap;var Nl;class dz extends ET{constructor(n,r){super(n);le(this,Nl,void 0);J(this,Nl,r)}async _poll(n,r){const i=await r.getTransactionReceipt(O(this,Nl));i&&r.emit(O(this,Nl),i)}}Nl=new WeakMap;var co,Tl,Ol,pa,yi,Rp,AT;class AE{constructor(e,n){le(this,Rp);le(this,co,void 0);le(this,Tl,void 0);le(this,Ol,void 0);le(this,pa,void 0);le(this,yi,void 0);J(this,co,e),J(this,Tl,Cy(n)),J(this,Ol,Te(this,Rp,AT).bind(this)),J(this,pa,!1),J(this,yi,-2)}start(){O(this,pa)||(J(this,pa,!0),O(this,yi)===-2&&O(this,co).getBlockNumber().then(e=>{J(this,yi,e)}),O(this,co).on("block",O(this,Ol)))}stop(){O(this,pa)&&(J(this,pa,!1),O(this,co).off("block",O(this,Ol)))}pause(e){this.stop(),e&&J(this,yi,-2)}resume(){this.start()}}co=new WeakMap,Tl=new WeakMap,Ol=new WeakMap,pa=new WeakMap,yi=new WeakMap,Rp=new WeakSet,AT=async function(e){if(O(this,yi)===-2)return;const n=Cy(O(this,Tl));n.fromBlock=O(this,yi)+1,n.toBlock=e;const r=await O(this,co).getLogs(n);if(r.length===0){O(this,yi)<e-60&&J(this,yi,e-60);return}for(const i of r)O(this,co).emit(O(this,Tl),i),J(this,yi,i.blockNumber)};const hz=BigInt(2),gz=10;function Cg(t){return t&&typeof t.then=="function"}function Ug(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,c)=>(o[c]=r[c],o),{})}return r})}class vT{constructor(e){oe(this,"name");Ve(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function pz(t){return JSON.parse(JSON.stringify(t))}function xy(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Iw(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"pending":case"debug":case"error":case"network":return{type:t,tag:t}}if(Kt(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Ug("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Ug("orphan",n),filter:pz(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?xy(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],c=u=>{Kt(u)?i.push(u):o.push((async()=>{i.push(await ur(u,e))})())};Array.isArray(n.address)?n.address.forEach(c):c(n.address),o.length&&await Promise.all(o),r.address=xy(i.map(u=>u.toLowerCase()))}return{filter:r,tag:Ug("event",r),type:"event"}}ie(!1,"unknown ProviderEvent","event",t)}function Nw(){return new Date().getTime()}const mz={cacheTimeout:250,pollingInterval:4e3};var Vn,ma,zn,Pl,Vr,_c,wa,uo,qd,bi,Bl,Ll,Sr,hi,Qd,Ry,Yd,Iy,Sc,ud,Xd,Ny,Cc,ld,Ml,Fg;class wz{constructor(e,n){le(this,Sr);le(this,Qd);le(this,Yd);le(this,Sc);le(this,Xd);le(this,Cc);le(this,Ml);le(this,Vn,void 0);le(this,ma,void 0);le(this,zn,void 0);le(this,Pl,void 0);le(this,Vr,void 0);le(this,_c,void 0);le(this,wa,void 0);le(this,uo,void 0);le(this,qd,void 0);le(this,bi,void 0);le(this,Bl,void 0);le(this,Ll,void 0);if(J(this,Ll,Object.assign({},mz,n||{})),e==="any")J(this,_c,!0),J(this,Vr,null);else if(e){const r=po.from(e);J(this,_c,!1),J(this,Vr,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else J(this,_c,!1),J(this,Vr,null);J(this,uo,-1),J(this,wa,new Map),J(this,Vn,new Map),J(this,ma,new Map),J(this,zn,null),J(this,Pl,!1),J(this,qd,1),J(this,bi,new Map),J(this,Bl,!1)}get pollingInterval(){return O(this,Ll).pollingInterval}get provider(){return this}get plugins(){return Array.from(O(this,ma).values())}attachPlugin(e){if(O(this,ma).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return O(this,ma).set(e.name,e.connect(this)),this}getPlugin(e){return O(this,ma).get(e)||null}get disableCcipRead(){return O(this,Bl)}set disableCcipRead(e){J(this,Bl,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),c=[];for(let u=0;u<r.length;u++){const l=r[u],d=l.replace("{sender}",i).replace("{data}",o),h=new Ca(d);l.indexOf("{data}")===-1&&(h.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:u,urls:r});let p="unknown error";const A=await h.send();try{const b=A.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:b}),b.data;b.message&&(p=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:b})}catch{}Ae(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:p}}),c.push(p)}Ae(!1,`error encountered during CCIP fetch: ${c.map(u=>JSON.stringify(u)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:c}})}_wrapBlock(e,n){return new D7(nz(e),this)}_wrapLog(e,n){return new wh(ez(e),this)}_wrapTransactionReceipt(e,n){return new sT(oz(e),this)}_wrapTransactionResponse(e,n){return new $d(yT(e),this)}_detectNetwork(){Ae(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ae(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=at(await Te(this,Sr,hi).call(this,{method:"getBlockNumber"}),"%response");return O(this,uo)>=0&&J(this,uo,e),e}_getAddress(e){return ur(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(Kt(e))return Kt(e,32)?e:Wu(e);if(typeof e=="bigint"&&(e=at(e,"blockTag")),typeof e=="number")return e>=0?Wu(e):O(this,uo)>=0?Wu(O(this,uo)+e):this.getBlockNumber().then(n=>Wu(n+e));ie(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?xy(l.map(d=>d.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,d,h)=>{let p;switch(l.length){case 0:break;case 1:p=l[0];break;default:l.sort(),p=l}if(r&&(d!=null||h!=null))throw new Error("invalid filter");const A={};return p&&(A.address=p),n.length&&(A.topics=n),d&&(A.fromBlock=d),h&&(A.toBlock=h),r&&(A.blockHash=r),A};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let c;"fromBlock"in e&&(c=this._getBlockTag(e.fromBlock));let u;return"toBlock"in e&&(u=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||c!=null&&typeof c!="string"||u!=null&&typeof u!="string"?Promise.all([Promise.all(o),c,u]).then(l=>i(l[0],l[1],l[2])):i(o,c,u)}_getTransactionRequest(e){const n=wp(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=ur(n[i],this);Cg(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Cg(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(O(this,Vr)==null){const i=this._detectNetwork().then(o=>(this.emit("network",o,null),o),o=>{throw O(this,Vr)===i&&J(this,Vr,null),o});return J(this,Vr,i),(await i).clone()}const e=O(this,Vr),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(O(this,_c)?(this.emit("network",r,n),O(this,Vr)===e&&J(this,Vr,Promise.resolve(r))):Ae(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o}=await ir({_block:Te(this,Xd,Ny).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await Te(this,Sr,hi).call(this,{method:"getGasPrice"});return Fe(d,"%response")}catch{}return null})()});let c=null,u=null;const l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(u=BigInt("1000000000"),c=l.baseFeePerGas*hz+u),new AS(o,c,u)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new Ca(r.url),o=await r.processFunc(n,this,i);return new AS(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Cg(n)&&(n=await n),Fe(await Te(this,Sr,hi).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await ir({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Te(this,Yd,Iy).call(this,Te(this,Qd,Ry).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return Fe(await Te(this,Sc,ud).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return at(await Te(this,Sc,ud).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Ue(await Te(this,Sc,ud).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=Fe(n,"position");return Ue(await Te(this,Sc,ud).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ir({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=pp.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await ir({network:this.getNetwork(),params:Te(this,Xd,Ny).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ir({network:this.getNetwork(),params:Te(this,Sr,hi).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ir({network:this.getNetwork(),params:Te(this,Sr,hi).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await Te(this,Sr,hi).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ir({network:this.getNetwork(),result:Te(this,Sr,hi).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Ue(n)}async getLogs(e){let n=this._getFilter(e);Cg(n)&&(n=await n);const{network:r,params:i}=await ir({network:this.getNetwork(),params:Te(this,Sr,hi).call(this,{method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){Ae(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await bp.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=At(e);const n=by(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await bp.getEnsAddress(this),o=await new md(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===hy)return null;const u=await new md(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(u)!==e?null:u}catch(r){if(Si(r,"BAD_DATA")&&r.value==="0x"||Si(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,c)=>{let u=null;const l=async d=>{try{const h=await this.getTransactionReceipt(e);if(h!=null&&d-h.blockNumber+1>=i){o(h),u&&(clearTimeout(u),u=null);return}}catch(h){console.log("EEE",h)}this.once("block",l)};r!=null&&(u=setTimeout(()=>{u!=null&&(u=null,this.off("block",l),c(dn("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){Ae(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=O(this,bi).get(e);n&&(n.timer&&clearTimeout(n.timer),O(this,bi).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=jf(this,qd)._++,i=()=>{O(this,bi).delete(r),e()};if(this.paused)O(this,bi).set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);O(this,bi).set(r,{timer:o,func:i,time:Nw()})}return r}_forEachSubscriber(e){for(const n of O(this,Vn).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new vT(e.type);case"block":{const n=new lz(this);return n.pollingInterval=this.pollingInterval,n}case"event":return new AE(this,e.filter);case"transaction":return new dz(this,e.hash);case"orphan":return new fz(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of O(this,Vn).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),O(this,zn)!=null&&n.pause(O(this,zn));break}}async on(e,n){const r=await Te(this,Ml,Fg).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,O(this,zn)!=null&&r.subscriber.pause(O(this,zn))),this}async once(e,n){const r=await Te(this,Ml,Fg).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,O(this,zn)!=null&&r.subscriber.pause(O(this,zn))),this}async emit(e,...n){const r=await Te(this,Cc,ld).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:c})=>{const u=new DI(this,c?null:o,e);try{o.call(this,...n,u)}catch{}return!c}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),O(this,Vn).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await Te(this,Cc,ld).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of O(this,Vn).values())n+=r.length;return n}async listeners(e){if(e){const r=await Te(this,Cc,ld).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of O(this,Vn).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await Te(this,Cc,ld).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),O(this,Vn).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await Te(this,Ml,Fg).call(this,e);r&&i.stop(),O(this,Vn).delete(n)}else for(const[n,{started:r,subscriber:i}]of O(this,Vn))r&&i.stop(),O(this,Vn).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return O(this,Pl)}destroy(){this.removeAllListeners();for(const e of O(this,bi).keys())this._clearTimeout(e);J(this,Pl,!0)}get paused(){return O(this,zn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(J(this,uo,-1),O(this,zn)!=null){if(O(this,zn)==!!e)return;Ae(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),J(this,zn,!!e);for(const n of O(this,bi).values())n.timer&&clearTimeout(n.timer),n.time=Nw()-n.time}resume(){if(O(this,zn)!=null){this._forEachSubscriber(e=>e.resume()),J(this,zn,null);for(const e of O(this,bi).values()){let n=e.time;n<0&&(n=0),e.time=Nw(),setTimeout(e.func,n)}}}}Vn=new WeakMap,ma=new WeakMap,zn=new WeakMap,Pl=new WeakMap,Vr=new WeakMap,_c=new WeakMap,wa=new WeakMap,uo=new WeakMap,qd=new WeakMap,bi=new WeakMap,Bl=new WeakMap,Ll=new WeakMap,Sr=new WeakSet,hi=async function(e){const n=O(this,Ll).cacheTimeout;if(n<0)return await this._perform(e);const r=Ug(e.method,e);let i=O(this,wa).get(r);return i||(i=this._perform(e),O(this,wa).set(r,i),setTimeout(()=>{O(this,wa).get(r)===i&&O(this,wa).delete(r)},n)),await i},Qd=new WeakSet,Ry=async function(e,n,r){Ae(r<gz,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=wp(e);try{return Ue(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&tE(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Zt(o.data,0,4)==="0x556f1830"){const c=o.data,u=await ur(i.to,this);let l;try{l=vz(Zt(o.data,4))}catch(p){Ae(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:c}})}Ae(l.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:c,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const d=await this.ccipReadFetch(i,l.calldata,l.urls);Ae(d!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const h={to:u,data:gn([l.selector,Az([d,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:h});try{const p=await Te(this,Qd,Ry).call(this,h,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},h),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},h),error:p}),p}}throw o}},Yd=new WeakSet,Iy=async function(e){const{value:n}=await ir({network:this.getNetwork(),value:e});return n},Sc=new WeakSet,ud=async function(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await Te(this,Yd,Iy).call(this,Te(this,Sr,hi).call(this,Object.assign(e,{address:i,blockTag:o})))},Xd=new WeakSet,Ny=async function(e,n){if(Kt(e,32))return await Te(this,Sr,hi).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await Te(this,Sr,hi).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},Cc=new WeakSet,ld=async function(e,n){let r=await Iw(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Iw({orphan:"drop-log",log:n[0]},this)),O(this,Vn).get(r.tag)||null},Ml=new WeakSet,Fg=async function(e){const n=await Iw(e,this),r=n.tag;let i=O(this,Vn).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},O(this,Vn).set(r,i)),i};function yz(t,e){try{const n=Ty(t,e);if(n)return rE(n)}catch{}return null}function Ty(t,e){if(t==="0x")return null;try{const n=at(Zt(t,e,e+32)),r=at(Zt(t,n,n+32));return Zt(t,n+32,n+32+r)}catch{}return null}function NS(t){const e=Kr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function bz(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Ez=new Uint8Array([]);function Az(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(Ez),n+=32;for(let r=0;r<t.length;r++){const i=xt(t[r]);e[r]=NS(n),e.push(NS(i.length)),e.push(bz(i)),n+=32+Math.ceil(i.length/32)*32}return gn(e)}const TS="0x0000000000000000000000000000000000000000000000000000000000000000";function vz(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ae(Xu(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Zt(t,0,32);Ae(Zt(n,0,12)===Zt(TS,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Zt(n,12);try{const r=[],i=at(Zt(t,32,64)),o=at(Zt(t,i,i+32)),c=Zt(t,i+32);for(let u=0;u<o;u++){const l=yz(c,u*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{Ae(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Ty(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Ae(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ae(Zt(t,100,128)===Zt(TS,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Zt(t,96,100);try{const r=Ty(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Ae(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Pu(t,e){if(t.provider)return t.provider;Ae(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function OS(t,e){let n=wp(e);if(n.to!=null&&(n.to=ur(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),ur(r,t)]).then(([i,o])=>(ie(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await ir(n)}class _z{constructor(e){oe(this,"provider");Ve(this,{provider:e||null})}async getNonce(e){return Pu(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await OS(this,e)}async populateTransaction(e){const n=Pu(this,"populateTransaction"),r=await OS(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const c=Fe(r.chainId);ie(c===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?ie(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&ie(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const c=await n.getFeeData();Ae(c.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice)}else{const c=await n.getFeeData();if(r.type==null)if(c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const u=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=u,r.maxPriorityFeePerGas=u}else r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas);else c.gasPrice!=null?(Ae(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice),r.type=0):Ae(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas))}return await ir(r)}async estimateGas(e){return Pu(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Pu(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Pu(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Pu(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=pp.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}}function Sz(t){return JSON.parse(JSON.stringify(t))}var Cr,_s,xc,ya,Rc,kl,Zd,Oy,eh,Py;class _T{constructor(e){le(this,Zd);le(this,eh);le(this,Cr,void 0);le(this,_s,void 0);le(this,xc,void 0);le(this,ya,void 0);le(this,Rc,void 0);le(this,kl,void 0);J(this,Cr,e),J(this,_s,null),J(this,xc,Te(this,Zd,Oy).bind(this)),J(this,ya,!1),J(this,Rc,null),J(this,kl,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){O(this,ya)||(J(this,ya,!0),Te(this,Zd,Oy).call(this,-2))}stop(){O(this,ya)&&(J(this,ya,!1),J(this,kl,!0),Te(this,eh,Py).call(this),O(this,Cr).off("block",O(this,xc)))}pause(e){e&&Te(this,eh,Py).call(this),O(this,Cr).off("block",O(this,xc))}resume(){this.start()}}Cr=new WeakMap,_s=new WeakMap,xc=new WeakMap,ya=new WeakMap,Rc=new WeakMap,kl=new WeakMap,Zd=new WeakSet,Oy=async function(e){try{O(this,_s)==null&&J(this,_s,this._subscribe(O(this,Cr)));let n=null;try{n=await O(this,_s)}catch(o){if(!Si(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){J(this,_s,null),O(this,Cr)._recoverSubscriber(this,this._recover(O(this,Cr)));return}const r=await O(this,Cr).getNetwork();if(O(this,Rc)||J(this,Rc,r),O(this,Rc).chainId!==r.chainId)throw new Error("chaid changed");if(O(this,kl))return;const i=await O(this,Cr).send("eth_getFilterChanges",[n]);await this._emitResults(O(this,Cr),i)}catch(n){console.log("@TODO",n)}O(this,Cr).once("block",O(this,xc))},eh=new WeakSet,Py=function(){const e=O(this,_s);e&&(J(this,_s,null),e.then(n=>{O(this,Cr).send("eth_uninstallFilter",[n])}))};var Ic;class Cz extends _T{constructor(n,r){super(n);le(this,Ic,void 0);J(this,Ic,Sz(r))}_recover(n){return new AE(n,O(this,Ic))}async _subscribe(n){return await n.send("eth_newFilter",[O(this,Ic)])}async _emitResults(n,r){for(const i of r)n.emit(O(this,Ic),n._wrapLog(i,n._network))}}Ic=new WeakMap;class xz extends _T{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const Rz="bigint,boolean,function,number,string,symbol".split(/,/g);function Hg(t){if(t==null||Rz.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Hg);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Iz(t){return new Promise(e=>{setTimeout(e,t)})}function Bu(t){return t&&t.toLowerCase()}function PS(t){return t&&typeof t.pollingInterval=="number"}const Nz={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Tw extends _z{constructor(n,r){super(n);oe(this,"address");r=At(r),Ve(this,{address:r})}connect(n){Ae(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=Hg(n),i=[];if(r.from){const c=r.from;i.push((async()=>{const u=await ur(c,this.provider);ie(u!=null&&u.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=u})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const c=r.to;i.push((async()=>{r.to=await ur(c,this.provider)})())}i.length&&await Promise.all(i);const o=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((o,c)=>{const u=[1e3,100],l=async()=>{const d=await this.provider.getTransaction(i);if(d!=null){o(d.replaceableTransaction(r));return}this.provider._setTimeout(()=>{l()},u.pop()||4e3)};l()})}async signTransaction(n){const r=Hg(n);if(r.from){const o=await ur(r.from,this.provider);ie(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=o}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?mo(n):n;return await this.provider.send("personal_sign",[Ue(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const o=Hg(i),c=await mp.resolveNames(n,r,o,async u=>{const l=await ur(u);return ie(l!=null,"TypedData does not support null address","value",u),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(mp.getPayload(c.domain,r,c.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?mo(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ue(r)])}}var Nc,Dl,lo,Ss,Vi,fo,th,By;class Tz extends wz{constructor(n,r){super(n,r);le(this,th);le(this,Nc,void 0);le(this,Dl,void 0);le(this,lo,void 0);le(this,Ss,void 0);le(this,Vi,void 0);le(this,fo,void 0);J(this,Dl,1),J(this,Nc,Object.assign({},Nz,r||{})),J(this,lo,[]),J(this,Ss,null),J(this,fo,null);{let o=null;const c=new Promise(u=>{o=u});J(this,Vi,{promise:c,resolve:o})}const i=this._getOption("staticNetwork");i&&(ie(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),J(this,fo,i))}_getOption(n){return O(this,Nc)[n]}get _network(){return Ae(O(this,fo),"network is not available yet","NETWORK_ERROR"),O(this,fo)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&Fe(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=await this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)return n;if(this.ready)return po.from(Fe(await this.send("eth_chainId",[])));const r={id:jf(this,Dl)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0]}catch(o){throw this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return po.from(Fe(i.result));throw this.getRpcError(r,i)}_start(){O(this,Vi)==null||O(this,Vi).resolve==null||(O(this,Vi).resolve(),J(this,Vi,null),(async()=>{for(;O(this,fo)==null&&!this.destroyed;)try{J(this,fo,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",dn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await Iz(1e3)}Te(this,th,By).call(this)})())}async _waitUntilReady(){if(O(this,Vi)!=null)return await O(this,Vi).promise}_getSubscriber(n){return n.type==="pending"?new xz(this):n.type==="event"?this._getOption("polling")?new AE(this,n.filter):new Cz(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new vT("orphan"):super._getSubscriber(n)}get ready(){return O(this,Vi)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let o=i;i==="gasLimit"&&(o="gas"),r[o]=Wu(Fe(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=Ue(n[i]))}),n.accessList&&(r.accessList=Kc(n.accessList)),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Bu(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Bu(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Bu(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Bu(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Bu):n.filter.address=Bu(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:o}=r;if(i==="eth_estimateGas"&&o.message){const l=o.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return dn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:o}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=Ly(o),d=Dd.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return d.info={error:o,payload:n},d}const c=JSON.stringify(Pz(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return dn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:o}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(c.match(/insufficient funds|base fee exceeds gas limit/i))return dn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:o}});if(c.match(/nonce/i)&&c.match(/too low/i))return dn("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:o}});if(c.match(/replacement transaction/i)&&c.match(/underpriced/i))return dn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:o}});if(c.match(/only replay-protected/i))return dn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:o}}})}let u=!!c.match(/the method .* does not exist/i);return u||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(u=!0),u?dn("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:o,payload:n}}):dn("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(dn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=jf(this,Dl)._++,o=new Promise((c,u)=>{O(this,lo).push({resolve:c,reject:u,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return Te(this,th,By).call(this),o}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const o=await r;if(n>=o.length)throw new Error("no such account");return new Tw(this,o[n])}const{accounts:i}=await ir({network:this.getNetwork(),accounts:r});n=At(n);for(const o of i)if(At(o)===n)return new Tw(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Tw(this,r))}destroy(){O(this,Ss)&&(clearTimeout(O(this,Ss)),J(this,Ss,null));for(const{payload:n,reject:r}of O(this,lo))r(dn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));J(this,lo,[]),super.destroy()}}Nc=new WeakMap,Dl=new WeakMap,lo=new WeakMap,Ss=new WeakMap,Vi=new WeakMap,fo=new WeakMap,th=new WeakSet,By=function(){if(O(this,Ss))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");J(this,Ss,setTimeout(()=>{J(this,Ss,null);const r=O(this,lo);for(J(this,lo,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==O(this,Nc).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(c=>c.payload)).length>O(this,Nc).batchMaxSize){r.unshift(i.pop());break}(async()=>{const o=i.length===1?i[0].payload:i.map(c=>c.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{const c=await this._send(o);this.emit("debug",{action:"receiveRpcResult",result:c});for(const{resolve:u,reject:l,payload:d}of i){if(this.destroyed){l(dn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:d.method}));continue}const h=c.filter(p=>p.id===d.id)[0];if(h==null){const p=dn("missing response for request","BAD_DATA",{value:c,info:{payload:d}});this.emit("error",p),l(p);continue}if("error"in h){l(this.getRpcError(d,h));continue}u(h.result)}}catch(c){this.emit("debug",{action:"receiveRpcError",error:c});for(const{reject:u}of i)u(c)}})()}},n))};var ba;class Oz extends Tz{constructor(n,r){super(n,r);le(this,ba,void 0);J(this,ba,4e3)}_getSubscriber(n){const r=super._getSubscriber(n);return PS(r)&&(r.pollingInterval=O(this,ba)),r}get pollingInterval(){return O(this,ba)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");J(this,ba,n),this._forEachSubscriber(r=>{PS(r)&&(r.pollingInterval=O(this,ba))})}}ba=new WeakMap;function Ly(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Kt(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Ly(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Ly(JSON.parse(t))}catch{}return null}function My(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)My(t[n],e);if(typeof t=="string")try{return My(JSON.parse(t),e)}catch{}}}function Pz(t){const e=[];return My(t,e),e}var $l;class aK extends Oz{constructor(n,r){super(r,{batchMaxCount:1});le(this,$l,void 0);J(this,$l,async(i,o)=>{const c={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const l=new Error(u.message);throw l.code=u.code,l.data=u.data,l.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){ie(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await O(this,$l).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await O(this,$l).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}}$l=new WeakMap;export{Vz as $,tc as A,bJ as B,Qi as C,Q5 as D,Tg as E,wC as F,Na as G,n5 as H,x6 as I,cH as J,r9 as K,Xz as L,uW as M,d_ as N,_i as O,LJ as P,y9 as Q,Mt as R,i0 as S,di as T,Yt as U,m0 as V,ws as W,lH as X,oH as Y,Wz as Z,Se as _,Me as a,N9 as a$,Uz as a0,qz as a1,Zz as a2,cW as a3,TH as a4,hh as a5,zr as a6,Gz as a7,kH as a8,FH as a9,mh as aA,Hi as aB,uE as aC,lE as aD,zl as aE,Wj as aF,Td as aG,sr as aH,Fj as aI,HW as aJ,sK as aK,iK as aL,ci as aM,FW as aN,UW as aO,ea as aP,KW as aQ,tK as aR,Dz as aS,Ai as aT,wJ as aU,ep as aV,WJ as aW,bI as aX,ap as aY,vI as aZ,QJ as a_,DH as aa,$H as ab,UH as ac,HH as ad,GH as ae,aJ as af,MJ as ag,gI as ah,FJ as ai,DJ as aj,$J as ak,UJ as al,HJ as am,GJ as an,NI as ao,zi as ap,hI as aq,rt as ar,c9 as as,dI as at,eW as au,Hr as av,KI as aw,WW as ax,rK as ay,pN as az,jz as b,YH as b$,ph as b0,h_ as b1,AI as b2,Xb as b3,mJ as b4,Yb as b5,zR as b6,mI as b7,v9 as b8,wI as b9,nJ as bA,rJ as bB,eJ as bC,LR as bD,f9 as bE,TJ as bF,Vt as bG,CJ as bH,l9 as bI,NJ as bJ,_J as bK,PR as bL,AJ as bM,EJ as bN,RJ as bO,xJ as bP,OJ as bQ,BJ as bR,IJ as bS,u9 as bT,PJ as bU,vJ as bV,p0 as bW,f_ as bX,SJ as bY,ec as bZ,Hb as b_,YJ as ba,Fu as bb,_9 as bc,g_ as bd,x9 as be,F9 as bf,I9 as bg,JJ as bh,zJ as bi,KJ as bj,XJ as bk,VJ as bl,_I as bm,jJ as bn,B9 as bo,SI as bp,qJ as bq,pJ as br,cJ as bs,lJ as bt,fe as bu,yJ as bv,a9 as bw,ZJ as bx,R9 as by,kJ as bz,zz as c,Fb as c0,qi as c1,jH as c2,uf as c3,nK as c4,sn as d,LH as e,iW as f,s9 as g,$R as h,nd as i,s0 as j,sJ as k,kb as l,Jz as m,rn as n,tJ as o,Kz as p,u0 as q,td as r,Co as s,eK as t,MH as u,MR as v,aK as w,ef as x,PC as y,aD as z};
